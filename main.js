/*
RequireJS order 1.0.5 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
Available via the MIT or new BSD license.
see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */

/*

OpenLayers.js -- OpenLayers Map Viewer Library

Copyright (c) 2006-2012 by OpenLayers Contributors
Published under the 2-clause BSD license.
See http://openlayers.org/dev/license.txt for the full text of the license, and http://openlayers.org/dev/authors.txt for full list of contributors.

Includes compressed code under the following licenses:

(For uncompressed versions of the code used, please see the
OpenLayers Github repository: <https://github.com/openlayers/openlayers>)

 */

/**
 * Contains XMLHttpRequest.js <http://code.google.com/p/xmlhttprequest/>
 * Copyright 2007 Sergey Ilinsky (http://www.ilinsky.com)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/**
 * OpenLayers.Util.pagePosition is based on Yahoo's getXY method, which is
 * Copyright (c) 2006, Yahoo! Inc.
 * All rights reserved.
 *
 * Redistribution and use of this software in source and binary forms, with or
 * without modification, are permitted provided that the following conditions
 * are met:
 *
 * * Redistributions of source code must retain the above copyright notice,
 *   this list of conditions and the following disclaimer.
 *
 * * Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 *
 * * Neither the name of Yahoo! Inc. nor the names of its contributors may be
 *   used to endorse or promote products derived from this software without
 *   specific prior written permission of Yahoo! Inc.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */

/*
Apache 2

Contains portions of Rico <http://openrico.org/>

Copyright 2005 Sabre Airline Solutions

Licensed under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You
may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied. See the License for the specific language governing
permissions and limitations under the License.
 */

/* Copyright (c) 2011-2012 by OpenLayers Contributors (see authors.txt for
 * full list of contributors). Published under the Clear BSD license.
 * See http://svn.openlayers.org/trunk/openlayers/license.txt for the
 * full text of the license. */

/*!
 * jQuery Migrate - v1.0.0 - 2013-01-14
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */

/*! jQuery UI - v1.10.2 - 2013-04-09
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
 * Copyright 2013 jQuery Foundation and other contributors Licensed MIT */

/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

/*
 * jQuery timepicker addon
 * By: Trent Richardson [http://trentrichardson.com]
 * Version 1.2
 * Last Modified: 02/02/2013
 *
 * Copyright 2013 Trent Richardson
 * You may use this project under MIT or GPL licenses.
 * http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
 * http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
 */

/*
 * jQuery UI Slider Access
 * By: Trent Richardson [http://trentrichardson.com]
 * Version 0.3
 * Last Modified: 10/20/2012
 *
 * Copyright 2011 Trent Richardson
 * Dual licensed under the MIT and GPL licenses.
 * http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
 * http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
 *
 */

/*! nanoScrollerJS - v0.7.2
 * http://jamesflorentino.github.com/nanoScrollerJS/
 * Copyright (c) 2013 James Florentino; Licensed MIT */

/* KindEditor 4.1.7 (2013-04-21), Copyright (C) kindsoft.net, Licence: http://www.kindsoft.net/license.php */

/*******************************************************************************
 * KindEditor - WYSIWYG HTML Editor for Internet
 * Copyright (C) 2006-2011 kindsoft.net
 *
 * @author Roddy <luolonghao@gmail.com>
 * @site http://www.kindsoft.net/
 * @licence http://www.kindsoft.net/license.php
 *******************************************************************************/

/*
 * JQuery zTree core 3.5.01
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2012-12-21
 */

/*
 * JQuery zTree excheck 3.5.01
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2012-12-21
 */

/*
 * JQuery zTree exedit 3.5.01
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2012-12-21
 */

/*
Highstock JS v1.3.6 (2013-10-04)

(c) 2009-2013 Torstein H酶nsi

License: www.highcharts.com/license
 */

/*
Highcharts JS v3.0.0 (2013-03-22)

(c) 2009-2013 Torstein Hønsi

License: www.highcharts.com/license
 */

/*
Highcharts JS v3.0.0 (2013-03-22)
Exporting module

(c) 2010-2013 Torstein Hønsi

License: www.highcharts.com/license
 */

/*	SWFObject v2.2 <http://code.google.com/p/swfobject/>
is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

/*
SWFObject v2.2 <http://code.google.com/p/swfobject/>
is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

/*
SWFUpload: http://www.swfupload.org, http://swfupload.googlecode.com

mmSWFUpload 1.0: Flash upload dialog - http://profandesign.se/swfupload/,  http://www.vinterwebb.se/

SWFUpload is (c) 2006-2007 Lars Huring, Olov Nilzén and Mammon Media and is released under the MIT License:
http://www.opensource.org/licenses/mit-license.php

SWFUpload 2 is (c) 2007-2008 Jake Roberts and is released under the MIT License:
http://www.opensource.org/licenses/mit-license.php
 */

/*
Uploadify v3.2.1
Copyright (c) 2012 Reactive Apps, Ronnie Garcia
Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

/*
jquery.fullscreen 1.1.4
https://github.com/kayahr/jquery-fullscreen-plugin
Copyright (C) 2012 Klaus Reimer <k@ailis.de>
Licensed under the MIT license
(See http://www.opensource.org/licenses/mit-license)
 */

/*
 * Placeholder plugin for jQuery
 * ---
 * Copyright 2010, Daniel Stocks (http://webcloud.se)
 * Released under the MIT, BSD, and GPL Licenses.
 */

/*

jTable 2.3.0
http://www.jtable.org

---------------------------------------------------------------------------

Copyright (C) 2011-2013 by Halil İbrahim Kalkan (http://www.halilibrahimkalkan.com)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

 */

/*! waterfall - v0.1.6 - 2013-07-21
 * http://wlog.cn/waterfall/
 * Copyright (c) 2013 bingdian; Licensed MIT */

/*
 * Inline Form Validation Engine 2.6.2, jQuery plugin
 *
 * Copyright(c) 2010, Cedric Dugas
 * http://www.position-absolute.com
 *
 * 2.0 Rewrite by Olivier Refalo
 * http://www.crionics.com
 *
 * Form validation engine allowing custom regex rules to be added.
 * Licensed under the MIT License
 */

function getDocViewer() {
	return docViewer ? docViewer : (docViewer = window.FlexPaperViewer_Instance.getApi(), docViewer)
}
function onExternalLinkClicked(e) {
	window.location.href = e
}
function onProgress(e, t) {}

function onDocumentLoading() {}

function onCurrentPageChanged(e) {}

function onDocumentLoaded(e) {}

function onPageLoading(e) {}

function onPageLoaded(e) {}

function onDocumentLoadedError(e) {}

function onDocumentPrinted() {}

(function () {
	function e(e) {
		var t = e.currentTarget || e.srcElement,
		n;
		if (e.type === "load" || s.test(t.readyState)) {
			e = t.getAttribute("data-requiremodule"),
			u[e] = !0;
			for (e = 0; n = o[e]; e++) {
				if (!u[n.name])
					break;
				n.req([n.name], n.onLoad)
			}
			e > 0 && o.splice(0, e),
			setTimeout(function () {
				t.parentNode.removeChild(t)
			}, 15)
		}
	}
	function t(e) {
		var t,
		n;
		e.setAttribute("data-orderloaded", "loaded");
		for (e = 0; n = f[e]; e++) {
			if (!(t = a[n]) || t.getAttribute("data-orderloaded") !== "loaded")
				break;
			delete a[n],
			require.addScriptToDom(t)
		}
		e > 0 && f.splice(0, e)
	}
	var n = typeof document != "undefined" && typeof window != "undefined" && document.createElement("script"),
	r = n && (n.async || window.opera && Object.prototype.toString.call(window.opera) === "[object Opera]" || "MozAppearance" in document.documentElement.style),
	i = n && n.readyState === "uninitialized",
	s = /^(complete|loaded)$/,
	o = [],
	u = {},
	a = {},
	f = [],
	n = null;
	define("order", {
		version : "1.0.5",
		load : function (n, s, u, l) {
			var c;
			s.nameToUrl ? (c = s.nameToUrl(n, null), require.s.skipAsync[c] = !0, r || l.isBuild ? s([n], u) : i ? (l = require.s.contexts._, !l.urlFetched[c] && !l.loaded[n] && (l.urlFetched[c] = !0, require.resourcesReady(!1), l.scriptCount += 1, c = require.attach(c, l, n, null, null, t), a[n] = c, f.push(n)), s([n], u)) : s.specified(n) ? s([n], u) : (o.push({
						name : n,
						req : s,
						onLoad : u
					}), require.attach(c, null, n, e, "script/cache"))) : s([n], u)
		}
	})
})(), function (e, t) {
	function H(e) {
		var t = e.length,
		n = w.type(e);
		return w.isWindow(e) ? !1 : e.nodeType === 1 && t ? !0 : n === "array" || n !== "function" && (t === 0 || typeof t == "number" && t > 0 && t - 1 in e)
	}
	function j(e) {
		var t = B[e] = {};
		return w.each(e.match(S) || [], function (e, n) {
			t[n] = !0
		}),
		t
	}
	function q(e, n, r, i) {
		if (!w.acceptData(e))
			return;
		var s,
		o,
		u = w.expando,
		a = e.nodeType,
		f = a ? w.cache : e,
		l = a ? e[u] : e[u] && u;
		if ((!l || !f[l] || !i && !f[l].data) && r === t && typeof n == "string")
			return;
		l || (a ? l = e[u] = c.pop() || w.guid++ : l = u),
		f[l] || (f[l] = a ? {}

			 : {
			toJSON : w.noop
		});
		if (typeof n == "object" || typeof n == "function")
			i ? f[l] = w.extend(f[l], n) : f[l].data = w.extend(f[l].data, n);
		return o = f[l],
		i || (o.data || (o.data = {}), o = o.data),
		r !== t && (o[w.camelCase(n)] = r),
		typeof n == "string" ? (s = o[n], s == null && (s = o[w.camelCase(n)])) : s = o,
		s
	}
	function R(e, t, n) {
		if (!w.acceptData(e))
			return;
		var r,
		i,
		s = e.nodeType,
		o = s ? w.cache : e,
		u = s ? e[w.expando] : w.expando;
		if (!o[u])
			return;
		if (t) {
			r = n ? o[u] : o[u].data;
			if (r) {
				w.isArray(t) ? t = t.concat(w.map(t, w.camelCase)) : t in r ? t = [t] : (t = w.camelCase(t), t in r ? t = [t] : t = t.split(" ")),
				i = t.length;
				while (i--)
					delete r[t[i]];
				if (n ? !z(r) : !w.isEmptyObject(r))
					return
			}
		}
		if (!n) {
			delete o[u].data;
			if (!z(o[u]))
				return
		}
		s ? w.cleanData([e], !0) : w.support.deleteExpando || o != o.window ? delete o[u] : o[u] = null
	}
	function U(e, n, r) {
		if (r === t && e.nodeType === 1) {
			var i = "data-" + n.replace(I, "-$1").toLowerCase();
			r = e.getAttribute(i);
			if (typeof r == "string") {
				try {
					r = r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null : +r + "" === r ? +r : F.test(r) ? w.parseJSON(r) : r
				} catch (s) {}

				w.data(e, n, r)
			} else
				r = t
		}
		return r
	}
	function z(e) {
		var t;
		for (t in e) {
			if (t === "data" && w.isEmptyObject(e[t]))
				continue;
			if (t !== "toJSON")
				return !1
		}
		return !0
	}
	function it() {
		return !0
	}
	function st() {
		return !1
	}
	function ot() {
		try {
			return o.activeElement
		} catch (e) {}

	}
	function ct(e, t) {
		do
			e = e[t];
		while (e && e.nodeType !== 1);
		return e
	}
	function ht(e, t, n) {
		if (w.isFunction(t))
			return w.grep(e, function (e, r) {
				return !!t.call(e, r, e) !== n
			});
		if (t.nodeType)
			return w.grep(e, function (e) {
				return e === t !== n
			});
		if (typeof t == "string") {
			if (ut.test(t))
				return w.filter(t, e, n);
			t = w.filter(t, e)
		}
		return w.grep(e, function (e) {
			return w.inArray(e, t) >= 0 !== n
		})
	}
	function pt(e) {
		var t = dt.split("|"),
		n = e.createDocumentFragment();
		if (n.createElement)
			while (t.length)
				n.createElement(t.pop());
		return n
	}
	function Mt(e, t) {
		return w.nodeName(e, "table") && w.nodeName(t.nodeType === 1 ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
	}
	function _t(e) {
		return e.type = (w.find.attr(e, "type") !== null) + "/" + e.type,
		e
	}
	function Dt(e) {
		var t = Ct.exec(e.type);
		return t ? e.type = t[1] : e.removeAttribute("type"),
		e
	}
	function Pt(e, t) {
		var n,
		r = 0;
		for (; (n = e[r]) != null; r++)
			w._data(n, "globalEval", !t || w._data(t[r], "globalEval"))
	}
	function Ht(e, t) {
		if (t.nodeType !== 1 || !w.hasData(e))
			return;
		var n,
		r,
		i,
		s = w._data(e),
		o = w._data(t, s),
		u = s.events;
		if (u) {
			delete o.handle,
			o.events = {};
			for (n in u)
				for (r = 0, i = u[n].length; r < i; r++)
					w.event.add(t, n, u[n][r])
		}
		o.data && (o.data = w.extend({}, o.data))
	}
	function Bt(e, t) {
		var n,
		r,
		i;
		if (t.nodeType !== 1)
			return;
		n = t.nodeName.toLowerCase();
		if (!w.support.noCloneEvent && t[w.expando]) {
			i = w._data(t);
			for (r in i.events)
				w.removeEvent(t, r, i.handle);
			t.removeAttribute(w.expando)
		}
		if (n === "script" && t.text !== e.text)
			_t(t).text = e.text, Dt(t);
		else if (n === "object")
			t.parentNode && (t.outerHTML = e.outerHTML), w.support.html5Clone && e.innerHTML && !w.trim(t.innerHTML) && (t.innerHTML = e.innerHTML);
		else if (n === "input" && xt.test(e.type))
			t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value);
		else if (n === "option")
			t.defaultSelected = t.selected = e.defaultSelected;
		else if (n === "input" || n === "textarea")
			t.defaultValue = e.defaultValue
	}
	function jt(e, n) {
		var r,
		s,
		o = 0,
		u = typeof e.getElementsByTagName !== i ? e.getElementsByTagName(n || "*") : typeof e.querySelectorAll !== i ? e.querySelectorAll(n || "*") : t;
		if (!u)
			for (u = [], r = e.childNodes || e; (s = r[o]) != null; o++)
				!n || w.nodeName(s, n) ? u.push(s) : w.merge(u, jt(s, n));
		return n === t || n && w.nodeName(e, n) ? w.merge([e], u) : u
	}
	function Ft(e) {
		xt.test(e.type) && (e.defaultChecked = e.checked)
	}
	function tn(e, t) {
		if (t in e)
			return t;
		var n = t.charAt(0).toUpperCase() + t.slice(1),
		r = t,
		i = en.length;
		while (i--) {
			t = en[i] + n;
			if (t in e)
				return t
		}
		return r
	}
	function nn(e, t) {
		return e = t || e,
		w.css(e, "display") === "none" || !w.contains(e.ownerDocument, e)
	}
	function rn(e, t) {
		var n,
		r,
		i,
		s = [],
		o = 0,
		u = e.length;
		for (; o < u; o++) {
			r = e[o];
			if (!r.style)
				continue;
			s[o] = w._data(r, "olddisplay"),
			n = r.style.display,
			t ? (!s[o] && n === "none" && (r.style.display = ""), r.style.display === "" && nn(r) && (s[o] = w._data(r, "olddisplay", an(r.nodeName)))) : s[o] || (i = nn(r), (n && n !== "none" || !i) && w._data(r, "olddisplay", i ? n : w.css(r, "display")))
		}
		for (o = 0; o < u; o++) {
			r = e[o];
			if (!r.style)
				continue;
			if (!t || r.style.display === "none" || r.style.display === "")
				r.style.display = t ? s[o] || "" : "none"
		}
		return e
	}
	function sn(e, t, n) {
		var r = $t.exec(t);
		return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
	}
	function on(e, t, n, r, i) {
		var s = n === (r ? "border" : "content") ? 4 : t === "width" ? 1 : 0,
		o = 0;
		for (; s < 4; s += 2)
			n === "margin" && (o += w.css(e, n + Zt[s], !0, i)), r ? (n === "content" && (o -= w.css(e, "padding" + Zt[s], !0, i)), n !== "margin" && (o -= w.css(e, "border" + Zt[s] + "Width", !0, i))) : (o += w.css(e, "padding" + Zt[s], !0, i), n !== "padding" && (o += w.css(e, "border" + Zt[s] + "Width", !0, i)));
		return o
	}
	function un(e, t, n) {
		var r = !0,
		i = t === "width" ? e.offsetWidth : e.offsetHeight,
		s = qt(e),
		o = w.support.boxSizing && w.css(e, "boxSizing", !1, s) === "border-box";
		if (i <= 0 || i == null) {
			i = Rt(e, t, s);
			if (i < 0 || i == null)
				i = e.style[t];
			if (Jt.test(i))
				return i;
			r = o && (w.support.boxSizingReliable || i === e.style[t]),
			i = parseFloat(i) || 0
		}
		return i + on(e, t, n || (o ? "border" : "content"), r, s) + "px"
	}
	function an(e) {
		var t = o,
		n = Qt[e];
		if (!n) {
			n = fn(e, t);
			if (n === "none" || !n)
				It = (It || w("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement), t = (It[0].contentWindow || It[0].contentDocument).document, t.write("<!doctype html><html><body>"), t.close(), n = fn(e, t), It.detach();
			Qt[e] = n
		}
		return n
	}
	function fn(e, t) {
		var n = w(t.createElement(e)).appendTo(t.body),
		r = w.css(n[0], "display");
		return n.remove(),
		r
	}
	function vn(e, t, n, r) {
		var i;
		if (w.isArray(t))
			w.each(t, function (t, i) {
				n || cn.test(e) ? r(e, i) : vn(e + "[" + (typeof i == "object" ? t : "") + "]", i, n, r)
			});
		else if (!n && w.type(t) === "object")
			for (i in t)
				vn(e + "[" + i + "]", t[i], n, r);
		else
			r(e, t)
	}
	function _n(e) {
		return function (t, n) {
			typeof t != "string" && (n = t, t = "*");
			var r,
			i = 0,
			s = t.toLowerCase().match(S) || [];
			if (w.isFunction(n))
				while (r = s[i++])
					r[0] === "+" ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
		}
	}
	function Dn(e, t, n, r) {
		function o(u) {
			var a;
			return i[u] = !0,
			w.each(e[u] || [], function (e, u) {
				var f = u(t, n, r);
				if (typeof f == "string" && !s && !i[f])
					return t.dataTypes.unshift(f), o(f), !1;
				if (s)
					return !(a = f)
			}),
			a
		}
		var i = {},
		s = e === An;
		return o(t.dataTypes[0]) || !i["*"] && o("*")
	}
	function Pn(e, n) {
		var r,
		i,
		s = w.ajaxSettings.flatOptions || {};
		for (i in n)
			n[i] !== t && ((s[i] ? e : r || (r = {}))[i] = n[i]);
		return r && w.extend(!0, e, r),
		e
	}
	function Hn(e, n, r) {
		var i,
		s,
		o,
		u,
		a = e.contents,
		f = e.dataTypes;
		while (f[0] === "*")
			f.shift(), s === t && (s = e.mimeType || n.getResponseHeader("Content-Type"));
		if (s)
			for (u in a)
				if (a[u] && a[u].test(s)) {
					f.unshift(u);
					break
				}
		if (f[0]in r)
			o = f[0];
		else {
			for (u in r) {
				if (!f[0] || e.converters[u + " " + f[0]]) {
					o = u;
					break
				}
				i || (i = u)
			}
			o = o || i
		}
		if (o)
			return o !== f[0] && f.unshift(o), r[o]
	}
	function Bn(e, t, n, r) {
		var i,
		s,
		o,
		u,
		a,
		f = {},
		l = e.dataTypes.slice();
		if (l[1])
			for (o in e.converters)
				f[o.toLowerCase()] = e.converters[o];
		s = l.shift();
		while (s) {
			e.responseFields[s] && (n[e.responseFields[s]] = t),
			!a && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
			a = s,
			s = l.shift();
			if (s)
				if (s === "*")
					s = a;
				else if (a !== "*" && a !== s) {
					o = f[a + " " + s] || f["* " + s];
					if (!o)
						for (i in f) {
							u = i.split(" ");
							if (u[1] === s) {
								o = f[a + " " + u[0]] || f["* " + u[0]];
								if (o) {
									o === !0 ? o = f[i] : f[i] !== !0 && (s = u[0], l.unshift(u[1]));
									break
								}
							}
						}
					if (o !== !0)
						if (o && e["throws"])
							t = o(t);
						else
							try {
								t = o(t)
							} catch (c) {
								return {
									state : "parsererror",
									error : o ? c : "No conversion from " + a + " to " + s
								}
							}
				}
		}
		return {
			state : "success",
			data : t
		}
	}
	function zn() {
		try {
			return new e.XMLHttpRequest
		} catch (t) {}

	}
	function Wn() {
		try {
			return new e.ActiveXObject("Microsoft.XMLHTTP")
		} catch (t) {}

	}
	function Yn() {
		return setTimeout(function () {
			Xn = t
		}),
		Xn = w.now()
	}
	function Zn(e, t, n) {
		var r,
		i = (Gn[t] || []).concat(Gn["*"]),
		s = 0,
		o = i.length;
		for (; s < o; s++)
			if (r = i[s].call(n, t, e))
				return r
	}
	function er(e, t, n) {
		var r,
		i,
		s = 0,
		o = Qn.length,
		u = w.Deferred().always(function () {
				delete a.elem
			}),
		a = function () {
			if (i)
				return !1;
			var t = Xn || Yn(),
			n = Math.max(0, f.startTime + f.duration - t),
			r = n / f.duration || 0,
			s = 1 - r,
			o = 0,
			a = f.tweens.length;
			for (; o < a; o++)
				f.tweens[o].run(s);
			return u.notifyWith(e, [f, s, n]),
			s < 1 && a ? n : (u.resolveWith(e, [f]), !1)
		},
		f = u.promise({
				elem : e,
				props : w.extend({}, t),
				opts : w.extend(!0, {
					specialEasing : {}

				}, n),
				originalProperties : t,
				originalOptions : n,
				startTime : Xn || Yn(),
				duration : n.duration,
				tweens : [],
				createTween : function (t, n) {
					var r = w.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing);
					return f.tweens.push(r),
					r
				},
				stop : function (t) {
					var n = 0,
					r = t ? f.tweens.length : 0;
					if (i)
						return this;
					i = !0;
					for (; n < r; n++)
						f.tweens[n].run(1);
					return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]),
					this
				}
			}),
		l = f.props;
		tr(l, f.opts.specialEasing);
		for (; s < o; s++) {
			r = Qn[s].call(f, e, l, f.opts);
			if (r)
				return r
		}
		return w.map(l, Zn, f),
		w.isFunction(f.opts.start) && f.opts.start.call(e, f),
		w.fx.timer(w.extend(a, {
				elem : e,
				anim : f,
				queue : f.opts.queue
			})),
		f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always)
	}
	function tr(e, t) {
		var n,
		r,
		i,
		s,
		o;
		for (n in e) {
			r = w.camelCase(n),
			i = t[r],
			s = e[n],
			w.isArray(s) && (i = s[1], s = e[n] = s[0]),
			n !== r && (e[r] = s, delete e[n]),
			o = w.cssHooks[r];
			if (o && "expand" in o) {
				s = o.expand(s),
				delete e[r];
				for (n in s)
					n in e || (e[n] = s[n], t[n] = i)
			} else
				t[r] = i
		}
	}
	function nr(e, t, n) {
		var r,
		i,
		s,
		o,
		u,
		a,
		f = this,
		l = {},
		c = e.style,
		h = e.nodeType && nn(e),
		p = w._data(e, "fxshow");
		n.queue || (u = w._queueHooks(e, "fx"), u.unqueued == null && (u.unqueued = 0, a = u.empty.fire, u.empty.fire = function () {
				u.unqueued || a()
			}), u.unqueued++, f.always(function () {
				f.always(function () {
					u.unqueued--,
					w.queue(e, "fx").length || u.empty.fire()
				})
			})),
		e.nodeType === 1 && ("height" in t || "width" in t) && (n.overflow = [c.overflow, c.overflowX, c.overflowY], w.css(e, "display") === "inline" && w.css(e, "float") === "none" && (!w.support.inlineBlockNeedsLayout || an(e.nodeName) === "inline" ? c.display = "inline-block" : c.zoom = 1)),
		n.overflow && (c.overflow = "hidden", w.support.shrinkWrapBlocks || f.always(function () {
				c.overflow = n.overflow[0],
				c.overflowX = n.overflow[1],
				c.overflowY = n.overflow[2]
			}));
		for (r in t) {
			i = t[r];
			if ($n.exec(i)) {
				delete t[r],
				s = s || i === "toggle";
				if (i === (h ? "hide" : "show"))
					continue;
				l[r] = p && p[r] || w.style(e, r)
			}
		}
		if (!w.isEmptyObject(l)) {
			p ? "hidden" in p && (h = p.hidden) : p = w._data(e, "fxshow", {}),
			s && (p.hidden = !h),
			h ? w(e).show() : f.done(function () {
				w(e).hide()
			}),
			f.done(function () {
				var t;
				w._removeData(e, "fxshow");
				for (t in l)
					w.style(e, t, l[t])
			});
			for (r in l)
				o = Zn(h ? p[r] : 0, r, f), r in p || (p[r] = o.start, h && (o.end = o.start, o.start = r === "width" || r === "height" ? 1 : 0))
		}
	}
	function rr(e, t, n, r, i) {
		return new rr.prototype.init(e, t, n, r, i)
	}
	function ir(e, t) {
		var n,
		r = {
			height : e
		},
		i = 0;
		t = t ? 1 : 0;
		for (; i < 4; i += 2 - t)
			n = Zt[i], r["margin" + n] = r["padding" + n] = e;
		return t && (r.opacity = r.width = e),
		r
	}
	function sr(e) {
		return w.isWindow(e) ? e : e.nodeType === 9 ? e.defaultView || e.parentWindow : !1
	}
	var n,
	r,
	i = typeof t,
	s = e.location,
	o = e.document,
	u = o.documentElement,
	a = e.jQuery,
	f = e.$,
	l = {},
	c = [],
	h = "1.10.2",
	p = c.concat,
	d = c.push,
	v = c.slice,
	m = c.indexOf,
	g = l.toString,
	y = l.hasOwnProperty,
	b = h.trim,
	w = function (e, t) {
		return new w.fn.init(e, t, r)
	},
	E = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
	S = /\S+/g,
	x = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
	T = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
	N = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
	C = /^[\],:{}\s]*$/,
	k = /(?:^|:|,)(?:\s*\[)+/g,
	L = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
	A = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
	O = /^-ms-/,
	M = /-([\da-z])/gi,
	_ = function (e, t) {
		return t.toUpperCase()
	},
	D = function (e) {
		if (o.addEventListener || e.type === "load" || o.readyState === "complete")
			P(), w.ready()
	},
	P = function () {
		o.addEventListener ? (o.removeEventListener("DOMContentLoaded", D, !1), e.removeEventListener("load", D, !1)) : (o.detachEvent("onreadystatechange", D), e.detachEvent("onload", D))
	};
	w.fn = w.prototype = {
		jquery : h,
		constructor : w,
		init : function (e, n, r) {
			var i,
			s;
			if (!e)
				return this;
			if (typeof e == "string") {
				e.charAt(0) === "<" && e.charAt(e.length - 1) === ">" && e.length >= 3 ? i = [null, e, null] : i = T.exec(e);
				if (i && (i[1] || !n)) {
					if (i[1]) {
						n = n instanceof w ? n[0] : n,
						w.merge(this, w.parseHTML(i[1], n && n.nodeType ? n.ownerDocument || n : o, !0));
						if (N.test(i[1]) && w.isPlainObject(n))
							for (i in n)
								w.isFunction(this[i]) ? this[i](n[i]) : this.attr(i, n[i]);
						return this
					}
					s = o.getElementById(i[2]);
					if (s && s.parentNode) {
						if (s.id !== i[2])
							return r.find(e);
						this.length = 1,
						this[0] = s
					}
					return this.context = o,
					this.selector = e,
					this
				}
				return !n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e)
			}
			return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : w.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), w.makeArray(e, this))
		},
		selector : "",
		length : 0,
		toArray : function () {
			return v.call(this)
		},
		get : function (e) {
			return e == null ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
		},
		pushStack : function (e) {
			var t = w.merge(this.constructor(), e);
			return t.prevObject = this,
			t.context = this.context,
			t
		},
		each : function (e, t) {
			return w.each(this, e, t)
		},
		ready : function (e) {
			return w.ready.promise().done(e),
			this
		},
		slice : function () {
			return this.pushStack(v.apply(this, arguments))
		},
		first : function () {
			return this.eq(0)
		},
		last : function () {
			return this.eq(-1)
		},
		eq : function (e) {
			var t = this.length,
			n = +e + (e < 0 ? t : 0);
			return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
		},
		map : function (e) {
			return this.pushStack(w.map(this, function (t, n) {
					return e.call(t, n, t)
				}))
		},
		end : function () {
			return this.prevObject || this.constructor(null)
		},
		push : d,
		sort : [].sort,
		splice : [].splice
	},
	w.fn.init.prototype = w.fn,
	w.extend = w.fn.extend = function () {
		var e,
		n,
		r,
		i,
		s,
		o,
		u = arguments[0] || {},
		a = 1,
		f = arguments.length,
		l = !1;
		typeof u == "boolean" && (l = u, u = arguments[1] || {}, a = 2),
		typeof u != "object" && !w.isFunction(u) && (u = {}),
		f === a && (u = this, --a);
		for (; a < f; a++)
			if ((s = arguments[a]) != null)
				for (i in s) {
					e = u[i],
					r = s[i];
					if (u === r)
						continue;
					l && r && (w.isPlainObject(r) || (n = w.isArray(r))) ? (n ? (n = !1, o = e && w.isArray(e) ? e : []) : o = e && w.isPlainObject(e) ? e : {}, u[i] = w.extend(l, o, r)) : r !== t && (u[i] = r)
				}
		return u
	},
	w.extend({
		expando : "jQuery" + (h + Math.random()).replace(/\D/g, ""),
		noConflict : function (t) {
			return e.$ === w && (e.$ = f),
			t && e.jQuery === w && (e.jQuery = a),
			w
		},
		isReady : !1,
		readyWait : 1,
		holdReady : function (e) {
			e ? w.readyWait++ : w.ready(!0)
		},
		ready : function (e) {
			if (e === !0 ? --w.readyWait : w.isReady)
				return;
			if (!o.body)
				return setTimeout(w.ready);
			w.isReady = !0;
			if (e !== !0 && --w.readyWait > 0)
				return;
			n.resolveWith(o, [w]),
			w.fn.trigger && w(o).trigger("ready").off("ready")
		},
		isFunction : function (e) {
			return w.type(e) === "function"
		},
		isArray : Array.isArray || function (e) {
			return w.type(e) === "array"
		},
		isWindow : function (e) {
			return e != null && e == e.window
		},
		isNumeric : function (e) {
			return !isNaN(parseFloat(e)) && isFinite(e)
		},
		type : function (e) {
			return e == null ? String(e) : typeof e == "object" || typeof e == "function" ? l[g.call(e)] || "object" : typeof e
		},
		isPlainObject : function (e) {
			var n;
			if (!e || w.type(e) !== "object" || e.nodeType || w.isWindow(e))
				return !1;
			try {
				if (e.constructor && !y.call(e, "constructor") && !y.call(e.constructor.prototype, "isPrototypeOf"))
					return !1
			} catch (r) {
				return !1
			}
			if (w.support.ownLast)
				for (n in e)
					return y.call(e, n);
			for (n in e);
			return n === t || y.call(e, n)
		},
		isEmptyObject : function (e) {
			var t;
			for (t in e)
				return !1;
			return !0
		},
		error : function (e) {
			throw new Error(e)
		},
		parseHTML : function (e, t, n) {
			if (!e || typeof e != "string")
				return null;
			typeof t == "boolean" && (n = t, t = !1),
			t = t || o;
			var r = N.exec(e),
			i = !n && [];
			return r ? [t.createElement(r[1])] : (r = w.buildFragment([e], t, i), i && w(i).remove(), w.merge([], r.childNodes))
		},
		parseJSON : function (t) {
			if (e.JSON && e.JSON.parse)
				return e.JSON.parse(t);
			if (t === null)
				return t;
			if (typeof t == "string") {
				t = w.trim(t);
				if (t && C.test(t.replace(L, "@").replace(A, "]").replace(k, "")))
					return (new Function("return " + t))()
			}
			w.error("Invalid JSON: " + t)
		},
		parseXML : function (n) {
			var r,
			i;
			if (!n || typeof n != "string")
				return null;
			try {
				e.DOMParser ? (i = new DOMParser, r = i.parseFromString(n, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"), r.async = "false", r.loadXML(n))
			} catch (s) {
				r = t
			}
			return (!r || !r.documentElement || r.getElementsByTagName("parsererror").length) && w.error("Invalid XML: " + n),
			r
		},
		noop : function () {},
		globalEval : function (t) {
			t && w.trim(t) && (e.execScript || function (t) {
				e.eval.call(e, t)
			})(t)
		},
		camelCase : function (e) {
			return e.replace(O, "ms-").replace(M, _)
		},
		nodeName : function (e, t) {
			return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
		},
		each : function (e, t, n) {
			var r,
			i = 0,
			s = e.length,
			o = H(e);
			if (n)
				if (o)
					for (; i < s; i++) {
						r = t.apply(e[i], n);
						if (r === !1)
							break
					}
				else
					for (i in e) {
						r = t.apply(e[i], n);
						if (r === !1)
							break
					}
			else if (o)
				for (; i < s; i++) {
					r = t.call(e[i], i, e[i]);
					if (r === !1)
						break
				}
			else
				for (i in e) {
					r = t.call(e[i], i, e[i]);
					if (r === !1)
						break
				}
			return e
		},
		trim : b && !b.call("﻿ ") ? function (e) {
			return e == null ? "" : b.call(e)
		}
		 : function (e) {
			return e == null ? "" : (e + "").replace(x, "")
		},
		makeArray : function (e, t) {
			var n = t || [];
			return e != null && (H(Object(e)) ? w.merge(n, typeof e == "string" ? [e] : e) : d.call(n, e)),
			n
		},
		inArray : function (e, t, n) {
			var r;
			if (t) {
				if (m)
					return m.call(t, e, n);
				r = t.length,
				n = n ? n < 0 ? Math.max(0, r + n) : n : 0;
				for (; n < r; n++)
					if (n in t && t[n] === e)
						return n
			}
			return -1
		},
		merge : function (e, n) {
			var r = n.length,
			i = e.length,
			s = 0;
			if (typeof r == "number")
				for (; s < r; s++)
					e[i++] = n[s];
			else
				while (n[s] !== t)
					e[i++] = n[s++];
			return e.length = i,
			e
		},
		grep : function (e, t, n) {
			var r,
			i = [],
			s = 0,
			o = e.length;
			n = !!n;
			for (; s < o; s++)
				r = !!t(e[s], s), n !== r && i.push(e[s]);
			return i
		},
		map : function (e, t, n) {
			var r,
			i = 0,
			s = e.length,
			o = H(e),
			u = [];
			if (o)
				for (; i < s; i++)
					r = t(e[i], i, n), r != null && (u[u.length] = r);
			else
				for (i in e)
					r = t(e[i], i, n), r != null && (u[u.length] = r);
			return p.apply([], u)
		},
		guid : 1,
		proxy : function (e, n) {
			var r,
			i,
			s;
			return typeof n == "string" && (s = e[n], n = e, e = s),
			w.isFunction(e) ? (r = v.call(arguments, 2), i = function () {
				return e.apply(n || this, r.concat(v.call(arguments)))
			}, i.guid = e.guid = e.guid || w.guid++, i) : t
		},
		access : function (e, n, r, i, s, o, u) {
			var a = 0,
			f = e.length,
			l = r == null;
			if (w.type(r) === "object") {
				s = !0;
				for (a in r)
					w.access(e, n, a, r[a], !0, o, u)
			} else if (i !== t) {
				s = !0,
				w.isFunction(i) || (u = !0),
				l && (u ? (n.call(e, i), n = null) : (l = n, n = function (e, t, n) {
						return l.call(w(e), n)
					}));
				if (n)
					for (; a < f; a++)
						n(e[a], r, u ? i : i.call(e[a], a, n(e[a], r)))
			}
			return s ? e : l ? n.call(e) : f ? n(e[0], r) : o
		},
		now : function () {
			return (new Date).getTime()
		},
		swap : function (e, t, n, r) {
			var i,
			s,
			o = {};
			for (s in t)
				o[s] = e.style[s], e.style[s] = t[s];
			i = n.apply(e, r || []);
			for (s in t)
				e.style[s] = o[s];
			return i
		}
	}),
	w.ready.promise = function (t) {
		if (!n) {
			n = w.Deferred();
			if (o.readyState === "complete")
				setTimeout(w.ready);
			else if (o.addEventListener)
				o.addEventListener("DOMContentLoaded", D, !1), e.addEventListener("load", D, !1);
			else {
				o.attachEvent("onreadystatechange", D),
				e.attachEvent("onload", D);
				var r = !1;
				try {
					r = e.frameElement == null && o.documentElement
				} catch (i) {}

				r && r.doScroll && function s() {
					if (!w.isReady) {
						try {
							r.doScroll("left")
						} catch (e) {
							return setTimeout(s, 50)
						}
						P(),
						w.ready()
					}
				}
				()
			}
		}
		return n.promise(t)
	},
	w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (e, t) {
		l["[object " + t + "]"] = t.toLowerCase()
	}),
	r = w(o),
	function (e, t) {
		function ot(e, t, n, i) {
			var s,
			o,
			u,
			a,
			f,
			l,
			p,
			m,
			g,
			w;
			(t ? t.ownerDocument || t : E) !== h && c(t),
			t = t || h,
			n = n || [];
			if (!e || typeof e != "string")
				return n;
			if ((a = t.nodeType) !== 1 && a !== 9)
				return [];
			if (d && !i) {
				if (s = Z.exec(e))
					if (u = s[1]) {
						if (a === 9) {
							o = t.getElementById(u);
							if (!o || !o.parentNode)
								return n;
							if (o.id === u)
								return n.push(o), n
						} else if (t.ownerDocument && (o = t.ownerDocument.getElementById(u)) && y(t, o) && o.id === u)
							return n.push(o), n
					} else {
						if (s[2])
							return H.apply(n, t.getElementsByTagName(e)), n;
						if ((u = s[3]) && r.getElementsByClassName && t.getElementsByClassName)
							return H.apply(n, t.getElementsByClassName(u)), n
					}
				if (r.qsa && (!v || !v.test(e))) {
					m = p = b,
					g = t,
					w = a === 9 && e;
					if (a === 1 && t.nodeName.toLowerCase() !== "object") {
						l = mt(e),
						(p = t.getAttribute("id")) ? m = p.replace(nt, "\\$&") : t.setAttribute("id", m),
						m = "[id='" + m + "'] ",
						f = l.length;
						while (f--)
							l[f] = m + gt(l[f]);
						g = $.test(e) && t.parentNode || t,
						w = l.join(",")
					}
					if (w)
						try {
							return H.apply(n, g.querySelectorAll(w)),
							n
						} catch (S) {}

					finally {
						p || t.removeAttribute("id")
					}
				}
			}
			return Nt(e.replace(W, "$1"), t, n, i)
		}
		function ut() {
			function t(n, r) {
				return e.push(n += " ") > s.cacheLength && delete t[e.shift()],
				t[n] = r
			}
			var e = [];
			return t
		}
		function at(e) {
			return e[b] = !0,
			e
		}
		function ft(e) {
			var t = h.createElement("div");
			try {
				return !!e(t)
			} catch (n) {
				return !1
			}
			finally {
				t.parentNode && t.parentNode.removeChild(t),
				t = null
			}
		}
		function lt(e, t) {
			var n = e.split("|"),
			r = e.length;
			while (r--)
				s.attrHandle[n[r]] = t
		}
		function ct(e, t) {
			var n = t && e,
			r = n && e.nodeType === 1 && t.nodeType === 1 && (~t.sourceIndex || O) - (~e.sourceIndex || O);
			if (r)
				return r;
			if (n)
				while (n = n.nextSibling)
					if (n === t)
						return -1;
			return e ? 1 : -1
		}
		function ht(e) {
			return function (t) {
				var n = t.nodeName.toLowerCase();
				return n === "input" && t.type === e
			}
		}
		function pt(e) {
			return function (t) {
				var n = t.nodeName.toLowerCase();
				return (n === "input" || n === "button") && t.type === e
			}
		}
		function dt(e) {
			return at(function (t) {
				return t = +t,
				at(function (n, r) {
					var i,
					s = e([], n.length, t),
					o = s.length;
					while (o--)
						n[i = s[o]] && (n[i] = !(r[i] = n[i]))
				})
			})
		}
		function vt() {}

		function mt(e, t) {
			var n,
			r,
			i,
			o,
			u,
			a,
			f,
			l = N[e + " "];
			if (l)
				return t ? 0 : l.slice(0);
			u = e,
			a = [],
			f = s.preFilter;
			while (u) {
				if (!n || (r = X.exec(u)))
					r && (u = u.slice(r[0].length) || u), a.push(i = []);
				n = !1;
				if (r = V.exec(u))
					n = r.shift(), i.push({
						value : n,
						type : r[0].replace(W, " ")
					}), u = u.slice(n.length);
				for (o in s.filter)
					(r = G[o].exec(u)) && (!f[o] || (r = f[o](r))) && (n = r.shift(), i.push({
							value : n,
							type : o,
							matches : r
						}), u = u.slice(n.length));
				if (!n)
					break
			}
			return t ? u.length : u ? ot.error(e) : N(e, a).slice(0)
		}
		function gt(e) {
			var t = 0,
			n = e.length,
			r = "";
			for (; t < n; t++)
				r += e[t].value;
			return r
		}
		function yt(e, t, n) {
			var r = t.dir,
			s = n && r === "parentNode",
			o = x++;
			return t.first ? function (t, n, i) {
				while (t = t[r])
					if (t.nodeType === 1 || s)
						return e(t, n, i)
			}
			 : function (t, n, u) {
				var a,
				f,
				l,
				c = S + " " + o;
				if (u) {
					while (t = t[r])
						if (t.nodeType === 1 || s)
							if (e(t, n, u))
								return !0
				} else
					while (t = t[r])
						if (t.nodeType === 1 || s) {
							l = t[b] || (t[b] = {});
							if ((f = l[r]) && f[0] === c) {
								if ((a = f[1]) === !0 || a === i)
									return a === !0
							} else {
								f = l[r] = [c],
								f[1] = e(t, n, u) || i;
								if (f[1] === !0)
									return !0
							}
						}
			}
		}
		function bt(e) {
			return e.length > 1 ? function (t, n, r) {
				var i = e.length;
				while (i--)
					if (!e[i](t, n, r))
						return !1;
				return !0
			}
			 : e[0]
		}
		function wt(e, t, n, r, i) {
			var s,
			o = [],
			u = 0,
			a = e.length,
			f = t != null;
			for (; u < a; u++)
				if (s = e[u])
					if (!n || n(s, r, i))
						o.push(s), f && t.push(u);
			return o
		}
		function Et(e, t, n, r, i, s) {
			return r && !r[b] && (r = Et(r)),
			i && !i[b] && (i = Et(i, s)),
			at(function (s, o, u, a) {
				var f,
				l,
				c,
				h = [],
				p = [],
				d = o.length,
				v = s || Tt(t || "*", u.nodeType ? [u] : u, []),
				m = e && (s || !t) ? wt(v, h, e, u, a) : v,
				g = n ? i || (s ? e : d || r) ? [] : o : m;
				n && n(m, g, u, a);
				if (r) {
					f = wt(g, p),
					r(f, [], u, a),
					l = f.length;
					while (l--)
						if (c = f[l])
							g[p[l]] = !(m[p[l]] = c)
				}
				if (s) {
					if (i || e) {
						if (i) {
							f = [],
							l = g.length;
							while (l--)
								(c = g[l]) && f.push(m[l] = c);
							i(null, g = [], f, a)
						}
						l = g.length;
						while (l--)
							(c = g[l]) && (f = i ? j.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
					}
				} else
					g = wt(g === o ? g.splice(d, g.length) : g), i ? i(null, o, g, a) : H.apply(o, g)
			})
		}
		function St(e) {
			var t,
			n,
			r,
			i = e.length,
			o = s.relative[e[0].type],
			u = o || s.relative[" "],
			a = o ? 1 : 0,
			l = yt(function (e) {
					return e === t
				}, u, !0),
			c = yt(function (e) {
					return j.call(t, e) > -1
				}, u, !0),
			h = [function (e, n, r) {
					return !o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
				}
			];
			for (; a < i; a++)
				if (n = s.relative[e[a].type])
					h = [yt(bt(h), n)];
				else {
					n = s.filter[e[a].type].apply(null, e[a].matches);
					if (n[b]) {
						r = ++a;
						for (; r < i; r++)
							if (s.relative[e[r].type])
								break;
						return Et(a > 1 && bt(h), a > 1 && gt(e.slice(0, a - 1).concat({
									value : e[a - 2].type === " " ? "*" : ""
								})).replace(W, "$1"), n, a < r && St(e.slice(a, r)), r < i && St(e = e.slice(r)), r < i && gt(e))
					}
					h.push(n)
				}
			return bt(h)
		}
		function xt(e, t) {
			var n = 0,
			r = t.length > 0,
			o = e.length > 0,
			u = function (u, a, l, c, p) {
				var d,
				v,
				m,
				g = [],
				y = 0,
				b = "0",
				w = u && [],
				E = p != null,
				x = f,
				T = u || o && s.find.TAG("*", p && a.parentNode || a),
				N = S += x == null ? 1 : Math.random() || .1;
				E && (f = a !== h && a, i = n);
				for (; (d = T[b]) != null; b++) {
					if (o && d) {
						v = 0;
						while (m = e[v++])
							if (m(d, a, l)) {
								c.push(d);
								break
							}
						E && (S = N, i = ++n)
					}
					r && ((d = !m && d) && y--, u && w.push(d))
				}
				y += b;
				if (r && b !== y) {
					v = 0;
					while (m = t[v++])
						m(w, g, a, l);
					if (u) {
						if (y > 0)
							while (b--)
								!w[b] && !g[b] && (g[b] = D.call(c));
						g = wt(g)
					}
					H.apply(c, g),
					E && !u && g.length > 0 && y + t.length > 1 && ot.uniqueSort(c)
				}
				return E && (S = N, f = x),
				w
			};
			return r ? at(u) : u
		}
		function Tt(e, t, n) {
			var r = 0,
			i = t.length;
			for (; r < i; r++)
				ot(e, t[r], n);
			return n
		}
		function Nt(e, t, n, i) {
			var o,
			u,
			f,
			l,
			c,
			h = mt(e);
			if (!i && h.length === 1) {
				u = h[0] = h[0].slice(0);
				if (u.length > 2 && (f = u[0]).type === "ID" && r.getById && t.nodeType === 9 && d && s.relative[u[1].type]) {
					t = (s.find.ID(f.matches[0].replace(rt, it), t) || [])[0];
					if (!t)
						return n;
					e = e.slice(u.shift().value.length)
				}
				o = G.needsContext.test(e) ? 0 : u.length;
				while (o--) {
					f = u[o];
					if (s.relative[l = f.type])
						break;
					if (c = s.find[l])
						if (i = c(f.matches[0].replace(rt, it), $.test(u[0].type) && t.parentNode || t)) {
							u.splice(o, 1),
							e = i.length && gt(u);
							if (!e)
								return H.apply(n, i), n;
							break
						}
				}
			}
			return a(e, h)(i, t, !d, n, $.test(e)),
			n
		}
		var n,
		r,
		i,
		s,
		o,
		u,
		a,
		f,
		l,
		c,
		h,
		p,
		d,
		v,
		m,
		g,
		y,
		b = "sizzle" +  - (new Date),
		E = e.document,
		S = 0,
		x = 0,
		T = ut(),
		N = ut(),
		C = ut(),
		k = !1,
		L = function (e, t) {
			return e === t ? (k = !0, 0) : 0
		},
		A = typeof t,
		O = 1 << 31,
		M = {}

		.hasOwnProperty,
		_ = [],
		D = _.pop,
		P = _.push,
		H = _.push,
		B = _.slice,
		j = _.indexOf || function (e) {
			var t = 0,
			n = this.length;
			for (; t < n; t++)
				if (this[t] === e)
					return t;
			return -1
		},
		F = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
		I = "[\\x20\\t\\r\\n\\f]",
		q = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
		R = q.replace("w", "w#"),
		U = "\\[" + I + "*(" + q + ")" + I + "*(?:([*^$|!~]?=)" + I + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + R + ")|)|)" + I + "*\\]",
		z = ":(" + q + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + U.replace(3, 8) + ")*)|.*)\\)|)",
		W = new RegExp("^" + I + "+|((?:^|[^\\\\])(?:\\\\.)*)" + I + "+$", "g"),
		X = new RegExp("^" + I + "*," + I + "*"),
		V = new RegExp("^" + I + "*([>+~]|" + I + ")" + I + "*"),
		$ = new RegExp(I + "*[+~]"),
		J = new RegExp("=" + I + "*([^\\]'\"]*)" + I + "*\\]", "g"),
		K = new RegExp(z),
		Q = new RegExp("^" + R + "$"),
		G = {
			ID : new RegExp("^#(" + q + ")"),
			CLASS : new RegExp("^\\.(" + q + ")"),
			TAG : new RegExp("^(" + q.replace("w", "w*") + ")"),
			ATTR : new RegExp("^" + U),
			PSEUDO : new RegExp("^" + z),
			CHILD : new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + I + "*(even|odd|(([+-]|)(\\d*)n|)" + I + "*(?:([+-]|)" + I + "*(\\d+)|))" + I + "*\\)|)", "i"),
			bool : new RegExp("^(?:" + F + ")$", "i"),
			needsContext : new RegExp("^" + I + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + I + "*((?:-\\d)?\\d*)" + I + "*\\)|)(?=[^-]|$)", "i")
		},
		Y = /^[^{]+\{\s*\[native \w/,
		Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
		et = /^(?:input|select|textarea|button)$/i,
		tt = /^h\d$/i,
		nt = /'|\\/g,
		rt = new RegExp("\\\\([\\da-f]{1,6}" + I + "?|(" + I + ")|.)", "ig"),
		it = function (e, t, n) {
			var r = "0x" + t - 65536;
			return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, r & 1023 | 56320)
		};
		try {
			H.apply(_ = B.call(E.childNodes), E.childNodes),
			_[E.childNodes.length].nodeType
		} catch (st) {
			H = {
				apply : _.length ? function (e, t) {
					P.apply(e, B.call(t))
				}
				 : function (e, t) {
					var n = e.length,
					r = 0;
					while (e[n++] = t[r++]);
					e.length = n - 1
				}
			}
		}
		u = ot.isXML = function (e) {
			var t = e && (e.ownerDocument || e).documentElement;
			return t ? t.nodeName !== "HTML" : !1
		},
		r = ot.support = {},
		c = ot.setDocument = function (e) {
			var t = e ? e.ownerDocument || e : E,
			n = t.defaultView;
			if (t === h || t.nodeType !== 9 || !t.documentElement)
				return h;
			h = t,
			p = t.documentElement,
			d = !u(t),
			n && n.attachEvent && n !== n.top && n.attachEvent("onbeforeunload", function () {
				c()
			}),
			r.attributes = ft(function (e) {
					return e.className = "i",
					!e.getAttribute("className")
				}),
			r.getElementsByTagName = ft(function (e) {
					return e.appendChild(t.createComment("")),
					!e.getElementsByTagName("*").length
				}),
			r.getElementsByClassName = ft(function (e) {
					return e.innerHTML = "<div class='a'></div><div class='a i'></div>",
					e.firstChild.className = "i",
					e.getElementsByClassName("i").length === 2
				}),
			r.getById = ft(function (e) {
					return p.appendChild(e).id = b,
					!t.getElementsByName || !t.getElementsByName(b).length
				}),
			r.getById ? (s.find.ID = function (e, t) {
				if (typeof t.getElementById !== A && d) {
					var n = t.getElementById(e);
					return n && n.parentNode ? [n] : []
				}
			}, s.filter.ID = function (e) {
				var t = e.replace(rt, it);
				return function (e) {
					return e.getAttribute("id") === t
				}
			}) : (delete s.find.ID, s.filter.ID = function (e) {
				var t = e.replace(rt, it);
				return function (e) {
					var n = typeof e.getAttributeNode !== A && e.getAttributeNode("id");
					return n && n.value === t
				}
			}),
			s.find.TAG = r.getElementsByTagName ? function (e, t) {
				if (typeof t.getElementsByTagName !== A)
					return t.getElementsByTagName(e)
			}
			 : function (e, t) {
				var n,
				r = [],
				i = 0,
				s = t.getElementsByTagName(e);
				if (e === "*") {
					while (n = s[i++])
						n.nodeType === 1 && r.push(n);
					return r
				}
				return s
			},
			s.find.CLASS = r.getElementsByClassName && function (e, t) {
				if (typeof t.getElementsByClassName !== A && d)
					return t.getElementsByClassName(e)
			},
			m = [],
			v = [];
			if (r.qsa = Y.test(t.querySelectorAll))
				ft(function (e) {
					e.innerHTML = "<select><option selected=''></option></select>",
					e.querySelectorAll("[selected]").length || v.push("\\[" + I + "*(?:value|" + F + ")"),
					e.querySelectorAll(":checked").length || v.push(":checked")
				}), ft(function (e) {
					var n = t.createElement("input");
					n.setAttribute("type", "hidden"),
					e.appendChild(n).setAttribute("t", ""),
					e.querySelectorAll("[t^='']").length && v.push("[*^$]=" + I + "*(?:''|\"\")"),
					e.querySelectorAll(":enabled").length || v.push(":enabled", ":disabled"),
					e.querySelectorAll("*,:x"),
					v.push(",.*:")
				});
			return (r.matchesSelector = Y.test(g = p.webkitMatchesSelector || p.mozMatchesSelector || p.oMatchesSelector || p.msMatchesSelector)) && ft(function (e) {
				r.disconnectedMatch = g.call(e, "div"),
				g.call(e, "[s!='']:x"),
				m.push("!=", z)
			}),
			v = v.length && new RegExp(v.join("|")),
			m = m.length && new RegExp(m.join("|")),
			y = Y.test(p.contains) || p.compareDocumentPosition ? function (e, t) {
				var n = e.nodeType === 9 ? e.documentElement : e,
				r = t && t.parentNode;
				return e === r || !!r && r.nodeType === 1 && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16)
			}
			 : function (e, t) {
				if (t)
					while (t = t.parentNode)
						if (t === e)
							return !0;
				return !1
			},
			L = p.compareDocumentPosition ? function (e, n) {
				if (e === n)
					return k = !0, 0;
				var i = n.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(n);
				if (i)
					return i & 1 || !r.sortDetached && n.compareDocumentPosition(e) === i ? e === t || y(E, e) ? -1 : n === t || y(E, n) ? 1 : l ? j.call(l, e) - j.call(l, n) : 0 : i & 4 ? -1 : 1;
				return e.compareDocumentPosition ? -1 : 1
			}
			 : function (e, n) {
				var r,
				i = 0,
				s = e.parentNode,
				o = n.parentNode,
				u = [e],
				a = [n];
				if (e === n)
					return k = !0, 0;
				if (!s || !o)
					return e === t ? -1 : n === t ? 1 : s ? -1 : o ? 1 : l ? j.call(l, e) - j.call(l, n) : 0;
				if (s === o)
					return ct(e, n);
				r = e;
				while (r = r.parentNode)
					u.unshift(r);
				r = n;
				while (r = r.parentNode)
					a.unshift(r);
				while (u[i] === a[i])
					i++;
				return i ? ct(u[i], a[i]) : u[i] === E ? -1 : a[i] === E ? 1 : 0
			},
			t
		},
		ot.matches = function (e, t) {
			return ot(e, null, null, t)
		},
		ot.matchesSelector = function (e, t) {
			(e.ownerDocument || e) !== h && c(e),
			t = t.replace(J, "='$1']");
			if (r.matchesSelector && d && (!m || !m.test(t)) && (!v || !v.test(t)))
				try {
					var n = g.call(e, t);
					if (n || r.disconnectedMatch || e.document && e.document.nodeType !== 11)
						return n
				} catch (i) {}

			return ot(t, h, null, [e]).length > 0
		},
		ot.contains = function (e, t) {
			return (e.ownerDocument || e) !== h && c(e),
			y(e, t)
		},
		ot.attr = function (e, n) {
			(e.ownerDocument || e) !== h && c(e);
			var i = s.attrHandle[n.toLowerCase()],
			o = i && M.call(s.attrHandle, n.toLowerCase()) ? i(e, n, !d) : t;
			return o === t ? r.attributes || !d ? e.getAttribute(n) : (o = e.getAttributeNode(n)) && o.specified ? o.value : null : o
		},
		ot.error = function (e) {
			throw new Error("Syntax error, unrecognized expression: " + e)
		},
		ot.uniqueSort = function (e) {
			var t,
			n = [],
			i = 0,
			s = 0;
			k = !r.detectDuplicates,
			l = !r.sortStable && e.slice(0),
			e.sort(L);
			if (k) {
				while (t = e[s++])
					t === e[s] && (i = n.push(s));
				while (i--)
					e.splice(n[i], 1)
			}
			return e
		},
		o = ot.getText = function (e) {
			var t,
			n = "",
			r = 0,
			i = e.nodeType;
			if (!i)
				for (; t = e[r]; r++)
					n += o(t);
			else if (i === 1 || i === 9 || i === 11) {
				if (typeof e.textContent == "string")
					return e.textContent;
				for (e = e.firstChild; e; e = e.nextSibling)
					n += o(e)
			} else if (i === 3 || i === 4)
				return e.nodeValue;
			return n
		},
		s = ot.selectors = {
			cacheLength : 50,
			createPseudo : at,
			match : G,
			attrHandle : {},
			find : {},
			relative : {
				">" : {
					dir : "parentNode",
					first : !0
				},
				" " : {
					dir : "parentNode"
				},
				"+" : {
					dir : "previousSibling",
					first : !0
				},
				"~" : {
					dir : "previousSibling"
				}
			},
			preFilter : {
				ATTR : function (e) {
					return e[1] = e[1].replace(rt, it),
					e[3] = (e[4] || e[5] || "").replace(rt, it),
					e[2] === "~=" && (e[3] = " " + e[3] + " "),
					e.slice(0, 4)
				},
				CHILD : function (e) {
					return e[1] = e[1].toLowerCase(),
					e[1].slice(0, 3) === "nth" ? (e[3] || ot.error(e[0]), e[4] =  + (e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd")), e[5] =  + (e[7] + e[8] || e[3] === "odd")) : e[3] && ot.error(e[0]),
					e
				},
				PSEUDO : function (e) {
					var n,
					r = !e[5] && e[2];
					return G.CHILD.test(e[0]) ? null : (e[3] && e[4] !== t ? e[2] = e[4] : r && K.test(r) && (n = mt(r, !0)) && (n = r.indexOf(")", r.length - n) - r.length) && (e[0] = e[0].slice(0, n), e[2] = r.slice(0, n)), e.slice(0, 3))
				}
			},
			filter : {
				TAG : function (e) {
					var t = e.replace(rt, it).toLowerCase();
					return e === "*" ? function () {
						return !0
					}
					 : function (e) {
						return e.nodeName && e.nodeName.toLowerCase() === t
					}
				},
				CLASS : function (e) {
					var t = T[e + " "];
					return t || (t = new RegExp("(^|" + I + ")" + e + "(" + I + "|$)")) && T(e, function (e) {
						return t.test(typeof e.className == "string" && e.className || typeof e.getAttribute !== A && e.getAttribute("class") || "")
					})
				},
				ATTR : function (e, t, n) {
					return function (r) {
						var i = ot.attr(r, e);
						return i == null ? t === "!=" : t ? (i += "", t === "=" ? i === n : t === "!=" ? i !== n : t === "^=" ? n && i.indexOf(n) === 0 : t === "*=" ? n && i.indexOf(n) > -1 : t === "$=" ? n && i.slice(-n.length) === n : t === "~=" ? (" " + i + " ").indexOf(n) > -1 : t === "|=" ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0
					}
				},
				CHILD : function (e, t, n, r, i) {
					var s = e.slice(0, 3) !== "nth",
					o = e.slice(-4) !== "last",
					u = t === "of-type";
					return r === 1 && i === 0 ? function (e) {
						return !!e.parentNode
					}
					 : function (t, n, a) {
						var f,
						l,
						c,
						h,
						p,
						d,
						v = s !== o ? "nextSibling" : "previousSibling",
						m = t.parentNode,
						g = u && t.nodeName.toLowerCase(),
						y = !a && !u;
						if (m) {
							if (s) {
								while (v) {
									c = t;
									while (c = c[v])
										if (u ? c.nodeName.toLowerCase() === g : c.nodeType === 1)
											return !1;
									d = v = e === "only" && !d && "nextSibling"
								}
								return !0
							}
							d = [o ? m.firstChild : m.lastChild];
							if (o && y) {
								l = m[b] || (m[b] = {}),
								f = l[e] || [],
								p = f[0] === S && f[1],
								h = f[0] === S && f[2],
								c = p && m.childNodes[p];
								while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
									if (c.nodeType === 1 && ++h && c === t) {
										l[e] = [S, p, h];
										break
									}
							} else if (y && (f = (t[b] || (t[b] = {}))[e]) && f[0] === S)
								h = f[1];
							else
								while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
									if ((u ? c.nodeName.toLowerCase() === g : c.nodeType === 1) && ++h) {
										y && ((c[b] || (c[b] = {}))[e] = [S, h]);
										if (c === t)
											break
									}
							return h -= i,
							h === r || h % r === 0 && h / r >= 0
						}
					}
				},
				PSEUDO : function (e, t) {
					var n,
					r = s.pseudos[e] || s.setFilters[e.toLowerCase()] || ot.error("unsupported pseudo: " + e);
					return r[b] ? r(t) : r.length > 1 ? (n = [e, e, "", t], s.setFilters.hasOwnProperty(e.toLowerCase()) ? at(function (e, n) {
							var i,
							s = r(e, t),
							o = s.length;
							while (o--)
								i = j.call(e, s[o]), e[i] = !(n[i] = s[o])
						}) : function (e) {
						return r(e, 0, n)
					}) : r
				}
			},
			pseudos : {
				not : at(function (e) {
					var t = [],
					n = [],
					r = a(e.replace(W, "$1"));
					return r[b] ? at(function (e, t, n, i) {
						var s,
						o = r(e, null, i, []),
						u = e.length;
						while (u--)
							if (s = o[u])
								e[u] = !(t[u] = s)
					}) : function (e, i, s) {
						return t[0] = e,
						r(t, null, s, n),
						!n.pop()
					}
				}),
				has : at(function (e) {
					return function (t) {
						return ot(e, t).length > 0
					}
				}),
				contains : at(function (e) {
					return function (t) {
						return (t.textContent || t.innerText || o(t)).indexOf(e) > -1
					}
				}),
				lang : at(function (e) {
					return Q.test(e || "") || ot.error("unsupported lang: " + e),
					e = e.replace(rt, it).toLowerCase(),
					function (t) {
						var n;
						do
							if (n = d ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
								return n = n.toLowerCase(), n === e || n.indexOf(e + "-") === 0;
						while ((t = t.parentNode) && t.nodeType === 1);
						return !1
					}
				}),
				target : function (t) {
					var n = e.location && e.location.hash;
					return n && n.slice(1) === t.id
				},
				root : function (e) {
					return e === p
				},
				focus : function (e) {
					return e === h.activeElement && (!h.hasFocus || h.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
				},
				enabled : function (e) {
					return e.disabled === !1
				},
				disabled : function (e) {
					return e.disabled === !0
				},
				checked : function (e) {
					var t = e.nodeName.toLowerCase();
					return t === "input" && !!e.checked || t === "option" && !!e.selected
				},
				selected : function (e) {
					return e.parentNode && e.parentNode.selectedIndex,
					e.selected === !0
				},
				empty : function (e) {
					for (e = e.firstChild; e; e = e.nextSibling)
						if (e.nodeName > "@" || e.nodeType === 3 || e.nodeType === 4)
							return !1;
					return !0
				},
				parent : function (e) {
					return !s.pseudos.empty(e)
				},
				header : function (e) {
					return tt.test(e.nodeName)
				},
				input : function (e) {
					return et.test(e.nodeName)
				},
				button : function (e) {
					var t = e.nodeName.toLowerCase();
					return t === "input" && e.type === "button" || t === "button"
				},
				text : function (e) {
					var t;
					return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === e.type)
				},
				first : dt(function () {
					return [0]
				}),
				last : dt(function (e, t) {
					return [t - 1]
				}),
				eq : dt(function (e, t, n) {
					return [n < 0 ? n + t : n]
				}),
				even : dt(function (e, t) {
					var n = 0;
					for (; n < t; n += 2)
						e.push(n);
					return e
				}),
				odd : dt(function (e, t) {
					var n = 1;
					for (; n < t; n += 2)
						e.push(n);
					return e
				}),
				lt : dt(function (e, t, n) {
					var r = n < 0 ? n + t : n;
					for (; --r >= 0; )
						e.push(r);
					return e
				}),
				gt : dt(function (e, t, n) {
					var r = n < 0 ? n + t : n;
					for (; ++r < t; )
						e.push(r);
					return e
				})
			}
		},
		s.pseudos.nth = s.pseudos.eq;
		for (n in {
			radio : !0,
			checkbox : !0,
			file : !0,
			password : !0,
			image : !0
		})
			s.pseudos[n] = ht(n);
		for (n in {
			submit : !0,
			reset : !0
		})
			s.pseudos[n] = pt(n);
		vt.prototype = s.filters = s.pseudos,
		s.setFilters = new vt,
		a = ot.compile = function (e, t) {
			var n,
			r = [],
			i = [],
			s = C[e + " "];
			if (!s) {
				t || (t = mt(e)),
				n = t.length;
				while (n--)
					s = St(t[n]), s[b] ? r.push(s) : i.push(s);
				s = C(e, xt(i, r))
			}
			return s
		},
		r.sortStable = b.split("").sort(L).join("") === b,
		r.detectDuplicates = k,
		c(),
		r.sortDetached = ft(function (e) {
				return e.compareDocumentPosition(h.createElement("div")) & 1
			}),
		ft(function (e) {
			return e.innerHTML = "<a href='#'></a>",
			e.firstChild.getAttribute("href") === "#"
		}) || lt("type|href|height|width", function (e, t, n) {
			if (!n)
				return e.getAttribute(t, t.toLowerCase() === "type" ? 1 : 2)
		}),
		(!r.attributes || !ft(function (e) {
				return e.innerHTML = "<input/>",
				e.firstChild.setAttribute("value", ""),
				e.firstChild.getAttribute("value") === ""
			})) && lt("value", function (e, t, n) {
			if (!n && e.nodeName.toLowerCase() === "input")
				return e.defaultValue
		}),
		ft(function (e) {
			return e.getAttribute("disabled") == null
		}) || lt(F, function (e, t, n) {
			var r;
			if (!n)
				return (r = e.getAttributeNode(t)) && r.specified ? r.value : e[t] === !0 ? t.toLowerCase() : null
		}),
		w.find = ot,
		w.expr = ot.selectors,
		w.expr[":"] = w.expr.pseudos,
		w.unique = ot.uniqueSort,
		w.text = ot.getText,
		w.isXMLDoc = ot.isXML,
		w.contains = ot.contains
	}
	(e);
	var B = {};
	w.Callbacks = function (e) {
		e = typeof e == "string" ? B[e] || j(e) : w.extend({}, e);
		var n,
		r,
		i,
		s,
		o,
		u,
		a = [],
		f = !e.once && [],
		l = function (t) {
			r = e.memory && t,
			i = !0,
			o = u || 0,
			u = 0,
			s = a.length,
			n = !0;
			for (; a && o < s; o++)
				if (a[o].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
					r = !1;
					break
				}
			n = !1,
			a && (f ? f.length && l(f.shift()) : r ? a = [] : c.disable())
		},
		c = {
			add : function () {
				if (a) {
					var t = a.length;
					(function i(t) {
						w.each(t, function (t, n) {
							var r = w.type(n);
							r === "function" ? (!e.unique || !c.has(n)) && a.push(n) : n && n.length && r !== "string" && i(n)
						})
					})(arguments),
					n ? s = a.length : r && (u = t, l(r))
				}
				return this
			},
			remove : function () {
				return a && w.each(arguments, function (e, t) {
					var r;
					while ((r = w.inArray(t, a, r)) > -1)
						a.splice(r, 1), n && (r <= s && s--, r <= o && o--)
				}),
				this
			},
			has : function (e) {
				return e ? w.inArray(e, a) > -1 : !!a && !!a.length
			},
			empty : function () {
				return a = [],
				s = 0,
				this
			},
			disable : function () {
				return a = f = r = t,
				this
			},
			disabled : function () {
				return !a
			},
			lock : function () {
				return f = t,
				r || c.disable(),
				this
			},
			locked : function () {
				return !f
			},
			fireWith : function (e, t) {
				return a && (!i || f) && (t = t || [], t = [e, t.slice ? t.slice() : t], n ? f.push(t) : l(t)),
				this
			},
			fire : function () {
				return c.fireWith(this, arguments),
				this
			},
			fired : function () {
				return !!i
			}
		};
		return c
	},
	w.extend({
		Deferred : function (e) {
			var t = [["resolve", "done", w.Callbacks("once memory"), "resolved"], ["reject", "fail", w.Callbacks("once memory"), "rejected"], ["notify", "progress", w.Callbacks("memory")]],
			n = "pending",
			r = {
				state : function () {
					return n
				},
				always : function () {
					return i.done(arguments).fail(arguments),
					this
				},
				then : function () {
					var e = arguments;
					return w.Deferred(function (n) {
						w.each(t, function (t, s) {
							var o = s[0],
							u = w.isFunction(e[t]) && e[t];
							i[s[1]](function () {
								var e = u && u.apply(this, arguments);
								e && w.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o + "With"](this === r ? n.promise() : this, u ? [e] : arguments)
							})
						}),
						e = null
					}).promise()
				},
				promise : function (e) {
					return e != null ? w.extend(e, r) : r
				}
			},
			i = {};
			return r.pipe = r.then,
			w.each(t, function (e, s) {
				var o = s[2],
				u = s[3];
				r[s[1]] = o.add,
				u && o.add(function () {
					n = u
				}, t[e^1][2].disable, t[2][2].lock),
				i[s[0]] = function () {
					return i[s[0] + "With"](this === i ? r : this, arguments),
					this
				},
				i[s[0] + "With"] = o.fireWith
			}),
			r.promise(i),
			e && e.call(i, i),
			i
		},
		when : function (e) {
			var t = 0,
			n = v.call(arguments),
			r = n.length,
			i = r !== 1 || e && w.isFunction(e.promise) ? r : 0,
			s = i === 1 ? e : w.Deferred(),
			o = function (e, t, n) {
				return function (r) {
					t[e] = this,
					n[e] = arguments.length > 1 ? v.call(arguments) : r,
					n === u ? s.notifyWith(t, n) : --i || s.resolveWith(t, n)
				}
			},
			u,
			a,
			f;
			if (r > 1) {
				u = new Array(r),
				a = new Array(r),
				f = new Array(r);
				for (; t < r; t++)
					n[t] && w.isFunction(n[t].promise) ? n[t].promise().done(o(t, f, n)).fail(s.reject).progress(o(t, a, u)) : --i
			}
			return i || s.resolveWith(f, n),
			s.promise()
		}
	}),
	w.support = function (t) {
		var n,
		r,
		s,
		u,
		a,
		f,
		l,
		c,
		h,
		p = o.createElement("div");
		p.setAttribute("className", "t"),
		p.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
		n = p.getElementsByTagName("*") || [],
		r = p.getElementsByTagName("a")[0];
		if (!r || !r.style || !n.length)
			return t;
		u = o.createElement("select"),
		f = u.appendChild(o.createElement("option")),
		s = p.getElementsByTagName("input")[0],
		r.style.cssText = "top:1px;float:left;opacity:.5",
		t.getSetAttribute = p.className !== "t",
		t.leadingWhitespace = p.firstChild.nodeType === 3,
		t.tbody = !p.getElementsByTagName("tbody").length,
		t.htmlSerialize = !!p.getElementsByTagName("link").length,
		t.style = /top/.test(r.getAttribute("style")),
		t.hrefNormalized = r.getAttribute("href") === "/a",
		t.opacity = /^0.5/.test(r.style.opacity),
		t.cssFloat = !!r.style.cssFloat,
		t.checkOn = !!s.value,
		t.optSelected = f.selected,
		t.enctype = !!o.createElement("form").enctype,
		t.html5Clone = o.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>",
		t.inlineBlockNeedsLayout = !1,
		t.shrinkWrapBlocks = !1,
		t.pixelPosition = !1,
		t.deleteExpando = !0,
		t.noCloneEvent = !0,
		t.reliableMarginRight = !0,
		t.boxSizingReliable = !0,
		s.checked = !0,
		t.noCloneChecked = s.cloneNode(!0).checked,
		u.disabled = !0,
		t.optDisabled = !f.disabled;
		try {
			delete p.test
		} catch (d) {
			t.deleteExpando = !1
		}
		s = o.createElement("input"),
		s.setAttribute("value", ""),
		t.input = s.getAttribute("value") === "",
		s.value = "t",
		s.setAttribute("type", "radio"),
		t.radioValue = s.value === "t",
		s.setAttribute("checked", "t"),
		s.setAttribute("name", "t"),
		a = o.createDocumentFragment(),
		a.appendChild(s),
		t.appendChecked = s.checked,
		t.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked,
		p.attachEvent && (p.attachEvent("onclick", function () {
				t.noCloneEvent = !1
			}), p.cloneNode(!0).click());
		for (h in {
			submit : !0,
			change : !0,
			focusin : !0
		})
			p.setAttribute(l = "on" + h, "t"), t[h + "Bubbles"] = l in e || p.attributes[l].expando === !1;
		p.style.backgroundClip = "content-box",
		p.cloneNode(!0).style.backgroundClip = "",
		t.clearCloneStyle = p.style.backgroundClip === "content-box";
		for (h in w(t))
			break;
		return t.ownLast = h !== "0",
		w(function () {
			var n,
			r,
			s,
			u = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
			a = o.getElementsByTagName("body")[0];
			if (!a)
				return;
			n = o.createElement("div"),
			n.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
			a.appendChild(n).appendChild(p),
			p.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
			s = p.getElementsByTagName("td"),
			s[0].style.cssText = "padding:0;margin:0;border:0;display:none",
			c = s[0].offsetHeight === 0,
			s[0].style.display = "",
			s[1].style.display = "none",
			t.reliableHiddenOffsets = c && s[0].offsetHeight === 0,
			p.innerHTML = "",
			p.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
			w.swap(a, a.style.zoom != null ? {
				zoom : 1
			}
				 : {}, function () {
				t.boxSizing = p.offsetWidth === 4
			}),
			e.getComputedStyle && (t.pixelPosition = (e.getComputedStyle(p, null) || {}).top !== "1%", t.boxSizingReliable = (e.getComputedStyle(p, null) || {
					width : "4px"
				}).width === "4px", r = p.appendChild(o.createElement("div")), r.style.cssText = p.style.cssText = u, r.style.marginRight = r.style.width = "0", p.style.width = "1px", t.reliableMarginRight = !parseFloat((e.getComputedStyle(r, null) || {}).marginRight)),
			typeof p.style.zoom !== i && (p.innerHTML = "", p.style.cssText = u + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = p.offsetWidth === 3, p.style.display = "block", p.innerHTML = "<div></div>", p.firstChild.style.width = "5px", t.shrinkWrapBlocks = p.offsetWidth !== 3, t.inlineBlockNeedsLayout && (a.style.zoom = 1)),
			a.removeChild(n),
			n = p = s = r = null
		}),
		n = u = a = f = r = s = null,
		t
	}
	({});
	var F = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
	I = /([A-Z])/g;
	w.extend({
		cache : {},
		noData : {
			applet : !0,
			embed : !0,
			object : "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
		},
		hasData : function (e) {
			return e = e.nodeType ? w.cache[e[w.expando]] : e[w.expando],
			!!e && !z(e)
		},
		data : function (e, t, n) {
			return q(e, t, n)
		},
		removeData : function (e, t) {
			return R(e, t)
		},
		_data : function (e, t, n) {
			return q(e, t, n, !0)
		},
		_removeData : function (e, t) {
			return R(e, t, !0)
		},
		acceptData : function (e) {
			if (e.nodeType && e.nodeType !== 1 && e.nodeType !== 9)
				return !1;
			var t = e.nodeName && w.noData[e.nodeName.toLowerCase()];
			return !t || t !== !0 && e.getAttribute("classid") === t
		}
	}),
	w.fn.extend({
		data : function (e, n) {
			var r,
			i,
			s = null,
			o = 0,
			u = this[0];
			if (e === t) {
				if (this.length) {
					s = w.data(u);
					if (u.nodeType === 1 && !w._data(u, "parsedAttrs")) {
						r = u.attributes;
						for (; o < r.length; o++)
							i = r[o].name, i.indexOf("data-") === 0 && (i = w.camelCase(i.slice(5)), U(u, i, s[i]));
						w._data(u, "parsedAttrs", !0)
					}
				}
				return s
			}
			return typeof e == "object" ? this.each(function () {
				w.data(this, e)
			}) : arguments.length > 1 ? this.each(function () {
				w.data(this, e, n)
			}) : u ? U(u, e, w.data(u, e)) : null
		},
		removeData : function (e) {
			return this.each(function () {
				w.removeData(this, e)
			})
		}
	}),
	w.extend({
		queue : function (e, t, n) {
			var r;
			if (e)
				return t = (t || "fx") + "queue", r = w._data(e, t), n && (!r || w.isArray(n) ? r = w._data(e, t, w.makeArray(n)) : r.push(n)), r || []
		},
		dequeue : function (e, t) {
			t = t || "fx";
			var n = w.queue(e, t),
			r = n.length,
			i = n.shift(),
			s = w._queueHooks(e, t),
			o = function () {
				w.dequeue(e, t)
			};
			i === "inprogress" && (i = n.shift(), r--),
			i && (t === "fx" && n.unshift("inprogress"), delete s.stop, i.call(e, o, s)),
			!r && s && s.empty.fire()
		},
		_queueHooks : function (e, t) {
			var n = t + "queueHooks";
			return w._data(e, n) || w._data(e, n, {
				empty : w.Callbacks("once memory").add(function () {
					w._removeData(e, t + "queue"),
					w._removeData(e, n)
				})
			})
		}
	}),
	w.fn.extend({
		queue : function (e, n) {
			var r = 2;
			return typeof e != "string" && (n = e, e = "fx", r--),
			arguments.length < r ? w.queue(this[0], e) : n === t ? this : this.each(function () {
				var t = w.queue(this, e, n);
				w._queueHooks(this, e),
				e === "fx" && t[0] !== "inprogress" && w.dequeue(this, e)
			})
		},
		dequeue : function (e) {
			return this.each(function () {
				w.dequeue(this, e)
			})
		},
		delay : function (e, t) {
			return e = w.fx ? w.fx.speeds[e] || e : e,
			t = t || "fx",
			this.queue(t, function (t, n) {
				var r = setTimeout(t, e);
				n.stop = function () {
					clearTimeout(r)
				}
			})
		},
		clearQueue : function (e) {
			return this.queue(e || "fx", [])
		},
		promise : function (e, n) {
			var r,
			i = 1,
			s = w.Deferred(),
			o = this,
			u = this.length,
			a = function () {
				--i || s.resolveWith(o, [o])
			};
			typeof e != "string" && (n = e, e = t),
			e = e || "fx";
			while (u--)
				r = w._data(o[u], e + "queueHooks"), r && r.empty && (i++, r.empty.add(a));
			return a(),
			s.promise(n)
		}
	});
	var W,
	X,
	V = /[\t\r\n\f]/g,
	$ = /\r/g,
	J = /^(?:input|select|textarea|button|object)$/i,
	K = /^(?:a|area)$/i,
	Q = /^(?:checked|selected)$/i,
	G = w.support.getSetAttribute,
	Y = w.support.input;
	w.fn.extend({
		attr : function (e, t) {
			return w.access(this, w.attr, e, t, arguments.length > 1)
		},
		removeAttr : function (e) {
			return this.each(function () {
				w.removeAttr(this, e)
			})
		},
		prop : function (e, t) {
			return w.access(this, w.prop, e, t, arguments.length > 1)
		},
		removeProp : function (e) {
			return e = w.propFix[e] || e,
			this.each(function () {
				try {
					this[e] = t,
					delete this[e]
				} catch (n) {}

			})
		},
		addClass : function (e) {
			var t,
			n,
			r,
			i,
			s,
			o = 0,
			u = this.length,
			a = typeof e == "string" && e;
			if (w.isFunction(e))
				return this.each(function (t) {
					w(this).addClass(e.call(this, t, this.className))
				});
			if (a) {
				t = (e || "").match(S) || [];
				for (; o < u; o++) {
					n = this[o],
					r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(V, " ") : " ");
					if (r) {
						s = 0;
						while (i = t[s++])
							r.indexOf(" " + i + " ") < 0 && (r += i + " ");
						n.className = w.trim(r)
					}
				}
			}
			return this
		},
		removeClass : function (e) {
			var t,
			n,
			r,
			i,
			s,
			o = 0,
			u = this.length,
			a = arguments.length === 0 || typeof e == "string" && e;
			if (w.isFunction(e))
				return this.each(function (t) {
					w(this).removeClass(e.call(this, t, this.className))
				});
			if (a) {
				t = (e || "").match(S) || [];
				for (; o < u; o++) {
					n = this[o],
					r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(V, " ") : "");
					if (r) {
						s = 0;
						while (i = t[s++])
							while (r.indexOf(" " + i + " ") >= 0)
								r = r.replace(" " + i + " ", " ");
						n.className = e ? w.trim(r) : ""
					}
				}
			}
			return this
		},
		toggleClass : function (e, t) {
			var n = typeof e;
			return typeof t == "boolean" && n === "string" ? t ? this.addClass(e) : this.removeClass(e) : w.isFunction(e) ? this.each(function (n) {
				w(this).toggleClass(e.call(this, n, this.className, t), t)
			}) : this.each(function () {
				if (n === "string") {
					var t,
					r = 0,
					s = w(this),
					o = e.match(S) || [];
					while (t = o[r++])
						s.hasClass(t) ? s.removeClass(t) : s.addClass(t)
				} else if (n === i || n === "boolean")
					this.className && w._data(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : w._data(this, "__className__") || ""
			})
		},
		hasClass : function (e) {
			var t = " " + e + " ",
			n = 0,
			r = this.length;
			for (; n < r; n++)
				if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(V, " ").indexOf(t) >= 0)
					return !0;
			return !1
		},
		val : function (e) {
			var n,
			r,
			i,
			s = this[0];
			if (!arguments.length) {
				if (s)
					return r = w.valHooks[s.type] || w.valHooks[s.nodeName.toLowerCase()], r && "get" in r && (n = r.get(s, "value")) !== t ? n : (n = s.value, typeof n == "string" ? n.replace($, "") : n == null ? "" : n);
				return
			}
			return i = w.isFunction(e),
			this.each(function (n) {
				var s;
				if (this.nodeType !== 1)
					return;
				i ? s = e.call(this, n, w(this).val()) : s = e,
				s == null ? s = "" : typeof s == "number" ? s += "" : w.isArray(s) && (s = w.map(s, function (e) {
								return e == null ? "" : e + ""
							})),
				r = w.valHooks[this.type] || w.valHooks[this.nodeName.toLowerCase()];
				if (!r || !("set" in r) || r.set(this, s, "value") === t)
					this.value = s
			})
		}
	}),
	w.extend({
		valHooks : {
			option : {
				get : function (e) {
					var t = w.find.attr(e, "value");
					return t != null ? t : e.text
				}
			},
			select : {
				get : function (e) {
					var t,
					n,
					r = e.options,
					i = e.selectedIndex,
					s = e.type === "select-one" || i < 0,
					o = s ? null : [],
					u = s ? i + 1 : r.length,
					a = i < 0 ? u : s ? i : 0;
					for (; a < u; a++) {
						n = r[a];
						if ((n.selected || a === i) && (w.support.optDisabled ? !n.disabled : n.getAttribute("disabled") === null) && (!n.parentNode.disabled || !w.nodeName(n.parentNode, "optgroup"))) {
							t = w(n).val();
							if (s)
								return t;
							o.push(t)
						}
					}
					return o
				},
				set : function (e, t) {
					var n,
					r,
					i = e.options,
					s = w.makeArray(t),
					o = i.length;
					while (o--) {
						r = i[o];
						if (r.selected = w.inArray(w(r).val(), s) >= 0)
							n = !0
					}
					return n || (e.selectedIndex = -1),
					s
				}
			}
		},
		attr : function (e, n, r) {
			var s,
			o,
			u = e.nodeType;
			if (!e || u === 3 || u === 8 || u === 2)
				return;
			if (typeof e.getAttribute === i)
				return w.prop(e, n, r);
			if (u !== 1 || !w.isXMLDoc(e))
				n = n.toLowerCase(), s = w.attrHooks[n] || (w.expr.match.bool.test(n) ? X : W);
			if (r === t)
				return s && "get" in s && (o = s.get(e, n)) !== null ? o : (o = w.find.attr(e, n), o == null ? t : o);
			if (r !== null)
				return s && "set" in s && (o = s.set(e, r, n)) !== t ? o : (e.setAttribute(n, r + ""), r);
			w.removeAttr(e, n)
		},
		removeAttr : function (e, t) {
			var n,
			r,
			i = 0,
			s = t && t.match(S);
			if (s && e.nodeType === 1)
				while (n = s[i++])
					r = w.propFix[n] || n, w.expr.match.bool.test(n) ? Y && G || !Q.test(n) ? e[r] = !1 : e[w.camelCase("default-" + n)] = e[r] = !1 : w.attr(e, n, ""), e.removeAttribute(G ? n : r)
		},
		attrHooks : {
			type : {
				set : function (e, t) {
					if (!w.support.radioValue && t === "radio" && w.nodeName(e, "input")) {
						var n = e.value;
						return e.setAttribute("type", t),
						n && (e.value = n),
						t
					}
				}
			}
		},
		propFix : {
			"for" : "htmlFor",
			"class" : "className"
		},
		prop : function (e, n, r) {
			var i,
			s,
			o,
			u = e.nodeType;
			if (!e || u === 3 || u === 8 || u === 2)
				return;
			return o = u !== 1 || !w.isXMLDoc(e),
			o && (n = w.propFix[n] || n, s = w.propHooks[n]),
			r !== t ? s && "set" in s && (i = s.set(e, r, n)) !== t ? i : e[n] = r : s && "get" in s && (i = s.get(e, n)) !== null ? i : e[n]
		},
		propHooks : {
			tabIndex : {
				get : function (e) {
					var t = w.find.attr(e, "tabindex");
					return t ? parseInt(t, 10) : J.test(e.nodeName) || K.test(e.nodeName) && e.href ? 0 : -1
				}
			}
		}
	}),
	X = {
		set : function (e, t, n) {
			return t === !1 ? w.removeAttr(e, n) : Y && G || !Q.test(n) ? e.setAttribute(!G && w.propFix[n] || n, n) : e[w.camelCase("default-" + n)] = e[n] = !0,
			n
		}
	},
	w.each(w.expr.match.bool.source.match(/\w+/g), function (e, n) {
		var r = w.expr.attrHandle[n] || w.find.attr;
		w.expr.attrHandle[n] = Y && G || !Q.test(n) ? function (e, n, i) {
			var s = w.expr.attrHandle[n],
			o = i ? t : (w.expr.attrHandle[n] = t) != r(e, n, i) ? n.toLowerCase() : null;
			return w.expr.attrHandle[n] = s,
			o
		}
		 : function (e, n, r) {
			return r ? t : e[w.camelCase("default-" + n)] ? n.toLowerCase() : null
		}
	});
	if (!Y || !G)
		w.attrHooks.value = {
			set : function (e, t, n) {
				if (!w.nodeName(e, "input"))
					return W && W.set(e, t, n);
				e.defaultValue = t
			}
		};
	G || (W = {
			set : function (e, n, r) {
				var i = e.getAttributeNode(r);
				return i || e.setAttributeNode(i = e.ownerDocument.createAttribute(r)),
				i.value = n += "",
				r === "value" || n === e.getAttribute(r) ? n : t
			}
		}, w.expr.attrHandle.id = w.expr.attrHandle.name = w.expr.attrHandle.coords = function (e, n, r) {
		var i;
		return r ? t : (i = e.getAttributeNode(n)) && i.value !== "" ? i.value : null
	}, w.valHooks.button = {
			get : function (e, n) {
				var r = e.getAttributeNode(n);
				return r && r.specified ? r.value : t
			},
			set : W.set
		}, w.attrHooks.contenteditable = {
			set : function (e, t, n) {
				W.set(e, t === "" ? !1 : t, n)
			}
		}, w.each(["width", "height"], function (e, t) {
			w.attrHooks[t] = {
				set : function (e, n) {
					if (n === "")
						return e.setAttribute(t, "auto"), n
				}
			}
		})),
	w.support.hrefNormalized || w.each(["href", "src"], function (e, t) {
		w.propHooks[t] = {
			get : function (e) {
				return e.getAttribute(t, 4)
			}
		}
	}),
	w.support.style || (w.attrHooks.style = {
			get : function (e) {
				return e.style.cssText || t
			},
			set : function (e, t) {
				return e.style.cssText = t + ""
			}
		}),
	w.support.optSelected || (w.propHooks.selected = {
			get : function (e) {
				var t = e.parentNode;
				return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex),
				null
			}
		}),
	w.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
		w.propFix[this.toLowerCase()] = this
	}),
	w.support.enctype || (w.propFix.enctype = "encoding"),
	w.each(["radio", "checkbox"], function () {
		w.valHooks[this] = {
			set : function (e, t) {
				if (w.isArray(t))
					return e.checked = w.inArray(w(e).val(), t) >= 0
			}
		},
		w.support.checkOn || (w.valHooks[this].get = function (e) {
			return e.getAttribute("value") === null ? "on" : e.value
		})
	});
	var Z = /^(?:input|select|textarea)$/i,
	et = /^key/,
	tt = /^(?:mouse|contextmenu)|click/,
	nt = /^(?:focusinfocus|focusoutblur)$/,
	rt = /^([^.]*)(?:\.(.+)|)$/;
	w.event = {
		global : {},
		add : function (e, n, r, s, o) {
			var u,
			a,
			f,
			l,
			c,
			h,
			p,
			d,
			v,
			m,
			g,
			y = w._data(e);
			if (!y)
				return;
			r.handler && (l = r, r = l.handler, o = l.selector),
			r.guid || (r.guid = w.guid++),
			(a = y.events) || (a = y.events = {}),
			(h = y.handle) || (h = y.handle = function (e) {
				return typeof w === i || !!e && w.event.triggered === e.type ? t : w.event.dispatch.apply(h.elem, arguments)
			}, h.elem = e),
			n = (n || "").match(S) || [""],
			f = n.length;
			while (f--) {
				u = rt.exec(n[f]) || [],
				v = g = u[1],
				m = (u[2] || "").split(".").sort();
				if (!v)
					continue;
				c = w.event.special[v] || {},
				v = (o ? c.delegateType : c.bindType) || v,
				c = w.event.special[v] || {},
				p = w.extend({
						type : v,
						origType : g,
						data : s,
						handler : r,
						guid : r.guid,
						selector : o,
						needsContext : o && w.expr.match.needsContext.test(o),
						namespace : m.join(".")
					}, l);
				if (!(d = a[v])) {
					d = a[v] = [],
					d.delegateCount = 0;
					if (!c.setup || c.setup.call(e, s, m, h) === !1)
						e.addEventListener ? e.addEventListener(v, h, !1) : e.attachEvent && e.attachEvent("on" + v, h)
				}
				c.add && (c.add.call(e, p), p.handler.guid || (p.handler.guid = r.guid)),
				o ? d.splice(d.delegateCount++, 0, p) : d.push(p),
				w.event.global[v] = !0
			}
			e = null
		},
		remove : function (e, t, n, r, i) {
			var s,
			o,
			u,
			a,
			f,
			l,
			c,
			h,
			p,
			d,
			v,
			m = w.hasData(e) && w._data(e);
			if (!m || !(l = m.events))
				return;
			t = (t || "").match(S) || [""],
			f = t.length;
			while (f--) {
				u = rt.exec(t[f]) || [],
				p = v = u[1],
				d = (u[2] || "").split(".").sort();
				if (!p) {
					for (p in l)
						w.event.remove(e, p + t[f], n, r, !0);
					continue
				}
				c = w.event.special[p] || {},
				p = (r ? c.delegateType : c.bindType) || p,
				h = l[p] || [],
				u = u[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"),
				a = s = h.length;
				while (s--)
					o = h[s], (i || v === o.origType) && (!n || n.guid === o.guid) && (!u || u.test(o.namespace)) && (!r || r === o.selector || r === "**" && o.selector) && (h.splice(s, 1), o.selector && h.delegateCount--, c.remove && c.remove.call(e, o));
				a && !h.length && ((!c.teardown || c.teardown.call(e, d, m.handle) === !1) && w.removeEvent(e, p, m.handle), delete l[p])
			}
			w.isEmptyObject(l) && (delete m.handle, w._removeData(e, "events"))
		},
		trigger : function (n, r, i, s) {
			var u,
			a,
			f,
			l,
			c,
			h,
			p,
			d = [i || o],
			v = y.call(n, "type") ? n.type : n,
			m = y.call(n, "namespace") ? n.namespace.split(".") : [];
			f = h = i = i || o;
			if (i.nodeType === 3 || i.nodeType === 8)
				return;
			if (nt.test(v + w.event.triggered))
				return;
			v.indexOf(".") >= 0 && (m = v.split("."), v = m.shift(), m.sort()),
			a = v.indexOf(":") < 0 && "on" + v,
			n = n[w.expando] ? n : new w.Event(v, typeof n == "object" && n),
			n.isTrigger = s ? 2 : 3,
			n.namespace = m.join("."),
			n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
			n.result = t,
			n.target || (n.target = i),
			r = r == null ? [n] : w.makeArray(r, [n]),
			c = w.event.special[v] || {};
			if (!s && c.trigger && c.trigger.apply(i, r) === !1)
				return;
			if (!s && !c.noBubble && !w.isWindow(i)) {
				l = c.delegateType || v,
				nt.test(l + v) || (f = f.parentNode);
				for (; f; f = f.parentNode)
					d.push(f), h = f;
				h === (i.ownerDocument || o) && d.push(h.defaultView || h.parentWindow || e)
			}
			p = 0;
			while ((f = d[p++]) && !n.isPropagationStopped())
				n.type = p > 1 ? l : c.bindType || v, u = (w._data(f, "events") || {})[n.type] && w._data(f, "handle"), u && u.apply(f, r), u = a && f[a], u && w.acceptData(f) && u.apply && u.apply(f, r) === !1 && n.preventDefault();
			n.type = v;
			if (!s && !n.isDefaultPrevented() && (!c._default || c._default.apply(d.pop(), r) === !1) && w.acceptData(i) && a && i[v] && !w.isWindow(i)) {
				h = i[a],
				h && (i[a] = null),
				w.event.triggered = v;
				try {
					i[v]()
				} catch (g) {}

				w.event.triggered = t,
				h && (i[a] = h)
			}
			return n.result
		},
		dispatch : function (e) {
			e = w.event.fix(e);
			var n,
			r,
			i,
			s,
			o,
			u = [],
			a = v.call(arguments),
			f = (w._data(this, "events") || {})[e.type] || [],
			l = w.event.special[e.type] || {};
			a[0] = e,
			e.delegateTarget = this;
			if (l.preDispatch && l.preDispatch.call(this, e) === !1)
				return;
			u = w.event.handlers.call(this, e, f),
			n = 0;
			while ((s = u[n++]) && !e.isPropagationStopped()) {
				e.currentTarget = s.elem,
				o = 0;
				while ((i = s.handlers[o++]) && !e.isImmediatePropagationStopped())
					if (!e.namespace_re || e.namespace_re.test(i.namespace))
						e.handleObj = i, e.data = i.data, r = ((w.event.special[i.origType] || {}).handle || i.handler).apply(s.elem, a), r !== t && (e.result = r) === !1 && (e.preventDefault(), e.stopPropagation())
			}
			return l.postDispatch && l.postDispatch.call(this, e),
			e.result
		},
		handlers : function (e, n) {
			var r,
			i,
			s,
			o,
			u = [],
			a = n.delegateCount,
			f = e.target;
			if (a && f.nodeType && (!e.button || e.type !== "click"))
				for (; f != this; f = f.parentNode || this)
					if (f.nodeType === 1 && (f.disabled !== !0 || e.type !== "click")) {
						s = [];
						for (o = 0; o < a; o++)
							i = n[o], r = i.selector + " ", s[r] === t && (s[r] = i.needsContext ? w(r, this).index(f) >= 0 : w.find(r, this, null, [f]).length), s[r] && s.push(i);
						s.length && u.push({
							elem : f,
							handlers : s
						})
					}
			return a < n.length && u.push({
				elem : this,
				handlers : n.slice(a)
			}),
			u
		},
		fix : function (e) {
			if (e[w.expando])
				return e;
			var t,
			n,
			r,
			i = e.type,
			s = e,
			u = this.fixHooks[i];
			u || (this.fixHooks[i] = u = tt.test(i) ? this.mouseHooks : et.test(i) ? this.keyHooks : {}),
			r = u.props ? this.props.concat(u.props) : this.props,
			e = new w.Event(s),
			t = r.length;
			while (t--)
				n = r[t], e[n] = s[n];
			return e.target || (e.target = s.srcElement || o),
			e.target.nodeType === 3 && (e.target = e.target.parentNode),
			e.metaKey = !!e.metaKey,
			u.filter ? u.filter(e, s) : e
		},
		props : "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
		fixHooks : {},
		keyHooks : {
			props : "char charCode key keyCode".split(" "),
			filter : function (e, t) {
				return e.which == null && (e.which = t.charCode != null ? t.charCode : t.keyCode),
				e
			}
		},
		mouseHooks : {
			props : "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
			filter : function (e, n) {
				var r,
				i,
				s,
				u = n.button,
				a = n.fromElement;
				return e.pageX == null && n.clientX != null && (i = e.target.ownerDocument || o, s = i.documentElement, r = i.body, e.pageX = n.clientX + (s && s.scrollLeft || r && r.scrollLeft || 0) - (s && s.clientLeft || r && r.clientLeft || 0), e.pageY = n.clientY + (s && s.scrollTop || r && r.scrollTop || 0) - (s && s.clientTop || r && r.clientTop || 0)),
				!e.relatedTarget && a && (e.relatedTarget = a === e.target ? n.toElement : a),
				!e.which && u !== t && (e.which = u & 1 ? 1 : u & 2 ? 3 : u & 4 ? 2 : 0),
				e
			}
		},
		special : {
			load : {
				noBubble : !0
			},
			focus : {
				trigger : function () {
					if (this !== ot() && this.focus)
						try {
							return this.focus(),
							!1
						} catch (e) {}

				},
				delegateType : "focusin"
			},
			blur : {
				trigger : function () {
					if (this === ot() && this.blur)
						return this.blur(), !1
				},
				delegateType : "focusout"
			},
			click : {
				trigger : function () {
					if (w.nodeName(this, "input") && this.type === "checkbox" && this.click)
						return this.click(), !1
				},
				_default : function (e) {
					return w.nodeName(e.target, "a")
				}
			},
			beforeunload : {
				postDispatch : function (e) {
					e.result !== t && (e.originalEvent.returnValue = e.result)
				}
			}
		},
		simulate : function (e, t, n, r) {
			var i = w.extend(new w.Event, n, {
					type : e,
					isSimulated : !0,
					originalEvent : {}

				});
			r ? w.event.trigger(i, null, t) : w.event.dispatch.call(t, i),
			i.isDefaultPrevented() && n.preventDefault()
		}
	},
	w.removeEvent = o.removeEventListener ? function (e, t, n) {
		e.removeEventListener && e.removeEventListener(t, n, !1)
	}
	 : function (e, t, n) {
		var r = "on" + t;
		e.detachEvent && (typeof e[r] === i && (e[r] = null), e.detachEvent(r, n))
	},
	w.Event = function (e, t) {
		if (!(this instanceof w.Event))
			return new w.Event(e, t);
		e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? it : st) : this.type = e,
		t && w.extend(this, t),
		this.timeStamp = e && e.timeStamp || w.now(),
		this[w.expando] = !0
	},
	w.Event.prototype = {
		isDefaultPrevented : st,
		isPropagationStopped : st,
		isImmediatePropagationStopped : st,
		preventDefault : function () {
			var e = this.originalEvent;
			this.isDefaultPrevented = it;
			if (!e)
				return;
			e.preventDefault ? e.preventDefault() : e.returnValue = !1
		},
		stopPropagation : function () {
			var e = this.originalEvent;
			this.isPropagationStopped = it;
			if (!e)
				return;
			e.stopPropagation && e.stopPropagation(),
			e.cancelBubble = !0
		},
		stopImmediatePropagation : function () {
			this.isImmediatePropagationStopped = it,
			this.stopPropagation()
		}
	},
	w.each({
		mouseenter : "mouseover",
		mouseleave : "mouseout"
	}, function (e, t) {
		w.event.special[e] = {
			delegateType : t,
			bindType : t,
			handle : function (e) {
				var n,
				r = this,
				i = e.relatedTarget,
				s = e.handleObj;
				if (!i || i !== r && !w.contains(r, i))
					e.type = s.origType, n = s.handler.apply(this, arguments), e.type = t;
				return n
			}
		}
	}),
	w.support.submitBubbles || (w.event.special.submit = {
			setup : function () {
				if (w.nodeName(this, "form"))
					return !1;
				w.event.add(this, "click._submit keypress._submit", function (e) {
					var n = e.target,
					r = w.nodeName(n, "input") || w.nodeName(n, "button") ? n.form : t;
					r && !w._data(r, "submitBubbles") && (w.event.add(r, "submit._submit", function (e) {
							e._submit_bubble = !0
						}), w._data(r, "submitBubbles", !0))
				})
			},
			postDispatch : function (e) {
				e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && w.event.simulate("submit", this.parentNode, e, !0))
			},
			teardown : function () {
				if (w.nodeName(this, "form"))
					return !1;
				w.event.remove(this, "._submit")
			}
		}),
	w.support.changeBubbles || (w.event.special.change = {
			setup : function () {
				if (Z.test(this.nodeName)) {
					if (this.type === "checkbox" || this.type === "radio")
						w.event.add(this, "propertychange._change", function (e) {
							e.originalEvent.propertyName === "checked" && (this._just_changed = !0)
						}), w.event.add(this, "click._change", function (e) {
							this._just_changed && !e.isTrigger && (this._just_changed = !1),
							w.event.simulate("change", this, e, !0)
						});
					return !1
				}
				w.event.add(this, "beforeactivate._change", function (e) {
					var t = e.target;
					Z.test(t.nodeName) && !w._data(t, "changeBubbles") && (w.event.add(t, "change._change", function (e) {
							this.parentNode && !e.isSimulated && !e.isTrigger && w.event.simulate("change", this.parentNode, e, !0)
						}), w._data(t, "changeBubbles", !0))
				})
			},
			handle : function (e) {
				var t = e.target;
				if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox")
					return e.handleObj.handler.apply(this, arguments)
			},
			teardown : function () {
				return w.event.remove(this, "._change"),
				!Z.test(this.nodeName)
			}
		}),
	w.support.focusinBubbles || w.each({
		focus : "focusin",
		blur : "focusout"
	}, function (e, t) {
		var n = 0,
		r = function (e) {
			w.event.simulate(t, e.target, w.event.fix(e), !0)
		};
		w.event.special[t] = {
			setup : function () {
				n++ === 0 && o.addEventListener(e, r, !0)
			},
			teardown : function () {
				--n === 0 && o.removeEventListener(e, r, !0)
			}
		}
	}),
	w.fn.extend({
		on : function (e, n, r, i, s) {
			var o,
			u;
			if (typeof e == "object") {
				typeof n != "string" && (r = r || n, n = t);
				for (o in e)
					this.on(o, n, r, e[o], s);
				return this
			}
			r == null && i == null ? (i = n, r = n = t) : i == null && (typeof n == "string" ? (i = r, r = t) : (i = r, r = n, n = t));
			if (i === !1)
				i = st;
			else if (!i)
				return this;
			return s === 1 && (u = i, i = function (e) {
				return w().off(e),
				u.apply(this, arguments)
			}, i.guid = u.guid || (u.guid = w.guid++)),
			this.each(function () {
				w.event.add(this, e, i, r, n)
			})
		},
		one : function (e, t, n, r) {
			return this.on(e, t, n, r, 1)
		},
		off : function (e, n, r) {
			var i,
			s;
			if (e && e.preventDefault && e.handleObj)
				return i = e.handleObj, w(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
			if (typeof e == "object") {
				for (s in e)
					this.off(s, n, e[s]);
				return this
			}
			if (n === !1 || typeof n == "function")
				r = n, n = t;
			return r === !1 && (r = st),
			this.each(function () {
				w.event.remove(this, e, r, n)
			})
		},
		trigger : function (e, t) {
			return this.each(function () {
				w.event.trigger(e, t, this)
			})
		},
		triggerHandler : function (e, t) {
			var n = this[0];
			if (n)
				return w.event.trigger(e, t, n, !0)
		}
	});
	var ut = /^.[^:#\[\.,]*$/,
	at = /^(?:parents|prev(?:Until|All))/,
	ft = w.expr.match.needsContext,
	lt = {
		children : !0,
		contents : !0,
		next : !0,
		prev : !0
	};
	w.fn.extend({
		find : function (e) {
			var t,
			n = [],
			r = this,
			i = r.length;
			if (typeof e != "string")
				return this.pushStack(w(e).filter(function () {
						for (t = 0; t < i; t++)
							if (w.contains(r[t], this))
								return !0
					}));
			for (t = 0; t < i; t++)
				w.find(e, r[t], n);
			return n = this.pushStack(i > 1 ? w.unique(n) : n),
			n.selector = this.selector ? this.selector + " " + e : e,
			n
		},
		has : function (e) {
			var t,
			n = w(e, this),
			r = n.length;
			return this.filter(function () {
				for (t = 0; t < r; t++)
					if (w.contains(this, n[t]))
						return !0
			})
		},
		not : function (e) {
			return this.pushStack(ht(this, e || [], !0))
		},
		filter : function (e) {
			return this.pushStack(ht(this, e || [], !1))
		},
		is : function (e) {
			return !!ht(this, typeof e == "string" && ft.test(e) ? w(e) : e || [], !1).length
		},
		closest : function (e, t) {
			var n,
			r = 0,
			i = this.length,
			s = [],
			o = ft.test(e) || typeof e != "string" ? w(e, t || this.context) : 0;
			for (; r < i; r++)
				for (n = this[r]; n && n !== t; n = n.parentNode)
					if (n.nodeType < 11 && (o ? o.index(n) > -1 : n.nodeType === 1 && w.find.matchesSelector(n, e))) {
						n = s.push(n);
						break
					}
			return this.pushStack(s.length > 1 ? w.unique(s) : s)
		},
		index : function (e) {
			return e ? typeof e == "string" ? w.inArray(this[0], w(e)) : w.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
		},
		add : function (e, t) {
			var n = typeof e == "string" ? w(e, t) : w.makeArray(e && e.nodeType ? [e] : e),
			r = w.merge(this.get(), n);
			return this.pushStack(w.unique(r))
		},
		addBack : function (e) {
			return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
		}
	}),
	w.each({
		parent : function (e) {
			var t = e.parentNode;
			return t && t.nodeType !== 11 ? t : null
		},
		parents : function (e) {
			return w.dir(e, "parentNode")
		},
		parentsUntil : function (e, t, n) {
			return w.dir(e, "parentNode", n)
		},
		next : function (e) {
			return ct(e, "nextSibling")
		},
		prev : function (e) {
			return ct(e, "previousSibling")
		},
		nextAll : function (e) {
			return w.dir(e, "nextSibling")
		},
		prevAll : function (e) {
			return w.dir(e, "previousSibling")
		},
		nextUntil : function (e, t, n) {
			return w.dir(e, "nextSibling", n)
		},
		prevUntil : function (e, t, n) {
			return w.dir(e, "previousSibling", n)
		},
		siblings : function (e) {
			return w.sibling((e.parentNode || {}).firstChild, e)
		},
		children : function (e) {
			return w.sibling(e.firstChild)
		},
		contents : function (e) {
			return w.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : w.merge([], e.childNodes)
		}
	}, function (e, t) {
		w.fn[e] = function (n, r) {
			var i = w.map(this, t, n);
			return e.slice(-5) !== "Until" && (r = n),
			r && typeof r == "string" && (i = w.filter(r, i)),
			this.length > 1 && (lt[e] || (i = w.unique(i)), at.test(e) && (i = i.reverse())),
			this.pushStack(i)
		}
	}),
	w.extend({
		filter : function (e, t, n) {
			var r = t[0];
			return n && (e = ":not(" + e + ")"),
			t.length === 1 && r.nodeType === 1 ? w.find.matchesSelector(r, e) ? [r] : [] : w.find.matches(e, w.grep(t, function (e) {
					return e.nodeType === 1
				}))
		},
		dir : function (e, n, r) {
			var i = [],
			s = e[n];
			while (s && s.nodeType !== 9 && (r === t || s.nodeType !== 1 || !w(s).is(r)))
				s.nodeType === 1 && i.push(s), s = s[n];
			return i
		},
		sibling : function (e, t) {
			var n = [];
			for (; e; e = e.nextSibling)
				e.nodeType === 1 && e !== t && n.push(e);
			return n
		}
	});
	var dt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
	vt = / jQuery\d+="(?:null|\d+)"/g,
	mt = new RegExp("<(?:" + dt + ")[\\s/>]", "i"),
	gt = /^\s+/,
	yt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	bt = /<([\w:]+)/,
	wt = /<tbody/i,
	Et = /<|&#?\w+;/,
	St = /<(?:script|style|link)/i,
	xt = /^(?:checkbox|radio)$/i,
	Tt = /checked\s*(?:[^=]|=\s*.checked.)/i,
	Nt = /^$|\/(?:java|ecma)script/i,
	Ct = /^true\/(.*)/,
	kt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
	Lt = {
		option : [1, "<select multiple='multiple'>", "</select>"],
		legend : [1, "<fieldset>", "</fieldset>"],
		area : [1, "<map>", "</map>"],
		param : [1, "<object>", "</object>"],
		thead : [1, "<table>", "</table>"],
		tr : [2, "<table><tbody>", "</tbody></table>"],
		col : [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
		td : [3, "<table><tbody><tr>", "</tr></tbody></table>"],
		_default : w.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
	},
	At = pt(o),
	Ot = At.appendChild(o.createElement("div"));
	Lt.optgroup = Lt.option,
	Lt.tbody = Lt.tfoot = Lt.colgroup = Lt.caption = Lt.thead,
	Lt.th = Lt.td,
	w.fn.extend({
		text : function (e) {
			return w.access(this, function (e) {
				return e === t ? w.text(this) : this.empty().append((this[0] && this[0].ownerDocument || o).createTextNode(e))
			}, null, e, arguments.length)
		},
		append : function () {
			return this.domManip(arguments, function (e) {
				if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
					var t = Mt(this, e);
					t.appendChild(e)
				}
			})
		},
		prepend : function () {
			return this.domManip(arguments, function (e) {
				if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
					var t = Mt(this, e);
					t.insertBefore(e, t.firstChild)
				}
			})
		},
		before : function () {
			return this.domManip(arguments, function (e) {
				this.parentNode && this.parentNode.insertBefore(e, this)
			})
		},
		after : function () {
			return this.domManip(arguments, function (e) {
				this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
			})
		},
		remove : function (e, t) {
			var n,
			r = e ? w.filter(e, this) : this,
			i = 0;
			for (; (n = r[i]) != null; i++)
				!t && n.nodeType === 1 && w.cleanData(jt(n)), n.parentNode && (t && w.contains(n.ownerDocument, n) && Pt(jt(n, "script")), n.parentNode.removeChild(n));
			return this
		},
		empty : function () {
			var e,
			t = 0;
			for (; (e = this[t]) != null; t++) {
				e.nodeType === 1 && w.cleanData(jt(e, !1));
				while (e.firstChild)
					e.removeChild(e.firstChild);
				e.options && w.nodeName(e, "select") && (e.options.length = 0)
			}
			return this
		},
		clone : function (e, t) {
			return e = e == null ? !1 : e,
			t = t == null ? e : t,
			this.map(function () {
				return w.clone(this, e, t)
			})
		},
		html : function (e) {
			return w.access(this, function (e) {
				var n = this[0] || {},
				r = 0,
				i = this.length;
				if (e === t)
					return n.nodeType === 1 ? n.innerHTML.replace(vt, "") : t;
				if (typeof e == "string" && !St.test(e) && (w.support.htmlSerialize || !mt.test(e)) && (w.support.leadingWhitespace || !gt.test(e)) && !Lt[(bt.exec(e) || ["", ""])[1].toLowerCase()]) {
					e = e.replace(yt, "<$1></$2>");
					try {
						for (; r < i; r++)
							n = this[r] || {},
						n.nodeType === 1 && (w.cleanData(jt(n, !1)), n.innerHTML = e);
						n = 0
					} catch (s) {}

				}
				n && this.empty().append(e)
			}, null, e, arguments.length)
		},
		replaceWith : function () {
			var e = w.map(this, function (e) {
					return [e.nextSibling, e.parentNode]
				}),
			t = 0;
			return this.domManip(arguments, function (n) {
				var r = e[t++],
				i = e[t++];
				i && (r && r.parentNode !== i && (r = this.nextSibling), w(this).remove(), i.insertBefore(n, r))
			}, !0),
			t ? this : this.remove()
		},
		detach : function (e) {
			return this.remove(e, !0)
		},
		domManip : function (e, t, n) {
			e = p.apply([], e);
			var r,
			i,
			s,
			o,
			u,
			a,
			f = 0,
			l = this.length,
			c = this,
			h = l - 1,
			d = e[0],
			v = w.isFunction(d);
			if (v || !(l <= 1 || typeof d != "string" || w.support.checkClone || !Tt.test(d)))
				return this.each(function (r) {
					var i = c.eq(r);
					v && (e[0] = d.call(this, r, i.html())),
					i.domManip(e, t, n)
				});
			if (l) {
				a = w.buildFragment(e, this[0].ownerDocument, !1, !n && this),
				r = a.firstChild,
				a.childNodes.length === 1 && (a = r);
				if (r) {
					o = w.map(jt(a, "script"), _t),
					s = o.length;
					for (; f < l; f++)
						i = a, f !== h && (i = w.clone(i, !0, !0), s && w.merge(o, jt(i, "script"))), t.call(this[f], i, f);
					if (s) {
						u = o[o.length - 1].ownerDocument,
						w.map(o, Dt);
						for (f = 0; f < s; f++)
							i = o[f], Nt.test(i.type || "") && !w._data(i, "globalEval") && w.contains(u, i) && (i.src ? w._evalUrl(i.src) : w.globalEval((i.text || i.textContent || i.innerHTML || "").replace(kt, "")))
					}
					a = r = null
				}
			}
			return this
		}
	}),
	w.each({
		appendTo : "append",
		prependTo : "prepend",
		insertBefore : "before",
		insertAfter : "after",
		replaceAll : "replaceWith"
	}, function (e, t) {
		w.fn[e] = function (e) {
			var n,
			r = 0,
			i = [],
			s = w(e),
			o = s.length - 1;
			for (; r <= o; r++)
				n = r === o ? this : this.clone(!0), w(s[r])[t](n), d.apply(i, n.get());
			return this.pushStack(i)
		}
	}),
	w.extend({
		clone : function (e, t, n) {
			var r,
			i,
			s,
			o,
			u,
			a = w.contains(e.ownerDocument, e);
			w.support.html5Clone || w.isXMLDoc(e) || !mt.test("<" + e.nodeName + ">") ? s = e.cloneNode(!0) : (Ot.innerHTML = e.outerHTML, Ot.removeChild(s = Ot.firstChild));
			if ((!w.support.noCloneEvent || !w.support.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !w.isXMLDoc(e)) {
				r = jt(s),
				u = jt(e);
				for (o = 0; (i = u[o]) != null; ++o)
					r[o] && Bt(i, r[o])
			}
			if (t)
				if (n) {
					u = u || jt(e),
					r = r || jt(s);
					for (o = 0; (i = u[o]) != null; o++)
						Ht(i, r[o])
				} else
					Ht(e, s);
			return r = jt(s, "script"),
			r.length > 0 && Pt(r, !a && jt(e, "script")),
			r = u = i = null,
			s
		},
		buildFragment : function (e, t, n, r) {
			var i,
			s,
			o,
			u,
			a,
			f,
			l,
			c = e.length,
			h = pt(t),
			p = [],
			d = 0;
			for (; d < c; d++) {
				s = e[d];
				if (s || s === 0)
					if (w.type(s) === "object")
						w.merge(p, s.nodeType ? [s] : s);
					else if (!Et.test(s))
						p.push(t.createTextNode(s));
					else {
						u = u || h.appendChild(t.createElement("div")),
						a = (bt.exec(s) || ["", ""])[1].toLowerCase(),
						l = Lt[a] || Lt._default,
						u.innerHTML = l[1] + s.replace(yt, "<$1></$2>") + l[2],
						i = l[0];
						while (i--)
							u = u.lastChild;
						!w.support.leadingWhitespace && gt.test(s) && p.push(t.createTextNode(gt.exec(s)[0]));
						if (!w.support.tbody) {
							s = a === "table" && !wt.test(s) ? u.firstChild : l[1] === "<table>" && !wt.test(s) ? u : 0,
							i = s && s.childNodes.length;
							while (i--)
								w.nodeName(f = s.childNodes[i], "tbody") && !f.childNodes.length && s.removeChild(f)
						}
						w.merge(p, u.childNodes),
						u.textContent = "";
						while (u.firstChild)
							u.removeChild(u.firstChild);
						u = h.lastChild
					}
			}
			u && h.removeChild(u),
			w.support.appendChecked || w.grep(jt(p, "input"), Ft),
			d = 0;
			while (s = p[d++]) {
				if (r && w.inArray(s, r) !== -1)
					continue;
				o = w.contains(s.ownerDocument, s),
				u = jt(h.appendChild(s), "script"),
				o && Pt(u);
				if (n) {
					i = 0;
					while (s = u[i++])
						Nt.test(s.type || "") && n.push(s)
				}
			}
			return u = null,
			h
		},
		cleanData : function (e, t) {
			var n,
			r,
			s,
			o,
			u = 0,
			a = w.expando,
			f = w.cache,
			l = w.support.deleteExpando,
			h = w.event.special;
			for (; (n = e[u]) != null; u++)
				if (t || w.acceptData(n)) {
					s = n[a],
					o = s && f[s];
					if (o) {
						if (o.events)
							for (r in o.events)
								h[r] ? w.event.remove(n, r) : w.removeEvent(n, r, o.handle);
						f[s] && (delete f[s], l ? delete n[a] : typeof n.removeAttribute !== i ? n.removeAttribute(a) : n[a] = null, c.push(s))
					}
				}
		},
		_evalUrl : function (e) {
			return w.ajax({
				url : e,
				type : "GET",
				dataType : "script",
				async : !1,
				global : !1,
				"throws" : !0
			})
		}
	}),
	w.fn.extend({
		wrapAll : function (e) {
			if (w.isFunction(e))
				return this.each(function (t) {
					w(this).wrapAll(e.call(this, t))
				});
			if (this[0]) {
				var t = w(e, this[0].ownerDocument).eq(0).clone(!0);
				this[0].parentNode && t.insertBefore(this[0]),
				t.map(function () {
					var e = this;
					while (e.firstChild && e.firstChild.nodeType === 1)
						e = e.firstChild;
					return e
				}).append(this)
			}
			return this
		},
		wrapInner : function (e) {
			return w.isFunction(e) ? this.each(function (t) {
				w(this).wrapInner(e.call(this, t))
			}) : this.each(function () {
				var t = w(this),
				n = t.contents();
				n.length ? n.wrapAll(e) : t.append(e)
			})
		},
		wrap : function (e) {
			var t = w.isFunction(e);
			return this.each(function (n) {
				w(this).wrapAll(t ? e.call(this, n) : e)
			})
		},
		unwrap : function () {
			return this.parent().each(function () {
				w.nodeName(this, "body") || w(this).replaceWith(this.childNodes)
			}).end()
		}
	});
	var It,
	qt,
	Rt,
	Ut = /alpha\([^)]*\)/i,
	zt = /opacity\s*=\s*([^)]*)/,
	Wt = /^(top|right|bottom|left)$/,
	Xt = /^(none|table(?!-c[ea]).+)/,
	Vt = /^margin/,
	$t = new RegExp("^(" + E + ")(.*)$", "i"),
	Jt = new RegExp("^(" + E + ")(?!px)[a-z%]+$", "i"),
	Kt = new RegExp("^([+-])=(" + E + ")", "i"),
	Qt = {
		BODY : "block"
	},
	Gt = {
		position : "absolute",
		visibility : "hidden",
		display : "block"
	},
	Yt = {
		letterSpacing : 0,
		fontWeight : 400
	},
	Zt = ["Top", "Right", "Bottom", "Left"],
	en = ["Webkit", "O", "Moz", "ms"];
	w.fn.extend({
		css : function (e, n) {
			return w.access(this, function (e, n, r) {
				var i,
				s,
				o = {},
				u = 0;
				if (w.isArray(n)) {
					s = qt(e),
					i = n.length;
					for (; u < i; u++)
						o[n[u]] = w.css(e, n[u], !1, s);
					return o
				}
				return r !== t ? w.style(e, n, r) : w.css(e, n)
			}, e, n, arguments.length > 1)
		},
		show : function () {
			return rn(this, !0)
		},
		hide : function () {
			return rn(this)
		},
		toggle : function (e) {
			return typeof e == "boolean" ? e ? this.show() : this.hide() : this.each(function () {
				nn(this) ? w(this).show() : w(this).hide()
			})
		}
	}),
	w.extend({
		cssHooks : {
			opacity : {
				get : function (e, t) {
					if (t) {
						var n = Rt(e, "opacity");
						return n === "" ? "1" : n
					}
				}
			}
		},
		cssNumber : {
			columnCount : !0,
			fillOpacity : !0,
			fontWeight : !0,
			lineHeight : !0,
			opacity : !0,
			order : !0,
			orphans : !0,
			widows : !0,
			zIndex : !0,
			zoom : !0
		},
		cssProps : {
			"float" : w.support.cssFloat ? "cssFloat" : "styleFloat"
		},
		style : function (e, n, r, i) {
			if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style)
				return;
			var s,
			o,
			u,
			a = w.camelCase(n),
			f = e.style;
			n = w.cssProps[a] || (w.cssProps[a] = tn(f, a)),
			u = w.cssHooks[n] || w.cssHooks[a];
			if (r === t)
				return u && "get" in u && (s = u.get(e, !1, i)) !== t ? s : f[n];
			o = typeof r,
			o === "string" && (s = Kt.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(w.css(e, n)), o = "number");
			if (r == null || o === "number" && isNaN(r))
				return;
			o === "number" && !w.cssNumber[a] && (r += "px"),
			!w.support.clearCloneStyle && r === "" && n.indexOf("background") === 0 && (f[n] = "inherit");
			if (!u || !("set" in u) || (r = u.set(e, r, i)) !== t)
				try {
					f[n] = r
				} catch (l) {}

		},
		css : function (e, n, r, i) {
			var s,
			o,
			u,
			a = w.camelCase(n);
			return n = w.cssProps[a] || (w.cssProps[a] = tn(e.style, a)),
			u = w.cssHooks[n] || w.cssHooks[a],
			u && "get" in u && (o = u.get(e, !0, r)),
			o === t && (o = Rt(e, n, i)),
			o === "normal" && n in Yt && (o = Yt[n]),
			r === "" || r ? (s = parseFloat(o), r === !0 || w.isNumeric(s) ? s || 0 : o) : o
		}
	}),
	e.getComputedStyle ? (qt = function (t) {
		return e.getComputedStyle(t, null)
	}, Rt = function (e, n, r) {
		var i,
		s,
		o,
		u = r || qt(e),
		a = u ? u.getPropertyValue(n) || u[n] : t,
		f = e.style;
		return u && (a === "" && !w.contains(e.ownerDocument, e) && (a = w.style(e, n)), Jt.test(a) && Vt.test(n) && (i = f.width, s = f.minWidth, o = f.maxWidth, f.minWidth = f.maxWidth = f.width = a, a = u.width, f.width = i, f.minWidth = s, f.maxWidth = o)),
		a
	}) : o.documentElement.currentStyle && (qt = function (e) {
		return e.currentStyle
	}, Rt = function (e, n, r) {
		var i,
		s,
		o,
		u = r || qt(e),
		a = u ? u[n] : t,
		f = e.style;
		return a == null && f && f[n] && (a = f[n]),
		Jt.test(a) && !Wt.test(n) && (i = f.left, s = e.runtimeStyle, o = s && s.left, o && (s.left = e.currentStyle.left), f.left = n === "fontSize" ? "1em" : a, a = f.pixelLeft + "px", f.left = i, o && (s.left = o)),
		a === "" ? "auto" : a
	}),
	w.each(["height", "width"], function (e, t) {
		w.cssHooks[t] = {
			get : function (e, n, r) {
				if (n)
					return e.offsetWidth === 0 && Xt.test(w.css(e, "display")) ? w.swap(e, Gt, function () {
						return un(e, t, r)
					}) : un(e, t, r)
			},
			set : function (e, n, r) {
				var i = r && qt(e);
				return sn(e, n, r ? on(e, t, r, w.support.boxSizing && w.css(e, "boxSizing", !1, i) === "border-box", i) : 0)
			}
		}
	}),
	w.support.opacity || (w.cssHooks.opacity = {
			get : function (e, t) {
				return zt.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
			},
			set : function (e, t) {
				var n = e.style,
				r = e.currentStyle,
				i = w.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")" : "",
				s = r && r.filter || n.filter || "";
				n.zoom = 1;
				if ((t >= 1 || t === "") && w.trim(s.replace(Ut, "")) === "" && n.removeAttribute) {
					n.removeAttribute("filter");
					if (t === "" || r && !r.filter)
						return
				}
				n.filter = Ut.test(s) ? s.replace(Ut, i) : s + " " + i
			}
		}),
	w(function () {
		w.support.reliableMarginRight || (w.cssHooks.marginRight = {
				get : function (e, t) {
					if (t)
						return w.swap(e, {
							display : "inline-block"
						}, Rt, [e, "marginRight"])
				}
			}),
		!w.support.pixelPosition && w.fn.position && w.each(["top", "left"], function (e, t) {
			w.cssHooks[t] = {
				get : function (e, n) {
					if (n)
						return n = Rt(e, t), Jt.test(n) ? w(e).position()[t] + "px" : n
				}
			}
		})
	}),
	w.expr && w.expr.filters && (w.expr.filters.hidden = function (e) {
		return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !w.support.reliableHiddenOffsets && (e.style && e.style.display || w.css(e, "display")) === "none"
	}, w.expr.filters.visible = function (e) {
		return !w.expr.filters.hidden(e)
	}),
	w.each({
		margin : "",
		padding : "",
		border : "Width"
	}, function (e, t) {
		w.cssHooks[e + t] = {
			expand : function (n) {
				var r = 0,
				i = {},
				s = typeof n == "string" ? n.split(" ") : [n];
				for (; r < 4; r++)
					i[e + Zt[r] + t] = s[r] || s[r - 2] || s[0];
				return i
			}
		},
		Vt.test(e) || (w.cssHooks[e + t].set = sn)
	});
	var ln = /%20/g,
	cn = /\[\]$/,
	hn = /\r?\n/g,
	pn = /^(?:submit|button|image|reset|file)$/i,
	dn = /^(?:input|select|textarea|keygen)/i;
	w.fn.extend({
		serialize : function () {
			return w.param(this.serializeArray())
		},
		serializeArray : function () {
			return this.map(function () {
				var e = w.prop(this, "elements");
				return e ? w.makeArray(e) : this
			}).filter(function () {
				var e = this.type;
				return this.name && !w(this).is(":disabled") && dn.test(this.nodeName) && !pn.test(e) && (this.checked || !xt.test(e))
			}).map(function (e, t) {
				var n = w(this).val();
				return n == null ? null : w.isArray(n) ? w.map(n, function (e) {
					return {
						name : t.name,
						value : e.replace(hn, "\r\n")
					}
				}) : {
					name : t.name,
					value : n.replace(hn, "\r\n")
				}
			}).get()
		}
	}),
	w.param = function (e, n) {
		var r,
		i = [],
		s = function (e, t) {
			t = w.isFunction(t) ? t() : t == null ? "" : t,
			i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
		};
		n === t && (n = w.ajaxSettings && w.ajaxSettings.traditional);
		if (w.isArray(e) || e.jquery && !w.isPlainObject(e))
			w.each(e, function () {
				s(this.name, this.value)
			});
		else
			for (r in e)
				vn(r, e[r], n, s);
		return i.join("&").replace(ln, "+")
	},
	w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) {
		w.fn[t] = function (e, n) {
			return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
		}
	}),
	w.fn.extend({
		hover : function (e, t) {
			return this.mouseenter(e).mouseleave(t || e)
		},
		bind : function (e, t, n) {
			return this.on(e, null, t, n)
		},
		unbind : function (e, t) {
			return this.off(e, null, t)
		},
		delegate : function (e, t, n, r) {
			return this.on(t, e, n, r)
		},
		undelegate : function (e, t, n) {
			return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
		}
	});
	var mn,
	gn,
	yn = w.now(),
	bn = /\?/,
	wn = /#.*$/,
	En = /([?&])_=[^&]*/,
	Sn = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
	xn = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	Tn = /^(?:GET|HEAD)$/,
	Nn = /^\/\//,
	Cn = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
	kn = w.fn.load,
	Ln = {},
	An = {},
	On = "*/".concat("*");
	try {
		gn = s.href
	} catch (Mn) {
		gn = o.createElement("a"),
		gn.href = "",
		gn = gn.href
	}
	mn = Cn.exec(gn.toLowerCase()) || [],
	w.fn.load = function (e, n, r) {
		if (typeof e != "string" && kn)
			return kn.apply(this, arguments);
		var i,
		s,
		o,
		u = this,
		a = e.indexOf(" ");
		return a >= 0 && (i = e.slice(a, e.length), e = e.slice(0, a)),
		w.isFunction(n) ? (r = n, n = t) : n && typeof n == "object" && (o = "POST"),
		u.length > 0 && w.ajax({
			url : e,
			type : o,
			dataType : "html",
			data : n
		}).done(function (e) {
			s = arguments,
			u.html(i ? w("<div>").append(w.parseHTML(e)).find(i) : e)
		}).complete(r && function (e, t) {
			u.each(r, s || [e.responseText, t, e])
		}),
		this
	},
	w.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (e, t) {
		w.fn[t] = function (e) {
			return this.on(t, e)
		}
	}),
	w.extend({
		active : 0,
		lastModified : {},
		etag : {},
		ajaxSettings : {
			url : gn,
			type : "GET",
			isLocal : xn.test(mn[1]),
			global : !0,
			processData : !0,
			async : !0,
			contentType : "application/x-www-form-urlencoded; charset=UTF-8",
			accepts : {
				"*" : On,
				text : "text/plain",
				html : "text/html",
				xml : "application/xml, text/xml",
				json : "application/json, text/javascript"
			},
			contents : {
				xml : /xml/,
				html : /html/,
				json : /json/
			},
			responseFields : {
				xml : "responseXML",
				text : "responseText",
				json : "responseJSON"
			},
			converters : {
				"* text" : String,
				"text html" : !0,
				"text json" : w.parseJSON,
				"text xml" : w.parseXML
			},
			flatOptions : {
				url : !0,
				context : !0
			}
		},
		ajaxSetup : function (e, t) {
			return t ? Pn(Pn(e, w.ajaxSettings), t) : Pn(w.ajaxSettings, e)
		},
		ajaxPrefilter : _n(Ln),
		ajaxTransport : _n(An),
		ajax : function (e, n) {
			function N(e, n, r, i) {
				var l,
				g,
				y,
				E,
				S,
				T = n;
				if (b === 2)
					return;
				b = 2,
				u && clearTimeout(u),
				f = t,
				o = i || "",
				x.readyState = e > 0 ? 4 : 0,
				l = e >= 200 && e < 300 || e === 304,
				r && (E = Hn(c, x, r)),
				E = Bn(c, E, x, l);
				if (l)
					c.ifModified && (S = x.getResponseHeader("Last-Modified"), S && (w.lastModified[s] = S), S = x.getResponseHeader("etag"), S && (w.etag[s] = S)), e === 204 || c.type === "HEAD" ? T = "nocontent" : e === 304 ? T = "notmodified" : (T = E.state, g = E.data, y = E.error, l = !y);
				else {
					y = T;
					if (e || !T)
						T = "error", e < 0 && (e = 0)
				}
				x.status = e,
				x.statusText = (n || T) + "",
				l ? d.resolveWith(h, [g, T, x]) : d.rejectWith(h, [x, T, y]),
				x.statusCode(m),
				m = t,
				a && p.trigger(l ? "ajaxSuccess" : "ajaxError", [x, c, l ? g : y]),
				v.fireWith(h, [x, T]),
				a && (p.trigger("ajaxComplete", [x, c]), --w.active || w.event.trigger("ajaxStop"))
			}
			typeof e == "object" && (n = e, e = t),
			n = n || {};
			var r,
			i,
			s,
			o,
			u,
			a,
			f,
			l,
			c = w.ajaxSetup({}, n),
			h = c.context || c,
			p = c.context && (h.nodeType || h.jquery) ? w(h) : w.event,
			d = w.Deferred(),
			v = w.Callbacks("once memory"),
			m = c.statusCode || {},
			g = {},
			y = {},
			b = 0,
			E = "canceled",
			x = {
				readyState : 0,
				getResponseHeader : function (e) {
					var t;
					if (b === 2) {
						if (!l) {
							l = {};
							while (t = Sn.exec(o))
								l[t[1].toLowerCase()] = t[2]
						}
						t = l[e.toLowerCase()]
					}
					return t == null ? null : t
				},
				getAllResponseHeaders : function () {
					return b === 2 ? o : null
				},
				setRequestHeader : function (e, t) {
					var n = e.toLowerCase();
					return b || (e = y[n] = y[n] || e, g[e] = t),
					this
				},
				overrideMimeType : function (e) {
					return b || (c.mimeType = e),
					this
				},
				statusCode : function (e) {
					var t;
					if (e)
						if (b < 2)
							for (t in e)
								m[t] = [m[t], e[t]];
						else
							x.always(e[x.status]);
					return this
				},
				abort : function (e) {
					var t = e || E;
					return f && f.abort(t),
					N(0, t),
					this
				}
			};
			d.promise(x).complete = v.add,
			x.success = x.done,
			x.error = x.fail,
			c.url = ((e || c.url || gn) + "").replace(wn, "").replace(Nn, mn[1] + "//"),
			c.type = n.method || n.type || c.method || c.type,
			c.dataTypes = w.trim(c.dataType || "*").toLowerCase().match(S) || [""],
			c.crossDomain == null && (r = Cn.exec(c.url.toLowerCase()), c.crossDomain = !(!r || r[1] === mn[1] && r[2] === mn[2] && (r[3] || (r[1] === "http:" ? "80" : "443")) === (mn[3] || (mn[1] === "http:" ? "80" : "443")))),
			c.data && c.processData && typeof c.data != "string" && (c.data = w.param(c.data, c.traditional)),
			Dn(Ln, c, n, x);
			if (b === 2)
				return x;
			a = c.global,
			a && w.active++ === 0 && w.event.trigger("ajaxStart"),
			c.type = c.type.toUpperCase(),
			c.hasContent = !Tn.test(c.type),
			s = c.url,
			c.hasContent || (c.data && (s = c.url += (bn.test(s) ? "&" : "?") + c.data, delete c.data), c.cache === !1 && (c.url = En.test(s) ? s.replace(En, "$1_=" + yn++) : s + (bn.test(s) ? "&" : "?") + "_=" + yn++)),
			c.ifModified && (w.lastModified[s] && x.setRequestHeader("If-Modified-Since", w.lastModified[s]), w.etag[s] && x.setRequestHeader("If-None-Match", w.etag[s])),
			(c.data && c.hasContent && c.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", c.contentType),
			x.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + (c.dataTypes[0] !== "*" ? ", " + On + "; q=0.01" : "") : c.accepts["*"]);
			for (i in c.headers)
				x.setRequestHeader(i, c.headers[i]);
			if (!c.beforeSend || c.beforeSend.call(h, x, c) !== !1 && b !== 2) {
				E = "abort";
				for (i in {
					success : 1,
					error : 1,
					complete : 1
				})
					x[i](c[i]);
				f = Dn(An, c, n, x);
				if (!f)
					N(-1, "No Transport");
				else {
					x.readyState = 1,
					a && p.trigger("ajaxSend", [x, c]),
					c.async && c.timeout > 0 && (u = setTimeout(function () {
								x.abort("timeout")
							}, c.timeout));
					try {
						b = 1,
						f.send(g, N)
					} catch (T) {
						if (!(b < 2))
							throw T;
						N(-1, T)
					}
				}
				return x
			}
			return x.abort()
		},
		getJSON : function (e, t, n) {
			return w.get(e, t, n, "json")
		},
		getScript : function (e, n) {
			return w.get(e, t, n, "script")
		}
	}),
	w.each(["get", "post"], function (e, n) {
		w[n] = function (e, r, i, s) {
			return w.isFunction(r) && (s = s || i, i = r, r = t),
			w.ajax({
				url : e,
				type : n,
				dataType : s,
				data : r,
				success : i
			})
		}
	}),
	w.ajaxSetup({
		accepts : {
			script : "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
		},
		contents : {
			script : /(?:java|ecma)script/
		},
		converters : {
			"text script" : function (e) {
				return w.globalEval(e),
				e
			}
		}
	}),
	w.ajaxPrefilter("script", function (e) {
		e.cache === t && (e.cache = !1),
		e.crossDomain && (e.type = "GET", e.global = !1)
	}),
	w.ajaxTransport("script", function (e) {
		if (e.crossDomain) {
			var n,
			r = o.head || w("head")[0] || o.documentElement;
			return {
				send : function (t, i) {
					n = o.createElement("script"),
					n.async = !0,
					e.scriptCharset && (n.charset = e.scriptCharset),
					n.src = e.url,
					n.onload = n.onreadystatechange = function (e, t) {
						if (t || !n.readyState || /loaded|complete/.test(n.readyState))
							n.onload = n.onreadystatechange = null, n.parentNode && n.parentNode.removeChild(n), n = null, t || i(200, "success")
					},
					r.insertBefore(n, r.firstChild)
				},
				abort : function () {
					n && n.onload(t, !0)
				}
			}
		}
	});
	var jn = [],
	Fn = /(=)\?(?=&|$)|\?\?/;
	w.ajaxSetup({
		jsonp : "callback",
		jsonpCallback : function () {
			var e = jn.pop() || w.expando + "_" + yn++;
			return this[e] = !0,
			e
		}
	}),
	w.ajaxPrefilter("json jsonp", function (n, r, i) {
		var s,
		o,
		u,
		a = n.jsonp !== !1 && (Fn.test(n.url) ? "url" : typeof n.data == "string" && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Fn.test(n.data) && "data");
		if (a || n.dataTypes[0] === "jsonp")
			return s = n.jsonpCallback = w.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, a ? n[a] = n[a].replace(Fn, "$1" + s) : n.jsonp !== !1 && (n.url += (bn.test(n.url) ? "&" : "?") + n.jsonp + "=" + s), n.converters["script json"] = function () {
				return u || w.error(s + " was not called"),
				u[0]
			},
		n.dataTypes[0] = "json",
		o = e[s],
		e[s] = function () {
			u = arguments
		},
		i.always(function () {
			e[s] = o,
			n[s] && (n.jsonpCallback = r.jsonpCallback, jn.push(s)),
			u && w.isFunction(o) && o(u[0]),
			u = o = t
		}),
		"script"
	});
	var In,
	qn,
	Rn = 0,
	Un = e.ActiveXObject && function () {
		var e;
		for (e in In)
			In[e](t, !0)
	};
	w.ajaxSettings.xhr = e.ActiveXObject ? function () {
		return !this.isLocal && zn() || Wn()
	}
	 : zn,
	qn = w.ajaxSettings.xhr(),
	w.support.cors = !!qn && "withCredentials" in qn,
	qn = w.support.ajax = !!qn,
	qn && w.ajaxTransport(function (n) {
		if (!n.crossDomain || w.support.cors) {
			var r;
			return {
				send : function (i, s) {
					var o,
					u,
					a = n.xhr();
					n.username ? a.open(n.type, n.url, n.async, n.username, n.password) : a.open(n.type, n.url, n.async);
					if (n.xhrFields)
						for (u in n.xhrFields)
							a[u] = n.xhrFields[u];
					n.mimeType && a.overrideMimeType && a.overrideMimeType(n.mimeType),
					!n.crossDomain && !i["X-Requested-With"] && (i["X-Requested-With"] = "XMLHttpRequest");
					try {
						for (u in i)
							a.setRequestHeader(u, i[u])
					} catch (f) {}

					a.send(n.hasContent && n.data || null),
					r = function (e, i) {
						var u,
						f,
						l,
						c;
						try {
							if (r && (i || a.readyState === 4)) {
								r = t,
								o && (a.onreadystatechange = w.noop, Un && delete In[o]);
								if (i)
									a.readyState !== 4 && a.abort();
								else {
									c = {},
									u = a.status,
									f = a.getAllResponseHeaders(),
									typeof a.responseText == "string" && (c.text = a.responseText);
									try {
										l = a.statusText
									} catch (h) {
										l = ""
									}
									!u && n.isLocal && !n.crossDomain ? u = c.text ? 200 : 404 : u === 1223 && (u = 204)
								}
							}
						} catch (p) {
							i || s(-1, p)
						}
						c && s(u, l, c, f)
					},
					n.async ? a.readyState === 4 ? setTimeout(r) : (o = ++Rn, Un && (In || (In = {}, w(e).unload(Un)), In[o] = r), a.onreadystatechange = r) : r()
				},
				abort : function () {
					r && r(t, !0)
				}
			}
		}
	});
	var Xn,
	Vn,
	$n = /^(?:toggle|show|hide)$/,
	Jn = new RegExp("^(?:([+-])=|)(" + E + ")([a-z%]*)$", "i"),
	Kn = /queueHooks$/,
	Qn = [nr],
	Gn = {
		"*" : [function (e, t) {
				var n = this.createTween(e, t),
				r = n.cur(),
				i = Jn.exec(t),
				s = i && i[3] || (w.cssNumber[e] ? "" : "px"),
				o = (w.cssNumber[e] || s !== "px" && +r) && Jn.exec(w.css(n.elem, e)),
				u = 1,
				a = 20;
				if (o && o[3] !== s) {
					s = s || o[3],
					i = i || [],
					o = +r || 1;
					do
						u = u || ".5", o /= u, w.style(n.elem, e, o + s);
					while (u !== (u = n.cur() / r) && u !== 1 && --a)
				}
				return i && (o = n.start = +o || +r || 0, n.unit = s, n.end = i[1] ? o + (i[1] + 1) * i[2] : +i[2]),
				n
			}
		]
	};
	w.Animation = w.extend(er, {
			tweener : function (e, t) {
				w.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
				var n,
				r = 0,
				i = e.length;
				for (; r < i; r++)
					n = e[r], Gn[n] = Gn[n] || [], Gn[n].unshift(t)
			},
			prefilter : function (e, t) {
				t ? Qn.unshift(e) : Qn.push(e)
			}
		}),
	w.Tween = rr,
	rr.prototype = {
		constructor : rr,
		init : function (e, t, n, r, i, s) {
			this.elem = e,
			this.prop = n,
			this.easing = i || "swing",
			this.options = t,
			this.start = this.now = this.cur(),
			this.end = r,
			this.unit = s || (w.cssNumber[n] ? "" : "px")
		},
		cur : function () {
			var e = rr.propHooks[this.prop];
			return e && e.get ? e.get(this) : rr.propHooks._default.get(this)
		},
		run : function (e) {
			var t,
			n = rr.propHooks[this.prop];
			return this.options.duration ? this.pos = t = w.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
			this.now = (this.end - this.start) * t + this.start,
			this.options.step && this.options.step.call(this.elem, this.now, this),
			n && n.set ? n.set(this) : rr.propHooks._default.set(this),
			this
		}
	},
	rr.prototype.init.prototype = rr.prototype,
	rr.propHooks = {
		_default : {
			get : function (e) {
				var t;
				return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = w.css(e.elem, e.prop, ""), !t || t === "auto" ? 0 : t) : e.elem[e.prop]
			},
			set : function (e) {
				w.fx.step[e.prop] ? w.fx.step[e.prop](e) : e.elem.style && (e.elem.style[w.cssProps[e.prop]] != null || w.cssHooks[e.prop]) ? w.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
			}
		}
	},
	rr.propHooks.scrollTop = rr.propHooks.scrollLeft = {
		set : function (e) {
			e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
		}
	},
	w.each(["toggle", "show", "hide"], function (e, t) {
		var n = w.fn[t];
		w.fn[t] = function (e, r, i) {
			return e == null || typeof e == "boolean" ? n.apply(this, arguments) : this.animate(ir(t, !0), e, r, i)
		}
	}),
	w.fn.extend({
		fadeTo : function (e, t, n, r) {
			return this.filter(nn).css("opacity", 0).show().end().animate({
				opacity : t
			}, e, n, r)
		},
		animate : function (e, t, n, r) {
			var i = w.isEmptyObject(e),
			s = w.speed(t, n, r),
			o = function () {
				var t = er(this, w.extend({}, e), s);
				(i || w._data(this, "finish")) && t.stop(!0)
			};
			return o.finish = o,
			i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
		},
		stop : function (e, n, r) {
			var i = function (e) {
				var t = e.stop;
				delete e.stop,
				t(r)
			};
			return typeof e != "string" && (r = n, n = e, e = t),
			n && e !== !1 && this.queue(e || "fx", []),
			this.each(function () {
				var t = !0,
				n = e != null && e + "queueHooks",
				s = w.timers,
				o = w._data(this);
				if (n)
					o[n] && o[n].stop && i(o[n]);
				else
					for (n in o)
						o[n] && o[n].stop && Kn.test(n) && i(o[n]);
				for (n = s.length; n--; )
					s[n].elem === this && (e == null || s[n].queue === e) && (s[n].anim.stop(r), t = !1, s.splice(n, 1));
				(t || !r) && w.dequeue(this, e)
			})
		},
		finish : function (e) {
			return e !== !1 && (e = e || "fx"),
			this.each(function () {
				var t,
				n = w._data(this),
				r = n[e + "queue"],
				i = n[e + "queueHooks"],
				s = w.timers,
				o = r ? r.length : 0;
				n.finish = !0,
				w.queue(this, e, []),
				i && i.stop && i.stop.call(this, !0);
				for (t = s.length; t--; )
					s[t].elem === this && s[t].queue === e && (s[t].anim.stop(!0), s.splice(t, 1));
				for (t = 0; t < o; t++)
					r[t] && r[t].finish && r[t].finish.call(this);
				delete n.finish
			})
		}
	}),
	w.each({
		slideDown : ir("show"),
		slideUp : ir("hide"),
		slideToggle : ir("toggle"),
		fadeIn : {
			opacity : "show"
		},
		fadeOut : {
			opacity : "hide"
		},
		fadeToggle : {
			opacity : "toggle"
		}
	}, function (e, t) {
		w.fn[e] = function (e, n, r) {
			return this.animate(t, e, n, r)
		}
	}),
	w.speed = function (e, t, n) {
		var r = e && typeof e == "object" ? w.extend({}, e) : {
			complete : n || !n && t || w.isFunction(e) && e,
			duration : e,
			easing : n && t || t && !w.isFunction(t) && t
		};
		r.duration = w.fx.off ? 0 : typeof r.duration == "number" ? r.duration : r.duration in w.fx.speeds ? w.fx.speeds[r.duration] : w.fx.speeds._default;
		if (r.queue == null || r.queue === !0)
			r.queue = "fx";
		return r.old = r.complete,
		r.complete = function () {
			w.isFunction(r.old) && r.old.call(this),
			r.queue && w.dequeue(this, r.queue)
		},
		r
	},
	w.easing = {
		linear : function (e) {
			return e
		},
		swing : function (e) {
			return .5 - Math.cos(e * Math.PI) / 2
		}
	},
	w.timers = [],
	w.fx = rr.prototype.init,
	w.fx.tick = function () {
		var e,
		n = w.timers,
		r = 0;
		Xn = w.now();
		for (; r < n.length; r++)
			e = n[r], !e() && n[r] === e && n.splice(r--, 1);
		n.length || w.fx.stop(),
		Xn = t
	},
	w.fx.timer = function (e) {
		e() && w.timers.push(e) && w.fx.start()
	},
	w.fx.interval = 13,
	w.fx.start = function () {
		Vn || (Vn = setInterval(w.fx.tick, w.fx.interval))
	},
	w.fx.stop = function () {
		clearInterval(Vn),
		Vn = null
	},
	w.fx.speeds = {
		slow : 600,
		fast : 200,
		_default : 400
	},
	w.fx.step = {},
	w.expr && w.expr.filters && (w.expr.filters.animated = function (e) {
		return w.grep(w.timers, function (t) {
			return e === t.elem
		}).length
	}),
	w.fn.offset = function (e) {
		if (arguments.length)
			return e === t ? this : this.each(function (t) {
				w.offset.setOffset(this, e, t)
			});
		var n,
		r,
		s = {
			top : 0,
			left : 0
		},
		o = this[0],
		u = o && o.ownerDocument;
		if (!u)
			return;
		return n = u.documentElement,
		w.contains(n, o) ? (typeof o.getBoundingClientRect !== i && (s = o.getBoundingClientRect()), r = sr(u), {
			top : s.top + (r.pageYOffset || n.scrollTop) - (n.clientTop || 0),
			left : s.left + (r.pageXOffset || n.scrollLeft) - (n.clientLeft || 0)
		}) : s
	},
	w.offset = {
		setOffset : function (e, t, n) {
			var r = w.css(e, "position");
			r === "static" && (e.style.position = "relative");
			var i = w(e),
			s = i.offset(),
			o = w.css(e, "top"),
			u = w.css(e, "left"),
			a = (r === "absolute" || r === "fixed") && w.inArray("auto", [o, u]) > -1,
			f = {},
			l = {},
			c,
			h;
			a ? (l = i.position(), c = l.top, h = l.left) : (c = parseFloat(o) || 0, h = parseFloat(u) || 0),
			w.isFunction(t) && (t = t.call(e, n, s)),
			t.top != null && (f.top = t.top - s.top + c),
			t.left != null && (f.left = t.left - s.left + h),
			"using" in t ? t.using.call(e, f) : i.css(f)
		}
	},
	w.fn.extend({
		position : function () {
			if (!this[0])
				return;
			var e,
			t,
			n = {
				top : 0,
				left : 0
			},
			r = this[0];
			return w.css(r, "position") === "fixed" ? t = r.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), w.nodeName(e[0], "html") || (n = e.offset()), n.top += w.css(e[0], "borderTopWidth", !0), n.left += w.css(e[0], "borderLeftWidth", !0)), {
				top : t.top - n.top - w.css(r, "marginTop", !0),
				left : t.left - n.left - w.css(r, "marginLeft", !0)
			}
		},
		offsetParent : function () {
			return this.map(function () {
				var e = this.offsetParent || u;
				while (e && !w.nodeName(e, "html") && w.css(e, "position") === "static")
					e = e.offsetParent;
				return e || u
			})
		}
	}),
	w.each({
		scrollLeft : "pageXOffset",
		scrollTop : "pageYOffset"
	}, function (e, n) {
		var r = /Y/.test(n);
		w.fn[e] = function (i) {
			return w.access(this, function (e, i, s) {
				var o = sr(e);
				if (s === t)
					return o ? n in o ? o[n] : o.document.documentElement[i] : e[i];
				o ? o.scrollTo(r ? w(o).scrollLeft() : s, r ? s : w(o).scrollTop()) : e[i] = s
			}, e, i, arguments.length, null)
		}
	}),
	w.each({
		Height : "height",
		Width : "width"
	}, function (e, n) {
		w.each({
			padding : "inner" + e,
			content : n,
			"" : "outer" + e
		}, function (r, i) {
			w.fn[i] = function (i, s) {
				var o = arguments.length && (r || typeof i != "boolean"),
				u = r || (i === !0 || s === !0 ? "margin" : "border");
				return w.access(this, function (n, r, i) {
					var s;
					return w.isWindow(n) ? n.document.documentElement["client" + e] : n.nodeType === 9 ? (s = n.documentElement, Math.max(n.body["scroll" + e], s["scroll" + e], n.body["offset" + e], s["offset" + e], s["client" + e])) : i === t ? w.css(n, r, u) : w.style(n, r, i, u)
				}, n, o ? i : t, o, null)
			}
		})
	}),
	w.fn.size = function () {
		return this.length
	},
	w.fn.andSelf = w.fn.addBack,
	typeof module == "object" && module && typeof module.exports == "object" ? module.exports = w : (e.jQuery = e.$ = w, typeof define == "function" && define.amd && define("jquery", [], function () {
				return w
			}))
}
(window), define("lib/jquery-1.10.2", function () {}), this.JSON || (this.JSON = {}), function () {
	function f(e) {
		return e < 10 ? "0" + e : e
	}
	function quote(e) {
		return escapable.lastIndex = 0,
		escapable.test(e) ? '"' + e.replace(escapable, function (e) {
			var t = meta[e];
			return typeof t == "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
		}) + '"' : '"' + e + '"'
	}
	function str(e, t) {
		var n,
		r,
		i,
		s,
		o = gap,
		u,
		a = t[e];
		a && typeof a == "object" && typeof a.toJSON == "function" && (a = a.toJSON(e)),
		typeof rep == "function" && (a = rep.call(t, e, a));
		switch (typeof a) {
		case "string":
			return quote(a);
		case "number":
			return isFinite(a) ? String(a) : "null";
		case "boolean":
		case "null":
			return String(a);
		case "object":
			if (!a)
				return "null";
			gap += indent,
			u = [];
			if (Object.prototype.toString.apply(a) === "[object Array]") {
				s = a.length;
				for (n = 0; n < s; n += 1)
					u[n] = str(n, a) || "null";
				return i = u.length === 0 ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]" : "[" + u.join(",") + "]",
				gap = o,
				i
			}
			if (rep && typeof rep == "object") {
				s = rep.length;
				for (n = 0; n < s; n += 1)
					r = rep[n], typeof r == "string" && (i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i))
			} else
				for (r in a)
					Object.hasOwnProperty.call(a, r) && (i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i));
			return i = u.length === 0 ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}" : "{" + u.join(",") + "}",
			gap = o,
			i
		}
	}
	typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function (e) {
		return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
	}, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function (e) {
		return this.valueOf()
	});
	var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
	escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
	gap,
	indent,
	meta = {
		"\b" : "\\b",
		"	" : "\\t",
		"\n" : "\\n",
		"\f" : "\\f",
		"\r" : "\\r",
		'"' : '\\"',
		"\\" : "\\\\"
	},
	rep;
	typeof JSON.stringify != "function" && (JSON.stringify = function (e, t, n) {
		var r;
		gap = "",
		indent = "";
		if (typeof n == "number")
			for (r = 0; r < n; r += 1)
				indent += " ";
		else
			typeof n == "string" && (indent = n);
		rep = t;
		if (!t || typeof t == "function" || typeof t == "object" && typeof t.length == "number")
			return str("", {
				"" : e
			});
		throw new Error("JSON.stringify")
	}),
	typeof JSON.parse != "function" && (JSON.parse = function (text, reviver) {
		function walk(e, t) {
			var n,
			r,
			i = e[t];
			if (i && typeof i == "object")
				for (n in i)
					Object.hasOwnProperty.call(i, n) && (r = walk(i, n), r !== undefined ? i[n] = r : delete i[n]);
			return reviver.call(e, t, i)
		}
		var j;
		text = String(text),
		cx.lastIndex = 0,
		cx.test(text) && (text = text.replace(cx, function (e) {
					return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
				}));
		if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
			return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({
				"" : j
			}, "") : j;
		throw new SyntaxError("JSON.parse")
	})
}
(), define("lib/json", function () {});
var OpenLayers = {
	VERSION_NUMBER : "Release 2.12",
	singleFile : !0,
	_getScriptLocation : function () {
		for (var e = /(^|(.*?\/))(OpenLayers[^\/]*?\.js)(\?|$)/, t = document.getElementsByTagName("script"), n, r = "", i = 0, s = t.length; i < s; i++)
			if (n = t[i].getAttribute("src"))
				if (n = n.match(e)) {
					r = n[1];
					break
				}
		return function () {
			return r
		}
	}
	(),
	ImgPath : ""
};
OpenLayers.Class = function () {
	var e = arguments.length,
	t = arguments[0],
	n = arguments[e - 1],
	r = "function" == typeof n.initialize ? n.initialize : function () {
		t.prototype.initialize.apply(this, arguments)
	};
	return 1 < e ? (e = [r, t].concat(Array.prototype.slice.call(arguments).slice(1, e - 1), n), OpenLayers.inherit.apply(null, e)) : r.prototype = n,
	r
}, OpenLayers.inherit = function (e, t) {
	var n = function () {};
	n.prototype = t.prototype,
	e.prototype = new n;
	var r,
	i,
	n = 2;
	for (r = arguments.length; n < r; n++)
		i = arguments[n], "function" == typeof i && (i = i.prototype), OpenLayers.Util.extend(e.prototype, i)
}, OpenLayers.Util = OpenLayers.Util || {}, OpenLayers.Util.extend = function (e, t) {
	e = e || {};
	if (t) {
		for (var n in t) {
			var r = t[n];
			void 0 !== r && (e[n] = r)
		}
		!("function" == typeof window.Event && t instanceof window.Event) && t.hasOwnProperty && t.hasOwnProperty("toString") && (e.toString = t.toString)
	}
	return e
}, OpenLayers.String = {
	startsWith : function (e, t) {
		return 0 == e.indexOf(t)
	},
	contains : function (e, t) {
		return -1 != e.indexOf(t)
	},
	trim : function (e) {
		return e.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
	},
	camelize : function (e) {
		for (var e = e.split("-"), t = e[0], n = 1, r = e.length; n < r; n++)
			var i = e[n], t = t + (i.charAt(0).toUpperCase() + i.substring(1));
		return t
	},
	format : function (e, t, n) {
		return t || (t = window),
		e.replace(OpenLayers.String.tokenRegEx, function (e, r) {
			for (var i, s = r.split(/\.+/), o = 0; o < s.length; o++)
				0 == o && (i = t), i = i[s[o]];
			return "function" == typeof i && (i = n ? i.apply(null, n) : i()),
			"undefined" == typeof i ? "undefined" : i
		})
	},
	tokenRegEx : /\$\{([\w.]+?)\}/g,
	numberRegEx : /^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,
	isNumeric : function (e) {
		return OpenLayers.String.numberRegEx.test(e)
	},
	numericIf : function (e) {
		return OpenLayers.String.isNumeric(e) ? parseFloat(e) : e
	}
}, OpenLayers.Number = {
	decimalSeparator : ".",
	thousandsSeparator : ",",
	limitSigDigs : function (e, t) {
		var n = 0;
		return 0 < t && (n = parseFloat(e.toPrecision(t))),
		n
	},
	format : function (e, t, n, r) {
		t = "undefined" != typeof t ? t : 0,
		n = "undefined" != typeof n ? n : OpenLayers.Number.thousandsSeparator,
		r = "undefined" != typeof r ? r : OpenLayers.Number.decimalSeparator,
		null != t && (e = parseFloat(e.toFixed(t)));
		var i = e.toString().split(".");
		1 == i.length && null == t && (t = 0),
		e = i[0];
		if (n)
			for (var s = /(-?[0-9]+)([0-9]{3})/; s.test(e); )
				e = e.replace(s, "$1" + n + "$2");
		return 0 == t ? t = e : (n = 1 < i.length ? i[1] : "0", null != t && (n += Array(t - n.length + 1).join("0")), t = e + r + n),
		t
	}
}, OpenLayers.Function = {
	bind : function (e, t) {
		var n = Array.prototype.slice.apply(arguments, [2]);
		return function () {
			var r = n.concat(Array.prototype.slice.apply(arguments, [0]));
			return e.apply(t, r)
		}
	},
	bindAsEventListener : function (e, t) {
		return function (n) {
			return e.call(t, n || window.event)
		}
	},
	False : function () {
		return !1
	},
	True : function () {
		return !0
	},
	Void : function () {}

}, OpenLayers.Array = {
	filter : function (e, t, n) {
		var r = [];
		if (Array.prototype.filter)
			r = e.filter(t, n);
		else {
			var i = e.length;
			if ("function" != typeof t)
				throw new TypeError;
			for (var s = 0; s < i; s++)
				if (s in e) {
					var o = e[s];
					t.call(n, o, s, e) && r.push(o)
				}
		}
		return r
	}
}, OpenLayers.Bounds = OpenLayers.Class({
		left : null,
		bottom : null,
		right : null,
		top : null,
		centerLonLat : null,
		initialize : function (e, t, n, r) {
			OpenLayers.Util.isArray(e) && (r = e[3], n = e[2], t = e[1], e = e[0]),
			null != e && (this.left = OpenLayers.Util.toFloat(e)),
			null != t && (this.bottom = OpenLayers.Util.toFloat(t)),
			null != n && (this.right = OpenLayers.Util.toFloat(n)),
			null != r && (this.top = OpenLayers.Util.toFloat(r))
		},
		clone : function () {
			return new OpenLayers.Bounds(this.left, this.bottom, this.right, this.top)
		},
		equals : function (e) {
			var t = !1;
			return null != e && (t = this.left == e.left && this.right == e.right && this.top == e.top && this.bottom == e.bottom),
			t
		},
		toString : function () {
			return [this.left, this.bottom, this.right, this.top].join()
		},
		toArray : function (e) {
			return !0 === e ? [this.bottom, this.left, this.top, this.right] : [this.left, this.bottom, this.right, this.top]
		},
		toBBOX : function (e, t) {
			null == e && (e = 6);
			var n = Math.pow(10, e),
			r = Math.round(this.left * n) / n,
			i = Math.round(this.bottom * n) / n,
			s = Math.round(this.right * n) / n,
			n = Math.round(this.top * n) / n;
			return !0 === t ? i + "," + r + "," + n + "," + s : r + "," + i + "," + s + "," + n
		},
		toGeometry : function () {
			return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(this.left, this.bottom), new OpenLayers.Geometry.Point(this.right, this.bottom), new OpenLayers.Geometry.Point(this.right, this.top), new OpenLayers.Geometry.Point(this.left, this.top)])])
		},
		getWidth : function () {
			return this.right - this.left
		},
		getHeight : function () {
			return this.top - this.bottom
		},
		getSize : function () {
			return new OpenLayers.Size(this.getWidth(), this.getHeight())
		},
		getCenterPixel : function () {
			return new OpenLayers.Pixel((this.left + this.right) / 2, (this.bottom + this.top) / 2)
		},
		getCenterLonLat : function () {
			return this.centerLonLat || (this.centerLonLat = new OpenLayers.LonLat((this.left + this.right) / 2, (this.bottom + this.top) / 2)),
			this.centerLonLat
		},
		scale : function (e, t) {
			null == t && (t = this.getCenterLonLat());
			var n,
			r;
			return "OpenLayers.LonLat" == t.CLASS_NAME ? (n = t.lon, r = t.lat) : (n = t.x, r = t.y),
			new OpenLayers.Bounds((this.left - n) * e + n, (this.bottom - r) * e + r, (this.right - n) * e + n, (this.top - r) * e + r)
		},
		add : function (e, t) {
			if (null == e || null == t)
				throw new TypeError("Bounds.add cannot receive null values");
			return new OpenLayers.Bounds(this.left + e, this.bottom + t, this.right + e, this.top + t)
		},
		extend : function (e) {
			var t = null;
			if (e) {
				switch (e.CLASS_NAME) {
				case "OpenLayers.LonLat":
					t = new OpenLayers.Bounds(e.lon, e.lat, e.lon, e.lat);
					break;
				case "OpenLayers.Geometry.Point":
					t = new OpenLayers.Bounds(e.x, e.y, e.x, e.y);
					break;
				case "OpenLayers.Bounds":
					t = e
				}
				if (t) {
					this.centerLonLat = null;
					if (null == this.left || t.left < this.left)
						this.left = t.left;
					if (null == this.bottom || t.bottom < this.bottom)
						this.bottom = t.bottom;
					if (null == this.right || t.right > this.right)
						this.right = t.right;
					if (null == this.top || t.top > this.top)
						this.top = t.top
				}
			}
		},
		containsLonLat : function (e, t) {
			"boolean" == typeof t && (t = {
					inclusive : t
				});
			var t = t || {},
			n = this.contains(e.lon, e.lat, t.inclusive),
			r = t.worldBounds;
			return r && !n && (n = r.getWidth(), r = Math.round((e.lon - (r.left + r.right) / 2) / n), n = this.containsLonLat({
						lon : e.lon - r * n,
						lat : e.lat
					}, {
						inclusive : t.inclusive
					})),
			n
		},
		containsPixel : function (e, t) {
			return this.contains(e.x, e.y, t)
		},
		contains : function (e, t, n) {
			null == n && (n = !0);
			if (null == e || null == t)
				return !1;
			var e = OpenLayers.Util.toFloat(e),
			t = OpenLayers.Util.toFloat(t),
			r = !1;
			return r = n ? e >= this.left && e <= this.right && t >= this.bottom && t <= this.top : e > this.left && e < this.right && t > this.bottom && t < this.top
		},
		intersectsBounds : function (e, t) {
			"boolean" == typeof t && (t = {
					inclusive : t
				}),
			t = t || {};
			if (t.worldBounds)
				var n = this.wrapDateLine(t.worldBounds), e = e.wrapDateLine(t.worldBounds);
			else
				n = this;
			null == t.inclusive && (t.inclusive = !0);
			var r = !1,
			i = n.left == e.right || n.right == e.left || n.top == e.bottom || n.bottom == e.top;
			if (t.inclusive || !i)
				var r = e.top >= n.bottom && e.top <= n.top || n.top > e.bottom && n.top < e.top, i = e.left >= n.left && e.left <= n.right || n.left >= e.left && n.left <= e.right, s = e.right >= n.left && e.right <= n.right || n.right >= e.left && n.right <= e.right, r = (e.bottom >= n.bottom && e.bottom <= n.top || n.bottom >= e.bottom && n.bottom <= e.top || r) && (i || s);
			if (t.worldBounds && !r) {
				var o = t.worldBounds,
				i = o.getWidth(),
				s = !o.containsBounds(n),
				o = !o.containsBounds(e);
				s && !o ? (e = e.add(-i, 0), r = n.intersectsBounds(e, {
							inclusive : t.inclusive
						})) : o && !s && (n = n.add(-i, 0), r = e.intersectsBounds(n, {
							inclusive : t.inclusive
						}))
			}
			return r
		},
		containsBounds : function (e, t, n) {
			null == t && (t = !1),
			null == n && (n = !0);
			var r = this.contains(e.left, e.bottom, n),
			i = this.contains(e.right, e.bottom, n),
			s = this.contains(e.left, e.top, n),
			e = this.contains(e.right, e.top, n);
			return t ? r || i || s || e : r && i && s && e
		},
		determineQuadrant : function (e) {
			var t = "",
			n = this.getCenterLonLat(),
			t = t + (e.lat < n.lat ? "b" : "t");
			return t += e.lon < n.lon ? "l" : "r"
		},
		transform : function (e, t) {
			this.centerLonLat = null;
			var n = OpenLayers.Projection.transform({
					x : this.left,
					y : this.bottom
				}, e, t),
			r = OpenLayers.Projection.transform({
					x : this.right,
					y : this.bottom
				}, e, t),
			i = OpenLayers.Projection.transform({
					x : this.left,
					y : this.top
				}, e, t),
			s = OpenLayers.Projection.transform({
					x : this.right,
					y : this.top
				}, e, t);
			return this.left = Math.min(n.x, i.x),
			this.bottom = Math.min(n.y, r.y),
			this.right = Math.max(r.x, s.x),
			this.top = Math.max(i.y, s.y),
			this
		},
		wrapDateLine : function (e, t) {
			var t = t || {},
			n = t.leftTolerance || 0,
			r = t.rightTolerance || 0,
			i = this.clone();
			if (e) {
				for (var s = e.getWidth(); i.left < e.left && i.right - r <= e.left; )
					i = i.add(s, 0);
				for (; i.left + n >= e.right && i.right > e.right; )
					i = i.add(-s, 0);
				n = i.left + n,
				n < e.right && n > e.left && i.right - r > e.right && (i = i.add(-s, 0))
			}
			return i
		},
		CLASS_NAME : "OpenLayers.Bounds"
	}), OpenLayers.Bounds.fromString = function (e, t) {
	var n = e.split(",");
	return OpenLayers.Bounds.fromArray(n, t)
}, OpenLayers.Bounds.fromArray = function (e, t) {
	return !0 === t ? new OpenLayers.Bounds(e[1], e[0], e[3], e[2]) : new OpenLayers.Bounds(e[0], e[1], e[2], e[3])
}, OpenLayers.Bounds.fromSize = function (e) {
	return new OpenLayers.Bounds(0, e.h, e.w, 0)
}, OpenLayers.Bounds.oppositeQuadrant = function (e) {
	var t;
	return t = "" + ("t" == e.charAt(0) ? "b" : "t"),
	t += "l" == e.charAt(1) ? "r" : "l"
}, OpenLayers.Element = {
	visible : function (e) {
		return "none" != OpenLayers.Util.getElement(e).style.display
	},
	toggle : function () {
		for (var e = 0, t = arguments.length; e < t; e++) {
			var n = OpenLayers.Util.getElement(arguments[e]),
			r = OpenLayers.Element.visible(n) ? "none" : "";
			n.style.display = r
		}
	},
	remove : function (e) {
		e = OpenLayers.Util.getElement(e),
		e.parentNode.removeChild(e)
	},
	getHeight : function (e) {
		return e = OpenLayers.Util.getElement(e),
		e.offsetHeight
	},
	hasClass : function (e, t) {
		var n = e.className;
		return !!n && RegExp("(^|\\s)" + t + "(\\s|$)").test(n)
	},
	addClass : function (e, t) {
		return OpenLayers.Element.hasClass(e, t) || (e.className += (e.className ? " " : "") + t),
		e
	},
	removeClass : function (e, t) {
		var n = e.className;
		return n && (e.className = OpenLayers.String.trim(n.replace(RegExp("(^|\\s+)" + t + "(\\s+|$)"), " "))),
		e
	},
	toggleClass : function (e, t) {
		return OpenLayers.Element.hasClass(e, t) ? OpenLayers.Element.removeClass(e, t) : OpenLayers.Element.addClass(e, t),
		e
	},
	getStyle : function (e, t) {
		var e = OpenLayers.Util.getElement(e),
		n = null;
		if (e && e.style) {
			n = e.style[OpenLayers.String.camelize(t)],
			n || (document.defaultView && document.defaultView.getComputedStyle ? n = (n = document.defaultView.getComputedStyle(e, null)) ? n.getPropertyValue(t) : null : e.currentStyle && (n = e.currentStyle[OpenLayers.String.camelize(t)]));
			var r = ["left", "top", "right", "bottom"];
			window.opera && -1 != OpenLayers.Util.indexOf(r, t) && "static" == OpenLayers.Element.getStyle(e, "position") && (n = "auto")
		}
		return "auto" == n ? null : n
	}
}, OpenLayers.LonLat = OpenLayers.Class({
		lon : 0,
		lat : 0,
		initialize : function (e, t) {
			OpenLayers.Util.isArray(e) && (t = e[1], e = e[0]),
			this.lon = OpenLayers.Util.toFloat(e),
			this.lat = OpenLayers.Util.toFloat(t)
		},
		toString : function () {
			return "lon=" + this.lon + ",lat=" + this.lat
		},
		toShortString : function () {
			return this.lon + ", " + this.lat
		},
		clone : function () {
			return new OpenLayers.LonLat(this.lon, this.lat)
		},
		add : function (e, t) {
			if (null == e || null == t)
				throw new TypeError("LonLat.add cannot receive null values");
			return new OpenLayers.LonLat(this.lon + OpenLayers.Util.toFloat(e), this.lat + OpenLayers.Util.toFloat(t))
		},
		equals : function (e) {
			var t = !1;
			return null != e && (t = this.lon == e.lon && this.lat == e.lat || isNaN(this.lon) && isNaN(this.lat) && isNaN(e.lon) && isNaN(e.lat)),
			t
		},
		transform : function (e, t) {
			var n = OpenLayers.Projection.transform({
					x : this.lon,
					y : this.lat
				}, e, t);
			return this.lon = n.x,
			this.lat = n.y,
			this
		},
		wrapDateLine : function (e) {
			var t = this.clone();
			if (e) {
				for (; t.lon < e.left; )
					t.lon += e.getWidth();
				for (; t.lon > e.right; )
					t.lon -= e.getWidth()
			}
			return t
		},
		CLASS_NAME : "OpenLayers.LonLat"
	}), OpenLayers.LonLat.fromString = function (e) {
	return e = e.split(","),
	new OpenLayers.LonLat(e[0], e[1])
}, OpenLayers.LonLat.fromArray = function (e) {
	var t = OpenLayers.Util.isArray(e);
	return new OpenLayers.LonLat(t && e[0], t && e[1])
}, OpenLayers.Pixel = OpenLayers.Class({
		x : 0,
		y : 0,
		initialize : function (e, t) {
			this.x = parseFloat(e),
			this.y = parseFloat(t)
		},
		toString : function () {
			return "x=" + this.x + ",y=" + this.y
		},
		clone : function () {
			return new OpenLayers.Pixel(this.x, this.y)
		},
		equals : function (e) {
			var t = !1;
			return null != e && (t = this.x == e.x && this.y == e.y || isNaN(this.x) && isNaN(this.y) && isNaN(e.x) && isNaN(e.y)),
			t
		},
		distanceTo : function (e) {
			return Math.sqrt(Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2))
		},
		add : function (e, t) {
			if (null == e || null == t)
				throw new TypeError("Pixel.add cannot receive null values");
			return new OpenLayers.Pixel(this.x + e, this.y + t)
		},
		offset : function (e) {
			var t = this.clone();
			return e && (t = this.add(e.x, e.y)),
			t
		},
		CLASS_NAME : "OpenLayers.Pixel"
	}), OpenLayers.Size = OpenLayers.Class({
		w : 0,
		h : 0,
		initialize : function (e, t) {
			this.w = parseFloat(e),
			this.h = parseFloat(t)
		},
		toString : function () {
			return "w=" + this.w + ",h=" + this.h
		},
		clone : function () {
			return new OpenLayers.Size(this.w, this.h)
		},
		equals : function (e) {
			var t = !1;
			return null != e && (t = this.w == e.w && this.h == e.h || isNaN(this.w) && isNaN(this.h) && isNaN(e.w) && isNaN(e.h)),
			t
		},
		CLASS_NAME : "OpenLayers.Size"
	}), OpenLayers.Console = {
	log : function () {},
	debug : function () {},
	info : function () {},
	warn : function () {},
	error : function () {},
	userError : function (e) {
		alert(e)
	},
	assert : function () {},
	dir : function () {},
	dirxml : function () {},
	trace : function () {},
	group : function () {},
	groupEnd : function () {},
	time : function () {},
	timeEnd : function () {},
	profile : function () {},
	profileEnd : function () {},
	count : function () {},
	CLASS_NAME : "OpenLayers.Console"
}, function () {
	for (var e = document.getElementsByTagName("script"), t = 0, n = e.length; t < n; ++t)
		if (-1 != e[t].src.indexOf("firebug.js") && console) {
			OpenLayers.Util.extend(OpenLayers.Console, console);
			break
		}
}
(), OpenLayers.Lang = {
	code : null,
	defaultCode : "en",
	getCode : function () {
		return OpenLayers.Lang.code || OpenLayers.Lang.setCode(),
		OpenLayers.Lang.code
	},
	setCode : function (e) {
		var t;
		e || (e = "msie" == OpenLayers.BROWSER_NAME ? navigator.userLanguage : navigator.language),
		e = e.split("-"),
		e[0] = e[0].toLowerCase(),
		"object" == typeof OpenLayers.Lang[e[0]] && (t = e[0]);
		if (e[1]) {
			var n = e[0] + "-" + e[1].toUpperCase();
			"object" == typeof OpenLayers.Lang[n] && (t = n)
		}
		t || (OpenLayers.Console.warn("Failed to find OpenLayers.Lang." + e.join("-") + " dictionary, falling back to default language"), t = OpenLayers.Lang.defaultCode),
		OpenLayers.Lang.code = t
	},
	translate : function (e, t) {
		var n = OpenLayers.Lang[OpenLayers.Lang.getCode()];
		return (n = n && n[e]) || (n = e),
		t && (n = OpenLayers.String.format(n, t)),
		n
	}
}, OpenLayers.i18n = OpenLayers.Lang.translate, OpenLayers.Util = OpenLayers.Util || {}, OpenLayers.Util.getElement = function () {
	for (var e = [], t = 0, n = arguments.length; t < n; t++) {
		var r = arguments[t];
		"string" == typeof r && (r = document.getElementById(r));
		if (1 == arguments.length)
			return r;
		e.push(r)
	}
	return e
}, OpenLayers.Util.isElement = function (e) {
	return !!e && 1 === e.nodeType
}, OpenLayers.Util.isArray = function (e) {
	return "[object Array]" === Object.prototype.toString.call(e)
}, "undefined" == typeof window.$ && (window.$ = OpenLayers.Util.getElement), OpenLayers.Util.removeItem = function (e, t) {
	for (var n = e.length - 1; n >= 0; n--)
		e[n] == t && e.splice(n, 1);
	return e
}, OpenLayers.Util.indexOf = function (e, t) {
	if (typeof e.indexOf == "function")
		return e.indexOf(t);
	for (var n = 0, r = e.length; n < r; n++)
		if (e[n] == t)
			return n;
	return -1
}, OpenLayers.Util.modifyDOMElement = function (e, t, n, r, i, s, o, u) {
	t && (e.id = t),
	n && (e.style.left = n.x + "px", e.style.top = n.y + "px"),
	r && (e.style.width = r.w + "px", e.style.height = r.h + "px"),
	i && (e.style.position = i),
	s && (e.style.border = s),
	o && (e.style.overflow = o),
	parseFloat(u) >= 0 && parseFloat(u) < 1 ? (e.style.filter = "alpha(opacity=" + u * 100 + ")", e.style.opacity = u) : parseFloat(u) == 1 && (e.style.filter = "", e.style.opacity = "")
}, OpenLayers.Util.createDiv = function (e, t, n, r, i, s, o, u) {
	var a = document.createElement("div");
	return r && (a.style.backgroundImage = "url(" + r + ")"),
	e || (e = OpenLayers.Util.createUniqueID("OpenLayersDiv")),
	i || (i = "absolute"),
	OpenLayers.Util.modifyDOMElement(a, e, t, n, i, s, o, u),
	a
}, OpenLayers.Util.createImage = function (e, t, n, r, i, s, o, u) {
	var a = document.createElement("img");
	return e || (e = OpenLayers.Util.createUniqueID("OpenLayersDiv")),
	i || (i = "relative"),
	OpenLayers.Util.modifyDOMElement(a, e, t, n, i, s, null, o),
	u && (a.style.display = "none", t = function () {
		a.style.display = "",
		OpenLayers.Event.stopObservingElement(a)
	}, OpenLayers.Event.observe(a, "load", t), OpenLayers.Event.observe(a, "error", t)),
	a.style.alt = e,
	a.galleryImg = "no",
	r && (a.src = r),
	a
}, OpenLayers.IMAGE_RELOAD_ATTEMPTS = 0, OpenLayers.Util.alphaHackNeeded = null, OpenLayers.Util.alphaHack = function () {
	if (OpenLayers.Util.alphaHackNeeded == null) {
		var e = navigator.appVersion.split("MSIE"),
		e = parseFloat(e[1]),
		t = !1;
		try {
			t = !!document.body.filters
		} catch (n) {}

		OpenLayers.Util.alphaHackNeeded = t && e >= 5.5 && e < 7
	}
	return OpenLayers.Util.alphaHackNeeded
}, OpenLayers.Util.modifyAlphaImageDiv = function (e, t, n, r, i, s, o, u, a) {
	OpenLayers.Util.modifyDOMElement(e, t, n, r, s, null, null, a),
	t = e.childNodes[0],
	i && (t.src = i),
	OpenLayers.Util.modifyDOMElement(t, e.id + "_innerImage", null, r, "relative", o),
	OpenLayers.Util.alphaHack() && (e.style.display != "none" && (e.style.display = "inline-block"), u == null && (u = "scale"), e.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + t.src + "', sizingMethod='" + u + "')", parseFloat(e.style.opacity) >= 0 && parseFloat(e.style.opacity) < 1 && (e.style.filter = e.style.filter + (" alpha(opacity=" + e.style.opacity * 100 + ")")), t.style.filter = "alpha(opacity=0)")
}, OpenLayers.Util.createAlphaImageDiv = function (e, t, n, r, i, s, o, u, a) {
	var f = OpenLayers.Util.createDiv(),
	a = OpenLayers.Util.createImage(null, null, null, null, null, null, null, a);
	return a.className = "olAlphaImg",
	f.appendChild(a),
	OpenLayers.Util.modifyAlphaImageDiv(f, e, t, n, r, i, s, o, u),
	f
}, OpenLayers.Util.upperCaseObject = function (e) {
	var t = {},
	n;
	for (n in e)
		t[n.toUpperCase()] = e[n];
	return t
}, OpenLayers.Util.applyDefaults = function (e, t) {
	var e = e || {},
	n = typeof window.Event == "function" && t instanceof window.Event,
	r;
	for (r in t)
		if (e[r] === void 0 || !n && t.hasOwnProperty && t.hasOwnProperty(r) && !e.hasOwnProperty(r))
			e[r] = t[r];
	return !n && t && t.hasOwnProperty && t.hasOwnProperty("toString") && !e.hasOwnProperty("toString") && (e.toString = t.toString),
	e
}, OpenLayers.Util.getParameterString = function (e) {
	var t = [],
	n;
	for (n in e) {
		var r = e[n];
		if (r != null && typeof r != "function") {
			if (typeof r == "object" && r.constructor == Array) {
				for (var i = [], s, o = 0, u = r.length; o < u; o++)
					s = r[o], i.push(encodeURIComponent(s === null || s === void 0 ? "" : s));
				r = i.join(",")
			} else
				r = encodeURIComponent(r);
			t.push(encodeURIComponent(n) + "=" + r)
		}
	}
	return t.join("&")
}, OpenLayers.Util.urlAppend = function (e, t) {
	var n = e;
	if (t)
		var r = (e + " ").split(/[?&]/), n = n + (r.pop() === " " ? t : r.length ? "&" + t : "?" + t);
	return n
}, OpenLayers.Util.getImagesLocation = function () {
	return OpenLayers.ImgPath || OpenLayers._getScriptLocation() + "img/"
}, OpenLayers.Util.getImageLocation = function (e) {
	return OpenLayers.Util.getImagesLocation() + e
}, OpenLayers.Util.Try = function () {
	for (var e = null, t = 0, n = arguments.length; t < n; t++) {
		var r = arguments[t];
		try {
			e = r();
			break
		} catch (i) {}

	}
	return e
}, OpenLayers.Util.getXmlNodeValue = function (e) {
	var t = null;
	return OpenLayers.Util.Try(function () {
		t = e.text,
		t || (t = e.textContent),
		t || (t = e.firstChild.nodeValue)
	}, function () {
		t = e.textContent
	}),
	t
}, OpenLayers.Util.mouseLeft = function (e, t) {
	for (var n = e.relatedTarget ? e.relatedTarget : e.toElement; n != t && n != null; )
		n = n.parentNode;
	return n != t
}, OpenLayers.Util.DEFAULT_PRECISION = 14, OpenLayers.Util.toFloat = function (e, t) {
	return t == null && (t = OpenLayers.Util.DEFAULT_PRECISION),
	typeof e != "number" && (e = parseFloat(e)),
	t === 0 ? e : parseFloat(e.toPrecision(t))
}, OpenLayers.Util.rad = function (e) {
	return e * Math.PI / 180
}, OpenLayers.Util.deg = function (e) {
	return e * 180 / Math.PI
}, OpenLayers.Util.VincentyConstants = {
	a : 6378137,
	b : 6356752.3142,
	f : 1 / 298.257223563
}, OpenLayers.Util.distVincenty = function (e, t) {
	for (var n = OpenLayers.Util.VincentyConstants, r = n.a, i = n.b, n = n.f, s = OpenLayers.Util.rad(t.lon - e.lon), o = Math.atan((1 - n) * Math.tan(OpenLayers.Util.rad(e.lat))), u = Math.atan((1 - n) * Math.tan(OpenLayers.Util.rad(t.lat))), a = Math.sin(o), o = Math.cos(o), f = Math.sin(u), u = Math.cos(u), l = s, c = 2 * Math.PI, h = 20; Math.abs(l - c) > 1e-12 && --h > 0; ) {
		var p = Math.sin(l),
		d = Math.cos(l),
		v = Math.sqrt(u * p * u * p + (o * f - a * u * d) * (o * f - a * u * d));
		if (v == 0)
			return 0;
		var d = a * f + o * u * d,
		m = Math.atan2(v, d),
		g = Math.asin(o * u * p / v),
		y = Math.cos(g) * Math.cos(g),
		p = d - 2 * a * f / y,
		b = n / 16 * y * (4 + n * (4 - 3 * y)),
		c = l,
		l = s + (1 - b) * n * Math.sin(g) * (m + b * v * (p + b * d * (-1 + 2 * p * p)))
	}
	return h == 0 ? NaN : (r = y * (r * r - i * i) / (i * i), n = r / 1024 * (256 + r * (-128 + r * (74 - 47 * r))), (i * (1 + r / 16384 * (4096 + r * (-768 + r * (320 - 175 * r)))) * (m - n * v * (p + n / 4 * (d * (-1 + 2 * p * p) - n / 6 * p * (-3 + 4 * v * v) * (-3 + 4 * p * p))))).toFixed(3) / 1e3)
}, OpenLayers.Util.destinationVincenty = function (e, t, n) {
	for (var r = OpenLayers.Util, i = r.VincentyConstants, s = i.a, o = i.b, u = i.f, i = e.lon, e = e.lat, a = r.rad(t), t = Math.sin(a), a = Math.cos(a), e = (1 - u) * Math.tan(r.rad(e)), f = 1 / Math.sqrt(1 + e * e), l = e * f, c = Math.atan2(e, a), e = f * t, h = 1 - e * e, s = h * (s * s - o * o) / (o * o), p = 1 + s / 16384 * (4096 + s * (-768 + s * (320 - 175 * s))), d = s / 1024 * (256 + s * (-128 + s * (74 - 47 * s))), s = n / (o * p), v = 2 * Math.PI; Math.abs(s - v) > 1e-12; )
		var m = Math.cos(2 * c + s), g = Math.sin(s), y = Math.cos(s), b = d * g * (m + d / 4 * (y * (-1 + 2 * m * m) - d / 6 * m * (-3 + 4 * g * g) * (-3 + 4 * m * m))), v = s, s = n / (o * p) + b;
	return n = l * g - f * y * a,
	o = Math.atan2(l * y + f * g * a, (1 - u) * Math.sqrt(e * e + n * n)),
	t = Math.atan2(g * t, f * y - l * g * a),
	a = u / 16 * h * (4 + u * (4 - 3 * h)),
	m = t - (1 - a) * u * e * (s + a * g * (m + a * y * (-1 + 2 * m * m))),
	Math.atan2(e, -n),
	new OpenLayers.LonLat(i + r.deg(m), r.deg(o))
}, OpenLayers.Util.getParameters = function (e) {
	var e = e === null || e === void 0 ? window.location.href : e,
	t = "";
	if (OpenLayers.String.contains(e, "?"))
		var t = e.indexOf("?") + 1, n = OpenLayers.String.contains(e, "#") ? e.indexOf("#") : e.length, t = e.substring(t, n);
	for (var e = {}, t = t.split(/[&;]/), n = 0, r = t.length; n < r; ++n) {
		var i = t[n].split("=");
		if (i[0]) {
			var s = i[0];
			try {
				s = decodeURIComponent(s)
			} catch (o) {
				s = unescape(s)
			}
			i = (i[1] || "").replace(/\+/g, " ");
			try {
				i = decodeURIComponent(i)
			} catch (u) {
				i = unescape(i)
			}
			i = i.split(","),
			i.length == 1 && (i = i[0]),
			e[s] = i
		}
	}
	return e
}, OpenLayers.Util.lastSeqID = 0, OpenLayers.Util.createUniqueID = function (e) {
	return e == null && (e = "id_"),
	OpenLayers.Util.lastSeqID = OpenLayers.Util.lastSeqID + 1,
	e + OpenLayers.Util.lastSeqID
}, OpenLayers.INCHES_PER_UNIT = {
	inches : 1,
	ft : 12,
	mi : 63360,
	m : 39.3701,
	km : 39370.1,
	dd : 4374754,
	yd : 36
}, OpenLayers.INCHES_PER_UNIT["in"] = OpenLayers.INCHES_PER_UNIT.inches, OpenLayers.INCHES_PER_UNIT.degrees = OpenLayers.INCHES_PER_UNIT.dd, OpenLayers.INCHES_PER_UNIT.nmi = 1852 * OpenLayers.INCHES_PER_UNIT.m, OpenLayers.METERS_PER_INCH = .0254000508001016, OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT, {
	Inch : OpenLayers.INCHES_PER_UNIT.inches,
	Meter : 1 / OpenLayers.METERS_PER_INCH,
	Foot : .3048006096012192 / OpenLayers.METERS_PER_INCH,
	IFoot : .3048 / OpenLayers.METERS_PER_INCH,
	ClarkeFoot : .3047972651151 / OpenLayers.METERS_PER_INCH,
	SearsFoot : .30479947153867626 / OpenLayers.METERS_PER_INCH,
	GoldCoastFoot : .3047997101815088 / OpenLayers.METERS_PER_INCH,
	IInch : .0254 / OpenLayers.METERS_PER_INCH,
	MicroInch : 254e-7 / OpenLayers.METERS_PER_INCH,
	Mil : 2.54e-8 / OpenLayers.METERS_PER_INCH,
	Centimeter : .01 / OpenLayers.METERS_PER_INCH,
	Kilometer : 1e3 / OpenLayers.METERS_PER_INCH,
	Yard : .9144018288036576 / OpenLayers.METERS_PER_INCH,
	SearsYard : .914398414616029 / OpenLayers.METERS_PER_INCH,
	IndianYard : .9143985307444408 / OpenLayers.METERS_PER_INCH,
	IndianYd37 : .91439523 / OpenLayers.METERS_PER_INCH,
	IndianYd62 : .9143988 / OpenLayers.METERS_PER_INCH,
	IndianYd75 : .9143985 / OpenLayers.METERS_PER_INCH,
	IndianFoot : .30479951 / OpenLayers.METERS_PER_INCH,
	IndianFt37 : .30479841 / OpenLayers.METERS_PER_INCH,
	IndianFt62 : .3047996 / OpenLayers.METERS_PER_INCH,
	IndianFt75 : .3047995 / OpenLayers.METERS_PER_INCH,
	Mile : 1609.3472186944373 / OpenLayers.METERS_PER_INCH,
	IYard : .9144 / OpenLayers.METERS_PER_INCH,
	IMile : 1609.344 / OpenLayers.METERS_PER_INCH,
	NautM : 1852 / OpenLayers.METERS_PER_INCH,
	"Lat-66" : 110943.31648893273 / OpenLayers.METERS_PER_INCH,
	"Lat-83" : 110946.25736872235 / OpenLayers.METERS_PER_INCH,
	Decimeter : .1 / OpenLayers.METERS_PER_INCH,
	Millimeter : .001 / OpenLayers.METERS_PER_INCH,
	Dekameter : 10 / OpenLayers.METERS_PER_INCH,
	Decameter : 10 / OpenLayers.METERS_PER_INCH,
	Hectometer : 100 / OpenLayers.METERS_PER_INCH,
	GermanMeter : 1.0000135965 / OpenLayers.METERS_PER_INCH,
	CaGrid : .999738 / OpenLayers.METERS_PER_INCH,
	ClarkeChain : 20.1166194976 / OpenLayers.METERS_PER_INCH,
	GunterChain : 20.11684023368047 / OpenLayers.METERS_PER_INCH,
	BenoitChain : 20.116782494375872 / OpenLayers.METERS_PER_INCH,
	SearsChain : 20.11676512155 / OpenLayers.METERS_PER_INCH,
	ClarkeLink : .201166194976 / OpenLayers.METERS_PER_INCH,
	GunterLink : .2011684023368047 / OpenLayers.METERS_PER_INCH,
	BenoitLink : .20116782494375873 / OpenLayers.METERS_PER_INCH,
	SearsLink : .2011676512155 / OpenLayers.METERS_PER_INCH,
	Rod : 5.02921005842012 / OpenLayers.METERS_PER_INCH,
	IntnlChain : 20.1168 / OpenLayers.METERS_PER_INCH,
	IntnlLink : .201168 / OpenLayers.METERS_PER_INCH,
	Perch : 5.02921005842012 / OpenLayers.METERS_PER_INCH,
	Pole : 5.02921005842012 / OpenLayers.METERS_PER_INCH,
	Furlong : 201.1684023368046 / OpenLayers.METERS_PER_INCH,
	Rood : 3.778266898 / OpenLayers.METERS_PER_INCH,
	CapeFoot : .3047972615 / OpenLayers.METERS_PER_INCH,
	Brealey : 375 / OpenLayers.METERS_PER_INCH,
	ModAmFt : .304812252984506 / OpenLayers.METERS_PER_INCH,
	Fathom : 1.8288 / OpenLayers.METERS_PER_INCH,
	"NautM-UK" : 1853.184 / OpenLayers.METERS_PER_INCH,
	"50kilometers" : 5e4 / OpenLayers.METERS_PER_INCH,
	"150kilometers" : 15e4 / OpenLayers.METERS_PER_INCH
}), OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT, {
	mm : OpenLayers.INCHES_PER_UNIT.Meter / 1e3,
	cm : OpenLayers.INCHES_PER_UNIT.Meter / 100,
	dm : 100 * OpenLayers.INCHES_PER_UNIT.Meter,
	km : 1e3 * OpenLayers.INCHES_PER_UNIT.Meter,
	kmi : OpenLayers.INCHES_PER_UNIT.nmi,
	fath : OpenLayers.INCHES_PER_UNIT.Fathom,
	ch : OpenLayers.INCHES_PER_UNIT.IntnlChain,
	link : OpenLayers.INCHES_PER_UNIT.IntnlLink,
	"us-in" : OpenLayers.INCHES_PER_UNIT.inches,
	"us-ft" : OpenLayers.INCHES_PER_UNIT.Foot,
	"us-yd" : OpenLayers.INCHES_PER_UNIT.Yard,
	"us-ch" : OpenLayers.INCHES_PER_UNIT.GunterChain,
	"us-mi" : OpenLayers.INCHES_PER_UNIT.Mile,
	"ind-yd" : OpenLayers.INCHES_PER_UNIT.IndianYd37,
	"ind-ft" : OpenLayers.INCHES_PER_UNIT.IndianFt37,
	"ind-ch" : 20.11669506 / OpenLayers.METERS_PER_INCH
}), OpenLayers.DOTS_PER_INCH = 72, OpenLayers.Util.normalizeScale = function (e) {
	return e > 1 ? 1 / e : e
}, OpenLayers.Util.getResolutionFromScale = function (e, t) {
	var n;
	return e && (t == null && (t = "degrees"), n = 1 / (OpenLayers.Util.normalizeScale(e) * OpenLayers.INCHES_PER_UNIT[t] * OpenLayers.DOTS_PER_INCH)),
	n
}, OpenLayers.Util.getScaleFromResolution = function (e, t) {
	return t == null && (t = "degrees"),
	e * OpenLayers.INCHES_PER_UNIT[t] * OpenLayers.DOTS_PER_INCH
}, OpenLayers.Util.pagePosition = function (e) {
	var t = [0, 0],
	n = OpenLayers.Util.getViewportElement();
	if (!e || e == window || e == n)
		return t;
	var r = OpenLayers.IS_GECKO && document.getBoxObjectFor && OpenLayers.Element.getStyle(e, "position") == "absolute" && (e.style.top == "" || e.style.left == ""),
	i = null;
	if (e.getBoundingClientRect)
		e = e.getBoundingClientRect(), i = n.scrollTop, t[0] = e.left + n.scrollLeft, t[1] = e.top + i;
	else if (document.getBoxObjectFor && !r)
		e = document.getBoxObjectFor(e), n = document.getBoxObjectFor(n), t[0] = e.screenX - n.screenX, t[1] = e.screenY - n.screenY;
	else {
		t[0] = e.offsetLeft,
		t[1] = e.offsetTop,
		i = e.offsetParent;
		if (i != e)
			for (; i; )
				t[0] = t[0] + i.offsetLeft, t[1] = t[1] + i.offsetTop, i = i.offsetParent;
		n = OpenLayers.BROWSER_NAME;
		if (n == "opera" || n == "safari" && OpenLayers.Element.getStyle(e, "position") == "absolute")
			t[1] = t[1] - document.body.offsetTop;
		for (i = e.offsetParent; i && i != document.body; ) {
			t[0] = t[0] - i.scrollLeft;
			if (n != "opera" || i.tagName != "TR")
				t[1] = t[1] - i.scrollTop;
			i = i.offsetParent
		}
	}
	return t
}, OpenLayers.Util.getViewportElement = function () {
	var e = arguments.callee.viewportElement;
	return e == void 0 && (e = OpenLayers.BROWSER_NAME == "msie" && document.compatMode != "CSS1Compat" ? document.body : document.documentElement, arguments.callee.viewportElement = e),
	e
}, OpenLayers.Util.isEquivalentUrl = function (e, t, n) {
	n = n || {},
	OpenLayers.Util.applyDefaults(n, {
		ignoreCase : !0,
		ignorePort80 : !0,
		ignoreHash : !0
	});
	var e = OpenLayers.Util.createUrlObject(e, n),
	t = OpenLayers.Util.createUrlObject(t, n),
	r;
	for (r in e)
		if (r !== "args" && e[r] != t[r])
			return !1;
	for (r in e.args) {
		if (e.args[r] != t.args[r])
			return !1;
		delete t.args[r]
	}
	for (r in t.args)
		return !1;
	return !0
}, OpenLayers.Util.createUrlObject = function (e, t) {
	t = t || {};
	if (!/^\w+:\/\//.test(e)) {
		var n = window.location,
		r = n.port ? ":" + n.port : "",
		r = n.protocol + "//" + n.host.split(":").shift() + r;
		e.indexOf("/") === 0 ? e = r + e : (n = n.pathname.split("/"), n.pop(), e = r + n.join("/") + "/" + e)
	}
	t.ignoreCase && (e = e.toLowerCase()),
	n = document.createElement("a"),
	n.href = e,
	r = {},
	r.host = n.host.split(":").shift(),
	r.protocol = n.protocol,
	r.port = t.ignorePort80 ? n.port == "80" || n.port == "0" ? "" : n.port : n.port == "" || n.port == "0" ? "80" : n.port,
	r.hash = t.ignoreHash || n.hash === "#" ? "" : n.hash;
	var i = n.search;
	return i || (i = e.indexOf("?"), i = i != -1 ? e.substr(i) : ""),
	r.args = OpenLayers.Util.getParameters(i),
	r.pathname = n.pathname.charAt(0) == "/" ? n.pathname : "/" + n.pathname,
	r
}, OpenLayers.Util.removeTail = function (e) {
	var t = null,
	t = e.indexOf("?"),
	n = e.indexOf("#");
	return t = t == -1 ? n != -1 ? e.substr(0, n) : e : n != -1 ? e.substr(0, Math.min(t, n)) : e.substr(0, t)
}, OpenLayers.IS_GECKO = function () {
	var e = navigator.userAgent.toLowerCase();
	return e.indexOf("webkit") == -1 && e.indexOf("gecko") != -1
}
(), OpenLayers.CANVAS_SUPPORTED = function () {
	var e = document.createElement("canvas");
	return !!e.getContext && !!e.getContext("2d")
}
(), OpenLayers.BROWSER_NAME = function () {
	var e = "",
	t = navigator.userAgent.toLowerCase();
	return t.indexOf("opera") != -1 ? e = "opera" : t.indexOf("msie") != -1 ? e = "msie" : t.indexOf("safari") != -1 ? e = "safari" : t.indexOf("mozilla") != -1 && (e = t.indexOf("firefox") != -1 ? "firefox" : "mozilla"),
	e
}
(), OpenLayers.Util.getBrowserName = function () {
	return OpenLayers.BROWSER_NAME
}, OpenLayers.Util.getRenderedDimensions = function (e, t, n) {
	var r,
	i,
	s = document.createElement("div");
	s.style.visibility = "hidden";
	for (var o = n && n.containerElement ? n.containerElement : document.body, u = !1, a = null, f = o; f && f.tagName.toLowerCase() != "body"; ) {
		var l = OpenLayers.Element.getStyle(f, "position");
		if (l == "absolute") {
			u = !0;
			break
		}
		if (l && l != "static")
			break;
		f = f.parentNode
	}
	u && (o.clientHeight === 0 || o.clientWidth === 0) && (a = document.createElement("div"), a.style.visibility = "hidden", a.style.position = "absolute", a.style.overflow = "visible", a.style.width = document.body.clientWidth + "px", a.style.height = document.body.clientHeight + "px", a.appendChild(s)),
	s.style.position = "absolute",
	t && (t.w ? (r = t.w, s.style.width = r + "px") : t.h && (i = t.h, s.style.height = i + "px")),
	n && n.displayClass && (s.className = n.displayClass),
	t = document.createElement("div"),
	t.innerHTML = e,
	t.style.overflow = "visible";
	if (t.childNodes) {
		e = 0;
		for (n = t.childNodes.length; e < n; e++)
			t.childNodes[e].style && (t.childNodes[e].style.overflow = "visible")
	}
	return s.appendChild(t),
	a ? o.appendChild(a) : o.appendChild(s),
	r || (r = parseInt(t.scrollWidth), s.style.width = r + "px"),
	i || (i = parseInt(t.scrollHeight)),
	s.removeChild(t),
	a ? (a.removeChild(s), o.removeChild(a)) : o.removeChild(s),
	new OpenLayers.Size(r, i)
}, OpenLayers.Util.getScrollbarWidth = function () {
	var e = OpenLayers.Util._scrollbarWidth;
	if (e == null) {
		var t = null,
		n = null,
		t = e = 0,
		t = document.createElement("div");
		t.style.position = "absolute",
		t.style.top = "-1000px",
		t.style.left = "-1000px",
		t.style.width = "100px",
		t.style.height = "50px",
		t.style.overflow = "hidden",
		n = document.createElement("div"),
		n.style.width = "100%",
		n.style.height = "200px",
		t.appendChild(n),
		document.body.appendChild(t),
		e = n.offsetWidth,
		t.style.overflow = "scroll",
		t = n.offsetWidth,
		document.body.removeChild(document.body.lastChild),
		OpenLayers.Util._scrollbarWidth = e - t,
		e = OpenLayers.Util._scrollbarWidth
	}
	return e
}, OpenLayers.Util.getFormattedLonLat = function (e, t, n) {
	n || (n = "dms");
	var e = (e + 540) % 360 - 180,
	r = Math.abs(e),
	i = Math.floor(r),
	s = r = (r - i) / (1 / 60),
	r = Math.floor(r),
	s = Math.round((s - r) / (1 / 60) * 10),
	s = s / 10;
	return s >= 60 && (s -= 60, r += 1, r >= 60 && (r -= 60, i += 1)),
	i < 10 && (i = "0" + i),
	i += "°",
	n.indexOf("dm") >= 0 && (r < 10 && (r = "0" + r), i += r + "'", n.indexOf("dms") >= 0 && (s < 10 && (s = "0" + s), i += s + '"')),
	i = t == "lon" ? i + (e < 0 ? OpenLayers.i18n("W") : OpenLayers.i18n("E")) : i + (e < 0 ? OpenLayers.i18n("S") : OpenLayers.i18n("N"))
}, OpenLayers.Format = OpenLayers.Class({
		options : null,
		externalProjection : null,
		internalProjection : null,
		data : null,
		keepData : !1,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e),
			this.options = e
		},
		destroy : function () {},
		read : function () {
			throw Error("Read not implemented.")
		},
		write : function () {
			throw Error("Write not implemented.")
		},
		CLASS_NAME : "OpenLayers.Format"
	}), OpenLayers.Format.CSWGetRecords = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Format.CSWGetRecords.DEFAULTS),
	t = OpenLayers.Format.CSWGetRecords["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported CSWGetRecords version: " + e.version;
	return new t(e)
}, OpenLayers.Format.CSWGetRecords.DEFAULTS = {
	version : "2.0.2"
}, OpenLayers.Control = OpenLayers.Class({
		id : null,
		map : null,
		div : null,
		type : null,
		allowSelection : !1,
		displayClass : "",
		title : "",
		autoActivate : !1,
		active : null,
		handler : null,
		eventListeners : null,
		events : null,
		initialize : function (e) {
			this.displayClass = this.CLASS_NAME.replace("OpenLayers.", "ol").replace(/\./g, ""),
			OpenLayers.Util.extend(this, e),
			this.events = new OpenLayers.Events(this),
			this.eventListeners instanceof Object && this.events.on(this.eventListeners),
			null == this.id && (this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_"))
		},
		destroy : function () {
			this.events && (this.eventListeners && this.events.un(this.eventListeners), this.events.destroy(), this.events = null),
			this.eventListeners = null,
			this.handler && (this.handler.destroy(), this.handler = null);
			if (this.handlers) {
				for (var e in this.handlers)
					this.handlers.hasOwnProperty(e) && "function" == typeof this.handlers[e].destroy && this.handlers[e].destroy();
				this.handlers = null
			}
			this.map && (this.map.removeControl(this), this.map = null),
			this.div = null
		},
		setMap : function (e) {
			this.map = e,
			this.handler && this.handler.setMap(e)
		},
		draw : function (e) {
			return null == this.div && (this.div = OpenLayers.Util.createDiv(this.id), this.div.className = this.displayClass, this.allowSelection || (this.div.className += " olControlNoSelect", this.div.setAttribute("unselectable", "on", 0), this.div.onselectstart = OpenLayers.Function.False), "" != this.title) && (this.div.title = this.title),
			null != e && (this.position = e.clone()),
			this.moveTo(this.position),
			this.div
		},
		moveTo : function (e) {
			null != e && null != this.div && (this.div.style.left = e.x + "px", this.div.style.top = e.y + "px")
		},
		activate : function () {
			return this.active ? !1 : (this.handler && this.handler.activate(), this.active = !0, this.map && OpenLayers.Element.addClass(this.map.viewPortDiv, this.displayClass.replace(/ /g, "") + "Active"), this.events.triggerEvent("activate"), !0)
		},
		deactivate : function () {
			return this.active ? (this.handler && this.handler.deactivate(), this.active = !1, this.map && OpenLayers.Element.removeClass(this.map.viewPortDiv, this.displayClass.replace(/ /g, "") + "Active"), this.events.triggerEvent("deactivate"), !0) : !1
		},
		CLASS_NAME : "OpenLayers.Control"
	}), OpenLayers.Control.TYPE_BUTTON = 1, OpenLayers.Control.TYPE_TOGGLE = 2, OpenLayers.Control.TYPE_TOOL = 3, OpenLayers.Event = {
	observers : !1,
	KEY_SPACE : 32,
	KEY_BACKSPACE : 8,
	KEY_TAB : 9,
	KEY_RETURN : 13,
	KEY_ESC : 27,
	KEY_LEFT : 37,
	KEY_UP : 38,
	KEY_RIGHT : 39,
	KEY_DOWN : 40,
	KEY_DELETE : 46,
	element : function (e) {
		return e.target || e.srcElement
	},
	isSingleTouch : function (e) {
		return e.touches && 1 == e.touches.length
	},
	isMultiTouch : function (e) {
		return e.touches && 1 < e.touches.length
	},
	isLeftClick : function (e) {
		return e.which && 1 == e.which || e.button && 1 == e.button
	},
	isRightClick : function (e) {
		return e.which && 3 == e.which || e.button && 2 == e.button
	},
	stop : function (e, t) {
		t || (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
		e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
	},
	findElement : function (e, t) {
		for (var n = OpenLayers.Event.element(e); n.parentNode && (!n.tagName || n.tagName.toUpperCase() != t.toUpperCase()); )
			n = n.parentNode;
		return n
	},
	observe : function (e, t, n, r) {
		e = OpenLayers.Util.getElement(e),
		r = r || !1,
		"keypress" == t && (navigator.appVersion.match(/Konqueror|Safari|KHTML/) || e.attachEvent) && (t = "keydown"),
		this.observers || (this.observers = {});
		if (!e._eventCacheID) {
			var i = "eventCacheID_";
			e.id && (i = e.id + "_" + i),
			e._eventCacheID = OpenLayers.Util.createUniqueID(i)
		}
		i = e._eventCacheID,
		this.observers[i] || (this.observers[i] = []),
		this.observers[i].push({
			element : e,
			name : t,
			observer : n,
			useCapture : r
		}),
		e.addEventListener ? e.addEventListener(t, n, r) : e.attachEvent && e.attachEvent("on" + t, n)
	},
	stopObservingElement : function (e) {
		e = OpenLayers.Util.getElement(e)._eventCacheID,
		this._removeElementObservers(OpenLayers.Event.observers[e])
	},
	_removeElementObservers : function (e) {
		if (e)
			for (var t = e.length - 1; 0 <= t; t--) {
				var n = e[t];
				OpenLayers.Event.stopObserving.apply(this, [n.element, n.name, n.observer, n.useCapture])
			}
	},
	stopObserving : function (e, t, n, r) {
		var r = r || !1,
		e = OpenLayers.Util.getElement(e),
		i = e._eventCacheID;
		"keypress" == t && (navigator.appVersion.match(/Konqueror|Safari|KHTML/) || e.detachEvent) && (t = "keydown");
		var s = !1,
		o = OpenLayers.Event.observers[i];
		if (o)
			for (var u = 0; !s && u < o.length; ) {
				var a = o[u];
				if (a.name == t && a.observer == n && a.useCapture == r) {
					o.splice(u, 1),
					0 == o.length && delete OpenLayers.Event.observers[i],
					s = !0;
					break
				}
				u++
			}
		return s && (e.removeEventListener ? e.removeEventListener(t, n, r) : e && e.detachEvent && e.detachEvent("on" + t, n)),
		s
	},
	unloadCache : function () {
		if (OpenLayers.Event && OpenLayers.Event.observers) {
			for (var e in OpenLayers.Event.observers)
				OpenLayers.Event._removeElementObservers.apply(this, [OpenLayers.Event.observers[e]]);
			OpenLayers.Event.observers = !1
		}
	},
	CLASS_NAME : "OpenLayers.Event"
}, OpenLayers.Event.observe(window, "unload", OpenLayers.Event.unloadCache, !1), OpenLayers.Events = OpenLayers.Class({
		BROWSER_EVENTS : "mouseover mouseout mousedown mouseup mousemove click dblclick rightclick dblrightclick resize focus blur touchstart touchmove touchend keydown".split(" "),
		listeners : null,
		object : null,
		element : null,
		eventHandler : null,
		fallThrough : null,
		includeXY : !1,
		extensions : null,
		extensionCount : null,
		clearMouseListener : null,
		initialize : function (e, t, n, r, i) {
			OpenLayers.Util.extend(this, i),
			this.object = e,
			this.fallThrough = r,
			this.listeners = {},
			this.extensions = {},
			this.extensionCount = {},
			null != t && this.attachToElement(t)
		},
		destroy : function () {
			for (var e in this.extensions)
				"boolean" != typeof this.extensions[e] && this.extensions[e].destroy();
			this.extensions = null,
			this.element && (OpenLayers.Event.stopObservingElement(this.element), this.element.hasScrollEvent && OpenLayers.Event.stopObserving(window, "scroll", this.clearMouseListener)),
			this.eventHandler = this.fallThrough = this.object = this.listeners = this.element = null
		},
		addEventType : function () {},
		attachToElement : function (e) {
			this.element ? OpenLayers.Event.stopObservingElement(this.element) : (this.eventHandler = OpenLayers.Function.bindAsEventListener(this.handleBrowserEvent, this), this.clearMouseListener = OpenLayers.Function.bind(this.clearMouseCache, this)),
			this.element = e;
			for (var t = 0, n = this.BROWSER_EVENTS.length; t < n; t++)
				OpenLayers.Event.observe(e, this.BROWSER_EVENTS[t], this.eventHandler);
			OpenLayers.Event.observe(e, "dragstart", OpenLayers.Event.stop)
		},
		on : function (e) {
			for (var t in e)
				"scope" != t && e.hasOwnProperty(t) && this.register(t, e.scope, e[t])
		},
		register : function (e, t, n, r) {
			e in OpenLayers.Events && !this.extensions[e] && (this.extensions[e] = new OpenLayers.Events[e](this));
			if (null != n) {
				null == t && (t = this.object);
				var i = this.listeners[e];
				i || (i = [], this.listeners[e] = i, this.extensionCount[e] = 0),
				t = {
					obj : t,
					func : n
				},
				r ? (i.splice(this.extensionCount[e], 0, t), "object" == typeof r && r.extension && this.extensionCount[e]++) : i.push(t)
			}
		},
		registerPriority : function (e, t, n) {
			this.register(e, t, n, !0)
		},
		un : function (e) {
			for (var t in e)
				"scope" != t && e.hasOwnProperty(t) && this.unregister(t, e.scope, e[t])
		},
		unregister : function (e, t, n) {
			null == t && (t = this.object),
			e = this.listeners[e];
			if (null != e)
				for (var r = 0, i = e.length; r < i; r++)
					if (e[r].obj == t && e[r].func == n) {
						e.splice(r, 1);
						break
					}
		},
		remove : function (e) {
			null != this.listeners[e] && (this.listeners[e] = [])
		},
		triggerEvent : function (e, t) {
			var n = this.listeners[e];
			if (n && 0 != n.length) {
				null == t && (t = {}),
				t.object = this.object,
				t.element = this.element,
				t.type || (t.type = e);
				for (var n = n.slice(), r, i = 0, s = n.length; i < s && (r = n[i], r = r.func.apply(r.obj, [t]), void 0 == r || 0 != r); i++);
				return this.fallThrough || OpenLayers.Event.stop(t, !0),
				r
			}
		},
		handleBrowserEvent : function (e) {
			var t = e.type,
			n = this.listeners[t];
			if (n && 0 != n.length) {
				if ((n = e.touches) && n[0]) {
					for (var r = 0, i = 0, s = n.length, o, u = 0; u < s; ++u)
						o = n[u], r += o.clientX, i += o.clientY;
					e.clientX = r / s,
					e.clientY = i / s
				}
				this.includeXY && (e.xy = this.getMousePosition(e)),
				this.triggerEvent(t, e)
			}
		},
		clearMouseCache : function () {
			this.element.scrolls = null,
			this.element.lefttop = null;
			var e = document.body;
			e && (0 == e.scrollTop && 0 == e.scrollLeft || !navigator.userAgent.match(/iPhone/i)) && (this.element.offsets = null)
		},
		getMousePosition : function (e) {
			this.includeXY ? this.element.hasScrollEvent || (OpenLayers.Event.observe(window, "scroll", this.clearMouseListener), this.element.hasScrollEvent = !0) : this.clearMouseCache();
			if (!this.element.scrolls) {
				var t = OpenLayers.Util.getViewportElement();
				this.element.scrolls = [t.scrollLeft, t.scrollTop]
			}
			return this.element.lefttop || (this.element.lefttop = [document.documentElement.clientLeft || 0, document.documentElement.clientTop || 0]),
			this.element.offsets || (this.element.offsets = OpenLayers.Util.pagePosition(this.element)),
			new OpenLayers.Pixel(e.clientX + this.element.scrolls[0] - this.element.offsets[0] - this.element.lefttop[0], e.clientY + this.element.scrolls[1] - this.element.offsets[1] - this.element.lefttop[1])
		},
		CLASS_NAME : "OpenLayers.Events"
	}), OpenLayers.Events.buttonclick = OpenLayers.Class({
		target : null,
		events : "mousedown mouseup click dblclick touchstart touchmove touchend keydown".split(" "),
		startRegEx : /^mousedown|touchstart$/,
		cancelRegEx : /^touchmove$/,
		completeRegEx : /^mouseup|touchend$/,
		initialize : function (e) {
			this.target = e;
			for (e = this.events.length - 1; 0 <= e; --e)
				this.target.register(this.events[e], this, this.buttonClick, {
					extension : !0
				})
		},
		destroy : function () {
			for (var e = this.events.length - 1; 0 <= e; --e)
				this.target.unregister(this.events[e], this, this.buttonClick);
			delete this.target
		},
		getPressedButton : function (e) {
			var t = 3,
			n;
			do {
				if (OpenLayers.Element.hasClass(e, "olButton")) {
					n = e;
					break
				}
				e = e.parentNode
			} while (0 < --t && e);
			return n
		},
		buttonClick : function (e) {
			var t = !0,
			n = OpenLayers.Event.element(e);
			if (n && (OpenLayers.Event.isLeftClick(e) || !~e.type.indexOf("mouse")))
				if (n = this.getPressedButton(n)) {
					if ("keydown" === e.type)
						switch (e.keyCode) {
						case OpenLayers.Event.KEY_RETURN:
						case OpenLayers.Event.KEY_SPACE:
							this.target.triggerEvent("buttonclick", {
								buttonElement : n
							}),
							OpenLayers.Event.stop(e),
							t = !1
						}
					else
						this.startEvt && (this.completeRegEx.test(e.type) && (t = OpenLayers.Util.pagePosition(n), this.target.triggerEvent("buttonclick", {
									buttonElement : n,
									buttonXY : {
										x : this.startEvt.clientX - t[0],
										y : this.startEvt.clientY - t[1]
									}
								})), this.cancelRegEx.test(e.type) && delete this.startEvt, OpenLayers.Event.stop(e), t = !1);
					this.startRegEx.test(e.type) && (this.startEvt = e, OpenLayers.Event.stop(e), t = !1)
				} else
					delete this.startEvt;
			return t
		}
	}), OpenLayers.Control.OverviewMap = OpenLayers.Class(OpenLayers.Control, {
		element : null,
		ovmap : null,
		size : {
			w : 180,
			h : 90
		},
		layers : null,
		minRectSize : 15,
		minRectDisplayClass : "RectReplacement",
		minRatio : 8,
		maxRatio : 32,
		mapOptions : null,
		autoPan : !1,
		handlers : null,
		resolutionFactor : 1,
		maximized : !1,
		initialize : function (e) {
			this.layers = [],
			this.handlers = {},
			OpenLayers.Control.prototype.initialize.apply(this, [e])
		},
		destroy : function () {
			this.mapDiv && (this.handlers.click && this.handlers.click.destroy(), this.handlers.drag && this.handlers.drag.destroy(), this.ovmap && this.ovmap.viewPortDiv.removeChild(this.extentRectangle), this.extentRectangle = null, this.rectEvents && (this.rectEvents.destroy(), this.rectEvents = null), this.ovmap && (this.ovmap.destroy(), this.ovmap = null), this.element.removeChild(this.mapDiv), this.mapDiv = null, this.div.removeChild(this.element), this.element = null, this.maximizeDiv && (this.div.removeChild(this.maximizeDiv), this.maximizeDiv = null), this.minimizeDiv && (this.div.removeChild(this.minimizeDiv), this.minimizeDiv = null), this.map.events.un({
					buttonclick : this.onButtonClick,
					moveend : this.update,
					changebaselayer : this.baseLayerDraw,
					scope : this
				}), OpenLayers.Control.prototype.destroy.apply(this, arguments))
		},
		draw : function () {
			OpenLayers.Control.prototype.draw.apply(this, arguments);
			if (0 === this.layers.length) {
				if (!this.map.baseLayer)
					return this.map.events.register("changebaselayer", this, this.baseLayerDraw), this.div;
				this.layers = [this.map.baseLayer.clone()]
			}
			this.element = document.createElement("div"),
			this.element.className = this.displayClass + "Element",
			this.element.style.display = "none",
			this.mapDiv = document.createElement("div"),
			this.mapDiv.style.width = this.size.w + "px",
			this.mapDiv.style.height = this.size.h + "px",
			this.mapDiv.style.position = "relative",
			this.mapDiv.style.overflow = "hidden",
			this.mapDiv.id = OpenLayers.Util.createUniqueID("overviewMap"),
			this.extentRectangle = document.createElement("div"),
			this.extentRectangle.style.position = "absolute",
			this.extentRectangle.style.zIndex = 1e3,
			this.extentRectangle.className = this.displayClass + "ExtentRectangle",
			this.element.appendChild(this.mapDiv),
			this.div.appendChild(this.element);
			if (this.outsideViewport)
				this.element.style.display = "";
			else {
				this.div.className += " " + this.displayClass + "Container";
				var e = OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");
				this.maximizeDiv = OpenLayers.Util.createAlphaImageDiv(this.displayClass + "MaximizeButton", null, null, e, "absolute"),
				this.maximizeDiv.style.display = "none",
				this.maximizeDiv.className = this.displayClass + "MaximizeButton olButton",
				this.div.appendChild(this.maximizeDiv),
				e = OpenLayers.Util.getImageLocation("layer-switcher-minimize.png"),
				this.minimizeDiv = OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_minimizeDiv", null, null, e, "absolute"),
				this.minimizeDiv.style.display = "none",
				this.minimizeDiv.className = this.displayClass + "MinimizeButton olButton",
				this.div.appendChild(this.minimizeDiv),
				this.minimizeControl()
			}
			return this.map.getExtent() && this.update(),
			this.map.events.on({
				buttonclick : this.onButtonClick,
				moveend : this.update,
				scope : this
			}),
			this.maximized && this.maximizeControl(),
			this.div
		},
		baseLayerDraw : function () {
			this.draw(),
			this.map.events.unregister("changebaselayer", this, this.baseLayerDraw)
		},
		rectDrag : function (e) {
			var t = this.handlers.drag.last.x - e.x,
			n = this.handlers.drag.last.y - e.y;
			if (0 != t || 0 != n) {
				var r = this.rectPxBounds.top,
				i = this.rectPxBounds.left,
				e = Math.abs(this.rectPxBounds.getHeight()),
				s = this.rectPxBounds.getWidth(),
				n = Math.max(0, r - n),
				n = Math.min(n, this.ovmap.size.h - this.hComp - e),
				t = Math.max(0, i - t),
				t = Math.min(t, this.ovmap.size.w - this.wComp - s);
				this.setRectPxBounds(new OpenLayers.Bounds(t, n + e, t + s, n))
			}
		},
		mapDivClick : function (e) {
			var t = this.rectPxBounds.getCenterPixel(),
			n = e.xy.x - t.x,
			r = e.xy.y - t.y,
			i = this.rectPxBounds.top,
			s = this.rectPxBounds.left,
			e = Math.abs(this.rectPxBounds.getHeight()),
			t = this.rectPxBounds.getWidth(),
			r = Math.max(0, i + r),
			r = Math.min(r, this.ovmap.size.h - e),
			n = Math.max(0, s + n),
			n = Math.min(n, this.ovmap.size.w - t);
			this.setRectPxBounds(new OpenLayers.Bounds(n, r + e, n + t, r)),
			this.updateMapToRect()
		},
		onButtonClick : function (e) {
			e.buttonElement === this.minimizeDiv ? this.minimizeControl() : e.buttonElement === this.maximizeDiv && this.maximizeControl()
		},
		maximizeControl : function (e) {
			this.element.style.display = "",
			this.showToggle(!1),
			null != e && OpenLayers.Event.stop(e)
		},
		minimizeControl : function (e) {
			this.element.style.display = "none",
			this.showToggle(!0),
			null != e && OpenLayers.Event.stop(e)
		},
		showToggle : function (e) {
			this.maximizeDiv.style.display = e ? "" : "none",
			this.minimizeDiv.style.display = e ? "none" : ""
		},
		update : function () {
			null == this.ovmap && this.createMap(),
			(this.autoPan || !this.isSuitableOverview()) && this.updateOverview(),
			this.updateRectToMap()
		},
		isSuitableOverview : function () {
			var e = this.map.getExtent(),
			t = this.map.maxExtent,
			e = new OpenLayers.Bounds(Math.max(e.left, t.left), Math.max(e.bottom, t.bottom), Math.min(e.right, t.right), Math.min(e.top, t.top));
			return this.ovmap.getProjection() != this.map.getProjection() && (e = e.transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject())),
			t = this.ovmap.getResolution() / this.map.getResolution(),
			t > this.minRatio && t <= this.maxRatio && this.ovmap.getExtent().containsBounds(e)
		},
		updateOverview : function () {
			var e = this.map.getResolution(),
			t = this.ovmap.getResolution(),
			n = t / e;
			n > this.maxRatio ? t = this.minRatio * e : n <= this.minRatio && (t = this.maxRatio * e),
			this.ovmap.getProjection() != this.map.getProjection() ? (e = this.map.center.clone(), e.transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject())) : e = this.map.center,
			this.ovmap.setCenter(e, this.ovmap.getZoomForResolution(t * this.resolutionFactor)),
			this.updateRectToMap()
		},
		createMap : function () {
			var e = OpenLayers.Util.extend({
					controls : [],
					maxResolution : "auto",
					fallThrough : !1
				}, this.mapOptions);
			this.ovmap = new OpenLayers.Map(this.mapDiv, e),
			this.ovmap.viewPortDiv.appendChild(this.extentRectangle),
			OpenLayers.Event.stopObserving(window, "unload", this.ovmap.unloadDestroy),
			this.ovmap.addLayers(this.layers),
			this.ovmap.zoomToMaxExtent(),
			this.wComp = (this.wComp = parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-left-width")) + parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-right-width"))) ? this.wComp : 2,
			this.hComp = (this.hComp = parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-top-width")) + parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-bottom-width"))) ? this.hComp : 2,
			this.handlers.drag = new OpenLayers.Handler.Drag(this, {
					move : this.rectDrag,
					done : this.updateMapToRect
				}, {
					map : this.ovmap
				}),
			this.handlers.click = new OpenLayers.Handler.Click(this, {
					click : this.mapDivClick
				}, {
					single : !0,
					"double" : !1,
					stopSingle : !0,
					stopDouble : !0,
					pixelTolerance : 1,
					map : this.ovmap
				}),
			this.handlers.click.activate(),
			this.rectEvents = new OpenLayers.Events(this, this.extentRectangle, null, !0),
			this.rectEvents.register("mouseover", this, function () {
				!this.handlers.drag.active && !this.map.dragging && this.handlers.drag.activate()
			}),
			this.rectEvents.register("mouseout", this, function () {
				this.handlers.drag.dragging || this.handlers.drag.deactivate()
			});
			if (this.ovmap.getProjection() != this.map.getProjection()) {
				var e = this.map.getProjectionObject().getUnits() || this.map.units || this.map.baseLayer.units,
				t = this.ovmap.getProjectionObject().getUnits() || this.ovmap.units || this.ovmap.baseLayer.units;
				this.resolutionFactor = e && t ? OpenLayers.INCHES_PER_UNIT[e] / OpenLayers.INCHES_PER_UNIT[t] : 1
			}
		},
		updateRectToMap : function () {
			var e = this.getRectBoundsFromMapBounds(this.ovmap.getProjection() != this.map.getProjection() ? this.map.getExtent().transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject()) : this.map.getExtent());
			e && this.setRectPxBounds(e)
		},
		updateMapToRect : function () {
			var e = this.getMapBoundsFromRectBounds(this.rectPxBounds);
			this.ovmap.getProjection() != this.map.getProjection() && (e = e.transform(this.ovmap.getProjectionObject(), this.map.getProjectionObject())),
			this.map.panTo(e.getCenterLonLat())
		},
		setRectPxBounds : function (e) {
			var t = Math.max(e.top, 0),
			n = Math.max(e.left, 0),
			r = Math.min(e.top + Math.abs(e.getHeight()), this.ovmap.size.h - this.hComp),
			e = Math.min(e.left + e.getWidth(), this.ovmap.size.w - this.wComp),
			i = Math.max(e - n, 0),
			s = Math.max(r - t, 0);
			i < this.minRectSize || s < this.minRectSize ? (this.extentRectangle.className = this.displayClass + this.minRectDisplayClass, i = n + i / 2 - this.minRectSize / 2, this.extentRectangle.style.top = Math.round(t + s / 2 - this.minRectSize / 2) + "px", this.extentRectangle.style.left = Math.round(i) + "px", this.extentRectangle.style.height = this.minRectSize + "px", this.extentRectangle.style.width = this.minRectSize + "px") : (this.extentRectangle.className = this.displayClass + "ExtentRectangle", this.extentRectangle.style.top = Math.round(t) + "px", this.extentRectangle.style.left = Math.round(n) + "px", this.extentRectangle.style.height = Math.round(s) + "px", this.extentRectangle.style.width = Math.round(i) + "px"),
			this.rectPxBounds = new OpenLayers.Bounds(Math.round(n), Math.round(r), Math.round(e), Math.round(t))
		},
		getRectBoundsFromMapBounds : function (e) {
			var t = this.getOverviewPxFromLonLat({
					lon : e.left,
					lat : e.bottom
				}),
			e = this.getOverviewPxFromLonLat({
					lon : e.right,
					lat : e.top
				}),
			n = null;
			return t && e && (n = new OpenLayers.Bounds(t.x, t.y, e.x, e.y)),
			n
		},
		getMapBoundsFromRectBounds : function (e) {
			var t = this.getLonLatFromOverviewPx({
					x : e.left,
					y : e.bottom
				}),
			e = this.getLonLatFromOverviewPx({
					x : e.right,
					y : e.top
				});
			return new OpenLayers.Bounds(t.lon, t.lat, e.lon, e.lat)
		},
		getLonLatFromOverviewPx : function (e) {
			var t = this.ovmap.size,
			n = this.ovmap.getResolution(),
			r = this.ovmap.getExtent().getCenterLonLat();
			return {
				lon : r.lon + (e.x - t.w / 2) * n,
				lat : r.lat - (e.y - t.h / 2) * n
			}
		},
		getOverviewPxFromLonLat : function (e) {
			var t = this.ovmap.getResolution(),
			n = this.ovmap.getExtent();
			if (n)
				return {
					x : Math.round(1 / t * (e.lon - n.left)),
					y : Math.round(1 / t * (n.top - e.lat))
				}
		},
		CLASS_NAME : "OpenLayers.Control.OverviewMap"
	}), OpenLayers.Animation = function (e) {
	var t = !(!e.requestAnimationFrame && !e.webkitRequestAnimationFrame && !e.mozRequestAnimationFrame && !e.oRequestAnimationFrame && !e.msRequestAnimationFrame),
	n = function () {
		var t = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (t) {
			e.setTimeout(t, 16)
		};
		return function (n, r) {
			t.apply(e, [n, r])
		}
	}
	(),
	r = 0,
	i = {};
	return {
		isNative : t,
		requestFrame : n,
		start : function (e, t, s) {
			var t = 0 < t ? t : Number.POSITIVE_INFINITY,
			o = ++r,
			u =  + (new Date);
			return i[o] = function () {
				i[o] &&  + (new Date) - u <= t ? (e(), i[o] && n(i[o], s)) : delete i[o]
			},
			n(i[o], s),
			o
		},
		stop : function (e) {
			delete i[e]
		}
	}
}
(window), OpenLayers.Tween = OpenLayers.Class({
		easing : null,
		begin : null,
		finish : null,
		duration : null,
		callbacks : null,
		time : null,
		animationId : null,
		playing : !1,
		initialize : function (e) {
			this.easing = e ? e : OpenLayers.Easing.Expo.easeOut
		},
		start : function (e, t, n, r) {
			this.playing = !0,
			this.begin = e,
			this.finish = t,
			this.duration = n,
			this.callbacks = r.callbacks,
			this.time = 0,
			OpenLayers.Animation.stop(this.animationId),
			this.animationId = null,
			this.callbacks && this.callbacks.start && this.callbacks.start.call(this, this.begin),
			this.animationId = OpenLayers.Animation.start(OpenLayers.Function.bind(this.play, this))
		},
		stop : function () {
			this.playing && (this.callbacks && this.callbacks.done && this.callbacks.done.call(this, this.finish), OpenLayers.Animation.stop(this.animationId), this.animationId = null, this.playing = !1)
		},
		play : function () {
			var e = {},
			t;
			for (t in this.begin) {
				var n = this.begin[t],
				r = this.finish[t];
				if (null == n || null == r || isNaN(n) || isNaN(r))
					throw new TypeError("invalid value for Tween");
				e[t] = this.easing.apply(this, [this.time, n, r - n, this.duration])
			}
			this.time++,
			this.callbacks && this.callbacks.eachStep && this.callbacks.eachStep.call(this, e),
			this.time > this.duration && this.stop()
		},
		CLASS_NAME : "OpenLayers.Tween"
	}), OpenLayers.Easing = {
	CLASS_NAME : "OpenLayers.Easing"
}, OpenLayers.Easing.Linear = {
	easeIn : function (e, t, n, r) {
		return n * e / r + t
	},
	easeOut : function (e, t, n, r) {
		return n * e / r + t
	},
	easeInOut : function (e, t, n, r) {
		return n * e / r + t
	},
	CLASS_NAME : "OpenLayers.Easing.Linear"
}, OpenLayers.Easing.Expo = {
	easeIn : function (e, t, n, r) {
		return 0 == e ? t : n * Math.pow(2, 10 * (e / r - 1)) + t
	},
	easeOut : function (e, t, n, r) {
		return e == r ? t + n : n * (-Math.pow(2, -10 * e / r) + 1) + t
	},
	easeInOut : function (e, t, n, r) {
		return 0 == e ? t : e == r ? t + n : 1 > (e /= r / 2) ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : n / 2 * (-Math.pow(2, -10 * --e) + 2) + t
	},
	CLASS_NAME : "OpenLayers.Easing.Expo"
}, OpenLayers.Easing.Quad = {
	easeIn : function (e, t, n, r) {
		return n * (e /= r) * e + t
	},
	easeOut : function (e, t, n, r) {
		return -n * (e /= r) * (e - 2) + t
	},
	easeInOut : function (e, t, n, r) {
		return 1 > (e /= r / 2) ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t
	},
	CLASS_NAME : "OpenLayers.Easing.Quad"
}, OpenLayers.Projection = OpenLayers.Class({
		proj : null,
		projCode : null,
		titleRegEx : /\+title=[^\+]*/,
		initialize : function (e, t) {
			OpenLayers.Util.extend(this, t),
			this.projCode = e,
			window.Proj4js && (this.proj = new Proj4js.Proj(e))
		},
		getCode : function () {
			return this.proj ? this.proj.srsCode : this.projCode
		},
		getUnits : function () {
			return this.proj ? this.proj.units : null
		},
		toString : function () {
			return this.getCode()
		},
		equals : function (e) {
			var t = !1;
			return e && (e instanceof OpenLayers.Projection || (e = new OpenLayers.Projection(e)), window.Proj4js && this.proj.defData && e.proj.defData ? t = this.proj.defData.replace(this.titleRegEx, "") == e.proj.defData.replace(this.titleRegEx, "") : e.getCode && (t = this.getCode(), e = e.getCode(), t = t == e || !!OpenLayers.Projection.transforms[t] && OpenLayers.Projection.transforms[t][e] === OpenLayers.Projection.nullTransform)),
			t
		},
		destroy : function () {
			delete this.proj,
			delete this.projCode
		},
		CLASS_NAME : "OpenLayers.Projection"
	}), OpenLayers.Projection.transforms = {}, OpenLayers.Projection.defaults = {
	"EPSG:4326" : {
		units : "degrees",
		maxExtent : [-180, -90, 180, 90],
		yx : !0
	},
	"CRS:84" : {
		units : "degrees",
		maxExtent : [-180, -90, 180, 90]
	},
	"EPSG:900913" : {
		units : "m",
		maxExtent : [-20037508.34, -20037508.34, 20037508.34, 20037508.34]
	}
}, OpenLayers.Projection.addTransform = function (e, t, n) {
	if (n === OpenLayers.Projection.nullTransform) {
		var r = OpenLayers.Projection.defaults[e];
		r && !OpenLayers.Projection.defaults[t] && (OpenLayers.Projection.defaults[t] = r)
	}
	OpenLayers.Projection.transforms[e] || (OpenLayers.Projection.transforms[e] = {}),
	OpenLayers.Projection.transforms[e][t] = n
}, OpenLayers.Projection.transform = function (e, t, n) {
	if (t && n)
		if (t instanceof OpenLayers.Projection || (t = new OpenLayers.Projection(t)), n instanceof OpenLayers.Projection || (n = new OpenLayers.Projection(n)), t.proj && n.proj)
			e = Proj4js.transform(t.proj, n.proj, e);
		else {
			var t = t.getCode(),
			n = n.getCode(),
			r = OpenLayers.Projection.transforms;
			r[t] && r[t][n] && r[t][n](e)
		}
	return e
}, OpenLayers.Projection.nullTransform = function (e) {
	return e
}, function () {
	function e(e) {
		return e.x = 180 * e.x / r,
		e.y = 180 / Math.PI * (2 * Math.atan(Math.exp(e.y / r * Math.PI)) - Math.PI / 2),
		e
	}
	function t(e) {
		return e.x = e.x * r / 180,
		e.y = Math.log(Math.tan((90 + e.y) * Math.PI / 360)) / Math.PI * r,
		e
	}
	function n(n, r) {
		var i = OpenLayers.Projection.addTransform,
		s = OpenLayers.Projection.nullTransform,
		o,
		u,
		f,
		l,
		c;
		o = 0;
		for (u = r.length; o < u; ++o) {
			f = r[o],
			i(n, f, t),
			i(f, n, e);
			for (c = o + 1; c < u; ++c)
				l = r[c], i(f, l, s), i(l, f, s)
		}
	}
	var r = 20037508.34,
	i = ["EPSG:900913", "EPSG:3857", "EPSG:102113", "EPSG:102100"],
	s = ["CRS:84", "urn:ogc:def:crs:EPSG:6.6:4326", "EPSG:4326"],
	o;
	for (o = i.length - 1; 0 <= o; --o)
		n(i[o], s);
	for (o = s.length - 1; 0 <= o; --o)
		n(s[o], i)
}
(), OpenLayers.Map = OpenLayers.Class({
		Z_INDEX_BASE : {
			BaseLayer : 100,
			Overlay : 325,
			Feature : 725,
			Popup : 750,
			Control : 1e3
		},
		id : null,
		fractionalZoom : !1,
		events : null,
		allOverlays : !1,
		div : null,
		dragging : !1,
		size : null,
		viewPortDiv : null,
		layerContainerOrigin : null,
		layerContainerDiv : null,
		layers : null,
		controls : null,
		popups : null,
		baseLayer : null,
		center : null,
		resolution : null,
		zoom : 0,
		panRatio : 1.5,
		options : null,
		tileSize : null,
		projection : "EPSG:4326",
		units : null,
		resolutions : null,
		maxResolution : null,
		minResolution : null,
		maxScale : null,
		minScale : null,
		maxExtent : null,
		minExtent : null,
		restrictedExtent : null,
		numZoomLevels : 16,
		theme : null,
		displayProjection : null,
		fallThrough : !0,
		panTween : null,
		eventListeners : null,
		panMethod : OpenLayers.Easing.Expo.easeOut,
		panDuration : 50,
		paddingForPopups : null,
		minPx : null,
		maxPx : null,
		initialize : function (e, t) {
			1 === arguments.length && "object" == typeof e && (e = (t = e) && t.div),
			this.tileSize = new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH, OpenLayers.Map.TILE_HEIGHT),
			this.paddingForPopups = new OpenLayers.Bounds(15, 15, 15, 15),
			this.theme = OpenLayers._getScriptLocation() + "theme/default/style.css",
			this.options = OpenLayers.Util.extend({}, t),
			OpenLayers.Util.extend(this, t),
			OpenLayers.Util.applyDefaults(this, OpenLayers.Projection.defaults[this.projection instanceof OpenLayers.Projection ? this.projection.projCode : this.projection]),
			this.maxExtent && !(this.maxExtent instanceof OpenLayers.Bounds) && (this.maxExtent = new OpenLayers.Bounds(this.maxExtent)),
			this.minExtent && !(this.minExtent instanceof OpenLayers.Bounds) && (this.minExtent = new OpenLayers.Bounds(this.minExtent)),
			this.restrictedExtent && !(this.restrictedExtent instanceof OpenLayers.Bounds) && (this.restrictedExtent = new OpenLayers.Bounds(this.restrictedExtent)),
			this.center && !(this.center instanceof OpenLayers.LonLat) && (this.center = new OpenLayers.LonLat(this.center)),
			this.layers = [],
			this.id = OpenLayers.Util.createUniqueID("OpenLayers.Map_"),
			this.div = OpenLayers.Util.getElement(e),
			this.div || (this.div = document.createElement("div"), this.div.style.height = "1px", this.div.style.width = "1px"),
			OpenLayers.Element.addClass(this.div, "olMap");
			var n = this.id + "_OpenLayers_ViewPort";
			this.viewPortDiv = OpenLayers.Util.createDiv(n, null, null, null, "relative", null, "hidden"),
			this.viewPortDiv.style.width = "100%",
			this.viewPortDiv.style.height = "100%",
			this.viewPortDiv.className = "olMapViewport",
			this.div.appendChild(this.viewPortDiv),
			this.events = new OpenLayers.Events(this, this.viewPortDiv, null, this.fallThrough, {
					includeXY : !0
				}),
			n = this.id + "_OpenLayers_Container",
			this.layerContainerDiv = OpenLayers.Util.createDiv(n),
			this.layerContainerDiv.style.width = "100px",
			this.layerContainerDiv.style.height = "100px",
			this.layerContainerDiv.style.zIndex = this.Z_INDEX_BASE.Popup - 1,
			this.viewPortDiv.appendChild(this.layerContainerDiv),
			this.updateSize(),
			this.eventListeners instanceof Object && this.events.on(this.eventListeners),
			9 > parseFloat(navigator.appVersion.split("MSIE")[1]) ? this.events.register("resize", this, this.updateSize) : (this.updateSizeDestroy = OpenLayers.Function.bind(this.updateSize, this), OpenLayers.Event.observe(window, "resize", this.updateSizeDestroy));
			if (this.theme) {
				for (var n = !0, r = document.getElementsByTagName("link"), i = 0, s = r.length; i < s; ++i)
					if (OpenLayers.Util.isEquivalentUrl(r.item(i).href, this.theme)) {
						n = !1;
						break
					}
				n && (n = document.createElement("link"), n.setAttribute("rel", "stylesheet"), n.setAttribute("type", "text/css"), n.setAttribute("href", this.theme), document.getElementsByTagName("head")[0].appendChild(n))
			}
			null == this.controls && (this.controls = [], null != OpenLayers.Control && (OpenLayers.Control.Navigation ? this.controls.push(new OpenLayers.Control.Navigation) : OpenLayers.Control.TouchNavigation && this.controls.push(new OpenLayers.Control.TouchNavigation), OpenLayers.Control.Zoom ? this.controls.push(new OpenLayers.Control.Zoom) : OpenLayers.Control.PanZoom && this.controls.push(new OpenLayers.Control.PanZoom), OpenLayers.Control.ArgParser && this.controls.push(new OpenLayers.Control.ArgParser), OpenLayers.Control.Attribution && this.controls.push(new OpenLayers.Control.Attribution))),
			i = 0;
			for (s = this.controls.length; i < s; i++)
				this.addControlToMap(this.controls[i]);
			this.popups = [],
			this.unloadDestroy = OpenLayers.Function.bind(this.destroy, this),
			OpenLayers.Event.observe(window, "unload", this.unloadDestroy),
			t && t.layers && (delete this.center, this.addLayers(t.layers), t.center && !this.getCenter() && this.setCenter(t.center, t.zoom))
		},
		getViewport : function () {
			return this.viewPortDiv
		},
		render : function (e) {
			this.div = OpenLayers.Util.getElement(e),
			OpenLayers.Element.addClass(this.div, "olMap"),
			this.viewPortDiv.parentNode.removeChild(this.viewPortDiv),
			this.div.appendChild(this.viewPortDiv),
			this.updateSize()
		},
		unloadDestroy : null,
		updateSizeDestroy : null,
		destroy : function () {
			if (!this.unloadDestroy)
				return !1;
			this.panTween && (this.panTween.stop(), this.panTween = null),
			OpenLayers.Event.stopObserving(window, "unload", this.unloadDestroy),
			this.unloadDestroy = null,
			this.updateSizeDestroy ? OpenLayers.Event.stopObserving(window, "resize", this.updateSizeDestroy) : this.events.unregister("resize", this, this.updateSize),
			this.paddingForPopups = null;
			if (null != this.controls) {
				for (var e = this.controls.length - 1; 0 <= e; --e)
					this.controls[e].destroy();
				this.controls = null
			}
			if (null != this.layers) {
				for (e = this.layers.length - 1; 0 <= e; --e)
					this.layers[e].destroy(!1);
				this.layers = null
			}
			this.viewPortDiv && this.div.removeChild(this.viewPortDiv),
			this.viewPortDiv = null,
			this.eventListeners && (this.events.un(this.eventListeners), this.eventListeners = null),
			this.events.destroy(),
			this.options = this.events = null
		},
		setOptions : function (e) {
			var t = this.minPx && e.restrictedExtent != this.restrictedExtent;
			OpenLayers.Util.extend(this, e),
			t && this.moveTo(this.getCachedCenter(), this.zoom, {
				forceZoomChange : !0
			})
		},
		getTileSize : function () {
			return this.tileSize
		},
		getBy : function (e, t, n) {
			var r = "function" == typeof n.test;
			return OpenLayers.Array.filter(this[e], function (e) {
				return e[t] == n || r && n.test(e[t])
			})
		},
		getLayersBy : function (e, t) {
			return this.getBy("layers", e, t)
		},
		getLayersByName : function (e) {
			return this.getLayersBy("name", e)
		},
		getLayersByClass : function (e) {
			return this.getLayersBy("CLASS_NAME", e)
		},
		getControlsBy : function (e, t) {
			return this.getBy("controls", e, t)
		},
		getControlsByClass : function (e) {
			return this.getControlsBy("CLASS_NAME", e)
		},
		getLayer : function (e) {
			for (var t = null, n = 0, r = this.layers.length; n < r; n++) {
				var i = this.layers[n];
				if (i.id == e) {
					t = i;
					break
				}
			}
			return t
		},
		setLayerZIndex : function (e, t) {
			e.setZIndex(this.Z_INDEX_BASE[e.isBaseLayer ? "BaseLayer" : "Overlay"] + 5 * t)
		},
		resetLayersZIndex : function () {
			for (var e = 0, t = this.layers.length; e < t; e++)
				this.setLayerZIndex(this.layers[e], e)
		},
		addLayer : function (e) {
			for (var t = 0, n = this.layers.length; t < n; t++)
				if (this.layers[t] == e)
					return !1;
			return !1 === this.events.triggerEvent("preaddlayer", {
				layer : e
			}) ? !1 : (this.allOverlays && (e.isBaseLayer = !1), e.div.className = "olLayerDiv", e.div.style.overflow = "", this.setLayerZIndex(e, this.layers.length), e.isFixed ? this.viewPortDiv.appendChild(e.div) : this.layerContainerDiv.appendChild(e.div), this.layers.push(e), e.setMap(this), e.isBaseLayer || this.allOverlays && !this.baseLayer ? null == this.baseLayer ? this.setBaseLayer(e) : e.setVisibility(!1) : e.redraw(), this.events.triggerEvent("addlayer", {
					layer : e
				}), e.events.triggerEvent("added", {
					map : this,
					layer : e
				}), e.afterAdd(), !0)
		},
		addLayers : function (e) {
			for (var t = 0, n = e.length; t < n; t++)
				this.addLayer(e[t])
		},
		removeLayer : function (e, t) {
			if (!1 !== this.events.triggerEvent("preremovelayer", {
					layer : e
				})) {
				null == t && (t = !0),
				e.isFixed ? this.viewPortDiv.removeChild(e.div) : this.layerContainerDiv.removeChild(e.div),
				OpenLayers.Util.removeItem(this.layers, e),
				e.removeMap(this),
				e.map = null;
				if (this.baseLayer == e && (this.baseLayer = null, t))
					for (var n = 0, r = this.layers.length; n < r; n++) {
						var i = this.layers[n];
						if (i.isBaseLayer || this.allOverlays) {
							this.setBaseLayer(i);
							break
						}
					}
				this.resetLayersZIndex(),
				this.events.triggerEvent("removelayer", {
					layer : e
				}),
				e.events.triggerEvent("removed", {
					map : this,
					layer : e
				})
			}
		},
		getNumLayers : function () {
			return this.layers.length
		},
		getLayerIndex : function (e) {
			return OpenLayers.Util.indexOf(this.layers, e)
		},
		setLayerIndex : function (e, t) {
			var n = this.getLayerIndex(e);
			0 > t ? t = 0 : t > this.layers.length && (t = this.layers.length);
			if (n != t) {
				this.layers.splice(n, 1),
				this.layers.splice(t, 0, e);
				for (var n = 0, r = this.layers.length; n < r; n++)
					this.setLayerZIndex(this.layers[n], n);
				this.events.triggerEvent("changelayer", {
					layer : e,
					property : "order"
				}),
				this.allOverlays && (0 === t ? this.setBaseLayer(e) : this.baseLayer !== this.layers[0] && this.setBaseLayer(this.layers[0]))
			}
		},
		raiseLayer : function (e, t) {
			var n = this.getLayerIndex(e) + t;
			this.setLayerIndex(e, n)
		},
		setBaseLayer : function (e) {
			if (e != this.baseLayer && -1 != OpenLayers.Util.indexOf(this.layers, e)) {
				var t = this.getCachedCenter(),
				n = OpenLayers.Util.getResolutionFromScale(this.getScale(), e.units);
				null != this.baseLayer && !this.allOverlays && this.baseLayer.setVisibility(!1),
				this.baseLayer = e;
				if (!this.allOverlays || this.baseLayer.visibility)
					this.baseLayer.setVisibility(!0), !1 === this.baseLayer.inRange && this.baseLayer.redraw();
				null != t && (e = this.getZoomForResolution(n || this.resolution, !0), this.setCenter(t, e, !1, !0)),
				this.events.triggerEvent("changebaselayer", {
					layer : this.baseLayer
				})
			}
		},
		addControl : function (e, t) {
			this.controls.push(e),
			this.addControlToMap(e, t)
		},
		addControls : function (e, t) {
			for (var n = 1 === arguments.length ? [] : t, r = 0, i = e.length; r < i; r++)
				this.addControl(e[r], n[r] ? n[r] : null)
		},
		addControlToMap : function (e, t) {
			e.outsideViewport = null != e.div,
			this.displayProjection && !e.displayProjection && (e.displayProjection = this.displayProjection),
			e.setMap(this);
			var n = e.draw(t);
			n && !e.outsideViewport && (n.style.zIndex = this.Z_INDEX_BASE.Control + this.controls.length, this.viewPortDiv.appendChild(n)),
			e.autoActivate && e.activate()
		},
		getControl : function (e) {
			for (var t = null, n = 0, r = this.controls.length; n < r; n++) {
				var i = this.controls[n];
				if (i.id == e) {
					t = i;
					break
				}
			}
			return t
		},
		removeControl : function (e) {
			e && e == this.getControl(e.id) && (e.div && e.div.parentNode == this.viewPortDiv && this.viewPortDiv.removeChild(e.div), OpenLayers.Util.removeItem(this.controls, e))
		},
		addPopup : function (e, t) {
			if (t)
				for (var n = this.popups.length - 1; 0 <= n; --n)
					this.removePopup(this.popups[n]);
			e.map = this,
			this.popups.push(e);
			if (n = e.draw())
				n.style.zIndex = this.Z_INDEX_BASE.Popup + this.popups.length, this.layerContainerDiv.appendChild(n)
		},
		removePopup : function (e) {
			OpenLayers.Util.removeItem(this.popups, e);
			if (e.div)
				try {
					this.layerContainerDiv.removeChild(e.div)
				} catch (t) {}

			e.map = null
		},
		getSize : function () {
			var e = null;
			return null != this.size && (e = this.size.clone()),
			e
		},
		updateSize : function () {
			var e = this.getCurrentSize();
			if (e && !isNaN(e.h) && !isNaN(e.w)) {
				this.events.clearMouseCache();
				var t = this.getSize();
				null == t && (this.size = t = e);
				if (!e.equals(t)) {
					this.size = e,
					e = 0;
					for (t = this.layers.length; e < t; e++)
						this.layers[e].onMapResize();
					e = this.getCachedCenter(),
					null != this.baseLayer && null != e && (t = this.getZoom(), this.zoom = null, this.setCenter(e, t))
				}
			}
		},
		getCurrentSize : function () {
			var e = new OpenLayers.Size(this.div.clientWidth, this.div.clientHeight);
			if (0 == e.w && 0 == e.h || isNaN(e.w) && isNaN(e.h))
				e.w = this.div.offsetWidth, e.h = this.div.offsetHeight;
			if (0 == e.w && 0 == e.h || isNaN(e.w) && isNaN(e.h))
				e.w = parseInt(this.div.style.width), e.h = parseInt(this.div.style.height);
			return e
		},
		calculateBounds : function (e, t) {
			var n = null;
			null == e && (e = this.getCachedCenter()),
			null == t && (t = this.getResolution());
			if (null != e && null != t)
				var n = this.size.w * t / 2, r = this.size.h * t / 2, n = new OpenLayers.Bounds(e.lon - n, e.lat - r, e.lon + n, e.lat + r);
			return n
		},
		getCenter : function () {
			var e = null,
			t = this.getCachedCenter();
			return t && (e = t.clone()),
			e
		},
		getCachedCenter : function () {
			return !this.center && this.size && (this.center = this.getLonLatFromViewPortPx({
						x : this.size.w / 2,
						y : this.size.h / 2
					})),
			this.center
		},
		getZoom : function () {
			return this.zoom
		},
		pan : function (e, t, n) {
			n = OpenLayers.Util.applyDefaults(n, {
					animate : !0,
					dragging : !1
				});
			if (n.dragging)
				(0 != e || 0 != t) && this.moveByPx(e, t);
			else {
				var r = this.getViewPortPxFromLonLat(this.getCachedCenter()),
				e = r.add(e, t);
				if (this.dragging || !e.equals(r))
					r = this.getLonLatFromViewPortPx(e), n.animate ? this.panTo(r) : (this.moveTo(r), this.dragging && (this.dragging = !1, this.events.triggerEvent("moveend")))
			}
		},
		panTo : function (e) {
			if (this.panMethod && this.getExtent().scale(this.panRatio).containsLonLat(e)) {
				this.panTween || (this.panTween = new OpenLayers.Tween(this.panMethod));
				var t = this.getCachedCenter();
				if (!e.equals(t)) {
					var t = this.getPixelFromLonLat(t),
					n = this.getPixelFromLonLat(e),
					r = 0,
					i = 0;
					this.panTween.start({
						x : 0,
						y : 0
					}, {
						x : n.x - t.x,
						y : n.y - t.y
					}, this.panDuration, {
						callbacks : {
							eachStep : OpenLayers.Function.bind(function (e) {
								this.moveByPx(e.x - r, e.y - i),
								r = Math.round(e.x),
								i = Math.round(e.y)
							}, this),
							done : OpenLayers.Function.bind(function () {
								this.moveTo(e),
								this.dragging = !1,
								this.events.triggerEvent("moveend")
							}, this)
						}
					})
				}
			} else
				this.setCenter(e)
		},
		setCenter : function (e, t, n, r) {
			this.panTween && this.panTween.stop(),
			this.moveTo(e, t, {
				dragging : n,
				forceZoomChange : r
			})
		},
		moveByPx : function (e, t) {
			var n = this.size.w / 2,
			r = this.size.h / 2,
			i = n + e,
			s = r + t,
			o = this.baseLayer.wrapDateLine,
			u = 0,
			a = 0;
			this.restrictedExtent && (u = n, a = r, o = !1),
			e = o || i <= this.maxPx.x - u && i >= this.minPx.x + u ? Math.round(e) : 0,
			t = s <= this.maxPx.y - a && s >= this.minPx.y + a ? Math.round(t) : 0;
			if (e || t) {
				this.dragging || (this.dragging = !0, this.events.triggerEvent("movestart")),
				this.center = null,
				e && (this.layerContainerDiv.style.left = parseInt(this.layerContainerDiv.style.left) - e + "px", this.minPx.x -= e, this.maxPx.x -= e),
				t && (this.layerContainerDiv.style.top = parseInt(this.layerContainerDiv.style.top) - t + "px", this.minPx.y -= t, this.maxPx.y -= t),
				r = 0;
				for (i = this.layers.length; r < i; ++r)
					if (n = this.layers[r], n.visibility && (n === this.baseLayer || n.inRange))
						n.moveByPx(e, t), n.events.triggerEvent("move");
				this.events.triggerEvent("move")
			}
		},
		adjustZoom : function (e) {
			var t = this.baseLayer.resolutions,
			n = this.getMaxExtent().getWidth() / this.size.w;
			if (this.getResolutionForZoom(e) > n)
				for (var r = e | 0, i = t.length; r < i; ++r)
					if (t[r] <= n) {
						e = r;
						break
					}
			return e
		},
		moveTo : function (e, t, n) {
			null != e && !(e instanceof OpenLayers.LonLat) && (e = new OpenLayers.LonLat(e)),
			n || (n = {}),
			null != t && (t = parseFloat(t), this.fractionalZoom || (t = Math.round(t)));
			if (this.baseLayer.wrapDateLine) {
				var r = t,
				t = this.adjustZoom(t);
				t !== r && (e = this.getCenter())
			}
			var r = n.dragging || this.dragging,
			i = n.forceZoomChange;
			!this.getCachedCenter() && !this.isValidLonLat(e) && (e = this.maxExtent.getCenterLonLat(), this.center = e.clone());
			if (null != this.restrictedExtent) {
				null == e && (e = this.center),
				null == t && (t = this.getZoom());
				var s = this.getResolutionForZoom(t),
				s = this.calculateBounds(e, s);
				if (!this.restrictedExtent.containsBounds(s)) {
					var o = this.restrictedExtent.getCenterLonLat();
					s.getWidth() > this.restrictedExtent.getWidth() ? e = new OpenLayers.LonLat(o.lon, e.lat) : s.left < this.restrictedExtent.left ? e = e.add(this.restrictedExtent.left - s.left, 0) : s.right > this.restrictedExtent.right && (e = e.add(this.restrictedExtent.right - s.right, 0)),
					s.getHeight() > this.restrictedExtent.getHeight() ? e = new OpenLayers.LonLat(e.lon, o.lat) : s.bottom < this.restrictedExtent.bottom ? e = e.add(0, this.restrictedExtent.bottom - s.bottom) : s.top > this.restrictedExtent.top && (e = e.add(0, this.restrictedExtent.top - s.top))
				}
			}
			i = i || this.isValidZoomLevel(t) && t != this.getZoom(),
			s = this.isValidLonLat(e) && !e.equals(this.center);
			if (i || s || r) {
				r || this.events.triggerEvent("movestart"),
				s && (!i && this.center && this.centerLayerContainer(e), this.center = e.clone()),
				e = i ? this.getResolutionForZoom(t) : this.getResolution();
				if (i || null == this.layerContainerOrigin) {
					this.layerContainerOrigin = this.getCachedCenter(),
					this.layerContainerDiv.style.left = "0px",
					this.layerContainerDiv.style.top = "0px";
					var s = this.getMaxExtent({
							restricted : !0
						}),
					u = s.getCenterLonLat(),
					o = this.center.lon - u.lon,
					u = u.lat - this.center.lat,
					a = Math.round(s.getWidth() / e),
					f = Math.round(s.getHeight() / e);
					this.minPx = {
						x : (this.size.w - a) / 2 - o / e,
						y : (this.size.h - f) / 2 - u / e
					},
					this.maxPx = {
						x : this.minPx.x + Math.round(s.getWidth() / e),
						y : this.minPx.y + Math.round(s.getHeight() / e)
					}
				}
				i && (this.zoom = t, this.resolution = e),
				e = this.getExtent(),
				this.baseLayer.visibility && (this.baseLayer.moveTo(e, i, n.dragging), n.dragging || this.baseLayer.events.triggerEvent("moveend", {
						zoomChanged : i
					})),
				e = this.baseLayer.getExtent();
				for (t = this.layers.length - 1; 0 <= t; --t)
					if (s = this.layers[t], s !== this.baseLayer && !s.isBaseLayer && (o = s.calculateInRange(), s.inRange != o && ((s.inRange = o) || s.display(!1), this.events.triggerEvent("changelayer", {
									layer : s,
									property : "visibility"
								})), o && s.visibility))
						s.moveTo(e, i, n.dragging), n.dragging || s.events.triggerEvent("moveend", {
							zoomChanged : i
						});
				this.events.triggerEvent("move"),
				r || this.events.triggerEvent("moveend");
				if (i) {
					t = 0;
					for (n = this.popups.length; t < n; t++)
						this.popups[t].updatePosition();
					this.events.triggerEvent("zoomend")
				}
			}
		},
		centerLayerContainer : function (e) {
			var t = this.getViewPortPxFromLonLat(this.layerContainerOrigin),
			n = this.getViewPortPxFromLonLat(e);
			if (null != t && null != n) {
				var r = parseInt(this.layerContainerDiv.style.left),
				e = parseInt(this.layerContainerDiv.style.top),
				i = Math.round(t.x - n.x),
				t = Math.round(t.y - n.y);
				this.layerContainerDiv.style.left = i + "px",
				this.layerContainerDiv.style.top = t + "px",
				r -= i,
				e -= t,
				this.minPx.x -= r,
				this.maxPx.x -= r,
				this.minPx.y -= e,
				this.maxPx.y -= e
			}
		},
		isValidZoomLevel : function (e) {
			return null != e && 0 <= e && e < this.getNumZoomLevels()
		},
		isValidLonLat : function (e) {
			var t = !1;
			return null != e && (t = this.getMaxExtent(), t = t.containsLonLat(e, {
						worldBounds : this.baseLayer.wrapDateLine && t
					})),
			t
		},
		getProjection : function () {
			var e = this.getProjectionObject();
			return e ? e.getCode() : null
		},
		getProjectionObject : function () {
			var e = null;
			return null != this.baseLayer && (e = this.baseLayer.projection),
			e
		},
		getMaxResolution : function () {
			var e = null;
			return null != this.baseLayer && (e = this.baseLayer.maxResolution),
			e
		},
		getMaxExtent : function (e) {
			var t = null;
			return e && e.restricted && this.restrictedExtent ? t = this.restrictedExtent : null != this.baseLayer && (t = this.baseLayer.maxExtent),
			t
		},
		getNumZoomLevels : function () {
			var e = null;
			return null != this.baseLayer && (e = this.baseLayer.numZoomLevels),
			e
		},
		getExtent : function () {
			var e = null;
			return null != this.baseLayer && (e = this.baseLayer.getExtent()),
			e
		},
		getResolution : function () {
			var e = null;
			return null != this.baseLayer ? e = this.baseLayer.getResolution() : !0 === this.allOverlays && 0 < this.layers.length && (e = this.layers[0].getResolution()),
			e
		},
		getUnits : function () {
			var e = null;
			return null != this.baseLayer && (e = this.baseLayer.units),
			e
		},
		getScale : function () {
			var e = null;
			return null != this.baseLayer && (e = this.getResolution(), e = OpenLayers.Util.getScaleFromResolution(e, this.baseLayer.units)),
			e
		},
		getZoomForExtent : function (e, t) {
			var n = null;
			return null != this.baseLayer && (n = this.baseLayer.getZoomForExtent(e, t)),
			n
		},
		getResolutionForZoom : function (e) {
			var t = null;
			return this.baseLayer && (t = this.baseLayer.getResolutionForZoom(e)),
			t
		},
		getZoomForResolution : function (e, t) {
			var n = null;
			return null != this.baseLayer && (n = this.baseLayer.getZoomForResolution(e, t)),
			n
		},
		zoomTo : function (e) {
			this.isValidZoomLevel(e) && this.setCenter(null, e)
		},
		zoomIn : function () {
			this.zoomTo(this.getZoom() + 1)
		},
		zoomOut : function () {
			this.zoomTo(this.getZoom() - 1)
		},
		zoomToExtent : function (e, t) {
			e instanceof OpenLayers.Bounds || (e = new OpenLayers.Bounds(e));
			var n = e.getCenterLonLat();
			if (this.baseLayer.wrapDateLine) {
				n = this.getMaxExtent();
				for (e = e.clone(); e.right < e.left; )
					e.right += n.getWidth();
				n = e.getCenterLonLat().wrapDateLine(n)
			}
			this.setCenter(n, this.getZoomForExtent(e, t))
		},
		zoomToMaxExtent : function (e) {
			this.zoomToExtent(this.getMaxExtent({
					restricted : e ? e.restricted : !0
				}))
		},
		zoomToScale : function (e, t) {
			var n = OpenLayers.Util.getResolutionFromScale(e, this.baseLayer.units),
			r = this.size.w * n / 2,
			n = this.size.h * n / 2,
			i = this.getCachedCenter();
			this.zoomToExtent(new OpenLayers.Bounds(i.lon - r, i.lat - n, i.lon + r, i.lat + n), t)
		},
		getLonLatFromViewPortPx : function (e) {
			var t = null;
			return null != this.baseLayer && (t = this.baseLayer.getLonLatFromViewPortPx(e)),
			t
		},
		getViewPortPxFromLonLat : function (e) {
			var t = null;
			return null != this.baseLayer && (t = this.baseLayer.getViewPortPxFromLonLat(e)),
			t
		},
		getLonLatFromPixel : function (e) {
			return this.getLonLatFromViewPortPx(e)
		},
		getPixelFromLonLat : function (e) {
			return e = this.getViewPortPxFromLonLat(e),
			e.x = Math.round(e.x),
			e.y = Math.round(e.y),
			e
		},
		getGeodesicPixelSize : function (e) {
			var t = e ? this.getLonLatFromPixel(e) : this.getCachedCenter() || new OpenLayers.LonLat(0, 0),
			n = this.getResolution(),
			e = t.add(-n / 2, 0),
			r = t.add(n / 2, 0),
			i = t.add(0, -n / 2),
			t = t.add(0, n / 2),
			n = new OpenLayers.Projection("EPSG:4326"),
			s = this.getProjectionObject() || n;
			return s.equals(n) || (e.transform(s, n), r.transform(s, n), i.transform(s, n), t.transform(s, n)),
			new OpenLayers.Size(OpenLayers.Util.distVincenty(e, r), OpenLayers.Util.distVincenty(i, t))
		},
		getViewPortPxFromLayerPx : function (e) {
			var t = null;
			if (null != e)
				var t = parseInt(this.layerContainerDiv.style.left), n = parseInt(this.layerContainerDiv.style.top), t = e.add(t, n);
			return t
		},
		getLayerPxFromViewPortPx : function (e) {
			var t = null;
			if (null != e) {
				var t = -parseInt(this.layerContainerDiv.style.left),
				n = -parseInt(this.layerContainerDiv.style.top),
				t = e.add(t, n);
				if (isNaN(t.x) || isNaN(t.y))
					t = null
			}
			return t
		},
		getLonLatFromLayerPx : function (e) {
			return e = this.getViewPortPxFromLayerPx(e),
			this.getLonLatFromViewPortPx(e)
		},
		getLayerPxFromLonLat : function (e) {
			return this.getLayerPxFromViewPortPx(this.getPixelFromLonLat(e))
		},
		CLASS_NAME : "OpenLayers.Map"
	}), OpenLayers.Map.TILE_WIDTH = 256, OpenLayers.Map.TILE_HEIGHT = 256, OpenLayers.Layer = OpenLayers.Class({
		id : null,
		name : null,
		div : null,
		opacity : 1,
		alwaysInRange : null,
		RESOLUTION_PROPERTIES : "scales resolutions maxScale minScale maxResolution minResolution numZoomLevels maxZoomLevel".split(" "),
		events : null,
		map : null,
		isBaseLayer : !1,
		alpha : !1,
		displayInLayerSwitcher : !0,
		visibility : !0,
		attribution : null,
		inRange : !1,
		imageSize : null,
		options : null,
		eventListeners : null,
		gutter : 0,
		projection : null,
		units : null,
		scales : null,
		resolutions : null,
		maxExtent : null,
		minExtent : null,
		maxResolution : null,
		minResolution : null,
		numZoomLevels : null,
		minScale : null,
		maxScale : null,
		displayOutsideMaxExtent : !1,
		wrapDateLine : !1,
		metadata : null,
		initialize : function (e, t) {
			this.metadata = {},
			this.addOptions(t),
			this.name = e,
			null == this.id && (this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_"), this.div = OpenLayers.Util.createDiv(this.id), this.div.style.width = "100%", this.div.style.height = "100%", this.div.dir = "ltr", this.events = new OpenLayers.Events(this, this.div), this.eventListeners instanceof Object) && this.events.on(this.eventListeners)
		},
		destroy : function (e) {
			null == e && (e = !0),
			null != this.map && this.map.removeLayer(this, e),
			this.options = this.div = this.name = this.map = this.projection = null,
			this.events && (this.eventListeners && this.events.un(this.eventListeners), this.events.destroy()),
			this.events = this.eventListeners = null
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer(this.name, this.getOptions())),
			OpenLayers.Util.applyDefaults(e, this),
			e.map = null,
			e
		},
		getOptions : function () {
			var e = {},
			t;
			for (t in this.options)
				e[t] = this[t];
			return e
		},
		setName : function (e) {
			e != this.name && (this.name = e, null != this.map && this.map.events.triggerEvent("changelayer", {
					layer : this,
					property : "name"
				}))
		},
		addOptions : function (e, t) {
			null == this.options && (this.options = {}),
			e && ("string" == typeof e.projection && (e.projection = new OpenLayers.Projection(e.projection)), e.projection && OpenLayers.Util.applyDefaults(e, OpenLayers.Projection.defaults[e.projection.getCode()]), e.maxExtent && !(e.maxExtent instanceof OpenLayers.Bounds) && (e.maxExtent = new OpenLayers.Bounds(e.maxExtent)), e.minExtent && !(e.minExtent instanceof OpenLayers.Bounds)) && (e.minExtent = new OpenLayers.Bounds(e.minExtent)),
			OpenLayers.Util.extend(this.options, e),
			OpenLayers.Util.extend(this, e),
			this.projection && this.projection.getUnits() && (this.units = this.projection.getUnits());
			if (this.map) {
				var n = this.map.getResolution(),
				r = this.RESOLUTION_PROPERTIES.concat(["projection", "units", "minExtent", "maxExtent"]),
				i;
				for (i in e)
					if (e.hasOwnProperty(i) && 0 <= OpenLayers.Util.indexOf(r, i)) {
						this.initResolutions(),
						t && this.map.baseLayer === this && (this.map.setCenter(this.map.getCenter(), this.map.getZoomForResolution(n), !1, !0), this.map.events.triggerEvent("changebaselayer", {
								layer : this
							}));
						break
					}
			}
		},
		onMapResize : function () {},
		redraw : function () {
			var e = !1;
			if (this.map) {
				this.inRange = this.calculateInRange();
				var t = this.getExtent();
				t && this.inRange && this.visibility && (this.moveTo(t, !0, !1), this.events.triggerEvent("moveend", {
						zoomChanged : !0
					}), e = !0)
			}
			return e
		},
		moveTo : function () {
			var e = this.visibility;
			this.isBaseLayer || (e = e && this.inRange),
			this.display(e)
		},
		moveByPx : function () {},
		setMap : function (e) {
			null == this.map && (this.map = e, this.maxExtent = this.maxExtent || this.map.maxExtent, this.minExtent = this.minExtent || this.map.minExtent, this.projection = this.projection || this.map.projection, "string" == typeof this.projection && (this.projection = new OpenLayers.Projection(this.projection)), this.units = this.projection.getUnits() || this.units || this.map.units, this.initResolutions(), this.isBaseLayer || (this.inRange = this.calculateInRange(), this.div.style.display = this.visibility && this.inRange ? "" : "none"), this.setTileSize())
		},
		afterAdd : function () {},
		removeMap : function () {},
		getImageSize : function () {
			return this.imageSize || this.tileSize
		},
		setTileSize : function (e) {
			this.tileSize = e = e ? e : this.tileSize ? this.tileSize : this.map.getTileSize(),
			this.gutter && (this.imageSize = new OpenLayers.Size(e.w + 2 * this.gutter, e.h + 2 * this.gutter))
		},
		getVisibility : function () {
			return this.visibility
		},
		setVisibility : function (e) {
			e != this.visibility && (this.visibility = e, this.display(e), this.redraw(), null != this.map && this.map.events.triggerEvent("changelayer", {
					layer : this,
					property : "visibility"
				}), this.events.triggerEvent("visibilitychanged"))
		},
		display : function (e) {
			e != ("none" != this.div.style.display) && (this.div.style.display = e && this.calculateInRange() ? "block" : "none")
		},
		calculateInRange : function () {
			var e = !1;
			return this.alwaysInRange ? e = !0 : this.map && (e = this.map.getResolution(), e = e >= this.minResolution && e <= this.maxResolution),
			e
		},
		setIsBaseLayer : function (e) {
			e != this.isBaseLayer && (this.isBaseLayer = e, null != this.map && this.map.events.triggerEvent("changebaselayer", {
					layer : this
				}))
		},
		initResolutions : function () {
			var e,
			t,
			n,
			r = {},
			i = !0;
			e = 0;
			for (t = this.RESOLUTION_PROPERTIES.length; e < t; e++)
				n = this.RESOLUTION_PROPERTIES[e], r[n] = this.options[n], i && this.options[n] && (i = !1);
			null == this.alwaysInRange && (this.alwaysInRange = i),
			null == r.resolutions && (r.resolutions = this.resolutionsFromScales(r.scales)),
			null == r.resolutions && (r.resolutions = this.calculateResolutions(r));
			if (null == r.resolutions) {
				e = 0;
				for (t = this.RESOLUTION_PROPERTIES.length; e < t; e++)
					n = this.RESOLUTION_PROPERTIES[e], r[n] = null != this.options[n] ? this.options[n] : this.map[n];
				null == r.resolutions && (r.resolutions = this.resolutionsFromScales(r.scales)),
				null == r.resolutions && (r.resolutions = this.calculateResolutions(r))
			}
			var s;
			this.options.maxResolution && "auto" !== this.options.maxResolution && (s = this.options.maxResolution),
			this.options.minScale && (s = OpenLayers.Util.getResolutionFromScale(this.options.minScale, this.units));
			var o;
			this.options.minResolution && "auto" !== this.options.minResolution && (o = this.options.minResolution),
			this.options.maxScale && (o = OpenLayers.Util.getResolutionFromScale(this.options.maxScale, this.units)),
			r.resolutions && (r.resolutions.sort(function (e, t) {
					return t - e
				}), s || (s = r.resolutions[0]), o || (o = r.resolutions[r.resolutions.length - 1]));
			if (this.resolutions = r.resolutions) {
				t = this.resolutions.length,
				this.scales = Array(t);
				for (e = 0; e < t; e++)
					this.scales[e] = OpenLayers.Util.getScaleFromResolution(this.resolutions[e], this.units);
				this.numZoomLevels = t
			}
			if (this.minResolution = o)
				this.maxScale = OpenLayers.Util.getScaleFromResolution(o, this.units);
			if (this.maxResolution = s)
				this.minScale = OpenLayers.Util.getScaleFromResolution(s, this.units)
		},
		resolutionsFromScales : function (e) {
			if (null != e) {
				var t,
				n,
				r;
				r = e.length,
				t = Array(r);
				for (n = 0; n < r; n++)
					t[n] = OpenLayers.Util.getResolutionFromScale(e[n], this.units);
				return t
			}
		},
		calculateResolutions : function (e) {
			var t,
			n,
			r = e.maxResolution;
			null != e.minScale ? r = OpenLayers.Util.getResolutionFromScale(e.minScale, this.units) : "auto" == r && null != this.maxExtent && (t = this.map.getSize(), n = this.maxExtent.getWidth() / t.w, t = this.maxExtent.getHeight() / t.h, r = Math.max(n, t)),
			n = e.minResolution,
			null != e.maxScale ? n = OpenLayers.Util.getResolutionFromScale(e.maxScale, this.units) : "auto" == e.minResolution && null != this.minExtent && (t = this.map.getSize(), n = this.minExtent.getWidth() / t.w, t = this.minExtent.getHeight() / t.h, n = Math.max(n, t)),
			"number" != typeof r && "number" != typeof n && null != this.maxExtent && (r = this.map.getTileSize(), r = Math.max(this.maxExtent.getWidth() / r.w, this.maxExtent.getHeight() / r.h)),
			t = e.maxZoomLevel,
			e = e.numZoomLevels,
			"number" == typeof n && "number" == typeof r && void 0 === e ? e = Math.floor(Math.log(r / n) / Math.log(2)) + 1 : void 0 === e && null != t && (e = t + 1);
			if (!("number" != typeof e || 0 >= e || "number" != typeof r && "number" != typeof n)) {
				t = Array(e);
				var i = 2;
				"number" == typeof n && "number" == typeof r && (i = Math.pow(r / n, 1 / (e - 1)));
				var s;
				if ("number" == typeof r)
					for (s = 0; s < e; s++)
						t[s] = r / Math.pow(i, s);
				else
					for (s = 0; s < e; s++)
						t[e - 1 - s] = n * Math.pow(i, s);
				return t
			}
		},
		getResolution : function () {
			return this.getResolutionForZoom(this.map.getZoom())
		},
		getExtent : function () {
			return this.map.calculateBounds()
		},
		getZoomForExtent : function (e, t) {
			var n = this.map.getSize();
			return this.getZoomForResolution(Math.max(e.getWidth() / n.w, e.getHeight() / n.h), t)
		},
		getDataExtent : function () {},
		getResolutionForZoom : function (e) {
			e = Math.max(0, Math.min(e, this.resolutions.length - 1));
			if (this.map.fractionalZoom)
				var t = Math.floor(e), n = Math.ceil(e), e = this.resolutions[t] - (e - t) * (this.resolutions[t] - this.resolutions[n]);
			else
				e = this.resolutions[Math.round(e)];
			return e
		},
		getZoomForResolution : function (e, t) {
			var n,
			r;
			if (this.map.fractionalZoom) {
				var i = 0,
				s = this.resolutions[i],
				o = this.resolutions[this.resolutions.length - 1],
				u;
				n = 0;
				for (r = this.resolutions.length; n < r; ++n)
					if (u = this.resolutions[n], u >= e && (s = u, i = n), u <= e) {
						o = u;
						break
					}
				n = s - o,
				n = 0 < n ? i + (s - e) / n : i
			} else {
				s = Number.POSITIVE_INFINITY,
				n = 0;
				for (r = this.resolutions.length; n < r; n++)
					if (t) {
						i = Math.abs(this.resolutions[n] - e);
						if (i > s)
							break;
						s = i
					} else if (this.resolutions[n] < e)
						break;
				n = Math.max(0, n - 1)
			}
			return n
		},
		getLonLatFromViewPortPx : function (e) {
			var t = null,
			n = this.map;
			if (null != e && n.minPx) {
				var t = n.getResolution(),
				r = n.getMaxExtent({
						restricted : !0
					}),
				t = new OpenLayers.LonLat((e.x - n.minPx.x) * t + r.left, (n.minPx.y - e.y) * t + r.top);
				this.wrapDateLine && (t = t.wrapDateLine(this.maxExtent))
			}
			return t
		},
		getViewPortPxFromLonLat : function (e, t) {
			var n = null;
			return null != e && (t = t || this.map.getResolution(), n = this.map.calculateBounds(null, t), n = new OpenLayers.Pixel(1 / t * (e.lon - n.left), 1 / t * (n.top - e.lat))),
			n
		},
		setOpacity : function (e) {
			if (e != this.opacity) {
				this.opacity = e;
				for (var t = this.div.childNodes, n = 0, r = t.length; n < r; ++n) {
					var i = t[n].firstChild || t[n],
					s = t[n].lastChild;
					s && "iframe" === s.nodeName.toLowerCase() && (i = s.parentNode),
					OpenLayers.Util.modifyDOMElement(i, null, null, null, null, null, null, e)
				}
				null != this.map && this.map.events.triggerEvent("changelayer", {
					layer : this,
					property : "opacity"
				})
			}
		},
		getZIndex : function () {
			return this.div.style.zIndex
		},
		setZIndex : function (e) {
			this.div.style.zIndex = e
		},
		adjustBounds : function (e) {
			if (this.gutter)
				var t = this.gutter * this.map.getResolution(), e = new OpenLayers.Bounds(e.left - t, e.bottom - t, e.right + t, e.top + t);
			return this.wrapDateLine && (t = {
					rightTolerance : this.getResolution(),
					leftTolerance : this.getResolution()
				}, e = e.wrapDateLine(this.maxExtent, t)),
			e
		},
		CLASS_NAME : "OpenLayers.Layer"
	}), OpenLayers.Layer.SphericalMercator = {
	getExtent : function () {
		var e = null;
		return e = this.sphericalMercator ? this.map.calculateBounds() : OpenLayers.Layer.FixedZoomLevels.prototype.getExtent.apply(this)
	},
	getLonLatFromViewPortPx : function (e) {
		return OpenLayers.Layer.prototype.getLonLatFromViewPortPx.apply(this, arguments)
	},
	getViewPortPxFromLonLat : function (e) {
		return OpenLayers.Layer.prototype.getViewPortPxFromLonLat.apply(this, arguments)
	},
	initMercatorParameters : function () {
		this.RESOLUTIONS = [];
		for (var e = 0; e <= this.MAX_ZOOM_LEVEL; ++e)
			this.RESOLUTIONS[e] = 156543.03390625 / Math.pow(2, e);
		this.units = "m",
		this.projection = this.projection || "EPSG:900913"
	},
	forwardMercator : function () {
		var e = new OpenLayers.Projection("EPSG:4326"),
		t = new OpenLayers.Projection("EPSG:900913");
		return function (n, r) {
			var i = OpenLayers.Projection.transform({
					x : n,
					y : r
				}, e, t);
			return new OpenLayers.LonLat(i.x, i.y)
		}
	}
	(),
	inverseMercator : function () {
		var e = new OpenLayers.Projection("EPSG:4326"),
		t = new OpenLayers.Projection("EPSG:900913");
		return function (n, r) {
			var i = OpenLayers.Projection.transform({
					x : n,
					y : r
				}, t, e);
			return new OpenLayers.LonLat(i.x, i.y)
		}
	}
	()
}, OpenLayers.Layer.EventPane = OpenLayers.Class(OpenLayers.Layer, {
		smoothDragPan : !0,
		isBaseLayer : !0,
		isFixed : !0,
		pane : null,
		mapObject : null,
		initialize : function (e, t) {
			OpenLayers.Layer.prototype.initialize.apply(this, arguments),
			null == this.pane && (this.pane = OpenLayers.Util.createDiv(this.div.id + "_EventPane"))
		},
		destroy : function () {
			this.pane = this.mapObject = null,
			OpenLayers.Layer.prototype.destroy.apply(this, arguments)
		},
		setMap : function (e) {
			OpenLayers.Layer.prototype.setMap.apply(this, arguments),
			this.pane.style.zIndex = parseInt(this.div.style.zIndex) + 1,
			this.pane.style.display = this.div.style.display,
			this.pane.style.width = "100%",
			this.pane.style.height = "100%",
			"msie" == OpenLayers.BROWSER_NAME && (this.pane.style.background = "url(" + OpenLayers.Util.getImageLocation("blank.gif") + ")"),
			this.isFixed ? this.map.viewPortDiv.appendChild(this.pane) : this.map.layerContainerDiv.appendChild(this.pane),
			this.loadMapObject(),
			null == this.mapObject && this.loadWarningMessage()
		},
		removeMap : function (e) {
			this.pane && this.pane.parentNode && this.pane.parentNode.removeChild(this.pane),
			OpenLayers.Layer.prototype.removeMap.apply(this, arguments)
		},
		loadWarningMessage : function () {
			this.div.style.backgroundColor = "darkblue";
			var e = this.map.getSize(),
			t = Math.min(e.w, 300),
			n = Math.min(e.h, 200),
			t = new OpenLayers.Size(t, n),
			e = (new OpenLayers.Pixel(e.w / 2, e.h / 2)).add(-t.w / 2, -t.h / 2),
			e = OpenLayers.Util.createDiv(this.name + "_warning", e, t, null, null, null, "auto");
			e.style.padding = "7px",
			e.style.backgroundColor = "yellow",
			e.innerHTML = this.getWarningHTML(),
			this.div.appendChild(e)
		},
		getWarningHTML : function () {
			return ""
		},
		display : function (e) {
			OpenLayers.Layer.prototype.display.apply(this, arguments),
			this.pane.style.display = this.div.style.display
		},
		setZIndex : function (e) {
			OpenLayers.Layer.prototype.setZIndex.apply(this, arguments),
			this.pane.style.zIndex = parseInt(this.div.style.zIndex) + 1
		},
		moveByPx : function (e, t) {
			OpenLayers.Layer.prototype.moveByPx.apply(this, arguments),
			this.dragPanMapObject ? this.dragPanMapObject(e, -t) : this.moveTo(this.map.getCachedCenter())
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
			if (null != this.mapObject) {
				var r = this.map.getCenter(),
				i = this.map.getZoom();
				if (null != r) {
					var s = this.getOLLonLatFromMapObjectLonLat(this.getMapObjectCenter()),
					o = this.getOLZoomFromMapObjectZoom(this.getMapObjectZoom());
					if (!r.equals(s) || i != o)
						!t && s && this.dragPanMapObject && this.smoothDragPan ? (i = this.map.getViewPortPxFromLonLat(s), r = this.map.getViewPortPxFromLonLat(r), this.dragPanMapObject(r.x - i.x, i.y - r.y)) : (r = this.getMapObjectLonLatFromOLLonLat(r), i = this.getMapObjectZoomFromOLZoom(i), this.setMapObjectCenter(r, i, n))
				}
			}
		},
		getLonLatFromViewPortPx : function (e) {
			var t = null;
			return null != this.mapObject && null != this.getMapObjectCenter() && (t = this.getOLLonLatFromMapObjectLonLat(this.getMapObjectLonLatFromMapObjectPixel(this.getMapObjectPixelFromOLPixel(e)))),
			t
		},
		getViewPortPxFromLonLat : function (e) {
			var t = null;
			return null != this.mapObject && null != this.getMapObjectCenter() && (t = this.getOLPixelFromMapObjectPixel(this.getMapObjectPixelFromMapObjectLonLat(this.getMapObjectLonLatFromOLLonLat(e)))),
			t
		},
		getOLLonLatFromMapObjectLonLat : function (e) {
			var t = null;
			return null != e && (t = this.getLongitudeFromMapObjectLonLat(e), e = this.getLatitudeFromMapObjectLonLat(e), t = new OpenLayers.LonLat(t, e)),
			t
		},
		getMapObjectLonLatFromOLLonLat : function (e) {
			var t = null;
			return null != e && (t = this.getMapObjectLonLatFromLonLat(e.lon, e.lat)),
			t
		},
		getOLPixelFromMapObjectPixel : function (e) {
			var t = null;
			return null != e && (t = this.getXFromMapObjectPixel(e), e = this.getYFromMapObjectPixel(e), t = new OpenLayers.Pixel(t, e)),
			t
		},
		getMapObjectPixelFromOLPixel : function (e) {
			var t = null;
			return null != e && (t = this.getMapObjectPixelFromXY(e.x, e.y)),
			t
		},
		CLASS_NAME : "OpenLayers.Layer.EventPane"
	}), OpenLayers.Layer.FixedZoomLevels = OpenLayers.Class({
		initialize : function () {},
		initResolutions : function () {
			for (var e = ["minZoomLevel", "maxZoomLevel", "numZoomLevels"], t = 0, n = e.length; t < n; t++) {
				var r = e[t];
				this[r] = null != this.options[r] ? this.options[r] : this.map[r]
			}
			if (null == this.minZoomLevel || this.minZoomLevel < this.MIN_ZOOM_LEVEL)
				this.minZoomLevel = this.MIN_ZOOM_LEVEL;
			e = this.MAX_ZOOM_LEVEL - this.minZoomLevel + 1,
			t = null == this.options.numZoomLevels && null != this.options.maxZoomLevel || null == this.numZoomLevels && null != this.maxZoomLevel ? this.maxZoomLevel - this.minZoomLevel + 1 : this.numZoomLevels,
			this.numZoomLevels = null != t ? Math.min(t, e) : e,
			this.maxZoomLevel = this.minZoomLevel + this.numZoomLevels - 1;
			if (null != this.RESOLUTIONS) {
				e = 0,
				this.resolutions = [];
				for (t = this.minZoomLevel; t <= this.maxZoomLevel; t++)
					this.resolutions[e++] = this.RESOLUTIONS[t];
				this.maxResolution = this.resolutions[0],
				this.minResolution = this.resolutions[this.resolutions.length - 1]
			}
		},
		getResolution : function () {
			if (null != this.resolutions)
				return OpenLayers.Layer.prototype.getResolution.apply(this, arguments);
			var e = null,
			t = this.map.getSize(),
			n = this.getExtent();
			return null != t && null != n && (e = Math.max(n.getWidth() / t.w, n.getHeight() / t.h)),
			e
		},
		getExtent : function () {
			var e = this.map.getSize(),
			t = this.getLonLatFromViewPortPx({
					x : 0,
					y : 0
				}),
			e = this.getLonLatFromViewPortPx({
					x : e.w,
					y : e.h
				});
			return null != t && null != e ? new OpenLayers.Bounds(t.lon, e.lat, e.lon, t.lat) : null
		},
		getZoomForResolution : function (e) {
			return null != this.resolutions ? OpenLayers.Layer.prototype.getZoomForResolution.apply(this, arguments) : this.getZoomForExtent(OpenLayers.Layer.prototype.getExtent.apply(this, []))
		},
		getOLZoomFromMapObjectZoom : function (e) {
			var t = null;
			return null != e && (t = e - this.minZoomLevel, this.map.baseLayer !== this && (t = this.map.baseLayer.getZoomForResolution(this.getResolutionForZoom(t)))),
			t
		},
		getMapObjectZoomFromOLZoom : function (e) {
			var t = null;
			return null != e && (t = e + this.minZoomLevel, this.map.baseLayer !== this && (t = this.getZoomForResolution(this.map.baseLayer.getResolutionForZoom(t)))),
			t
		},
		CLASS_NAME : "OpenLayers.Layer.FixedZoomLevels"
	}), OpenLayers.Layer.Google = OpenLayers.Class(OpenLayers.Layer.EventPane, OpenLayers.Layer.FixedZoomLevels, {
		MIN_ZOOM_LEVEL : 0,
		MAX_ZOOM_LEVEL : 21,
		RESOLUTIONS : [1.40625, .703125, .3515625, .17578125, .087890625, .0439453125, .02197265625, .010986328125, .0054931640625, .00274658203125, .001373291015625, .0006866455078125, .00034332275390625, .000171661376953125, 858306884765625e-19, 4291534423828125e-20, 2145767211914062e-20, 1072883605957031e-20, 536441802978515e-20, 268220901489257e-20, 1341104507446289e-21, 6.705522537231445e-7],
		type : null,
		wrapDateLine : !0,
		sphericalMercator : !1,
		version : null,
		initialize : function (e, t) {
			t = t || {},
			t.version || (t.version = "function" == typeof GMap2 ? "2" : "3");
			var n = OpenLayers.Layer.Google["v" + t.version.replace(/\./g, "_")];
			if (!n)
				throw "Unsupported Google Maps API version: " + t.version;
			OpenLayers.Util.applyDefaults(t, n),
			OpenLayers.Util.applyDefaults(t, n.DEFAULTS),
			t.maxExtent && (t.maxExtent = t.maxExtent.clone()),
			OpenLayers.Layer.EventPane.prototype.initialize.apply(this, [e, t]),
			OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this, [e, t]),
			this.sphericalMercator && (OpenLayers.Util.extend(this, OpenLayers.Layer.SphericalMercator), this.initMercatorParameters())
		},
		clone : function () {
			return new OpenLayers.Layer.Google(this.name, this.getOptions())
		},
		setVisibility : function (e) {
			var t = null == this.opacity ? 1 : this.opacity;
			OpenLayers.Layer.EventPane.prototype.setVisibility.apply(this, arguments),
			this.setOpacity(t)
		},
		display : function (e) {
			this._dragging || this.setGMapVisibility(e),
			OpenLayers.Layer.EventPane.prototype.display.apply(this, arguments)
		},
		moveTo : function (e, t, n) {
			this._dragging = n,
			OpenLayers.Layer.EventPane.prototype.moveTo.apply(this, arguments),
			delete this._dragging
		},
		setOpacity : function (e) {
			e !== this.opacity && (null != this.map && this.map.events.triggerEvent("changelayer", {
					layer : this,
					property : "opacity"
				}), this.opacity = e);
			if (this.getVisibility()) {
				var t = this.getMapContainer();
				OpenLayers.Util.modifyDOMElement(t, null, null, null, null, null, null, e)
			}
		},
		destroy : function () {
			if (this.map) {
				this.setGMapVisibility(!1);
				var e = OpenLayers.Layer.Google.cache[this.map.id];
				e && 1 >= e.count && this.removeGMapElements()
			}
			OpenLayers.Layer.EventPane.prototype.destroy.apply(this, arguments)
		},
		removeGMapElements : function () {
			var e = OpenLayers.Layer.Google.cache[this.map.id];
			if (e) {
				var t = this.mapObject && this.getMapContainer();
				t && t.parentNode && t.parentNode.removeChild(t),
				(t = e.termsOfUse) && t.parentNode && t.parentNode.removeChild(t),
				(e = e.poweredBy) && e.parentNode && e.parentNode.removeChild(e)
			}
		},
		removeMap : function (e) {
			this.visibility && this.mapObject && this.setGMapVisibility(!1);
			var t = OpenLayers.Layer.Google.cache[e.id];
			t && (1 >= t.count ? (this.removeGMapElements(), delete OpenLayers.Layer.Google.cache[e.id]) : --t.count),
			delete this.termsOfUse,
			delete this.poweredBy,
			delete this.mapObject,
			delete this.dragObject,
			OpenLayers.Layer.EventPane.prototype.removeMap.apply(this, arguments)
		},
		getOLBoundsFromMapObjectBounds : function (e) {
			var t = null;
			return null != e && (t = e.getSouthWest(), e = e.getNorthEast(), this.sphericalMercator ? (t = this.forwardMercator(t.lng(), t.lat()), e = this.forwardMercator(e.lng(), e.lat())) : (t = new OpenLayers.LonLat(t.lng(), t.lat()), e = new OpenLayers.LonLat(e.lng(), e.lat())), t = new OpenLayers.Bounds(t.lon, t.lat, e.lon, e.lat)),
			t
		},
		getWarningHTML : function () {
			return OpenLayers.i18n("googleWarning")
		},
		getMapObjectCenter : function () {
			return this.mapObject.getCenter()
		},
		getMapObjectZoom : function () {
			return this.mapObject.getZoom()
		},
		getLongitudeFromMapObjectLonLat : function (e) {
			return this.sphericalMercator ? this.forwardMercator(e.lng(), e.lat()).lon : e.lng()
		},
		getLatitudeFromMapObjectLonLat : function (e) {
			return this.sphericalMercator ? this.forwardMercator(e.lng(), e.lat()).lat : e.lat()
		},
		getXFromMapObjectPixel : function (e) {
			return e.x
		},
		getYFromMapObjectPixel : function (e) {
			return e.y
		},
		CLASS_NAME : "OpenLayers.Layer.Google"
	}), OpenLayers.Layer.Google.cache = {}, OpenLayers.Layer.Google.v2 = {
	termsOfUse : null,
	poweredBy : null,
	dragObject : null,
	loadMapObject : function () {
		this.type || (this.type = G_NORMAL_MAP);
		var e,
		t,
		n,
		r = OpenLayers.Layer.Google.cache[this.map.id];
		if (r)
			e = r.mapObject, t = r.termsOfUse, n = r.poweredBy, ++r.count;
		else {
			var r = this.map.viewPortDiv,
			i = document.createElement("div");
			i.id = this.map.id + "_GMap2Container",
			i.style.position = "absolute",
			i.style.width = "100%",
			i.style.height = "100%",
			r.appendChild(i);
			try {
				e = new GMap2(i),
				t = i.lastChild,
				r.appendChild(t),
				t.style.zIndex = "1100",
				t.style.right = "",
				t.style.bottom = "",
				t.className = "olLayerGoogleCopyright",
				n = i.lastChild,
				r.appendChild(n),
				n.style.zIndex = "1100",
				n.style.right = "",
				n.style.bottom = "",
				n.className = "olLayerGooglePoweredBy gmnoprint"
			} catch (s) {
				throw s
			}
			OpenLayers.Layer.Google.cache[this.map.id] = {
				mapObject : e,
				termsOfUse : t,
				poweredBy : n,
				count : 1
			}
		}
		this.mapObject = e,
		this.termsOfUse = t,
		this.poweredBy = n,
		-1 === OpenLayers.Util.indexOf(this.mapObject.getMapTypes(), this.type) && this.mapObject.addMapType(this.type),
		"function" == typeof e.getDragObject ? this.dragObject = e.getDragObject() : this.dragPanMapObject = null,
		!1 === this.isBaseLayer && this.setGMapVisibility("none" !== this.div.style.display)
	},
	onMapResize : function () {
		if (this.visibility && this.mapObject.isLoaded())
			this.mapObject.checkResize();
		else {
			if (!this._resized)
				var e = this, t = GEvent.addListener(this.mapObject, "load", function () {
						GEvent.removeListener(t),
						delete e._resized,
						e.mapObject.checkResize(),
						e.moveTo(e.map.getCenter(), e.map.getZoom())
					});
			this._resized = !0
		}
	},
	setGMapVisibility : function (e) {
		var t = OpenLayers.Layer.Google.cache[this.map.id];
		if (t) {
			var n = this.mapObject.getContainer();
			!0 === e ? (this.mapObject.setMapType(this.type), n.style.display = "", this.termsOfUse.style.left = "", this.termsOfUse.style.display = "", this.poweredBy.style.display = "", t.displayed = this.id) : (t.displayed === this.id && delete t.displayed, t.displayed || (n.style.display = "none", this.termsOfUse.style.display = "none", this.termsOfUse.style.left = "-9999px", this.poweredBy.style.display = "none"))
		}
	},
	getMapContainer : function () {
		return this.mapObject.getContainer()
	},
	getMapObjectBoundsFromOLBounds : function (e) {
		var t = null;
		return null != e && (t = this.sphericalMercator ? this.inverseMercator(e.bottom, e.left) : new OpenLayers.LonLat(e.bottom, e.left), e = this.sphericalMercator ? this.inverseMercator(e.top, e.right) : new OpenLayers.LonLat(e.top, e.right), t = new GLatLngBounds(new GLatLng(t.lat, t.lon), new GLatLng(e.lat, e.lon))),
		t
	},
	setMapObjectCenter : function (e, t) {
		this.mapObject.setCenter(e, t)
	},
	dragPanMapObject : function (e, t) {
		this.dragObject.moveBy(new GSize(-e, t))
	},
	getMapObjectLonLatFromMapObjectPixel : function (e) {
		return this.mapObject.fromContainerPixelToLatLng(e)
	},
	getMapObjectPixelFromMapObjectLonLat : function (e) {
		return this.mapObject.fromLatLngToContainerPixel(e)
	},
	getMapObjectZoomFromMapObjectBounds : function (e) {
		return this.mapObject.getBoundsZoomLevel(e)
	},
	getMapObjectLonLatFromLonLat : function (e, t) {
		var n;
		return this.sphericalMercator ? (n = this.inverseMercator(e, t), n = new GLatLng(n.lat, n.lon)) : n = new GLatLng(t, e),
		n
	},
	getMapObjectPixelFromXY : function (e, t) {
		return new GPoint(e, t)
	}
}, OpenLayers.Format.XML = OpenLayers.Class(OpenLayers.Format, {
		namespaces : null,
		namespaceAlias : null,
		defaultPrefix : null,
		readers : {},
		writers : {},
		xmldom : null,
		initialize : function (e) {
			window.ActiveXObject && (this.xmldom = new ActiveXObject("Microsoft.XMLDOM")),
			OpenLayers.Format.prototype.initialize.apply(this, [e]),
			this.namespaces = OpenLayers.Util.extend({}, this.namespaces),
			this.namespaceAlias = {};
			for (var t in this.namespaces)
				this.namespaceAlias[this.namespaces[t]] = t
		},
		destroy : function () {
			this.xmldom = null,
			OpenLayers.Format.prototype.destroy.apply(this, arguments)
		},
		setNamespace : function (e, t) {
			this.namespaces[e] = t,
			this.namespaceAlias[t] = e
		},
		read : function (e) {
			var t = e.indexOf("<");
			return 0 < t && (e = e.substring(t)),
			t = OpenLayers.Util.Try(OpenLayers.Function.bind(function () {
						var t;
						return t = window.ActiveXObject && !this.xmldom ? new ActiveXObject("Microsoft.XMLDOM") : this.xmldom,
						t.loadXML(e),
						t
					}, this), function () {
					return (new DOMParser).parseFromString(e, "text/xml")
				}, function () {
					var t = new XMLHttpRequest;
					return t.open("GET", "data:text/xml;charset=utf-8," + encodeURIComponent(e), !1),
					t.overrideMimeType && t.overrideMimeType("text/xml"),
					t.send(null),
					t.responseXML
				}),
			this.keepData && (this.data = t),
			t
		},
		write : function (e) {
			if (this.xmldom)
				e = e.xml;
			else {
				var t = new XMLSerializer;
				if (1 == e.nodeType) {
					var n = document.implementation.createDocument("", "", null);
					n.importNode && (e = n.importNode(e, !0)),
					n.appendChild(e),
					e = t.serializeToString(n)
				} else
					e = t.serializeToString(e)
			}
			return e
		},
		createElementNS : function (e, t) {
			return this.xmldom ? "string" == typeof e ? this.xmldom.createNode(1, t, e) : this.xmldom.createNode(1, t, "") : document.createElementNS(e, t)
		},
		createTextNode : function (e) {
			return "string" != typeof e && (e = "" + e),
			this.xmldom ? this.xmldom.createTextNode(e) : document.createTextNode(e)
		},
		getElementsByTagNameNS : function (e, t, n) {
			var r = [];
			if (e.getElementsByTagNameNS)
				r = e.getElementsByTagNameNS(t, n);
			else
				for (var e = e.getElementsByTagName("*"), i, s, o = 0, u = e.length; o < u; ++o)
					(i = e[o], s = i.prefix ? i.prefix + ":" + n : n, "*" == n || s == i.nodeName) && ("*" == t || t == i.namespaceURI) && r.push(i);
			return r
		},
		getAttributeNodeNS : function (e, t, n) {
			var r = null;
			if (e.getAttributeNodeNS)
				r = e.getAttributeNodeNS(t, n);
			else
				for (var e = e.attributes, i, s, o = 0, u = e.length; o < u; ++o)
					if (i = e[o], i.namespaceURI == t && (s = i.prefix ? i.prefix + ":" + n : n, s == i.nodeName)) {
						r = i;
						break
					}
			return r
		},
		getAttributeNS : function (e, t, n) {
			var r = "";
			if (e.getAttributeNS)
				r = e.getAttributeNS(t, n) || "";
			else if (e = this.getAttributeNodeNS(e, t, n))
				r = e.nodeValue;
			return r
		},
		getChildValue : function (e, t) {
			var n = t || "";
			if (e)
				for (var r = e.firstChild; r; r = r.nextSibling)
					switch (r.nodeType) {
					case 3:
					case 4:
						n += r.nodeValue
					}
			return n
		},
		isSimpleContent : function (e) {
			for (var t = !0, e = e.firstChild; e; e = e.nextSibling)
				if (1 === e.nodeType) {
					t = !1;
					break
				}
			return t
		},
		contentType : function (e) {
			for (var t = !1, n = !1, r = OpenLayers.Format.XML.CONTENT_TYPE.EMPTY, e = e.firstChild; e; e = e.nextSibling) {
				switch (e.nodeType) {
				case 1:
					n = !0;
					break;
				case 8:
					break;
				default:
					t = !0
				}
				if (n && t)
					break
			}
			if (n && t)
				r = OpenLayers.Format.XML.CONTENT_TYPE.MIXED;
			else {
				if (n)
					return OpenLayers.Format.XML.CONTENT_TYPE.COMPLEX;
				if (t)
					return OpenLayers.Format.XML.CONTENT_TYPE.SIMPLE
			}
			return r
		},
		hasAttributeNS : function (e, t, n) {
			var r = !1;
			return r = e.hasAttributeNS ? e.hasAttributeNS(t, n) : !!this.getAttributeNodeNS(e, t, n)
		},
		setAttributeNS : function (e, t, n, r) {
			if (e.setAttributeNS)
				e.setAttributeNS(t, n, r);
			else {
				if (!this.xmldom)
					throw "setAttributeNS not implemented";
				t ? (t = e.ownerDocument.createNode(2, n, t), t.nodeValue = r, e.setAttributeNode(t)) : e.setAttribute(n, r)
			}
		},
		createElementNSPlus : function (e, t) {
			var t = t || {},
			n = t.uri || this.namespaces[t.prefix];
			n || (n = e.indexOf(":"), n = this.namespaces[e.substring(0, n)]),
			n || (n = this.namespaces[this.defaultPrefix]),
			n = this.createElementNS(n, e),
			t.attributes && this.setAttributes(n, t.attributes);
			var r = t.value;
			return null != r && n.appendChild(this.createTextNode(r)),
			n
		},
		setAttributes : function (e, t) {
			var n,
			r,
			i;
			for (i in t)
				null != t[i] && t[i].toString && (n = t[i].toString(), r = this.namespaces[i.substring(0, i.indexOf(":"))] || null, this.setAttributeNS(e, r, i, n))
		},
		readNode : function (e, t) {
			t || (t = {});
			var n = this.readers[e.namespaceURI ? this.namespaceAlias[e.namespaceURI] : this.defaultPrefix];
			if (n) {
				var r = e.localName || e.nodeName.split(":").pop();
				(n = n[r] || n["*"]) && n.apply(this, [e, t])
			}
			return t
		},
		readChildNodes : function (e, t) {
			t || (t = {});
			for (var n = e.childNodes, r, i = 0, s = n.length; i < s; ++i)
				r = n[i], 1 == r.nodeType && this.readNode(r, t);
			return t
		},
		writeNode : function (e, t, n) {
			var r,
			i = e.indexOf(":");
			return 0 < i ? (r = e.substring(0, i), e = e.substring(i + 1)) : r = n ? this.namespaceAlias[n.namespaceURI] : this.defaultPrefix,
			t = this.writers[r][e].apply(this, [t]),
			n && n.appendChild(t),
			t
		},
		getChildEl : function (e, t, n) {
			return e && this.getThisOrNextEl(e.firstChild, t, n)
		},
		getNextEl : function (e, t, n) {
			return e && this.getThisOrNextEl(e.nextSibling, t, n)
		},
		getThisOrNextEl : function (e, t, n) {
			e : for (; e; e = e.nextSibling)
				switch (e.nodeType) {
				case 1:
					if ((!t || t === (e.localName || e.nodeName.split(":").pop())) && (!n || n === e.namespaceURI))
						break e;
					e = null;
					break e;
				case 3:
					if (/^\s*$/.test(e.nodeValue))
						break;
				case 4:
				case 6:
				case 12:
				case 10:
				case 11:
					e = null;
					break e
				}
			return e || null
		},
		lookupNamespaceURI : function (e, t) {
			var n = null;
			if (e)
				if (e.lookupNamespaceURI)
					n = e.lookupNamespaceURI(t);
				else
					e : switch (e.nodeType) {
					case 1:
						if (null !== e.namespaceURI && e.prefix === t) {
							n = e.namespaceURI;
							break e
						}
						if (n = e.attributes.length)
							for (var r, i = 0; i < n; ++i) {
								if (r = e.attributes[i], "xmlns" === r.prefix && r.name === "xmlns:" + t) {
									n = r.value || null;
									break e
								}
								if ("xmlns" === r.name && null === t) {
									n = r.value || null;
									break e
								}
							}
						n = this.lookupNamespaceURI(e.parentNode, t);
						break e;
					case 2:
						n = this.lookupNamespaceURI(e.ownerElement, t);
						break e;
					case 9:
						n = this.lookupNamespaceURI(e.documentElement, t);
						break e;
					case 6:
					case 12:
					case 10:
					case 11:
						break e;
					default:
						n = this.lookupNamespaceURI(e.parentNode, t)
					}
			return n
		},
		getXMLDoc : function () {
			return !OpenLayers.Format.XML.document && !this.xmldom && (document.implementation && document.implementation.createDocument ? OpenLayers.Format.XML.document = document.implementation.createDocument("", "", null) : !this.xmldom && window.ActiveXObject && (this.xmldom = new ActiveXObject("Microsoft.XMLDOM"))),
			OpenLayers.Format.XML.document || this.xmldom
		},
		CLASS_NAME : "OpenLayers.Format.XML"
	}), OpenLayers.Format.XML.CONTENT_TYPE = {
	EMPTY : 0,
	SIMPLE : 1,
	COMPLEX : 2,
	MIXED : 3
}, OpenLayers.Format.XML.lookupNamespaceURI = OpenLayers.Function.bind(OpenLayers.Format.XML.prototype.lookupNamespaceURI, OpenLayers.Format.XML.prototype), OpenLayers.Format.XML.document = null, OpenLayers.Format.WFST = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Format.WFST.DEFAULTS),
	t = OpenLayers.Format.WFST["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported WFST version: " + e.version;
	return new t(e)
}, OpenLayers.Format.WFST.DEFAULTS = {
	version : "1.0.0"
}, OpenLayers.Format.WFST.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance",
			wfs : "http://www.opengis.net/wfs",
			gml : "http://www.opengis.net/gml",
			ogc : "http://www.opengis.net/ogc",
			ows : "http://www.opengis.net/ows"
		},
		defaultPrefix : "wfs",
		version : null,
		schemaLocations : null,
		srsName : null,
		extractAttributes : !0,
		xy : !0,
		stateName : null,
		initialize : function (e) {
			this.stateName = {},
			this.stateName[OpenLayers.State.INSERT] = "wfs:Insert",
			this.stateName[OpenLayers.State.UPDATE] = "wfs:Update",
			this.stateName[OpenLayers.State.DELETE] = "wfs:Delete",
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		getSrsName : function (e, t) {
			var n = t && t.srsName;
			return n || (n = e && e.layer ? e.layer.projection.getCode() : this.srsName),
			n
		},
		read : function (e, t) {
			t = t || {},
			OpenLayers.Util.applyDefaults(t, {
				output : "features"
			}),
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var n = {};
			return e && this.readNode(e, n, !0),
			n.features && "features" === t.output && (n = n.features),
			n
		},
		readers : {
			wfs : {
				FeatureCollection : function (e, t) {
					t.features = [],
					this.readChildNodes(e, t)
				}
			}
		},
		write : function (e, t) {
			var n = this.writeNode("wfs:Transaction", {
					features : e,
					options : t
				}),
			r = this.schemaLocationAttr();
			return r && this.setAttributeNS(n, this.namespaces.xsi, "xsi:schemaLocation", r),
			OpenLayers.Format.XML.prototype.write.apply(this, [n])
		},
		writers : {
			wfs : {
				GetFeature : function (e) {
					var t = this.createElementNSPlus("wfs:GetFeature", {
							attributes : {
								service : "WFS",
								version : this.version,
								handle : e && e.handle,
								outputFormat : e && e.outputFormat,
								maxFeatures : e && e.maxFeatures,
								"xsi:schemaLocation" : this.schemaLocationAttr(e)
							}
						});
					if ("string" == typeof this.featureType)
						this.writeNode("Query", e, t);
					else
						for (var n = 0, r = this.featureType.length; n < r; n++)
							e.featureType = this.featureType[n], this.writeNode("Query", e, t);
					return t
				},
				Transaction : function (e) {
					var e = e || {},
					t = e.options || {},
					n = this.createElementNSPlus("wfs:Transaction", {
							attributes : {
								service : "WFS",
								version : this.version,
								handle : t.handle
							}
						}),
					r,
					i = e.features;
					if (i) {
						!0 === t.multi && OpenLayers.Util.extend(this.geometryTypes, {
							"OpenLayers.Geometry.Point" : "MultiPoint",
							"OpenLayers.Geometry.LineString" : !0 === this.multiCurve ? "MultiCurve" : "MultiLineString",
							"OpenLayers.Geometry.Polygon" : !0 === this.multiSurface ? "MultiSurface" : "MultiPolygon"
						});
						var s,
						o,
						e = 0;
						for (r = i.length; e < r; ++e)
							o = i[e], (s = this.stateName[o.state]) && this.writeNode(s, {
								feature : o,
								options : t
							}, n);
						!0 === t.multi && this.setGeometryTypes()
					}
					if (t.nativeElements) {
						e = 0;
						for (r = t.nativeElements.length; e < r; ++e)
							this.writeNode("wfs:Native", t.nativeElements[e], n)
					}
					return n
				},
				Native : function (e) {
					return this.createElementNSPlus("wfs:Native", {
						attributes : {
							vendorId : e.vendorId,
							safeToIgnore : e.safeToIgnore
						},
						value : e.value
					})
				},
				Insert : function (e) {
					var t = e.feature,
					e = e.options,
					e = this.createElementNSPlus("wfs:Insert", {
							attributes : {
								handle : e && e.handle
							}
						});
					return this.srsName = this.getSrsName(t),
					this.writeNode("feature:_typeName", t, e),
					e
				},
				Update : function (e) {
					var t = e.feature,
					e = e.options,
					e = this.createElementNSPlus("wfs:Update", {
							attributes : {
								handle : e && e.handle,
								typeName : (this.featureNS ? this.featurePrefix + ":" : "") + this.featureType
							}
						});
					this.featureNS && e.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
					var n = t.modified;
					null !== this.geometryName && (!n || void 0 !== n.geometry) && (this.srsName = this.getSrsName(t), this.writeNode("Property", {
							name : this.geometryName,
							value : t.geometry
						}, e));
					for (var r in t.attributes)
						void 0 !== t.attributes[r] && (!n || !n.attributes || n.attributes && void 0 !== n.attributes[r]) && this.writeNode("Property", {
							name : r,
							value : t.attributes[r]
						}, e);
					return this.writeNode("ogc:Filter", new OpenLayers.Filter.FeatureId({
							fids : [t.fid]
						}), e),
					e
				},
				Property : function (e) {
					var t = this.createElementNSPlus("wfs:Property");
					return this.writeNode("Name", e.name, t),
					null !== e.value && this.writeNode("Value", e.value, t),
					t
				},
				Name : function (e) {
					return this.createElementNSPlus("wfs:Name", {
						value : e
					})
				},
				Value : function (e) {
					var t;
					return e instanceof OpenLayers.Geometry ? (t = this.createElementNSPlus("wfs:Value"), e = this.writeNode("feature:_geometry", e).firstChild, t.appendChild(e)) : t = this.createElementNSPlus("wfs:Value", {
							value : e
						}),
					t
				},
				Delete : function (e) {
					var t = e.feature,
					e = e.options,
					e = this.createElementNSPlus("wfs:Delete", {
							attributes : {
								handle : e && e.handle,
								typeName : (this.featureNS ? this.featurePrefix + ":" : "") + this.featureType
							}
						});
					return this.featureNS && e.setAttribute("xmlns:" + this.featurePrefix, this.featureNS),
					this.writeNode("ogc:Filter", new OpenLayers.Filter.FeatureId({
							fids : [t.fid]
						}), e),
					e
				}
			}
		},
		schemaLocationAttr : function (e) {
			var e = OpenLayers.Util.extend({
					featurePrefix : this.featurePrefix,
					schema : this.schema
				}, e),
			t = OpenLayers.Util.extend({}, this.schemaLocations);
			e.schema && (t[e.featurePrefix] = e.schema);
			var e = [],
			n,
			r;
			for (r in t)
				(n = this.namespaces[r]) && e.push(n + " " + t[r]);
			return e.join(" ") || void 0
		},
		setFilterProperty : function (e) {
			if (e.filters)
				for (var t = 0, n = e.filters.length; t < n; ++t)
					OpenLayers.Format.WFST.v1.prototype.setFilterProperty.call(this, e.filters[t]);
			else
				e instanceof OpenLayers.Filter.Spatial && !e.property && (e.property = this.geometryName)
		},
		CLASS_NAME : "OpenLayers.Format.WFST.v1"
	}), OpenLayers.Format.OGCExceptionReport = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ogc : "http://www.opengis.net/ogc"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		defaultPrefix : "ogc",
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = {
				exceptionReport : null
			};
			return e.documentElement && (this.readChildNodes(e, t), null === t.exceptionReport && (t = (new OpenLayers.Format.OWSCommon).read(e))),
			t
		},
		readers : {
			ogc : {
				ServiceExceptionReport : function (e, t) {
					t.exceptionReport = {
						exceptions : []
					},
					this.readChildNodes(e, t.exceptionReport)
				},
				ServiceException : function (e, t) {
					var n = {
						code : e.getAttribute("code"),
						locator : e.getAttribute("locator"),
						text : this.getChildValue(e)
					};
					t.exceptions.push(n)
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.OGCExceptionReport"
	}), OpenLayers.Format.XML.VersionedOGC = OpenLayers.Class(OpenLayers.Format.XML, {
		defaultVersion : null,
		version : null,
		profile : null,
		errorProperty : null,
		name : null,
		stringifyOutput : !1,
		parser : null,
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e]),
			e = this.CLASS_NAME,
			this.name = e.substring(e.lastIndexOf(".") + 1)
		},
		getVersion : function (e, t) {
			var n;
			return e ? (n = this.version, n || (n = e.getAttribute("version"), n || (n = this.defaultVersion))) : n = t && t.version || this.version || this.defaultVersion,
			n
		},
		getParser : function (e) {
			var e = e || this.defaultVersion,
			t = this.profile ? "_" + this.profile : "";
			if (!this.parser || this.parser.VERSION != e) {
				var n = OpenLayers.Format[this.name]["v" + e.replace(/\./g, "_") + t];
				if (!n)
					throw "Can't find a " + this.name + " parser for version " + e + t;
				this.parser = new n(this.options)
			}
			return this.parser
		},
		write : function (e, t) {
			this.parser = this.getParser(this.getVersion(null, t));
			var n = this.parser.write(e, t);
			return !1 === this.stringifyOutput ? n : OpenLayers.Format.XML.prototype.write.apply(this, [n])
		},
		read : function (e, t) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var n = this.getVersion(e.documentElement);
			this.parser = this.getParser(n);
			var r = this.parser.read(e, t);
			if (null !== this.errorProperty && void 0 === r[this.errorProperty]) {
				var i = new OpenLayers.Format.OGCExceptionReport;
				r.error = i.read(e)
			}
			return r.version = n,
			r
		},
		CLASS_NAME : "OpenLayers.Format.XML.VersionedOGC"
	}), OpenLayers.Feature = OpenLayers.Class({
		layer : null,
		id : null,
		lonlat : null,
		data : null,
		marker : null,
		popupClass : null,
		popup : null,
		initialize : function (e, t, n) {
			this.layer = e,
			this.lonlat = t,
			this.data = null != n ? n : {},
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		destroy : function () {
			null != this.layer && null != this.layer.map && null != this.popup && this.layer.map.removePopup(this.popup),
			null != this.layer && null != this.marker && this.layer.removeMarker(this.marker),
			this.data = this.lonlat = this.id = this.layer = null,
			null != this.marker && (this.destroyMarker(this.marker), this.marker = null),
			null != this.popup && (this.destroyPopup(this.popup), this.popup = null)
		},
		onScreen : function () {
			var e = !1;
			return null != this.layer && null != this.layer.map && (e = this.layer.map.getExtent().containsLonLat(this.lonlat)),
			e
		},
		createMarker : function () {
			return null != this.lonlat && (this.marker = new OpenLayers.Marker(this.lonlat, this.data.icon)),
			this.marker
		},
		destroyMarker : function () {
			this.marker.destroy()
		},
		createPopup : function (e) {
			return null != this.lonlat && (this.popup || (this.popup = new(this.popupClass ? this.popupClass : OpenLayers.Popup.Anchored)(this.id + "_popup", this.lonlat, this.data.popupSize, this.data.popupContentHTML, this.marker ? this.marker.icon : null, e)), null != this.data.overflow && (this.popup.contentDiv.style.overflow = this.data.overflow), this.popup.feature = this),
			this.popup
		},
		destroyPopup : function () {
			this.popup && (this.popup.feature = null, this.popup.destroy(), this.popup = null)
		},
		CLASS_NAME : "OpenLayers.Feature"
	}), OpenLayers.State = {
	UNKNOWN : "Unknown",
	INSERT : "Insert",
	UPDATE : "Update",
	DELETE : "Delete"
}, OpenLayers.Feature.Vector = OpenLayers.Class(OpenLayers.Feature, {
		fid : null,
		geometry : null,
		attributes : null,
		bounds : null,
		state : null,
		style : null,
		url : null,
		renderIntent : "default",
		modified : null,
		initialize : function (e, t, n) {
			OpenLayers.Feature.prototype.initialize.apply(this, [null, null, t]),
			this.lonlat = null,
			this.geometry = e ? e : null,
			this.state = null,
			this.attributes = {},
			t && (this.attributes = OpenLayers.Util.extend(this.attributes, t)),
			this.style = n ? n : null
		},
		destroy : function () {
			this.layer && (this.layer.removeFeatures(this), this.layer = null),
			this.modified = this.geometry = null,
			OpenLayers.Feature.prototype.destroy.apply(this, arguments)
		},
		clone : function () {
			return new OpenLayers.Feature.Vector(this.geometry ? this.geometry.clone() : null, this.attributes, this.style)
		},
		onScreen : function (e) {
			var t = !1;
			return this.layer && this.layer.map && (t = this.layer.map.getExtent(), e ? (e = this.geometry.getBounds(), t = t.intersectsBounds(e)) : t = t.toGeometry().intersects(this.geometry)),
			t
		},
		getVisibility : function () {
			return !(this.style && "none" == this.style.display || !this.layer || this.layer && this.layer.styleMap && "none" == this.layer.styleMap.createSymbolizer(this, this.renderIntent).display || this.layer && !this.layer.getVisibility())
		},
		createMarker : function () {
			return null
		},
		destroyMarker : function () {},
		createPopup : function () {
			return null
		},
		atPoint : function (e, t, n) {
			var r = !1;
			return this.geometry && (r = this.geometry.atPoint(e, t, n)),
			r
		},
		destroyPopup : function () {},
		move : function (e) {
			if (this.layer && this.geometry.move) {
				var e = "OpenLayers.LonLat" == e.CLASS_NAME ? this.layer.getViewPortPxFromLonLat(e) : e,
				t = this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat()),
				n = this.layer.map.getResolution();
				return this.geometry.move(n * (e.x - t.x), n * (t.y - e.y)),
				this.layer.drawFeature(this),
				t
			}
		},
		toState : function (e) {
			if (e == OpenLayers.State.UPDATE)
				switch (this.state) {
				case OpenLayers.State.UNKNOWN:
				case OpenLayers.State.DELETE:
					this.state = e
				}
			else if (e == OpenLayers.State.INSERT)
				switch (this.state) {
				case OpenLayers.State.UNKNOWN:
					break;
				default:
					this.state = e
				}
			else if (e == OpenLayers.State.DELETE)
				switch (this.state) {
				case OpenLayers.State.UNKNOWN:
				case OpenLayers.State.UPDATE:
					this.state = e
				}
			else
				e == OpenLayers.State.UNKNOWN && (this.state = e)
		},
		CLASS_NAME : "OpenLayers.Feature.Vector"
	}), OpenLayers.Feature.Vector.style = {
	"default" : {
		fillColor : "#ee9900",
		fillOpacity : .4,
		hoverFillColor : "white",
		hoverFillOpacity : .8,
		strokeColor : "#ee9900",
		strokeOpacity : 1,
		strokeWidth : 1,
		strokeLinecap : "round",
		strokeDashstyle : "solid",
		hoverStrokeColor : "red",
		hoverStrokeOpacity : 1,
		hoverStrokeWidth : .2,
		pointRadius : 6,
		hoverPointRadius : 1,
		hoverPointUnit : "%",
		pointerEvents : "visiblePainted",
		cursor : "inherit",
		fontColor : "#000000",
		labelAlign : "cm",
		labelOutlineColor : "white",
		labelOutlineWidth : 3
	},
	select : {
		fillColor : "blue",
		fillOpacity : .4,
		hoverFillColor : "white",
		hoverFillOpacity : .8,
		strokeColor : "blue",
		strokeOpacity : 1,
		strokeWidth : 2,
		strokeLinecap : "round",
		strokeDashstyle : "solid",
		hoverStrokeColor : "red",
		hoverStrokeOpacity : 1,
		hoverStrokeWidth : .2,
		pointRadius : 6,
		hoverPointRadius : 1,
		hoverPointUnit : "%",
		pointerEvents : "visiblePainted",
		cursor : "pointer",
		fontColor : "#000000",
		labelAlign : "cm",
		labelOutlineColor : "white",
		labelOutlineWidth : 3
	},
	temporary : {
		fillColor : "#66cccc",
		fillOpacity : .2,
		hoverFillColor : "white",
		hoverFillOpacity : .8,
		strokeColor : "#66cccc",
		strokeOpacity : 1,
		strokeLinecap : "round",
		strokeWidth : 2,
		strokeDashstyle : "solid",
		hoverStrokeColor : "red",
		hoverStrokeOpacity : 1,
		hoverStrokeWidth : .2,
		pointRadius : 6,
		hoverPointRadius : 1,
		hoverPointUnit : "%",
		pointerEvents : "visiblePainted",
		cursor : "inherit",
		fontColor : "#000000",
		labelAlign : "cm",
		labelOutlineColor : "white",
		labelOutlineWidth : 3
	},
	"delete" : {
		display : "none"
	}
}, OpenLayers.Style = OpenLayers.Class({
		id : null,
		name : null,
		title : null,
		description : null,
		layerName : null,
		isDefault : !1,
		rules : null,
		context : null,
		defaultStyle : null,
		defaultsPerSymbolizer : !1,
		propertyStyles : null,
		initialize : function (e, t) {
			OpenLayers.Util.extend(this, t),
			this.rules = [],
			t && t.rules && this.addRules(t.rules),
			this.setDefaultStyle(e || OpenLayers.Feature.Vector.style["default"]),
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		destroy : function () {
			for (var e = 0, t = this.rules.length; e < t; e++)
				this.rules[e].destroy(), this.rules[e] = null;
			this.defaultStyle = this.rules = null
		},
		createSymbolizer : function (e) {
			for (var t = this.defaultsPerSymbolizer ? {}

				 : this.createLiterals(OpenLayers.Util.extend({}, this.defaultStyle), e), n = this.rules, r, i = [], s = !1, o = 0, u = n.length; o < u; o++)
				r = n[o], r.evaluate(e) && (r instanceof OpenLayers.Rule && r.elseFilter ? i.push(r) : (s = !0, this.applySymbolizer(r, t, e)));
			if (0 == s && 0 < i.length) {
				s = !0,
				o = 0;
				for (u = i.length; o < u; o++)
					this.applySymbolizer(i[o], t, e)
			}
			return 0 < n.length && 0 == s && (t.display = "none"),
			null != t.label && "string" != typeof t.label && (t.label = "" + t.label),
			t
		},
		applySymbolizer : function (e, t, n) {
			var r = n.geometry ? this.getSymbolizerPrefix(n.geometry) : OpenLayers.Style.SYMBOLIZER_PREFIXES[0],
			e = e.symbolizer[r] || e.symbolizer;
			return !0 === this.defaultsPerSymbolizer && (r = this.defaultStyle, OpenLayers.Util.applyDefaults(e, {
					pointRadius : r.pointRadius
				}), (!0 === e.stroke || !0 === e.graphic) && OpenLayers.Util.applyDefaults(e, {
					strokeWidth : r.strokeWidth,
					strokeColor : r.strokeColor,
					strokeOpacity : r.strokeOpacity,
					strokeDashstyle : r.strokeDashstyle,
					strokeLinecap : r.strokeLinecap
				}), (!0 === e.fill || !0 === e.graphic) && OpenLayers.Util.applyDefaults(e, {
					fillColor : r.fillColor,
					fillOpacity : r.fillOpacity
				}), !0 === e.graphic && OpenLayers.Util.applyDefaults(e, {
					pointRadius : this.defaultStyle.pointRadius,
					externalGraphic : this.defaultStyle.externalGraphic,
					graphicName : this.defaultStyle.graphicName,
					graphicOpacity : this.defaultStyle.graphicOpacity,
					graphicWidth : this.defaultStyle.graphicWidth,
					graphicHeight : this.defaultStyle.graphicHeight,
					graphicXOffset : this.defaultStyle.graphicXOffset,
					graphicYOffset : this.defaultStyle.graphicYOffset
				})),
			this.createLiterals(OpenLayers.Util.extend(t, e), n)
		},
		createLiterals : function (e, t) {
			var n = OpenLayers.Util.extend({}, t.attributes || t.data);
			OpenLayers.Util.extend(n, this.context);
			for (var r in this.propertyStyles)
				e[r] = OpenLayers.Style.createLiteral(e[r], n, t, r);
			return e
		},
		findPropertyStyles : function () {
			var e = {};
			this.addPropertyStyles(e, this.defaultStyle);
			for (var t = this.rules, n, r, i = 0, s = t.length; i < s; i++) {
				n = t[i].symbolizer;
				for (var o in n) {
					if (r = n[o], "object" != typeof r) {
						this.addPropertyStyles(e, n);
						break
					}
					this.addPropertyStyles(e, r)
				}
			}
			return e
		},
		addPropertyStyles : function (e, t) {
			var n,
			r;
			for (r in t)
				n = t[r], "string" == typeof n && n.match(/\$\{\w+\}/) && (e[r] = !0);
			return e
		},
		addRules : function (e) {
			Array.prototype.push.apply(this.rules, e),
			this.propertyStyles = this.findPropertyStyles()
		},
		setDefaultStyle : function (e) {
			this.defaultStyle = e,
			this.propertyStyles = this.findPropertyStyles()
		},
		getSymbolizerPrefix : function (e) {
			for (var t = OpenLayers.Style.SYMBOLIZER_PREFIXES, n = 0, r = t.length; n < r; n++)
				if (-1 != e.CLASS_NAME.indexOf(t[n]))
					return t[n]
		},
		clone : function () {
			var e = OpenLayers.Util.extend({}, this);
			if (this.rules) {
				e.rules = [];
				for (var t = 0, n = this.rules.length; t < n; ++t)
					e.rules.push(this.rules[t].clone())
			}
			return e.context = this.context && OpenLayers.Util.extend({}, this.context),
			t = OpenLayers.Util.extend({}, this.defaultStyle),
			new OpenLayers.Style(t, e)
		},
		CLASS_NAME : "OpenLayers.Style"
	}), OpenLayers.Style.createLiteral = function (e, t, n, r) {
	return "string" == typeof e && -1 != e.indexOf("${") && (e = OpenLayers.String.format(e, t, [n, r]), e = isNaN(e) || !e ? e : parseFloat(e)),
	e
}, OpenLayers.Style.SYMBOLIZER_PREFIXES = ["Point", "Line", "Polygon", "Text", "Raster"], OpenLayers.Filter = OpenLayers.Class({
		initialize : function (e) {
			OpenLayers.Util.extend(this, e)
		},
		destroy : function () {},
		evaluate : function () {
			return !0
		},
		clone : function () {
			return null
		},
		toString : function () {
			return OpenLayers.Format && OpenLayers.Format.CQL ? OpenLayers.Format.CQL.prototype.write(this) : Object.prototype.toString.call(this)
		},
		CLASS_NAME : "OpenLayers.Filter"
	}), OpenLayers.Filter.FeatureId = OpenLayers.Class(OpenLayers.Filter, {
		fids : null,
		type : "FID",
		initialize : function (e) {
			this.fids = [],
			OpenLayers.Filter.prototype.initialize.apply(this, [e])
		},
		evaluate : function (e) {
			for (var t = 0, n = this.fids.length; t < n; t++)
				if ((e.fid || e.id) == this.fids[t])
					return !0;
			return !1
		},
		clone : function () {
			var e = new OpenLayers.Filter.FeatureId;
			return OpenLayers.Util.extend(e, this),
			e.fids = this.fids.slice(),
			e
		},
		CLASS_NAME : "OpenLayers.Filter.FeatureId"
	}), OpenLayers.Filter.Logical = OpenLayers.Class(OpenLayers.Filter, {
		filters : null,
		type : null,
		initialize : function (e) {
			this.filters = [],
			OpenLayers.Filter.prototype.initialize.apply(this, [e])
		},
		destroy : function () {
			this.filters = null,
			OpenLayers.Filter.prototype.destroy.apply(this)
		},
		evaluate : function (e) {
			var t,
			n;
			switch (this.type) {
			case OpenLayers.Filter.Logical.AND:
				t = 0;
				for (n = this.filters.length; t < n; t++)
					if (0 == this.filters[t].evaluate(e))
						return !1;
				return !0;
			case OpenLayers.Filter.Logical.OR:
				t = 0;
				for (n = this.filters.length; t < n; t++)
					if (1 == this.filters[t].evaluate(e))
						return !0;
				return !1;
			case OpenLayers.Filter.Logical.NOT:
				return !this.filters[0].evaluate(e)
			}
		},
		clone : function () {
			for (var e = [], t = 0, n = this.filters.length; t < n; ++t)
				e.push(this.filters[t].clone());
			return new OpenLayers.Filter.Logical({
				type : this.type,
				filters : e
			})
		},
		CLASS_NAME : "OpenLayers.Filter.Logical"
	}), OpenLayers.Filter.Logical.AND = "&&", OpenLayers.Filter.Logical.OR = "||", OpenLayers.Filter.Logical.NOT = "!", OpenLayers.Filter.Comparison = OpenLayers.Class(OpenLayers.Filter, {
		type : null,
		property : null,
		value : null,
		matchCase : !0,
		lowerBoundary : null,
		upperBoundary : null,
		initialize : function (e) {
			OpenLayers.Filter.prototype.initialize.apply(this, [e]),
			this.type === OpenLayers.Filter.Comparison.LIKE && void 0 === e.matchCase && (this.matchCase = null)
		},
		evaluate : function (e) {
			e instanceof OpenLayers.Feature.Vector && (e = e.attributes);
			var t = !1,
			e = e[this.property];
			switch (this.type) {
			case OpenLayers.Filter.Comparison.EQUAL_TO:
				t = this.value,
				t = !this.matchCase && "string" == typeof e && "string" == typeof t ? e.toUpperCase() == t.toUpperCase() : e == t;
				break;
			case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:
				t = this.value,
				t = !this.matchCase && "string" == typeof e && "string" == typeof t ? e.toUpperCase() != t.toUpperCase() : e != t;
				break;
			case OpenLayers.Filter.Comparison.LESS_THAN:
				t = e < this.value;
				break;
			case OpenLayers.Filter.Comparison.GREATER_THAN:
				t = e > this.value;
				break;
			case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:
				t = e <= this.value;
				break;
			case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:
				t = e >= this.value;
				break;
			case OpenLayers.Filter.Comparison.BETWEEN:
				t = e >= this.lowerBoundary && e <= this.upperBoundary;
				break;
			case OpenLayers.Filter.Comparison.LIKE:
				t = RegExp(this.value, "gi").test(e)
			}
			return t
		},
		value2regex : function (e, t, n) {
			if ("." == e)
				throw Error("'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison");
			return e = e ? e : "*",
			t = t ? t : ".",
			this.value = this.value.replace(RegExp("\\" + (n ? n : "!") + "(.|$)", "g"), "\\$1"),
			this.value = this.value.replace(RegExp("\\" + t, "g"), "."),
			this.value = this.value.replace(RegExp("\\" + e, "g"), ".*"),
			this.value = this.value.replace(RegExp("\\\\.\\*", "g"), "\\" + e),
			this.value = this.value.replace(RegExp("\\\\\\.", "g"), "\\" + t)
		},
		regex2value : function () {
			var e = this.value,
			e = e.replace(/!/g, "!!"),
			e = e.replace(/(\\)?\\\./g, function (e, t) {
					return t ? e : "!."
				}),
			e = e.replace(/(\\)?\\\*/g, function (e, t) {
					return t ? e : "!*"
				}),
			e = e.replace(/\\\\/g, "\\");
			return e = e.replace(/\.\*/g, "*")
		},
		clone : function () {
			return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison, this)
		},
		CLASS_NAME : "OpenLayers.Filter.Comparison"
	}), OpenLayers.Filter.Comparison.EQUAL_TO = "==", OpenLayers.Filter.Comparison.NOT_EQUAL_TO = "!=", OpenLayers.Filter.Comparison.LESS_THAN = "<", OpenLayers.Filter.Comparison.GREATER_THAN = ">", OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO = "<=", OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO = ">=", OpenLayers.Filter.Comparison.BETWEEN = "..", OpenLayers.Filter.Comparison.LIKE = "~", OpenLayers.Format.Filter = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.0.0",
		CLASS_NAME : "OpenLayers.Format.Filter"
	}), OpenLayers.Filter.Function = OpenLayers.Class(OpenLayers.Filter, {
		name : null,
		params : null,
		CLASS_NAME : "OpenLayers.Filter.Function"
	}), OpenLayers.Format.Filter.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ogc : "http://www.opengis.net/ogc",
			gml : "http://www.opengis.net/gml",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		defaultPrefix : "ogc",
		schemaLocation : null,
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			var t = {};
			return this.readers.ogc.Filter.apply(this, [e, t]),
			t.filter
		},
		readers : {
			ogc : {
				_expression : function (e) {
					for (var t = "", n = e.firstChild; n; n = n.nextSibling)
						switch (n.nodeType) {
						case 1:
							e = this.readNode(n),
							e.property ? t += "${" + e.property + "}" : void 0 !== e.value && (t += e.value);
							break;
						case 3:
						case 4:
							t += n.nodeValue
						}
					return t
				},
				Filter : function (e, t) {
					var n = {
						fids : [],
						filters : []
					};
					this.readChildNodes(e, n),
					0 < n.fids.length ? t.filter = new OpenLayers.Filter.FeatureId({
							fids : n.fids
						}) : 0 < n.filters.length && (t.filter = n.filters[0])
				},
				FeatureId : function (e, t) {
					var n = e.getAttribute("fid");
					n && t.fids.push(n)
				},
				And : function (e, t) {
					var n = new OpenLayers.Filter.Logical({
							type : OpenLayers.Filter.Logical.AND
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				Or : function (e, t) {
					var n = new OpenLayers.Filter.Logical({
							type : OpenLayers.Filter.Logical.OR
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				Not : function (e, t) {
					var n = new OpenLayers.Filter.Logical({
							type : OpenLayers.Filter.Logical.NOT
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsLessThan : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.LESS_THAN
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsGreaterThan : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.GREATER_THAN
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsLessThanOrEqualTo : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsGreaterThanOrEqualTo : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsBetween : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.BETWEEN
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				Literal : function (e, t) {
					t.value = OpenLayers.String.numericIf(this.getChildValue(e))
				},
				PropertyName : function (e, t) {
					t.property = this.getChildValue(e)
				},
				LowerBoundary : function (e, t) {
					t.lowerBoundary = OpenLayers.String.numericIf(this.readers.ogc._expression.call(this, e))
				},
				UpperBoundary : function (e, t) {
					t.upperBoundary = OpenLayers.String.numericIf(this.readers.ogc._expression.call(this, e))
				},
				Intersects : function (e, t) {
					this.readSpatial(e, t, OpenLayers.Filter.Spatial.INTERSECTS)
				},
				Within : function (e, t) {
					this.readSpatial(e, t, OpenLayers.Filter.Spatial.WITHIN)
				},
				Contains : function (e, t) {
					this.readSpatial(e, t, OpenLayers.Filter.Spatial.CONTAINS)
				},
				DWithin : function (e, t) {
					this.readSpatial(e, t, OpenLayers.Filter.Spatial.DWITHIN)
				},
				Distance : function (e, t) {
					t.distance = parseInt(this.getChildValue(e)),
					t.distanceUnits = e.getAttribute("units")
				},
				Function : function () {}

			}
		},
		readSpatial : function (e, t, n) {
			n = new OpenLayers.Filter.Spatial({
					type : n
				}),
			this.readChildNodes(e, n),
			n.value = n.components[0],
			delete n.components,
			t.filters.push(n)
		},
		writeOgcExpression : function (e, t) {
			if (e instanceof OpenLayers.Filter.Function) {
				var n = this.writeNode("Function", e, t);
				t.appendChild(n)
			} else
				this.writeNode("Literal", e, t);
			return t
		},
		write : function (e) {
			return this.writers.ogc.Filter.apply(this, [e])
		},
		writeFeatureIdNodes : function (e, t) {
			for (var n = 0, r = e.fids.length; n < r; ++n)
				this.writeNode("FeatureId", e.fids[n], t)
		},
		writers : {
			ogc : {
				Filter : function (e) {
					var t = this.createElementNSPlus("ogc:Filter");
					return "FID" === e.type ? OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this, e, t) : this.writeNode(this.getFilterType(e), e, t),
					t
				},
				FeatureId : function (e) {
					return this.createElementNSPlus("ogc:FeatureId", {
						attributes : {
							fid : e
						}
					})
				},
				And : function (e) {
					for (var t = this.createElementNSPlus("ogc:And"), n, r = 0, i = e.filters.length; r < i; ++r)
						n = e.filters[r], "FID" === n.type ? OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this, n, t) : this.writeNode(this.getFilterType(n), n, t);
					return t
				},
				Or : function (e) {
					for (var t = this.createElementNSPlus("ogc:Or"), n, r = 0, i = e.filters.length; r < i; ++r)
						n = e.filters[r], "FID" === n.type ? OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this, n, t) : this.writeNode(this.getFilterType(n), n, t);
					return t
				},
				Not : function (e) {
					var t = this.createElementNSPlus("ogc:Not"),
					e = e.filters[0];
					return "FID" === e.type ? OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this, e, t) : this.writeNode(this.getFilterType(e), e, t),
					t
				},
				PropertyIsLessThan : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsLessThan");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsGreaterThan : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsGreaterThan");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsLessThanOrEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsLessThanOrEqualTo");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsGreaterThanOrEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsGreaterThanOrEqualTo");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsBetween : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsBetween");
					return this.writeNode("PropertyName", e, t),
					this.writeNode("LowerBoundary", e, t),
					this.writeNode("UpperBoundary", e, t),
					t
				},
				PropertyName : function (e) {
					return this.createElementNSPlus("ogc:PropertyName", {
						value : e.property
					})
				},
				Literal : function (e) {
					return this.createElementNSPlus("ogc:Literal", {
						value : e
					})
				},
				LowerBoundary : function (e) {
					var t = this.createElementNSPlus("ogc:LowerBoundary");
					return this.writeOgcExpression(e.lowerBoundary, t),
					t
				},
				UpperBoundary : function (e) {
					var t = this.createElementNSPlus("ogc:UpperBoundary");
					return this.writeNode("Literal", e.upperBoundary, t),
					t
				},
				INTERSECTS : function (e) {
					return this.writeSpatial(e, "Intersects")
				},
				WITHIN : function (e) {
					return this.writeSpatial(e, "Within")
				},
				CONTAINS : function (e) {
					return this.writeSpatial(e, "Contains")
				},
				DWITHIN : function (e) {
					var t = this.writeSpatial(e, "DWithin");
					return this.writeNode("Distance", e, t),
					t
				},
				Distance : function (e) {
					return this.createElementNSPlus("ogc:Distance", {
						attributes : {
							units : e.distanceUnits
						},
						value : e.distance
					})
				},
				Function : function (e) {
					for (var t = this.createElementNSPlus("ogc:Function", {
								attributes : {
									name : e.name
								}
							}), e = e.params, n = 0, r = e.length; n < r; n++)
						this.writeOgcExpression(e[n], t);
					return t
				}
			}
		},
		getFilterType : function (e) {
			var t = this.filterMap[e.type];
			if (!t)
				throw "Filter writing not supported for rule type: " + e.type;
			return t
		},
		filterMap : {
			"&&" : "And",
			"||" : "Or",
			"!" : "Not",
			"==" : "PropertyIsEqualTo",
			"!=" : "PropertyIsNotEqualTo",
			"<" : "PropertyIsLessThan",
			">" : "PropertyIsGreaterThan",
			"<=" : "PropertyIsLessThanOrEqualTo",
			">=" : "PropertyIsGreaterThanOrEqualTo",
			".." : "PropertyIsBetween",
			"~" : "PropertyIsLike",
			BBOX : "BBOX",
			DWITHIN : "DWITHIN",
			WITHIN : "WITHIN",
			CONTAINS : "CONTAINS",
			INTERSECTS : "INTERSECTS",
			FID : "FeatureId"
		},
		CLASS_NAME : "OpenLayers.Format.Filter.v1"
	}), OpenLayers.Geometry = OpenLayers.Class({
		id : null,
		parent : null,
		bounds : null,
		initialize : function () {
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		destroy : function () {
			this.bounds = this.id = null
		},
		clone : function () {
			return new OpenLayers.Geometry
		},
		setBounds : function (e) {
			e && (this.bounds = e.clone())
		},
		clearBounds : function () {
			this.bounds = null,
			this.parent && this.parent.clearBounds()
		},
		extendBounds : function (e) {
			this.getBounds() ? this.bounds.extend(e) : this.setBounds(e)
		},
		getBounds : function () {
			return null == this.bounds && this.calculateBounds(),
			this.bounds
		},
		calculateBounds : function () {},
		distanceTo : function () {},
		getVertices : function () {},
		atPoint : function (e, t, n) {
			var r = !1;
			return null != this.getBounds() && null != e && (t = null != t ? t : 0, n = null != n ? n : 0, r = (new OpenLayers.Bounds(this.bounds.left - t, this.bounds.bottom - n, this.bounds.right + t, this.bounds.top + n)).containsLonLat(e)),
			r
		},
		getLength : function () {
			return 0
		},
		getArea : function () {
			return 0
		},
		getCentroid : function () {
			return null
		},
		toString : function () {
			return OpenLayers.Format && OpenLayers.Format.WKT ? OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this)) : Object.prototype.toString.call(this)
		},
		CLASS_NAME : "OpenLayers.Geometry"
	}), OpenLayers.Geometry.fromWKT = function (e) {
	var t;
	if (OpenLayers.Format && OpenLayers.Format.WKT) {
		var n = OpenLayers.Geometry.fromWKT.format;
		n || (n = new OpenLayers.Format.WKT, OpenLayers.Geometry.fromWKT.format = n),
		e = n.read(e);
		if (e instanceof OpenLayers.Feature.Vector)
			t = e.geometry;
		else if (OpenLayers.Util.isArray(e)) {
			t = e.length;
			for (var n = Array(t), r = 0; r < t; ++r)
				n[r] = e[r].geometry;
			t = new OpenLayers.Geometry.Collection(n)
		}
	}
	return t
}, OpenLayers.Geometry.segmentsIntersect = function (e, t, n) {
	var r = n && n.point,
	n = n && n.tolerance,
	i = !1,
	s = e.x1 - t.x1,
	o = e.y1 - t.y1,
	u = e.x2 - e.x1,
	a = e.y2 - e.y1,
	f = t.y2 - t.y1,
	l = t.x2 - t.x1,
	c = f * u - l * a,
	f = l * o - f * s,
	o = u * o - a * s;
	0 == c ? 0 == f && 0 == o && (i = !0) : (s = f / c, c = o / c, 0 <= s && 1 >= s && 0 <= c && 1 >= c && (r ? (u = e.x1 + s * u, c = e.y1 + s * a, i = new OpenLayers.Geometry.Point(u, c)) : i = !0));
	if (n)
		if (i) {
			if (r) {
				e = [e, t],
				t = 0;
				e : for (; 2 > t; ++t) {
					s = e[t];
					for (a = 1; 3 > a; ++a)
						if (u = s["x" + a], c = s["y" + a], r = Math.sqrt(Math.pow(u - i.x, 2) + Math.pow(c - i.y, 2)), r < n) {
							i.x = u,
							i.y = c;
							break e
						}
				}
			}
		} else {
			e = [e, t],
			t = 0;
			e : for (; 2 > t; ++t) {
				u = e[t],
				c = e[(t + 1) % 2];
				for (a = 1; 3 > a; ++a)
					if (s = {
							x : u["x" + a],
							y : u["y" + a]
						}, o = OpenLayers.Geometry.distanceToSegment(s, c), o.distance < n) {
						i = r ? new OpenLayers.Geometry.Point(s.x, s.y) : !0;
						break e
					}
			}
		}
	return i
}, OpenLayers.Geometry.distanceToSegment = function (e, t) {
	var n = e.x,
	r = e.y,
	i = t.x1,
	s = t.y1,
	o = t.x2,
	u = t.y2,
	a = o - i,
	f = u - s,
	l = (a * (n - i) + f * (r - s)) / (Math.pow(a, 2) + Math.pow(f, 2));
	return 0 >= l || (1 <= l ? (i = o, s = u) : (i += l * a, s += l * f)), {
		distance : Math.sqrt(Math.pow(i - n, 2) + Math.pow(s - r, 2)),
		x : i,
		y : s
	}
}, OpenLayers.Geometry.Point = OpenLayers.Class(OpenLayers.Geometry, {
		x : null,
		y : null,
		initialize : function (e, t) {
			OpenLayers.Geometry.prototype.initialize.apply(this, arguments),
			this.x = parseFloat(e),
			this.y = parseFloat(t)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Geometry.Point(this.x, this.y)),
			OpenLayers.Util.applyDefaults(e, this),
			e
		},
		calculateBounds : function () {
			this.bounds = new OpenLayers.Bounds(this.x, this.y, this.x, this.y)
		},
		distanceTo : function (e, t) {
			var n = (!t || !1 !== t.edge) && t && t.details,
			r,
			i,
			s,
			o,
			u;
			return e instanceof OpenLayers.Geometry.Point ? (i = this.x, s = this.y, o = e.x, u = e.y, r = Math.sqrt(Math.pow(i - o, 2) + Math.pow(s - u, 2)), r = n ? {
					x0 : i,
					y0 : s,
					x1 : o,
					y1 : u,
					distance : r
				}
				 : r) : (r = e.distanceTo(this, t), n && (r = {
						x0 : r.x1,
						y0 : r.y1,
						x1 : r.x0,
						y1 : r.y0,
						distance : r.distance
					})),
			r
		},
		equals : function (e) {
			var t = !1;
			return null != e && (t = this.x == e.x && this.y == e.y || isNaN(this.x) && isNaN(this.y) && isNaN(e.x) && isNaN(e.y)),
			t
		},
		toShortString : function () {
			return this.x + ", " + this.y
		},
		move : function (e, t) {
			this.x += e,
			this.y += t,
			this.clearBounds()
		},
		rotate : function (e, t) {
			var e = e * (Math.PI / 180),
			n = this.distanceTo(t),
			r = e + Math.atan2(this.y - t.y, this.x - t.x);
			this.x = t.x + n * Math.cos(r),
			this.y = t.y + n * Math.sin(r),
			this.clearBounds()
		},
		getCentroid : function () {
			return new OpenLayers.Geometry.Point(this.x, this.y)
		},
		resize : function (e, t, n) {
			return this.x = t.x + e * (void 0 == n ? 1 : n) * (this.x - t.x),
			this.y = t.y + e * (this.y - t.y),
			this.clearBounds(),
			this
		},
		intersects : function (e) {
			var t = !1;
			return t = "OpenLayers.Geometry.Point" == e.CLASS_NAME ? this.equals(e) : e.intersects(this)
		},
		transform : function (e, t) {
			return e && t && (OpenLayers.Projection.transform(this, e, t), this.bounds = null),
			this
		},
		getVertices : function () {
			return [this]
		},
		CLASS_NAME : "OpenLayers.Geometry.Point"
	}), OpenLayers.Geometry.Collection = OpenLayers.Class(OpenLayers.Geometry, {
		components : null,
		componentTypes : null,
		initialize : function (e) {
			OpenLayers.Geometry.prototype.initialize.apply(this, arguments),
			this.components = [],
			null != e && this.addComponents(e)
		},
		destroy : function () {
			this.components.length = 0,
			this.components = null,
			OpenLayers.Geometry.prototype.destroy.apply(this, arguments)
		},
		clone : function () {
			for (var a = eval("new " + this.CLASS_NAME + "()"), b = 0, c = this.components.length; b < c; b++)
				a.addComponent(this.components[b].clone());
			return OpenLayers.Util.applyDefaults(a, this),
			a
		},
		getComponentsString : function () {
			for (var e = [], t = 0, n = this.components.length; t < n; t++)
				e.push(this.components[t].toShortString());
			return e.join(",")
		},
		calculateBounds : function () {
			this.bounds = null;
			var e = new OpenLayers.Bounds,
			t = this.components;
			if (t)
				for (var n = 0, r = t.length; n < r; n++)
					e.extend(t[n].getBounds());
			null != e.left && null != e.bottom && null != e.right && null != e.top && this.setBounds(e)
		},
		addComponents : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var t = 0, n = e.length; t < n; t++)
				this.addComponent(e[t])
		},
		addComponent : function (e, t) {
			var n = !1;
			if (e && (null == this.componentTypes || -1 < OpenLayers.Util.indexOf(this.componentTypes, e.CLASS_NAME))) {
				if (null != t && t < this.components.length) {
					var n = this.components.slice(0, t),
					r = this.components.slice(t, this.components.length);
					n.push(e),
					this.components = n.concat(r)
				} else
					this.components.push(e);
				e.parent = this,
				this.clearBounds(),
				n = !0
			}
			return n
		},
		removeComponents : function (e) {
			var t = !1;
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var n = e.length - 1; 0 <= n; --n)
				t = this.removeComponent(e[n]) || t;
			return t
		},
		removeComponent : function (e) {
			return OpenLayers.Util.removeItem(this.components, e),
			this.clearBounds(),
			!0
		},
		getLength : function () {
			for (var e = 0, t = 0, n = this.components.length; t < n; t++)
				e += this.components[t].getLength();
			return e
		},
		getArea : function () {
			for (var e = 0, t = 0, n = this.components.length; t < n; t++)
				e += this.components[t].getArea();
			return e
		},
		getGeodesicArea : function (e) {
			for (var t = 0, n = 0, r = this.components.length; n < r; n++)
				t += this.components[n].getGeodesicArea(e);
			return t
		},
		getCentroid : function (e) {
			if (!e)
				return this.components.length && this.components[0].getCentroid();
			e = this.components.length;
			if (!e)
				return !1;
			for (var t = [], n = [], r = 0, i = Number.MAX_VALUE, s, o = 0; o < e; ++o) {
				s = this.components[o];
				var u = s.getArea();
				s = s.getCentroid(!0),
				!isNaN(u) && !isNaN(s.x) && !isNaN(s.y) && (t.push(u), r += u, i = u < i && 0 < u ? u : i, n.push(s))
			}
			e = t.length;
			if (0 === r) {
				for (o = 0; o < e; ++o)
					t[o] = 1;
				r = t.length
			} else {
				for (o = 0; o < e; ++o)
					t[o] /= i;
				r /= i
			}
			for (var a = i = 0, o = 0; o < e; ++o)
				s = n[o], u = t[o], i += s.x * u, a += s.y * u;
			return new OpenLayers.Geometry.Point(i / r, a / r)
		},
		getGeodesicLength : function (e) {
			for (var t = 0, n = 0, r = this.components.length; n < r; n++)
				t += this.components[n].getGeodesicLength(e);
			return t
		},
		move : function (e, t) {
			for (var n = 0, r = this.components.length; n < r; n++)
				this.components[n].move(e, t)
		},
		rotate : function (e, t) {
			for (var n = 0, r = this.components.length; n < r; ++n)
				this.components[n].rotate(e, t)
		},
		resize : function (e, t, n) {
			for (var r = 0; r < this.components.length; ++r)
				this.components[r].resize(e, t, n);
			return this
		},
		distanceTo : function (e, t) {
			for (var n = (!t || !1 !== t.edge) && t && t.details, r, i, s, o = Number.POSITIVE_INFINITY, u = 0, a = this.components.length; u < a && !(r = this.components[u].distanceTo(e, t), s = n ? r.distance : r, s < o && (o = s, i = r, 0 == o)); ++u);
			return i
		},
		equals : function (e) {
			var t = !0;
			if (!e || !e.CLASS_NAME || this.CLASS_NAME != e.CLASS_NAME)
				t = !1;
			else if (!OpenLayers.Util.isArray(e.components) || e.components.length != this.components.length)
				t = !1;
			else
				for (var n = 0, r = this.components.length; n < r; ++n)
					if (!this.components[n].equals(e.components[n])) {
						t = !1;
						break
					}
			return t
		},
		transform : function (e, t) {
			if (e && t) {
				for (var n = 0, r = this.components.length; n < r; n++)
					this.components[n].transform(e, t);
				this.bounds = null
			}
			return this
		},
		intersects : function (e) {
			for (var t = !1, n = 0, r = this.components.length; n < r && !(t = e.intersects(this.components[n])); ++n);
			return t
		},
		getVertices : function (e) {
			for (var t = [], n = 0, r = this.components.length; n < r; ++n)
				Array.prototype.push.apply(t, this.components[n].getVertices(e));
			return t
		},
		CLASS_NAME : "OpenLayers.Geometry.Collection"
	}), OpenLayers.Geometry.MultiPoint = OpenLayers.Class(OpenLayers.Geometry.Collection, {
		componentTypes : ["OpenLayers.Geometry.Point"],
		addPoint : function (e, t) {
			this.addComponent(e, t)
		},
		removePoint : function (e) {
			this.removeComponent(e)
		},
		CLASS_NAME : "OpenLayers.Geometry.MultiPoint"
	}), OpenLayers.Geometry.Curve = OpenLayers.Class(OpenLayers.Geometry.MultiPoint, {
		componentTypes : ["OpenLayers.Geometry.Point"],
		getLength : function () {
			var e = 0;
			if (this.components && 1 < this.components.length)
				for (var t = 1, n = this.components.length; t < n; t++)
					e += this.components[t - 1].distanceTo(this.components[t]);
			return e
		},
		getGeodesicLength : function (e) {
			var t = this;
			if (e) {
				var n = new OpenLayers.Projection("EPSG:4326");
				n.equals(e) || (t = this.clone().transform(e, n))
			}
			e = 0;
			if (t.components && 1 < t.components.length)
				for (var r, i = 1, s = t.components.length; i < s; i++)
					n = t.components[i - 1], r = t.components[i], e += OpenLayers.Util.distVincenty({
						lon : n.x,
						lat : n.y
					}, {
						lon : r.x,
						lat : r.y
					});
			return 1e3 * e
		},
		CLASS_NAME : "OpenLayers.Geometry.Curve"
	}), OpenLayers.Geometry.LineString = OpenLayers.Class(OpenLayers.Geometry.Curve, {
		removeComponent : function (e) {
			var t = this.components && 2 < this.components.length;
			return t && OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this, arguments),
			t
		},
		intersects : function (e) {
			var t = !1,
			n = e.CLASS_NAME;
			if ("OpenLayers.Geometry.LineString" == n || "OpenLayers.Geometry.LinearRing" == n || "OpenLayers.Geometry.Point" == n) {
				var r = this.getSortedSegments(),
				e = "OpenLayers.Geometry.Point" == n ? [{
							x1 : e.x,
							y1 : e.y,
							x2 : e.x,
							y2 : e.y
						}
					] : e.getSortedSegments(),
				i,
				s,
				o,
				u,
				a,
				f,
				l,
				c = 0,
				h = r.length;
				e : for (; c < h; ++c) {
					n = r[c],
					i = n.x1,
					s = n.x2,
					o = n.y1,
					u = n.y2;
					var p = 0,
					d = e.length;
					for (; p < d; ++p) {
						a = e[p];
						if (a.x1 > s)
							break;
						if (!(a.x2 < i) && (f = a.y1, l = a.y2, !(Math.min(f, l) > Math.max(o, u)) && !(Math.max(f, l) < Math.min(o, u)) && OpenLayers.Geometry.segmentsIntersect(n, a))) {
							t = !0;
							break e
						}
					}
				}
			} else
				t = e.intersects(this);
			return t
		},
		getSortedSegments : function () {
			for (var e = this.components.length - 1, t = Array(e), n, r, i = 0; i < e; ++i)
				n = this.components[i], r = this.components[i + 1], t[i] = n.x < r.x ? {
					x1 : n.x,
					y1 : n.y,
					x2 : r.x,
					y2 : r.y
				}
			 : {
				x1 : r.x,
				y1 : r.y,
				x2 : n.x,
				y2 : n.y
			};
			return t.sort(function (e, t) {
				return e.x1 - t.x1
			})
		},
		splitWithSegment : function (e, t) {
			for (var n = !t || !1 !== t.edge, r = t && t.tolerance, i = [], s = this.getVertices(), o = [], u = [], a = !1, f, l, c, h = {
					point : !0,
					tolerance : r
				}, p = null, d = 0, v = s.length - 2; d <= v; ++d)
				if (r = s[d], o.push(r.clone()), f = s[d + 1], l = {
						x1 : r.x,
						y1 : r.y,
						x2 : f.x,
						y2 : f.y
					}, l = OpenLayers.Geometry.segmentsIntersect(e, l, h), l instanceof OpenLayers.Geometry.Point && ((c = l.x === e.x1 && l.y === e.y1 || l.x === e.x2 && l.y === e.y2 || l.equals(r) || l.equals(f) ? !0 : !1) || n))
					l.equals(u[u.length - 1]) || u.push(l.clone()), (0 !== d || !l.equals(r)) && !l.equals(f) && (a = !0, l.equals(r) || o.push(l), i.push(new OpenLayers.Geometry.LineString(o)), o = [l.clone()]);
			a && (o.push(f.clone()), i.push(new OpenLayers.Geometry.LineString(o)));
			if (0 < u.length)
				var m = e.x1 < e.x2 ? 1 : -1, g = e.y1 < e.y2 ? 1 : -1, p = {
					lines : i,
					points : u.sort(function (e, t) {
						return m * e.x - m * t.x || g * e.y - g * t.y
					})
				};
			return p
		},
		split : function (e, t) {
			var n = null,
			r = t && t.mutual,
			i,
			s,
			o,
			u;
			if (e instanceof OpenLayers.Geometry.LineString) {
				var a = this.getVertices(),
				f,
				l,
				c,
				h,
				p,
				d = [];
				o = [];
				for (var v = 0, m = a.length - 2; v <= m; ++v) {
					f = a[v],
					l = a[v + 1],
					c = {
						x1 : f.x,
						y1 : f.y,
						x2 : l.x,
						y2 : l.y
					},
					u = u || [e],
					r && d.push(f.clone());
					for (var g = 0; g < u.length; ++g)
						if (h = u[g].splitWithSegment(c, t))
							if (p = h.lines, 0 < p.length && (p.unshift(g, 1), Array.prototype.splice.apply(u, p), g += p.length - 2), r)
								for (var y = 0, b = h.points.length; y < b; ++y)
									p = h.points[y], p.equals(f) || (d.push(p), o.push(new OpenLayers.Geometry.LineString(d)), d = p.equals(l) ? [] : [p.clone()])
				}
				r && 0 < o.length && 0 < d.length && (d.push(l.clone()), o.push(new OpenLayers.Geometry.LineString(d)))
			} else
				n = e.splitWith(this, t);
			u && 1 < u.length ? s = !0 : u = [],
			o && 1 < o.length ? i = !0 : o = [];
			if (s || i)
				n = r ? [o, u] : u;
			return n
		},
		splitWith : function (e, t) {
			return e.split(this, t)
		},
		getVertices : function (e) {
			return !0 === e ? [this.components[0], this.components[this.components.length - 1]] : !1 === e ? this.components.slice(1, this.components.length - 1) : this.components.slice()
		},
		distanceTo : function (e, t) {
			var n = (!t || !1 !== t.edge) && t && t.details,
			r,
			i = {},
			s = Number.POSITIVE_INFINITY;
			if (e instanceof OpenLayers.Geometry.Point) {
				for (var o = this.getSortedSegments(), u = e.x, a = e.y, f, l = 0, c = o.length; l < c; ++l)
					if (f = o[l], r = OpenLayers.Geometry.distanceToSegment(e, f), r.distance < s) {
						if (s = r.distance, i = r, 0 === s)
							break
					} else if (f.x2 > u && (a > f.y1 && a < f.y2 || a < f.y1 && a > f.y2))
						break;
				i = n ? {
					distance : i.distance,
					x0 : i.x,
					y0 : i.y,
					x1 : u,
					y1 : a
				}
				 : i.distance
			} else if (e instanceof OpenLayers.Geometry.LineString) {
				var o = this.getSortedSegments(),
				u = e.getSortedSegments(),
				h,
				p,
				d = u.length,
				v = {
					point : !0
				},
				l = 0,
				c = o.length;
				e : for (; l < c; ++l) {
					a = o[l],
					f = a.x1,
					p = a.y1;
					for (var m = 0; m < d; ++m) {
						if (r = u[m], h = OpenLayers.Geometry.segmentsIntersect(a, r, v)) {
							s = 0,
							i = {
								distance : 0,
								x0 : h.x,
								y0 : h.y,
								x1 : h.x,
								y1 : h.y
							};
							break e
						}
						r = OpenLayers.Geometry.distanceToSegment({
								x : f,
								y : p
							}, r),
						r.distance < s && (s = r.distance, i = {
								distance : s,
								x0 : f,
								y0 : p,
								x1 : r.x,
								y1 : r.y
							})
					}
				}
				n || (i = i.distance),
				0 !== s && a && (r = e.distanceTo(new OpenLayers.Geometry.Point(a.x2, a.y2), t), l = n ? r.distance : r, l < s && (i = n ? {
							distance : s,
							x0 : r.x1,
							y0 : r.y1,
							x1 : r.x0,
							y1 : r.y0
						}
						 : l))
			} else
				i = e.distanceTo(this, t), n && (i = {
						distance : i.distance,
						x0 : i.x1,
						y0 : i.y1,
						x1 : i.x0,
						y1 : i.y0
					});
			return i
		},
		simplify : function (e) {
			if (this && null !== this) {
				var t = this.getVertices();
				if (3 > t.length)
					return this;
				var n = function (e, t, r, s) {
					for (var o = 0, u = 0, a = t, f; a < r; a++) {
						f = e[t];
						var l = e[r],
						h = e[a],
						h = Math.abs(.5 * (f.x * l.y + l.x * h.y + h.x * f.y - l.x * f.y - h.x * l.y - f.x * h.y));
						f = Math.sqrt(Math.pow(f.x - l.x, 2) + Math.pow(f.y - l.y, 2)),
						f = 2 * (h / f),
						f > o && (o = f, u = a)
					}
					o > s && u != t && (i.push(u), n(e, t, u, s), n(e, u, r, s))
				},
				r = t.length - 1,
				i = [];
				i.push(0);
				for (i.push(r); t[0].equals(t[r]); )
					r--, i.push(r);
				n(t, 0, r, e),
				e = [],
				i.sort(function (e, t) {
					return e - t
				});
				for (r = 0; r < i.length; r++)
					e.push(t[i[r]]);
				return new OpenLayers.Geometry.LineString(e)
			}
			return this
		},
		CLASS_NAME : "OpenLayers.Geometry.LineString"
	}), OpenLayers.Geometry.MultiLineString = OpenLayers.Class(OpenLayers.Geometry.Collection, {
		componentTypes : ["OpenLayers.Geometry.LineString"],
		split : function (e, t) {
			for (var n = null, r = t && t.mutual, i, s, o, u, a = [], f = [e], l = 0, c = this.components.length; l < c; ++l) {
				s = this.components[l],
				o = !1;
				for (var h = 0; h < f.length; ++h)
					if (i = s.split(f[h], t)) {
						if (r) {
							o = i[0];
							for (var p = 0, d = o.length; p < d; ++p)
								0 === p && a.length ? a[a.length - 1].addComponent(o[p]) : a.push(new OpenLayers.Geometry.MultiLineString([o[p]]));
							o = !0,
							i = i[1]
						}
						if (i.length) {
							i.unshift(h, 1),
							Array.prototype.splice.apply(f, i);
							break
						}
					}
				o || (a.length ? a[a.length - 1].addComponent(s.clone()) : a = [new OpenLayers.Geometry.MultiLineString(s.clone())])
			}
			a && 1 < a.length ? o = !0 : a = [],
			f && 1 < f.length ? u = !0 : f = [];
			if (o || u)
				n = r ? [a, f] : f;
			return n
		},
		splitWith : function (e, t) {
			var n = null,
			r = t && t.mutual,
			i,
			s,
			o,
			u,
			a,
			f;
			if (e instanceof OpenLayers.Geometry.LineString) {
				f = [],
				a = [e];
				for (var l = 0, c = this.components.length; l < c; ++l) {
					o = !1,
					s = this.components[l];
					for (var h = 0; h < a.length; ++h)
						if (i = a[h].split(s, t)) {
							r && (o = i[0], o.length && (o.unshift(h, 1), Array.prototype.splice.apply(a, o), h += o.length - 2), i = i[1], 0 === i.length && (i = [s.clone()])),
							o = 0;
							for (var p = i.length; o < p; ++o)
								0 === o && f.length ? f[f.length - 1].addComponent(i[o]) : f.push(new OpenLayers.Geometry.MultiLineString([i[o]]));
							o = !0
						}
					o || (f.length ? f[f.length - 1].addComponent(s.clone()) : f = [new OpenLayers.Geometry.MultiLineString([s.clone()])])
				}
			} else
				n = e.split(this);
			a && 1 < a.length ? u = !0 : a = [],
			f && 1 < f.length ? o = !0 : f = [];
			if (u || o)
				n = r ? [a, f] : f;
			return n
		},
		CLASS_NAME : "OpenLayers.Geometry.MultiLineString"
	}), OpenLayers.Geometry.LinearRing = OpenLayers.Class(OpenLayers.Geometry.LineString, {
		componentTypes : ["OpenLayers.Geometry.Point"],
		addComponent : function (e, t) {
			var n = !1,
			r = this.components.pop();
			if (null != t || !e.equals(r))
				n = OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, arguments);
			return OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, [this.components[0]]),
			n
		},
		removeComponent : function (e) {
			var t = this.components && 3 < this.components.length;
			return t && (this.components.pop(), OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this, arguments), OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, [this.components[0]])),
			t
		},
		move : function (e, t) {
			for (var n = 0, r = this.components.length; n < r - 1; n++)
				this.components[n].move(e, t)
		},
		rotate : function (e, t) {
			for (var n = 0, r = this.components.length; n < r - 1; ++n)
				this.components[n].rotate(e, t)
		},
		resize : function (e, t, n) {
			for (var r = 0, i = this.components.length; r < i - 1; ++r)
				this.components[r].resize(e, t, n);
			return this
		},
		transform : function (e, t) {
			if (e && t) {
				for (var n = 0, r = this.components.length; n < r - 1; n++)
					this.components[n].transform(e, t);
				this.bounds = null
			}
			return this
		},
		getCentroid : function () {
			if (this.components && 2 < this.components.length) {
				for (var e = 0, t = 0, n = 0; n < this.components.length - 1; n++)
					var r = this.components[n], i = this.components[n + 1], e = e + (r.x + i.x) * (r.x * i.y - i.x * r.y), t = t + (r.y + i.y) * (r.x * i.y - i.x * r.y);
				return n = -1 * this.getArea(),
				new OpenLayers.Geometry.Point(e / (6 * n), t / (6 * n))
			}
			return null
		},
		getArea : function () {
			var e = 0;
			if (this.components && 2 < this.components.length) {
				for (var t = e = 0, n = this.components.length; t < n - 1; t++)
					var r = this.components[t], i = this.components[t + 1], e = e + (r.x + i.x) * (i.y - r.y);
				e = -e / 2
			}
			return e
		},
		getGeodesicArea : function (e) {
			var t = this;
			if (e) {
				var n = new OpenLayers.Projection("EPSG:4326");
				n.equals(e) || (t = this.clone().transform(e, n))
			}
			e = 0,
			n = t.components && t.components.length;
			if (2 < n) {
				for (var r, i, s = 0; s < n - 1; s++)
					r = t.components[s], i = t.components[s + 1], e += OpenLayers.Util.rad(i.x - r.x) * (2 + Math.sin(OpenLayers.Util.rad(r.y)) + Math.sin(OpenLayers.Util.rad(i.y)));
				e = 40680631590769 * e / 2
			}
			return e
		},
		containsPoint : function (e) {
			for (var t = OpenLayers.Number.limitSigDigs, n = t(e.x, 14), e = t(e.y, 14), r = this.components.length - 1, i, s, o, u, a, f = 0, l = 0; l < r; ++l)
				if (i = this.components[l], o = t(i.x, 14), i = t(i.y, 14), s = this.components[l + 1], u = t(s.x, 14), s = t(s.y, 14), i == s) {
					if (e == i && (o <= u && n >= o && n <= u || o >= u && n <= o && n >= u)) {
						f = -1;
						break
					}
				} else {
					a = t((e - s) * ((u - o) / (s - i)) + u, 14);
					if (a == n && (i < s && e >= i && e <= s || i > s && e <= i && e >= s)) {
						f = -1;
						break
					}
					a <= n || o != u && (a < Math.min(o, u) || a > Math.max(o, u)) || (i < s && e >= i && e < s || i > s && e < i && e >= s) && ++f
				}
			return -1 == f ? 1 : !!(f & 1)
		},
		intersects : function (e) {
			var t = !1;
			if ("OpenLayers.Geometry.Point" == e.CLASS_NAME)
				t = this.containsPoint(e);
			else if ("OpenLayers.Geometry.LineString" == e.CLASS_NAME)
				t = e.intersects(this);
			else if ("OpenLayers.Geometry.LinearRing" == e.CLASS_NAME)
				t = OpenLayers.Geometry.LineString.prototype.intersects.apply(this, [e]);
			else
				for (var n = 0, r = e.components.length; n < r && !(t = e.components[n].intersects(this)); ++n);
			return t
		},
		getVertices : function (e) {
			return !0 === e ? [] : this.components.slice(0, this.components.length - 1)
		},
		CLASS_NAME : "OpenLayers.Geometry.LinearRing"
	}), OpenLayers.Geometry.Polygon = OpenLayers.Class(OpenLayers.Geometry.Collection, {
		componentTypes : ["OpenLayers.Geometry.LinearRing"],
		getArea : function () {
			var e = 0;
			if (this.components && 0 < this.components.length)
				for (var e = e + Math.abs(this.components[0].getArea()), t = 1, n = this.components.length; t < n; t++)
					e -= Math.abs(this.components[t].getArea());
			return e
		},
		getGeodesicArea : function (e) {
			var t = 0;
			if (this.components && 0 < this.components.length)
				for (var t = t + Math.abs(this.components[0].getGeodesicArea(e)), n = 1, r = this.components.length; n < r; n++)
					t -= Math.abs(this.components[n].getGeodesicArea(e));
			return t
		},
		containsPoint : function (e) {
			var t = this.components.length,
			n = !1;
			if (0 < t && (n = this.components[0].containsPoint(e), 1 !== n && n && 1 < t))
				for (var r, i = 1; i < t; ++i)
					if (r = this.components[i].containsPoint(e)) {
						n = 1 === r ? 1 : !1;
						break
					}
			return n
		},
		intersects : function (e) {
			var t = !1,
			n,
			r;
			if ("OpenLayers.Geometry.Point" == e.CLASS_NAME)
				t = this.containsPoint(e);
			else if ("OpenLayers.Geometry.LineString" == e.CLASS_NAME || "OpenLayers.Geometry.LinearRing" == e.CLASS_NAME) {
				n = 0;
				for (r = this.components.length; n < r && !(t = e.intersects(this.components[n])); ++n);
				if (!t) {
					n = 0;
					for (r = e.components.length; n < r && !(t = this.containsPoint(e.components[n])); ++n);
				}
			} else {
				n = 0;
				for (r = e.components.length; n < r && !(t = this.intersects(e.components[n])); ++n);
			}
			if (!t && "OpenLayers.Geometry.Polygon" == e.CLASS_NAME) {
				var i = this.components[0];
				n = 0;
				for (r = i.components.length; n < r && !(t = e.containsPoint(i.components[n])); ++n);
			}
			return t
		},
		distanceTo : function (e, t) {
			return t && !1 === t.edge && this.intersects(e) ? 0 : OpenLayers.Geometry.Collection.prototype.distanceTo.apply(this, [e, t])
		},
		CLASS_NAME : "OpenLayers.Geometry.Polygon"
	}), OpenLayers.Geometry.Polygon.createRegularPolygon = function (e, t, n, r) {
	var i = Math.PI * (1 / n - .5);
	r && (i += r / 180 * Math.PI);
	for (var s, o = [], u = 0; u < n; ++u)
		s = i + 2 * u * Math.PI / n, r = e.x + t * Math.cos(s), s = e.y + t * Math.sin(s), o.push(new OpenLayers.Geometry.Point(r, s));
	return e = new OpenLayers.Geometry.LinearRing(o),
	new OpenLayers.Geometry.Polygon([e])
}, OpenLayers.Geometry.MultiPolygon = OpenLayers.Class(OpenLayers.Geometry.Collection, {
		componentTypes : ["OpenLayers.Geometry.Polygon"],
		CLASS_NAME : "OpenLayers.Geometry.MultiPolygon"
	}), OpenLayers.Format.GML = OpenLayers.Class(OpenLayers.Format.XML, {
		featureNS : "http://mapserver.gis.umn.edu/mapserver",
		featurePrefix : "feature",
		featureName : "featureMember",
		layerName : "features",
		geometryName : "geometry",
		collectionName : "FeatureCollection",
		gmlns : "http://www.opengis.net/gml",
		extractAttributes : !0,
		xy : !0,
		initialize : function (e) {
			this.regExes = {
				trimSpace : /^\s*|\s*$/g,
				removeSpace : /\s*/g,
				splitSpace : /\s+/,
				trimComma : /\s*,\s*/g
			},
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			for (var e = this.getElementsByTagNameNS(e.documentElement, this.gmlns, this.featureName), t = [], n = 0; n < e.length; n++) {
				var r = this.parseFeature(e[n]);
				r && t.push(r)
			}
			return t
		},
		parseFeature : function (e) {
			for (var t = "MultiPolygon Polygon MultiLineString LineString MultiPoint Point Envelope".split(" "), n, r, i, s = 0; s < t.length; ++s)
				if (n = t[s], r = this.getElementsByTagNameNS(e, this.gmlns, n), 0 < r.length) {
					if (!(i = this.parseGeometry[n.toLowerCase()]))
						throw new TypeError("Unsupported geometry type: " + n);
					i = i.apply(this, [r[0]]),
					this.internalProjection && this.externalProjection && i.transform(this.externalProjection, this.internalProjection);
					break
				}
			var o;
			n = this.getElementsByTagNameNS(e, this.gmlns, "Box");
			for (s = 0; s < n.length; ++s)
				t = n[s], r = this.parseGeometry.box.apply(this, [t]), t = t.parentNode, "boundedBy" === (t.localName || t.nodeName.split(":").pop()) ? o = r : i = r.toGeometry();
			var u;
			this.extractAttributes && (u = this.parseAttributes(e)),
			u = new OpenLayers.Feature.Vector(i, u),
			u.bounds = o,
			u.gml = {
				featureType : e.firstChild.nodeName.split(":")[1],
				featureNS : e.firstChild.namespaceURI,
				featureNSPrefix : e.firstChild.prefix
			};
			for (var e = e.firstChild, a; e && (1 != e.nodeType || !(a = e.getAttribute("fid") || e.getAttribute("id"))); )
				e = e.nextSibling;
			return u.fid = a,
			u
		},
		parseGeometry : {
			point : function (e) {
				var t,
				n;
				return n = [],
				t = this.getElementsByTagNameNS(e, this.gmlns, "pos"),
				0 < t.length && (n = t[0].firstChild.nodeValue, n = n.replace(this.regExes.trimSpace, ""), n = n.split(this.regExes.splitSpace)),
				0 == n.length && (t = this.getElementsByTagNameNS(e, this.gmlns, "coordinates"), 0 < t.length && (n = t[0].firstChild.nodeValue, n = n.replace(this.regExes.removeSpace, ""), n = n.split(","))),
				0 == n.length && (t = this.getElementsByTagNameNS(e, this.gmlns, "coord"), 0 < t.length && (e = this.getElementsByTagNameNS(t[0], this.gmlns, "X"), t = this.getElementsByTagNameNS(t[0], this.gmlns, "Y"), 0 < e.length && 0 < t.length && (n = [e[0].firstChild.nodeValue, t[0].firstChild.nodeValue]))),
				2 == n.length && (n[2] = null),
				this.xy ? new OpenLayers.Geometry.Point(n[0], n[1], n[2]) : new OpenLayers.Geometry.Point(n[1], n[0], n[2])
			},
			multipoint : function (e) {
				var e = this.getElementsByTagNameNS(e, this.gmlns, "Point"),
				t = [];
				if (0 < e.length)
					for (var n, r = 0; r < e.length; ++r)
						(n = this.parseGeometry.point.apply(this, [e[r]])) && t.push(n);
				return new OpenLayers.Geometry.MultiPoint(t)
			},
			linestring : function (e, t) {
				var n,
				r;
				r = [];
				var i = [];
				n = this.getElementsByTagNameNS(e, this.gmlns, "posList");
				if (0 < n.length) {
					r = this.getChildValue(n[0]),
					r = r.replace(this.regExes.trimSpace, ""),
					r = r.split(this.regExes.splitSpace);
					var s = parseInt(n[0].getAttribute("dimension")),
					o,
					u,
					a;
					for (n = 0; n < r.length / s; ++n)
						o = n * s, u = r[o], a = r[o + 1], o = 2 == s ? null : r[o + 2], this.xy ? i.push(new OpenLayers.Geometry.Point(u, a, o)) : i.push(new OpenLayers.Geometry.Point(a, u, o))
				}
				if (0 == r.length && (n = this.getElementsByTagNameNS(e, this.gmlns, "coordinates"), 0 < n.length)) {
					r = this.getChildValue(n[0]),
					r = r.replace(this.regExes.trimSpace, ""),
					r = r.replace(this.regExes.trimComma, ","),
					s = r.split(this.regExes.splitSpace);
					for (n = 0; n < s.length; ++n)
						r = s[n].split(","), 2 == r.length && (r[2] = null), this.xy ? i.push(new OpenLayers.Geometry.Point(r[0], r[1], r[2])) : i.push(new OpenLayers.Geometry.Point(r[1], r[0], r[2]))
				}
				return r = null,
				0 != i.length && (r = t ? new OpenLayers.Geometry.LinearRing(i) : new OpenLayers.Geometry.LineString(i)),
				r
			},
			multilinestring : function (e) {
				var e = this.getElementsByTagNameNS(e, this.gmlns, "LineString"),
				t = [];
				if (0 < e.length)
					for (var n, r = 0; r < e.length; ++r)
						(n = this.parseGeometry.linestring.apply(this, [e[r]])) && t.push(n);
				return new OpenLayers.Geometry.MultiLineString(t)
			},
			polygon : function (e) {
				var e = this.getElementsByTagNameNS(e, this.gmlns, "LinearRing"),
				t = [];
				if (0 < e.length)
					for (var n, r = 0; r < e.length; ++r)
						(n = this.parseGeometry.linestring.apply(this, [e[r], !0])) && t.push(n);
				return new OpenLayers.Geometry.Polygon(t)
			},
			multipolygon : function (e) {
				var e = this.getElementsByTagNameNS(e, this.gmlns, "Polygon"),
				t = [];
				if (0 < e.length)
					for (var n, r = 0; r < e.length; ++r)
						(n = this.parseGeometry.polygon.apply(this, [e[r]])) && t.push(n);
				return new OpenLayers.Geometry.MultiPolygon(t)
			},
			envelope : function (e) {
				var t = [],
				n,
				r,
				i = this.getElementsByTagNameNS(e, this.gmlns, "lowerCorner");
				if (0 < i.length) {
					n = [],
					0 < i.length && (n = i[0].firstChild.nodeValue, n = n.replace(this.regExes.trimSpace, ""), n = n.split(this.regExes.splitSpace)),
					2 == n.length && (n[2] = null);
					var s = this.xy ? new OpenLayers.Geometry.Point(n[0], n[1], n[2]) : new OpenLayers.Geometry.Point(n[1], n[0], n[2])
				}
				e = this.getElementsByTagNameNS(e, this.gmlns, "upperCorner");
				if (0 < e.length) {
					n = [],
					0 < e.length && (n = e[0].firstChild.nodeValue, n = n.replace(this.regExes.trimSpace, ""), n = n.split(this.regExes.splitSpace)),
					2 == n.length && (n[2] = null);
					var o = this.xy ? new OpenLayers.Geometry.Point(n[0], n[1], n[2]) : new OpenLayers.Geometry.Point(n[1], n[0], n[2])
				}
				return s && o && (t.push(new OpenLayers.Geometry.Point(s.x, s.y)), t.push(new OpenLayers.Geometry.Point(o.x, s.y)), t.push(new OpenLayers.Geometry.Point(o.x, o.y)), t.push(new OpenLayers.Geometry.Point(s.x, o.y)), t.push(new OpenLayers.Geometry.Point(s.x, s.y)), t = new OpenLayers.Geometry.LinearRing(t), r = new OpenLayers.Geometry.Polygon([t])),
				r
			},
			box : function (e) {
				var t = this.getElementsByTagNameNS(e, this.gmlns, "coordinates"),
				n = e = null;
				0 < t.length && (t = t[0].firstChild.nodeValue, t = t.split(" "), 2 == t.length && (e = t[0].split(","), n = t[1].split(",")));
				if (null !== e && null !== n)
					return new OpenLayers.Bounds(parseFloat(e[0]), parseFloat(e[1]), parseFloat(n[0]), parseFloat(n[1]))
			}
		},
		parseAttributes : function (e) {
			for (var t = {}, e = e.firstChild, n, r, i; e; ) {
				if (1 == e.nodeType) {
					e = e.childNodes;
					for (n = 0; n < e.length; ++n)
						if (r = e[n], 1 == r.nodeType)
							if (i = r.childNodes, 1 == i.length) {
								if (i = i[0], 3 == i.nodeType || 4 == i.nodeType)
									r = r.prefix ? r.nodeName.split(":")[1] : r.nodeName, i = i.nodeValue.replace(this.regExes.trimSpace, ""), t[r] = i
							} else
								t[r.nodeName.split(":").pop()] = null;
					break
				}
				e = e.nextSibling
			}
			return t
		},
		write : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var t = this.createElementNS("http://www.opengis.net/wfs", "wfs:" + this.collectionName), n = 0; n < e.length; n++)
				t.appendChild(this.createFeatureXML(e[n]));
			return OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		createFeatureXML : function (e) {
			var t = this.buildGeometryNode(e.geometry),
			n = this.createElementNS(this.featureNS, this.featurePrefix + ":" + this.geometryName);
			n.appendChild(t);
			var t = this.createElementNS(this.gmlns, "gml:" + this.featureName),
			r = this.createElementNS(this.featureNS, this.featurePrefix + ":" + this.layerName);
			r.setAttribute("fid", e.fid || e.id),
			r.appendChild(n);
			for (var i in e.attributes) {
				var n = this.createTextNode(e.attributes[i]),
				s = this.createElementNS(this.featureNS, this.featurePrefix + ":" + i.substring(i.lastIndexOf(":") + 1));
				s.appendChild(n),
				r.appendChild(s)
			}
			return t.appendChild(r),
			t
		},
		buildGeometryNode : function (e) {
			this.externalProjection && this.internalProjection && (e = e.clone(), e.transform(this.internalProjection, this.externalProjection));
			var t = e.CLASS_NAME;
			return this.buildGeometry[t.substring(t.lastIndexOf(".") + 1).toLowerCase()].apply(this, [e])
		},
		buildGeometry : {
			point : function (e) {
				var t = this.createElementNS(this.gmlns, "gml:Point");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			multipoint : function (e) {
				for (var t = this.createElementNS(this.gmlns, "gml:MultiPoint"), e = e.components, n, r, i = 0; i < e.length; i++)
					n = this.createElementNS(this.gmlns, "gml:pointMember"), r = this.buildGeometry.point.apply(this, [e[i]]), n.appendChild(r), t.appendChild(n);
				return t
			},
			linestring : function (e) {
				var t = this.createElementNS(this.gmlns, "gml:LineString");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			multilinestring : function (e) {
				for (var t = this.createElementNS(this.gmlns, "gml:MultiLineString"), e = e.components, n, r, i = 0; i < e.length; ++i)
					n = this.createElementNS(this.gmlns, "gml:lineStringMember"), r = this.buildGeometry.linestring.apply(this, [e[i]]), n.appendChild(r), t.appendChild(n);
				return t
			},
			linearring : function (e) {
				var t = this.createElementNS(this.gmlns, "gml:LinearRing");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			polygon : function (e) {
				for (var t = this.createElementNS(this.gmlns, "gml:Polygon"), e = e.components, n, r, i = 0; i < e.length; ++i)
					n = 0 == i ? "outerBoundaryIs" : "innerBoundaryIs", n = this.createElementNS(this.gmlns, "gml:" + n), r = this.buildGeometry.linearring.apply(this, [e[i]]), n.appendChild(r), t.appendChild(n);
				return t
			},
			multipolygon : function (e) {
				for (var t = this.createElementNS(this.gmlns, "gml:MultiPolygon"), e = e.components, n, r, i = 0; i < e.length; ++i)
					n = this.createElementNS(this.gmlns, "gml:polygonMember"), r = this.buildGeometry.polygon.apply(this, [e[i]]), n.appendChild(r), t.appendChild(n);
				return t
			},
			bounds : function (e) {
				var t = this.createElementNS(this.gmlns, "gml:Box");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			}
		},
		buildCoordinatesNode : function (e) {
			var t = this.createElementNS(this.gmlns, "gml:coordinates");
			t.setAttribute("decimal", "."),
			t.setAttribute("cs", ","),
			t.setAttribute("ts", " ");
			var n = [];
			if (e instanceof OpenLayers.Bounds)
				n.push(e.left + "," + e.bottom), n.push(e.right + "," + e.top);
			else
				for (var e = e.components ? e.components : [e], r = 0; r < e.length; r++)
					n.push(e[r].x + "," + e[r].y);
			return n = this.createTextNode(n.join(" ")),
			t.appendChild(n),
			t
		},
		CLASS_NAME : "OpenLayers.Format.GML"
	}), OpenLayers.Format.GML || (OpenLayers.Format.GML = {}), OpenLayers.Format.GML.Base = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			gml : "http://www.opengis.net/gml",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance",
			wfs : "http://www.opengis.net/wfs"
		},
		defaultPrefix : "gml",
		schemaLocation : null,
		featureType : null,
		featureNS : null,
		geometryName : "geometry",
		extractAttributes : !0,
		srsName : null,
		xy : !0,
		geometryTypes : null,
		singleFeatureType : null,
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g,
			featureMember : /^(.*:)?featureMembers?$/
		},
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e]),
			this.setGeometryTypes(),
			e && e.featureNS && this.setNamespace("feature", e.featureNS),
			this.singleFeatureType = !e || typeof e.featureType == "string"
		},
		read : function (e) {
			typeof e == "string" && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && e.nodeType == 9 && (e = e.documentElement);
			var t = [];
			this.readNode(e, {
				features : t
			}, !0);
			if (t.length == 0) {
				var n = this.getElementsByTagNameNS(e, this.namespaces.gml, "featureMember");
				if (n.length)
					for (var e = 0, r = n.length; e < r; ++e)
						this.readNode(n[e], {
							features : t
						}, !0);
				else
					n = this.getElementsByTagNameNS(e, this.namespaces.gml, "featureMembers"), n.length && this.readNode(n[0], {
						features : t
					}, !0)
			}
			return t
		},
		readNode : function (e, t, n) {
			return n === !0 && this.autoConfig === !0 && (this.featureType = null, delete this.namespaceAlias[this.featureNS], delete this.namespaces.feature, this.featureNS = null),
			!this.featureNS && !(e.prefix in this.namespaces) && e.parentNode.namespaceURI == this.namespaces.gml && this.regExes.featureMember.test(e.parentNode.nodeName) && (this.featureType = e.nodeName.split(":").pop(), this.setNamespace("feature", e.namespaceURI), this.featureNS = e.namespaceURI, this.autoConfig = !0),
			OpenLayers.Format.XML.prototype.readNode.apply(this, [e, t])
		},
		readers : {
			gml : {
				featureMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				featureMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				name : function (e, t) {
					t.name = this.getChildValue(e)
				},
				boundedBy : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					n.components && n.components.length > 0 && (t.bounds = n.components[0])
				},
				Point : function (e, t) {
					var n = {
						points : []
					};
					this.readChildNodes(e, n),
					t.components || (t.components = []),
					t.components.push(n.points[0])
				},
				coordinates : function (e, t) {
					for (var n = this.getChildValue(e).replace(this.regExes.trimSpace, ""), n = n.replace(this.regExes.trimComma, ","), n = n.split(this.regExes.splitSpace), r, i = n.length, s = Array(i), o = 0; o < i; ++o)
						r = n[o].split(","), s[o] = this.xy ? new OpenLayers.Geometry.Point(r[0], r[1], r[2]) : new OpenLayers.Geometry.Point(r[1], r[0], r[2]);
					t.points = s
				},
				coord : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.points || (t.points = []),
					t.points.push(new OpenLayers.Geometry.Point(n.x, n.y, n.z))
				},
				X : function (e, t) {
					t.x = this.getChildValue(e)
				},
				Y : function (e, t) {
					t.y = this.getChildValue(e)
				},
				Z : function (e, t) {
					t.z = this.getChildValue(e)
				},
				MultiPoint : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					t.components = [new OpenLayers.Geometry.MultiPoint(n.components)]
				},
				pointMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				LineString : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.components || (t.components = []),
					t.components.push(new OpenLayers.Geometry.LineString(n.points))
				},
				MultiLineString : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					t.components = [new OpenLayers.Geometry.MultiLineString(n.components)]
				},
				lineStringMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				Polygon : function (e, t) {
					var n = {
						outer : null,
						inner : []
					};
					this.readChildNodes(e, n),
					n.inner.unshift(n.outer),
					t.components || (t.components = []),
					t.components.push(new OpenLayers.Geometry.Polygon(n.inner))
				},
				LinearRing : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.components = [new OpenLayers.Geometry.LinearRing(n.points)]
				},
				MultiPolygon : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					t.components = [new OpenLayers.Geometry.MultiPolygon(n.components)]
				},
				polygonMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				GeometryCollection : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					t.components = [new OpenLayers.Geometry.Collection(n.components)]
				},
				geometryMember : function (e, t) {
					this.readChildNodes(e, t)
				}
			},
			feature : {
				"*" : function (e, t) {
					var n,
					r = e.localName || e.nodeName.split(":").pop();
					t.features ? !this.singleFeatureType && OpenLayers.Util.indexOf(this.featureType, r) !== -1 ? n = "_typeName" : r === this.featureType && (n = "_typeName") : e.childNodes.length == 0 || e.childNodes.length == 1 && e.firstChild.nodeType == 3 ? this.extractAttributes && (n = "_attribute") : n = "_geometry",
					n && this.readers.feature[n].apply(this, [e, t])
				},
				_typeName : function (e, t) {
					var n = {
						components : [],
						attributes : {}

					};
					this.readChildNodes(e, n),
					n.name && (n.attributes.name = n.name);
					var r = new OpenLayers.Feature.Vector(n.components[0], n.attributes);
					this.singleFeatureType || (r.type = e.nodeName.split(":").pop(), r.namespace = e.namespaceURI);
					var i = e.getAttribute("fid") || this.getAttributeNS(e, this.namespaces.gml, "id");
					i && (r.fid = i),
					this.internalProjection && this.externalProjection && r.geometry && r.geometry.transform(this.externalProjection, this.internalProjection),
					n.bounds && (r.bounds = n.bounds),
					t.features.push(r)
				},
				_geometry : function (e, t) {
					this.geometryName || (this.geometryName = e.nodeName.split(":").pop()),
					this.readChildNodes(e, t)
				},
				_attribute : function (e, t) {
					var n = e.localName || e.nodeName.split(":").pop(),
					r = this.getChildValue(e);
					t.attributes[n] = r
				}
			},
			wfs : {
				FeatureCollection : function (e, t) {
					this.readChildNodes(e, t)
				}
			}
		},
		write : function (e) {
			return e = this.writeNode("gml:" + (OpenLayers.Util.isArray(e) ? "featureMembers" : "featureMember"), e),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			gml : {
				featureMember : function (e) {
					var t = this.createElementNSPlus("gml:featureMember");
					return this.writeNode("feature:_typeName", e, t),
					t
				},
				MultiPoint : function (e) {
					for (var t = this.createElementNSPlus("gml:MultiPoint"), e = e.components || [e], n = 0, r = e.length; n < r; ++n)
						this.writeNode("pointMember", e[n], t);
					return t
				},
				pointMember : function (e) {
					var t = this.createElementNSPlus("gml:pointMember");
					return this.writeNode("Point", e, t),
					t
				},
				MultiLineString : function (e) {
					for (var t = this.createElementNSPlus("gml:MultiLineString"), e = e.components || [e], n = 0, r = e.length; n < r; ++n)
						this.writeNode("lineStringMember", e[n], t);
					return t
				},
				lineStringMember : function (e) {
					var t = this.createElementNSPlus("gml:lineStringMember");
					return this.writeNode("LineString", e, t),
					t
				},
				MultiPolygon : function (e) {
					for (var t = this.createElementNSPlus("gml:MultiPolygon"), e = e.components || [e], n = 0, r = e.length; n < r; ++n)
						this.writeNode("polygonMember", e[n], t);
					return t
				},
				polygonMember : function (e) {
					var t = this.createElementNSPlus("gml:polygonMember");
					return this.writeNode("Polygon", e, t),
					t
				},
				GeometryCollection : function (e) {
					for (var t = this.createElementNSPlus("gml:GeometryCollection"), n = 0, r = e.components.length; n < r; ++n)
						this.writeNode("geometryMember", e.components[n], t);
					return t
				},
				geometryMember : function (e) {
					var t = this.createElementNSPlus("gml:geometryMember"),
					e = this.writeNode("feature:_geometry", e);
					return t.appendChild(e.firstChild),
					t
				}
			},
			feature : {
				_typeName : function (e) {
					var t = this.createElementNSPlus("feature:" + this.featureType, {
							attributes : {
								fid : e.fid
							}
						});
					e.geometry && this.writeNode("feature:_geometry", e.geometry, t);
					for (var n in e.attributes) {
						var r = e.attributes[n];
						r != null && this.writeNode("feature:_attribute", {
							name : n,
							value : r
						}, t)
					}
					return t
				},
				_geometry : function (e) {
					this.externalProjection && this.internalProjection && (e = e.clone().transform(this.internalProjection, this.externalProjection));
					var t = this.createElementNSPlus("feature:" + this.geometryName),
					e = this.writeNode("gml:" + this.geometryTypes[e.CLASS_NAME], e, t);
					return this.srsName && e.setAttribute("srsName", this.srsName),
					t
				},
				_attribute : function (e) {
					return this.createElementNSPlus("feature:" + e.name, {
						value : e.value
					})
				}
			},
			wfs : {
				FeatureCollection : function (e) {
					for (var t = this.createElementNSPlus("wfs:FeatureCollection"), n = 0, r = e.length; n < r; ++n)
						this.writeNode("gml:featureMember", e[n], t);
					return t
				}
			}
		},
		setGeometryTypes : function () {
			this.geometryTypes = {
				"OpenLayers.Geometry.Point" : "Point",
				"OpenLayers.Geometry.MultiPoint" : "MultiPoint",
				"OpenLayers.Geometry.LineString" : "LineString",
				"OpenLayers.Geometry.MultiLineString" : "MultiLineString",
				"OpenLayers.Geometry.Polygon" : "Polygon",
				"OpenLayers.Geometry.MultiPolygon" : "MultiPolygon",
				"OpenLayers.Geometry.Collection" : "GeometryCollection"
			}
		},
		CLASS_NAME : "OpenLayers.Format.GML.Base"
	}), OpenLayers.Format.GML.v3 = OpenLayers.Class(OpenLayers.Format.GML.Base, {
		schemaLocation : "http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",
		curve : !1,
		multiCurve : !0,
		surface : !1,
		multiSurface : !0,
		initialize : function (e) {
			OpenLayers.Format.GML.Base.prototype.initialize.apply(this, [e])
		},
		readers : {
			gml : OpenLayers.Util.applyDefaults({
				featureMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				Curve : function (e, t) {
					var n = {
						points : []
					};
					this.readChildNodes(e, n),
					t.components || (t.components = []),
					t.components.push(new OpenLayers.Geometry.LineString(n.points))
				},
				segments : function (e, t) {
					this.readChildNodes(e, t)
				},
				LineStringSegment : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					n.points && Array.prototype.push.apply(t.points, n.points)
				},
				pos : function (e, t) {
					var n = this.getChildValue(e).replace(this.regExes.trimSpace, "").split(this.regExes.splitSpace),
					n = this.xy ? new OpenLayers.Geometry.Point(n[0], n[1], n[2]) : new OpenLayers.Geometry.Point(n[1], n[0], n[2]);
					t.points = [n]
				},
				posList : function (e, t) {
					for (var n = this.getChildValue(e).replace(this.regExes.trimSpace, "").split(this.regExes.splitSpace), r = parseInt(e.getAttribute("dimension")) || 2, i, s, o, u = Array(n.length / r), a = 0, f = n.length; a < f; a += r)
						i = n[a], s = n[a + 1], o = 2 == r ? void 0 : n[a + 2], u[a / r] = this.xy ? new OpenLayers.Geometry.Point(i, s, o) : new OpenLayers.Geometry.Point(s, i, o);
					t.points = u
				},
				Surface : function (e, t) {
					this.readChildNodes(e, t)
				},
				patches : function (e, t) {
					this.readChildNodes(e, t)
				},
				PolygonPatch : function (e, t) {
					this.readers.gml.Polygon.apply(this, [e, t])
				},
				exterior : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.outer = n.components[0]
				},
				interior : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.inner.push(n.components[0])
				},
				MultiCurve : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					0 < n.components.length && (t.components = [new OpenLayers.Geometry.MultiLineString(n.components)])
				},
				curveMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				MultiSurface : function (e, t) {
					var n = {
						components : []
					};
					this.readChildNodes(e, n),
					0 < n.components.length && (t.components = [new OpenLayers.Geometry.MultiPolygon(n.components)])
				},
				surfaceMember : function (e, t) {
					this.readChildNodes(e, t)
				},
				surfaceMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				pointMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				lineStringMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				polygonMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				geometryMembers : function (e, t) {
					this.readChildNodes(e, t)
				},
				Envelope : function (e, t) {
					var n = {
						points : Array(2)
					};
					this.readChildNodes(e, n),
					t.components || (t.components = []);
					var r = n.points[0],
					n = n.points[1];
					t.components.push(new OpenLayers.Bounds(r.x, r.y, n.x, n.y))
				},
				lowerCorner : function (e, t) {
					var n = {};
					this.readers.gml.pos.apply(this, [e, n]),
					t.points[0] = n.points[0]
				},
				upperCorner : function (e, t) {
					var n = {};
					this.readers.gml.pos.apply(this, [e, n]),
					t.points[1] = n.points[0]
				}
			}, OpenLayers.Format.GML.Base.prototype.readers.gml),
			feature : OpenLayers.Format.GML.Base.prototype.readers.feature,
			wfs : OpenLayers.Format.GML.Base.prototype.readers.wfs
		},
		write : function (e) {
			return e = this.writeNode("gml:" + (OpenLayers.Util.isArray(e) ? "featureMembers" : "featureMember"), e),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			gml : OpenLayers.Util.applyDefaults({
				featureMembers : function (e) {
					for (var t = this.createElementNSPlus("gml:featureMembers"), n = 0, r = e.length; n < r; ++n)
						this.writeNode("feature:_typeName", e[n], t);
					return t
				},
				Point : function (e) {
					var t = this.createElementNSPlus("gml:Point");
					return this.writeNode("pos", e, t),
					t
				},
				pos : function (e) {
					return this.createElementNSPlus("gml:pos", {
						value : this.xy ? e.x + " " + e.y : e.y + " " + e.x
					})
				},
				LineString : function (e) {
					var t = this.createElementNSPlus("gml:LineString");
					return this.writeNode("posList", e.components, t),
					t
				},
				Curve : function (e) {
					var t = this.createElementNSPlus("gml:Curve");
					return this.writeNode("segments", e, t),
					t
				},
				segments : function (e) {
					var t = this.createElementNSPlus("gml:segments");
					return this.writeNode("LineStringSegment", e, t),
					t
				},
				LineStringSegment : function (e) {
					var t = this.createElementNSPlus("gml:LineStringSegment");
					return this.writeNode("posList", e.components, t),
					t
				},
				posList : function (e) {
					for (var t = e.length, n = Array(t), r, i = 0; i < t; ++i)
						r = e[i], n[i] = this.xy ? r.x + " " + r.y : r.y + " " + r.x;
					return this.createElementNSPlus("gml:posList", {
						value : n.join(" ")
					})
				},
				Surface : function (e) {
					var t = this.createElementNSPlus("gml:Surface");
					return this.writeNode("patches", e, t),
					t
				},
				patches : function (e) {
					var t = this.createElementNSPlus("gml:patches");
					return this.writeNode("PolygonPatch", e, t),
					t
				},
				PolygonPatch : function (e) {
					var t = this.createElementNSPlus("gml:PolygonPatch", {
							attributes : {
								interpolation : "planar"
							}
						});
					this.writeNode("exterior", e.components[0], t);
					for (var n = 1, r = e.components.length; n < r; ++n)
						this.writeNode("interior", e.components[n], t);
					return t
				},
				Polygon : function (e) {
					var t = this.createElementNSPlus("gml:Polygon");
					this.writeNode("exterior", e.components[0], t);
					for (var n = 1, r = e.components.length; n < r; ++n)
						this.writeNode("interior", e.components[n], t);
					return t
				},
				exterior : function (e) {
					var t = this.createElementNSPlus("gml:exterior");
					return this.writeNode("LinearRing", e, t),
					t
				},
				interior : function (e) {
					var t = this.createElementNSPlus("gml:interior");
					return this.writeNode("LinearRing", e, t),
					t
				},
				LinearRing : function (e) {
					var t = this.createElementNSPlus("gml:LinearRing");
					return this.writeNode("posList", e.components, t),
					t
				},
				MultiCurve : function (e) {
					for (var t = this.createElementNSPlus("gml:MultiCurve"), e = e.components || [e], n = 0, r = e.length; n < r; ++n)
						this.writeNode("curveMember", e[n], t);
					return t
				},
				curveMember : function (e) {
					var t = this.createElementNSPlus("gml:curveMember");
					return this.curve ? this.writeNode("Curve", e, t) : this.writeNode("LineString", e, t),
					t
				},
				MultiSurface : function (e) {
					for (var t = this.createElementNSPlus("gml:MultiSurface"), e = e.components || [e], n = 0, r = e.length; n < r; ++n)
						this.writeNode("surfaceMember", e[n], t);
					return t
				},
				surfaceMember : function (e) {
					var t = this.createElementNSPlus("gml:surfaceMember");
					return this.surface ? this.writeNode("Surface", e, t) : this.writeNode("Polygon", e, t),
					t
				},
				Envelope : function (e) {
					var t = this.createElementNSPlus("gml:Envelope");
					return this.writeNode("lowerCorner", e, t),
					this.writeNode("upperCorner", e, t),
					this.srsName && t.setAttribute("srsName", this.srsName),
					t
				},
				lowerCorner : function (e) {
					return this.createElementNSPlus("gml:lowerCorner", {
						value : this.xy ? e.left + " " + e.bottom : e.bottom + " " + e.left
					})
				},
				upperCorner : function (e) {
					return this.createElementNSPlus("gml:upperCorner", {
						value : this.xy ? e.right + " " + e.top : e.top + " " + e.right
					})
				}
			}, OpenLayers.Format.GML.Base.prototype.writers.gml),
			feature : OpenLayers.Format.GML.Base.prototype.writers.feature,
			wfs : OpenLayers.Format.GML.Base.prototype.writers.wfs
		},
		setGeometryTypes : function () {
			this.geometryTypes = {
				"OpenLayers.Geometry.Point" : "Point",
				"OpenLayers.Geometry.MultiPoint" : "MultiPoint",
				"OpenLayers.Geometry.LineString" : !0 === this.curve ? "Curve" : "LineString",
				"OpenLayers.Geometry.MultiLineString" : !1 === this.multiCurve ? "MultiLineString" : "MultiCurve",
				"OpenLayers.Geometry.Polygon" : !0 === this.surface ? "Surface" : "Polygon",
				"OpenLayers.Geometry.MultiPolygon" : !1 === this.multiSurface ? "MultiPolygon" : "MultiSurface",
				"OpenLayers.Geometry.Collection" : "GeometryCollection"
			}
		},
		CLASS_NAME : "OpenLayers.Format.GML.v3"
	}), OpenLayers.Format.Filter.v1_1_0 = OpenLayers.Class(OpenLayers.Format.GML.v3, OpenLayers.Format.Filter.v1, {
		VERSION : "1.1.0",
		schemaLocation : "http://www.opengis.net/ogc/filter/1.1.0/filter.xsd",
		initialize : function (e) {
			OpenLayers.Format.GML.v3.prototype.initialize.apply(this, [e])
		},
		readers : {
			ogc : OpenLayers.Util.applyDefaults({
				PropertyIsEqualTo : function (e, t) {
					var n = e.getAttribute("matchCase"),
					n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.EQUAL_TO,
							matchCase : "false" !== n && "0" !== n
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsNotEqualTo : function (e, t) {
					var n = e.getAttribute("matchCase"),
					n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.NOT_EQUAL_TO,
							matchCase : "false" !== n && "0" !== n
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsLike : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.LIKE
						});
					this.readChildNodes(e, n);
					var r = e.getAttribute("wildCard"),
					i = e.getAttribute("singleChar"),
					s = e.getAttribute("escapeChar");
					n.value2regex(r, i, s),
					t.filters.push(n)
				}
			}, OpenLayers.Format.Filter.v1.prototype.readers.ogc),
			gml : OpenLayers.Format.GML.v3.prototype.readers.gml,
			feature : OpenLayers.Format.GML.v3.prototype.readers.feature
		},
		writers : {
			ogc : OpenLayers.Util.applyDefaults({
				PropertyIsEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsEqualTo", {
							attributes : {
								matchCase : e.matchCase
							}
						});
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsNotEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsNotEqualTo", {
							attributes : {
								matchCase : e.matchCase
							}
						});
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsLike : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsLike", {
							attributes : {
								matchCase : e.matchCase,
								wildCard : "*",
								singleChar : ".",
								escapeChar : "!"
							}
						});
					return this.writeNode("PropertyName", e, t),
					this.writeNode("Literal", e.regex2value(), t),
					t
				},
				BBOX : function (e) {
					var t = this.createElementNSPlus("ogc:BBOX");
					e.property && this.writeNode("PropertyName", e, t);
					var n = this.writeNode("gml:Envelope", e.value);
					return e.projection && n.setAttribute("srsName", e.projection),
					t.appendChild(n),
					t
				},
				SortBy : function (e) {
					for (var t = this.createElementNSPlus("ogc:SortBy"), n = 0, r = e.length; n < r; n++)
						this.writeNode("ogc:SortProperty", e[n], t);
					return t
				},
				SortProperty : function (e) {
					var t = this.createElementNSPlus("ogc:SortProperty");
					return this.writeNode("ogc:PropertyName", e, t),
					this.writeNode("ogc:SortOrder", "DESC" == e.order ? "DESC" : "ASC", t),
					t
				},
				SortOrder : function (e) {
					return this.createElementNSPlus("ogc:SortOrder", {
						value : e
					})
				}
			}, OpenLayers.Format.Filter.v1.prototype.writers.ogc),
			gml : OpenLayers.Format.GML.v3.prototype.writers.gml,
			feature : OpenLayers.Format.GML.v3.prototype.writers.feature
		},
		writeSpatial : function (e, t) {
			var n = this.createElementNSPlus("ogc:" + t);
			this.writeNode("PropertyName", e, n);
			if (e.value instanceof OpenLayers.Filter.Function)
				this.writeNode("Function", e.value, n);
			else {
				var r;
				r = e.value instanceof OpenLayers.Geometry ? this.writeNode("feature:_geometry", e.value).firstChild : this.writeNode("gml:Envelope", e.value),
				e.projection && r.setAttribute("srsName", e.projection),
				n.appendChild(r)
			}
			return n
		},
		CLASS_NAME : "OpenLayers.Format.Filter.v1_1_0"
	}), OpenLayers.Format.OWSCommon = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.0.0",
		getVersion : function (e) {
			var t = this.version;
			return t || ((e = e.getAttribute("xmlns:ows")) && "1.1" === e.substring(e.lastIndexOf("/") + 1) && (t = "1.1.0"), t || (t = this.defaultVersion)),
			t
		},
		CLASS_NAME : "OpenLayers.Format.OWSCommon"
	}), OpenLayers.Format.OWSCommon.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		read : function (e, t) {
			OpenLayers.Util.applyDefaults(t, this.options);
			var n = {};
			return this.readChildNodes(e, n),
			n
		},
		readers : {
			ows : {
				Exception : function (e, t) {
					var n = {
						code : e.getAttribute("exceptionCode"),
						locator : e.getAttribute("locator"),
						texts : []
					};
					t.exceptions.push(n),
					this.readChildNodes(e, n)
				},
				ExceptionText : function (e, t) {
					var n = this.getChildValue(e);
					t.texts.push(n)
				},
				ServiceIdentification : function (e, t) {
					t.serviceIdentification = {},
					this.readChildNodes(e, t.serviceIdentification)
				},
				Title : function (e, t) {
					t.title = this.getChildValue(e)
				},
				Abstract : function (e, t) {
					t["abstract"] = this.getChildValue(e)
				},
				Keywords : function (e, t) {
					t.keywords = {},
					this.readChildNodes(e, t.keywords)
				},
				Keyword : function (e, t) {
					t[this.getChildValue(e)] = !0
				},
				ServiceType : function (e, t) {
					t.serviceType = {
						codeSpace : e.getAttribute("codeSpace"),
						value : this.getChildValue(e)
					}
				},
				ServiceTypeVersion : function (e, t) {
					t.serviceTypeVersion = this.getChildValue(e)
				},
				Fees : function (e, t) {
					t.fees = this.getChildValue(e)
				},
				AccessConstraints : function (e, t) {
					t.accessConstraints = this.getChildValue(e)
				},
				ServiceProvider : function (e, t) {
					t.serviceProvider = {},
					this.readChildNodes(e, t.serviceProvider)
				},
				ProviderName : function (e, t) {
					t.providerName = this.getChildValue(e)
				},
				ProviderSite : function (e, t) {
					t.providerSite = this.getAttributeNS(e, this.namespaces.xlink, "href")
				},
				ServiceContact : function (e, t) {
					t.serviceContact = {},
					this.readChildNodes(e, t.serviceContact)
				},
				IndividualName : function (e, t) {
					t.individualName = this.getChildValue(e)
				},
				PositionName : function (e, t) {
					t.positionName = this.getChildValue(e)
				},
				ContactInfo : function (e, t) {
					t.contactInfo = {},
					this.readChildNodes(e, t.contactInfo)
				},
				Phone : function (e, t) {
					t.phone = {},
					this.readChildNodes(e, t.phone)
				},
				Voice : function (e, t) {
					t.voice = this.getChildValue(e)
				},
				Address : function (e, t) {
					t.address = {},
					this.readChildNodes(e, t.address)
				},
				DeliveryPoint : function (e, t) {
					t.deliveryPoint = this.getChildValue(e)
				},
				City : function (e, t) {
					t.city = this.getChildValue(e)
				},
				AdministrativeArea : function (e, t) {
					t.administrativeArea = this.getChildValue(e)
				},
				PostalCode : function (e, t) {
					t.postalCode = this.getChildValue(e)
				},
				Country : function (e, t) {
					t.country = this.getChildValue(e)
				},
				ElectronicMailAddress : function (e, t) {
					t.electronicMailAddress = this.getChildValue(e)
				},
				Role : function (e, t) {
					t.role = this.getChildValue(e)
				},
				OperationsMetadata : function (e, t) {
					t.operationsMetadata = {},
					this.readChildNodes(e, t.operationsMetadata)
				},
				Operation : function (e, t) {
					var n = e.getAttribute("name");
					t[n] = {},
					this.readChildNodes(e, t[n])
				},
				DCP : function (e, t) {
					t.dcp = {},
					this.readChildNodes(e, t.dcp)
				},
				HTTP : function (e, t) {
					t.http = {},
					this.readChildNodes(e, t.http)
				},
				Get : function (e, t) {
					t.get || (t.get = []);
					var n = {
						url : this.getAttributeNS(e, this.namespaces.xlink, "href")
					};
					this.readChildNodes(e, n),
					t.get.push(n)
				},
				Post : function (e, t) {
					t.post || (t.post = []);
					var n = {
						url : this.getAttributeNS(e, this.namespaces.xlink, "href")
					};
					this.readChildNodes(e, n),
					t.post.push(n)
				},
				Parameter : function (e, t) {
					t.parameters || (t.parameters = {});
					var n = e.getAttribute("name");
					t.parameters[n] = {},
					this.readChildNodes(e, t.parameters[n])
				},
				Constraint : function (e, t) {
					t.constraints || (t.constraints = {});
					var n = e.getAttribute("name");
					t.constraints[n] = {},
					this.readChildNodes(e, t.constraints[n])
				},
				Value : function (e, t) {
					t[this.getChildValue(e)] = !0
				},
				OutputFormat : function (e, t) {
					t.formats.push({
						value : this.getChildValue(e)
					}),
					this.readChildNodes(e, t)
				},
				WGS84BoundingBox : function (e, t) {
					var n = {};
					n.crs = e.getAttribute("crs"),
					t.BoundingBox ? t.BoundingBox.push(n) : (t.projection = n.crs, n = t),
					this.readChildNodes(e, n)
				},
				BoundingBox : function (e, t) {
					this.readers.ows.WGS84BoundingBox.apply(this, [e, t])
				},
				LowerCorner : function (e, t) {
					var n = this.getChildValue(e).replace(this.regExes.trimSpace, ""),
					n = n.replace(this.regExes.trimComma, ","),
					n = n.split(this.regExes.splitSpace);
					t.left = n[0],
					t.bottom = n[1]
				},
				UpperCorner : function (e, t) {
					var n = this.getChildValue(e).replace(this.regExes.trimSpace, ""),
					n = n.replace(this.regExes.trimComma, ","),
					n = n.split(this.regExes.splitSpace);
					t.right = n[0],
					t.top = n[1],
					t.bounds = new OpenLayers.Bounds(t.left, t.bottom, t.right, t.top),
					delete t.left,
					delete t.bottom,
					delete t.right,
					delete t.top
				},
				Language : function (e, t) {
					t.language = this.getChildValue(e)
				}
			}
		},
		writers : {
			ows : {
				BoundingBox : function (e) {
					var t = this.createElementNSPlus("ows:BoundingBox", {
							attributes : {
								crs : e.projection
							}
						});
					return this.writeNode("ows:LowerCorner", e, t),
					this.writeNode("ows:UpperCorner", e, t),
					t
				},
				LowerCorner : function (e) {
					return this.createElementNSPlus("ows:LowerCorner", {
						value : e.bounds.left + " " + e.bounds.bottom
					})
				},
				UpperCorner : function (e) {
					return this.createElementNSPlus("ows:UpperCorner", {
						value : e.bounds.right + " " + e.bounds.top
					})
				},
				Identifier : function (e) {
					return this.createElementNSPlus("ows:Identifier", {
						value : e
					})
				},
				Title : function (e) {
					return this.createElementNSPlus("ows:Title", {
						value : e
					})
				},
				Abstract : function (e) {
					return this.createElementNSPlus("ows:Abstract", {
						value : e
					})
				},
				OutputFormat : function (e) {
					return this.createElementNSPlus("ows:OutputFormat", {
						value : e
					})
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.OWSCommon.v1"
	}), OpenLayers.Format.OWSCommon.v1_0_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1, {
		namespaces : {
			ows : "http://www.opengis.net/ows",
			xlink : "http://www.w3.org/1999/xlink"
		},
		readers : {
			ows : OpenLayers.Util.applyDefaults({
				ExceptionReport : function (e, t) {
					t.success = !1,
					t.exceptionReport = {
						version : e.getAttribute("version"),
						language : e.getAttribute("language"),
						exceptions : []
					},
					this.readChildNodes(e, t.exceptionReport)
				}
			}, OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)
		},
		writers : {
			ows : OpenLayers.Format.OWSCommon.v1.prototype.writers.ows
		},
		CLASS_NAME : "OpenLayers.Format.OWSCommon.v1_0_0"
	}), OpenLayers.Format.WFST.v1_1_0 = OpenLayers.Class(OpenLayers.Format.Filter.v1_1_0, OpenLayers.Format.WFST.v1, {
		version : "1.1.0",
		schemaLocations : {
			wfs : "http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"
		},
		initialize : function (e) {
			OpenLayers.Format.Filter.v1_1_0.prototype.initialize.apply(this, [e]),
			OpenLayers.Format.WFST.v1.prototype.initialize.apply(this, [e])
		},
		readNode : function (e, t) {
			return OpenLayers.Format.GML.v3.prototype.readNode.apply(this, [e, t])
		},
		readers : {
			wfs : OpenLayers.Util.applyDefaults({
				FeatureCollection : function (e, t) {
					t.numberOfFeatures = parseInt(e.getAttribute("numberOfFeatures")),
					OpenLayers.Format.WFST.v1.prototype.readers.wfs.FeatureCollection.apply(this, arguments)
				},
				TransactionResponse : function (e, t) {
					t.insertIds = [],
					t.success = !1,
					this.readChildNodes(e, t)
				},
				TransactionSummary : function (e, t) {
					t.success = !0
				},
				InsertResults : function (e, t) {
					this.readChildNodes(e, t)
				},
				Feature : function (e, t) {
					var n = {
						fids : []
					};
					this.readChildNodes(e, n),
					t.insertIds.push(n.fids[0])
				}
			}, OpenLayers.Format.WFST.v1.prototype.readers.wfs),
			gml : OpenLayers.Format.GML.v3.prototype.readers.gml,
			feature : OpenLayers.Format.GML.v3.prototype.readers.feature,
			ogc : OpenLayers.Format.Filter.v1_1_0.prototype.readers.ogc,
			ows : OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows
		},
		writers : {
			wfs : OpenLayers.Util.applyDefaults({
				GetFeature : function (e) {
					var t = OpenLayers.Format.WFST.v1.prototype.writers.wfs.GetFeature.apply(this, arguments);
					return e && this.setAttributes(t, {
						resultType : e.resultType,
						startIndex : e.startIndex,
						count : e.count
					}),
					t
				},
				Query : function (e) {
					var e = OpenLayers.Util.extend({
							featureNS : this.featureNS,
							featurePrefix : this.featurePrefix,
							featureType : this.featureType,
							srsName : this.srsName
						}, e),
					t = e.featurePrefix,
					n = this.createElementNSPlus("wfs:Query", {
							attributes : {
								typeName : (t ? t + ":" : "") + e.featureType,
								srsName : e.srsName
							}
						});
					e.featureNS && n.setAttribute("xmlns:" + t, e.featureNS);
					if (e.propertyNames)
						for (var t = 0, r = e.propertyNames.length; t < r; t++)
							this.writeNode("wfs:PropertyName", {
								property : e.propertyNames[t]
							}, n);
					return e.filter && (OpenLayers.Format.WFST.v1_1_0.prototype.setFilterProperty.call(this, e.filter), this.writeNode("ogc:Filter", e.filter, n)),
					n
				},
				PropertyName : function (e) {
					return this.createElementNSPlus("wfs:PropertyName", {
						value : e.property
					})
				}
			}, OpenLayers.Format.WFST.v1.prototype.writers.wfs),
			gml : OpenLayers.Format.GML.v3.prototype.writers.gml,
			feature : OpenLayers.Format.GML.v3.prototype.writers.feature,
			ogc : OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc
		},
		CLASS_NAME : "OpenLayers.Format.WFST.v1_1_0"
	}), OpenLayers.Protocol = OpenLayers.Class({
		format : null,
		options : null,
		autoDestroy : !0,
		defaultFilter : null,
		initialize : function (e) {
			e = e || {},
			OpenLayers.Util.extend(this, e),
			this.options = e
		},
		mergeWithDefaultFilter : function (e) {
			return e && this.defaultFilter ? new OpenLayers.Filter.Logical({
				type : OpenLayers.Filter.Logical.AND,
				filters : [this.defaultFilter, e]
			}) : e || this.defaultFilter || void 0
		},
		destroy : function () {
			this.format = this.options = null
		},
		read : function (e) {
			e = e || {},
			e.filter = this.mergeWithDefaultFilter(e.filter)
		},
		create : function () {},
		update : function () {},
		"delete" : function () {},
		commit : function () {},
		abort : function () {},
		createCallback : function (e, t, n) {
			return OpenLayers.Function.bind(function () {
				e.apply(this, [t, n])
			}, this)
		},
		CLASS_NAME : "OpenLayers.Protocol"
	}), OpenLayers.Protocol.Response = OpenLayers.Class({
		code : null,
		requestType : null,
		last : !0,
		features : null,
		data : null,
		reqFeatures : null,
		priv : null,
		error : null,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e)
		},
		success : function () {
			return 0 < this.code
		},
		CLASS_NAME : "OpenLayers.Protocol.Response"
	}), OpenLayers.Protocol.Response.SUCCESS = 1, OpenLayers.Protocol.Response.FAILURE = 0, OpenLayers.Format.JSON = OpenLayers.Class(OpenLayers.Format, {
		indent : "    ",
		space : " ",
		newline : "\n",
		level : 0,
		pretty : !1,
		nativeJSON : function () {
			return !!window.JSON && "function" == typeof JSON.parse && "function" == typeof JSON.stringify
		}
		(),
		read : function (a, b) {
			var c;
			if (this.nativeJSON)
				c = JSON.parse(a, b);
			else
				try {
					if (/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")) && (c = eval("(" + a + ")"), "function" == typeof b)) {
						var d = function (e, t) {
							if (t && "object" == typeof t)
								for (var n in t)
									t.hasOwnProperty(n) && (t[n] = d(n, t[n]));
							return b(e, t)
						};
						c = d("", c)
					}
				} catch (e) {}

			return this.keepData && (this.data = c),
			c
		},
		write : function (e, t) {
			this.pretty = !!t;
			var n = null,
			r = typeof e;
			if (this.serialize[r])
				try {
					n = !this.pretty && this.nativeJSON ? JSON.stringify(e) : this.serialize[r].apply(this, [e])
				} catch (i) {
					OpenLayers.Console.error("Trouble serializing: " + i)
				}
			return n
		},
		writeIndent : function () {
			var e = [];
			if (this.pretty)
				for (var t = 0; t < this.level; ++t)
					e.push(this.indent);
			return e.join("")
		},
		writeNewline : function () {
			return this.pretty ? this.newline : ""
		},
		writeSpace : function () {
			return this.pretty ? this.space : ""
		},
		serialize : {
			object : function (e) {
				if (null == e)
					return "null";
				if (e.constructor == Date)
					return this.serialize.date.apply(this, [e]);
				if (e.constructor == Array)
					return this.serialize.array.apply(this, [e]);
				var t = ["{"];
				this.level += 1;
				var n,
				r,
				i,
				s = !1;
				for (n in e)
					e.hasOwnProperty(n) && (r = OpenLayers.Format.JSON.prototype.write.apply(this, [n, this.pretty]), i = OpenLayers.Format.JSON.prototype.write.apply(this, [e[n], this.pretty]), null != r && null != i && (s && t.push(","), t.push(this.writeNewline(), this.writeIndent(), r, ":", this.writeSpace(), i), s = !0));
				return this.level -= 1,
				t.push(this.writeNewline(), this.writeIndent(), "}"),
				t.join("")
			},
			array : function (e) {
				var t,
				n = ["["];
				this.level += 1;
				for (var r = 0, i = e.length; r < i; ++r)
					t = OpenLayers.Format.JSON.prototype.write.apply(this, [e[r], this.pretty]), null != t && (0 < r && n.push(","), n.push(this.writeNewline(), this.writeIndent(), t));
				return this.level -= 1,
				n.push(this.writeNewline(), this.writeIndent(), "]"),
				n.join("")
			},
			string : function (e) {
				var t = {
					"\b" : "\\b",
					"	" : "\\t",
					"\n" : "\\n",
					"\f" : "\\f",
					"\r" : "\\r",
					'"' : '\\"',
					"\\" : "\\\\"
				};
				return /["\\\x00-\x1f]/.test(e) ? '"' + e.replace(/([\x00-\x1f\\"])/g, function (e, n) {
					var r = t[n];
					return r ? r : (r = n.charCodeAt(), "\\u00" + Math.floor(r / 16).toString(16) + (r % 16).toString(16))
				}) + '"' : '"' + e + '"'
			},
			number : function (e) {
				return isFinite(e) ? "" + e : "null"
			},
			"boolean" : function (e) {
				return "" + e
			},
			date : function (e) {
				function t(e) {
					return 10 > e ? "0" + e : e
				}
				return '"' + e.getFullYear() + "-" + t(e.getMonth() + 1) + "-" + t(e.getDate()) + "T" + t(e.getHours()) + ":" + t(e.getMinutes()) + ":" + t(e.getSeconds()) + '"'
			}
		},
		CLASS_NAME : "OpenLayers.Format.JSON"
	}), OpenLayers.Format.GeoJSON = OpenLayers.Class(OpenLayers.Format.JSON, {
		ignoreExtraDims : !1,
		read : function (e, t, n) {
			var t = t ? t : "FeatureCollection",
			r = null,
			i = null;
			if (i = "string" == typeof e ? OpenLayers.Format.JSON.prototype.read.apply(this, [e, n]) : e) {
				if ("string" != typeof i.type)
					OpenLayers.Console.error("Bad GeoJSON - no type: " + e);
				else if (this.isValidType(i, t))
					switch (t) {
					case "Geometry":
						try {
							r = this.parseGeometry(i)
						} catch (s) {
							OpenLayers.Console.error(s)
						}
						break;
					case "Feature":
						try {
							r = this.parseFeature(i),
							r.type = "Feature"
						} catch (o) {
							OpenLayers.Console.error(o)
						}
						break;
					case "FeatureCollection":
						switch (r = [], i.type) {
						case "Feature":
							try {
								r.push(this.parseFeature(i))
							} catch (u) {
								r = null,
								OpenLayers.Console.error(u)
							}
							break;
						case "FeatureCollection":
							e = 0;
							for (t = i.features.length; e < t; ++e)
								try {
									r.push(this.parseFeature(i.features[e]))
								} catch (a) {
									r = null,
									OpenLayers.Console.error(a)
								}
							break;
						default:
							try {
								var f = this.parseGeometry(i);
								r.push(new OpenLayers.Feature.Vector(f))
							} catch (l) {
								r = null,
								OpenLayers.Console.error(l)
							}
						}
					}
			} else
				OpenLayers.Console.error("Bad JSON: " + e);
			return r
		},
		isValidType : function (e, t) {
			var n = !1;
			switch (t) {
			case "Geometry":
				-1 == OpenLayers.Util.indexOf("Point MultiPoint LineString MultiLineString Polygon MultiPolygon Box GeometryCollection".split(" "), e.type) ? OpenLayers.Console.error("Unsupported geometry type: " + e.type) : n = !0;
				break;
			case "FeatureCollection":
				n = !0;
				break;
			default:
				e.type == t ? n = !0 : OpenLayers.Console.error("Cannot convert types from " + e.type + " to " + t)
			}
			return n
		},
		parseFeature : function (e) {
			var t,
			n,
			r;
			n = e.properties ? e.properties : {},
			r = e.geometry && e.geometry.bbox || e.bbox;
			try {
				t = this.parseGeometry(e.geometry)
			} catch (i) {
				throw i
			}
			return t = new OpenLayers.Feature.Vector(t, n),
			r && (t.bounds = OpenLayers.Bounds.fromArray(r)),
			e.id && (t.fid = e.id),
			t
		},
		parseGeometry : function (e) {
			if (null == e)
				return null;
			var t,
			n = !1;
			if ("GeometryCollection" == e.type) {
				if (!OpenLayers.Util.isArray(e.geometries))
					throw "GeometryCollection must have geometries array: " + e;
				t = e.geometries.length;
				for (var n = Array(t), r = 0; r < t; ++r)
					n[r] = this.parseGeometry.apply(this, [e.geometries[r]]);
				t = new OpenLayers.Geometry.Collection(n),
				n = !0
			} else {
				if (!OpenLayers.Util.isArray(e.coordinates))
					throw "Geometry must have coordinates array: " + e;
				if (!this.parseCoords[e.type.toLowerCase()])
					throw "Unsupported geometry type: " + e.type;
				try {
					t = this.parseCoords[e.type.toLowerCase()].apply(this, [e.coordinates])
				} catch (i) {
					throw i
				}
			}
			return this.internalProjection && this.externalProjection && !n && t.transform(this.externalProjection, this.internalProjection),
			t
		},
		parseCoords : {
			point : function (e) {
				if (0 == this.ignoreExtraDims && 2 != e.length)
					throw "Only 2D points are supported: " + e;
				return new OpenLayers.Geometry.Point(e[0], e[1])
			},
			multipoint : function (e) {
				for (var t = [], n = null, r = 0, i = e.length; r < i; ++r) {
					try {
						n = this.parseCoords.point.apply(this, [e[r]])
					} catch (s) {
						throw s
					}
					t.push(n)
				}
				return new OpenLayers.Geometry.MultiPoint(t)
			},
			linestring : function (e) {
				for (var t = [], n = null, r = 0, i = e.length; r < i; ++r) {
					try {
						n = this.parseCoords.point.apply(this, [e[r]])
					} catch (s) {
						throw s
					}
					t.push(n)
				}
				return new OpenLayers.Geometry.LineString(t)
			},
			multilinestring : function (e) {
				for (var t = [], n = null, r = 0, i = e.length; r < i; ++r) {
					try {
						n = this.parseCoords.linestring.apply(this, [e[r]])
					} catch (s) {
						throw s
					}
					t.push(n)
				}
				return new OpenLayers.Geometry.MultiLineString(t)
			},
			polygon : function (e) {
				for (var t = [], n, r, i = 0, s = e.length; i < s; ++i) {
					try {
						r = this.parseCoords.linestring.apply(this, [e[i]])
					} catch (o) {
						throw o
					}
					n = new OpenLayers.Geometry.LinearRing(r.components),
					t.push(n)
				}
				return new OpenLayers.Geometry.Polygon(t)
			},
			multipolygon : function (e) {
				for (var t = [], n = null, r = 0, i = e.length; r < i; ++r) {
					try {
						n = this.parseCoords.polygon.apply(this, [e[r]])
					} catch (s) {
						throw s
					}
					t.push(n)
				}
				return new OpenLayers.Geometry.MultiPolygon(t)
			},
			box : function (e) {
				if (2 != e.length)
					throw "GeoJSON box coordinates must have 2 elements";
				return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(e[0][0], e[0][1]), new OpenLayers.Geometry.Point(e[1][0], e[0][1]), new OpenLayers.Geometry.Point(e[1][0], e[1][1]), new OpenLayers.Geometry.Point(e[0][0], e[1][1]), new OpenLayers.Geometry.Point(e[0][0], e[0][1])])])
			}
		},
		write : function (e, t) {
			var n = {
				type : null
			};
			if (OpenLayers.Util.isArray(e)) {
				n.type = "FeatureCollection";
				var r = e.length;
				n.features = Array(r);
				for (var i = 0; i < r; ++i) {
					var s = e[i];
					if (!s instanceof OpenLayers.Feature.Vector)
						throw "FeatureCollection only supports collections of features: " + s;
					n.features[i] = this.extract.feature.apply(this, [s])
				}
			} else
				0 == e.CLASS_NAME.indexOf("OpenLayers.Geometry") ? n = this.extract.geometry.apply(this, [e]) : e instanceof OpenLayers.Feature.Vector && (n = this.extract.feature.apply(this, [e]), e.layer && e.layer.projection && (n.crs = this.createCRSObject(e)));
			return OpenLayers.Format.JSON.prototype.write.apply(this, [n, t])
		},
		createCRSObject : function (e) {
			var e = e.layer.projection.toString(),
			t = {};
			return e.match(/epsg:/i) && (e = parseInt(e.substring(e.indexOf(":") + 1)), t = 4326 == e ? {
					type : "name",
					properties : {
						name : "urn:ogc:def:crs:OGC:1.3:CRS84"
					}
				}
				 : {
				type : "name",
				properties : {
					name : "EPSG:" + e
				}
			}),
			t
		},
		extract : {
			feature : function (e) {
				var t = this.extract.geometry.apply(this, [e.geometry]),
				t = {
					type : "Feature",
					properties : e.attributes,
					geometry : t
				};
				return null != e.fid && (t.id = e.fid),
				t
			},
			geometry : function (e) {
				if (null == e)
					return null;
				this.internalProjection && this.externalProjection && (e = e.clone(), e.transform(this.internalProjection, this.externalProjection));
				var t = e.CLASS_NAME.split(".")[2],
				e = this.extract[t.toLowerCase()].apply(this, [e]);
				return "Collection" == t ? {
					type : "GeometryCollection",
					geometries : e
				}
				 : {
					type : t,
					coordinates : e
				}
			},
			point : function (e) {
				return [e.x, e.y]
			},
			multipoint : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.point.apply(this, [e.components[n]]));
				return t
			},
			linestring : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.point.apply(this, [e.components[n]]));
				return t
			},
			multilinestring : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.linestring.apply(this, [e.components[n]]));
				return t
			},
			polygon : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.linestring.apply(this, [e.components[n]]));
				return t
			},
			multipolygon : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.polygon.apply(this, [e.components[n]]));
				return t
			},
			collection : function (e) {
				for (var t = e.components.length, n = Array(t), r = 0; r < t; ++r)
					n[r] = this.extract.geometry.apply(this, [e.components[r]]);
				return n
			}
		},
		CLASS_NAME : "OpenLayers.Format.GeoJSON"
	}), OpenLayers.Protocol.Script = OpenLayers.Class(OpenLayers.Protocol, {
		url : null,
		params : null,
		callback : null,
		callbackTemplate : "OpenLayers.Protocol.Script.registry.${id}",
		callbackKey : "callback",
		callbackPrefix : "",
		scope : null,
		format : null,
		pendingRequests : null,
		srsInBBOX : !1,
		initialize : function (e) {
			e = e || {},
			this.params = {},
			this.pendingRequests = {},
			OpenLayers.Protocol.prototype.initialize.apply(this, arguments),
			this.format || (this.format = new OpenLayers.Format.GeoJSON);
			if (!this.filterToParams && OpenLayers.Format.QueryStringFilter) {
				var t = new OpenLayers.Format.QueryStringFilter({
						srsInBBOX : this.srsInBBOX
					});
				this.filterToParams = function (e, n) {
					return t.write(e, n)
				}
			}
		},
		read : function (e) {
			OpenLayers.Protocol.prototype.read.apply(this, arguments),
			e = OpenLayers.Util.applyDefaults(e, this.options),
			e.params = OpenLayers.Util.applyDefaults(e.params, this.options.params),
			e.filter && this.filterToParams && (e.params = this.filterToParams(e.filter, e.params));
			var t = new OpenLayers.Protocol.Response({
					requestType : "read"
				}),
			n = this.createRequest(e.url, e.params, OpenLayers.Function.bind(function (n) {
						t.data = n,
						this.handleRead(t, e)
					}, this));
			return t.priv = n,
			t
		},
		createRequest : function (e, t, n) {
			var n = OpenLayers.Protocol.Script.register(n),
			r = OpenLayers.String.format(this.callbackTemplate, {
					id : n
				}),
			t = OpenLayers.Util.extend({}, t);
			return t[this.callbackKey] = this.callbackPrefix + r,
			e = OpenLayers.Util.urlAppend(e, OpenLayers.Util.getParameterString(t)),
			t = document.createElement("script"),
			t.type = "text/javascript",
			t.src = e,
			t.id = "OpenLayers_Protocol_Script_" + n,
			this.pendingRequests[t.id] = t,
			document.getElementsByTagName("head")[0].appendChild(t),
			t
		},
		destroyRequest : function (e) {
			OpenLayers.Protocol.Script.unregister(e.id.split("_").pop()),
			delete this.pendingRequests[e.id],
			e.parentNode && e.parentNode.removeChild(e)
		},
		handleRead : function (e, t) {
			this.handleResponse(e, t)
		},
		handleResponse : function (e, t) {
			t.callback && (e.data ? (e.features = this.parseFeatures(e.data), e.code = OpenLayers.Protocol.Response.SUCCESS) : e.code = OpenLayers.Protocol.Response.FAILURE, this.destroyRequest(e.priv), t.callback.call(t.scope, e))
		},
		parseFeatures : function (e) {
			return this.format.read(e)
		},
		abort : function (e) {
			if (e)
				this.destroyRequest(e.priv);
			else
				for (var t in this.pendingRequests)
					this.destroyRequest(this.pendingRequests[t])
		},
		destroy : function () {
			this.abort(),
			delete this.params,
			delete this.format,
			OpenLayers.Protocol.prototype.destroy.apply(this)
		},
		CLASS_NAME : "OpenLayers.Protocol.Script"
	}), function () {
	var e = OpenLayers.Protocol.Script,
	t = 0;
	e.registry = {},
	e.register = function (n) {
		var r = "c" + ++t;
		return e.registry[r] = function () {
			n.apply(this, arguments)
		},
		r
	},
	e.unregister = function (t) {
		delete e.registry[t]
	}
}
(), OpenLayers.Control.Panel = OpenLayers.Class(OpenLayers.Control, {
		controls : null,
		autoActivate : !0,
		defaultControl : null,
		saveState : !1,
		allowDepress : !1,
		activeState : null,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.controls = [],
			this.activeState = {}

		},
		destroy : function () {
			this.map && this.map.events.unregister("buttonclick", this, this.onButtonClick),
			OpenLayers.Control.prototype.destroy.apply(this, arguments);
			for (var e, t = this.controls.length - 1; 0 <= t; t--)
				e = this.controls[t], e.events && e.events.un({
					activate : this.iconOn,
					deactivate : this.iconOff
				}), e.panel_div = null;
			this.activeState = null
		},
		activate : function () {
			if (OpenLayers.Control.prototype.activate.apply(this, arguments)) {
				for (var e, t = 0, n = this.controls.length; t < n; t++)
					e = this.controls[t], (e === this.defaultControl || this.saveState && this.activeState[e.id]) && e.activate();
				return !0 === this.saveState && (this.defaultControl = null),
				this.redraw(),
				!0
			}
			return !1
		},
		deactivate : function () {
			if (OpenLayers.Control.prototype.deactivate.apply(this, arguments)) {
				for (var e, t = 0, n = this.controls.length; t < n; t++)
					e = this.controls[t], this.activeState[e.id] = e.deactivate();
				return this.redraw(),
				!0
			}
			return !1
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.outsideViewport ? (this.events.attachToElement(this.div), this.events.register("buttonclick", this, this.onButtonClick)) : this.map.events.register("buttonclick", this, this.onButtonClick),
			this.addControlsToMap(this.controls),
			this.div
		},
		redraw : function () {
			for (var e = this.div.childNodes.length - 1; 0 <= e; e--)
				this.div.removeChild(this.div.childNodes[e]);
			this.div.innerHTML = "";
			if (this.active)
				for (var e = 0, t = this.controls.length; e < t; e++)
					this.div.appendChild(this.controls[e].panel_div)
		},
		activateControl : function (e) {
			if (!this.active)
				return !1;
			if (e.type == OpenLayers.Control.TYPE_BUTTON)
				e.trigger();
			else if (e.type == OpenLayers.Control.TYPE_TOGGLE)
				e.active ? e.deactivate() : e.activate();
			else if (this.allowDepress && e.active)
				e.deactivate();
			else {
				for (var t, n = 0, r = this.controls.length; n < r; n++)
					t = this.controls[n], t != e && (t.type === OpenLayers.Control.TYPE_TOOL || null == t.type) && t.deactivate();
				e.activate()
			}
		},
		addControls : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]),
			this.controls = this.controls.concat(e);
			for (var t = 0, n = e.length; t < n; t++) {
				var r = e[t],
				i = this.createControlMarkup(r);
				OpenLayers.Element.addClass(i, r.displayClass + "ItemInactive"),
				OpenLayers.Element.addClass(i, "olButton"),
				"" != r.title && !i.title && (i.title = r.title),
				r.panel_div = i
			}
			this.map && (this.addControlsToMap(e), this.redraw())
		},
		createControlMarkup : function () {
			return document.createElement("div")
		},
		addControlsToMap : function (e) {
			for (var t, n = 0, r = e.length; n < r; n++)
				t = e[n], !0 === t.autoActivate ? (t.autoActivate = !1, this.map.addControl(t), t.autoActivate = !0) : (this.map.addControl(t), t.deactivate()), t.events.on({
					activate : this.iconOn,
					deactivate : this.iconOff
				})
		},
		iconOn : function () {
			var e = this.panel_div;
			e.className = e.className.replace(RegExp("\\b(" + this.displayClass + "Item)Inactive\\b"), "$1Active")
		},
		iconOff : function () {
			var e = this.panel_div;
			e.className = e.className.replace(RegExp("\\b(" + this.displayClass + "Item)Active\\b"), "$1Inactive")
		},
		onButtonClick : function (e) {
			for (var t = this.controls, e = e.buttonElement, n = t.length - 1; 0 <= n; --n)
				if (t[n].panel_div === e) {
					this.activateControl(t[n]);
					break
				}
		},
		getControlsBy : function (e, t) {
			var n = "function" == typeof t.test;
			return OpenLayers.Array.filter(this.controls, function (r) {
				return r[e] == t || n && t.test(r[e])
			})
		},
		getControlsByName : function (e) {
			return this.getControlsBy("name", e)
		},
		getControlsByClass : function (e) {
			return this.getControlsBy("CLASS_NAME", e)
		},
		CLASS_NAME : "OpenLayers.Control.Panel"
	}), OpenLayers.Control.ZoomIn = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_BUTTON,
		trigger : function () {
			this.map.zoomIn()
		},
		CLASS_NAME : "OpenLayers.Control.ZoomIn"
	}), OpenLayers.Control.ZoomOut = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_BUTTON,
		trigger : function () {
			this.map.zoomOut()
		},
		CLASS_NAME : "OpenLayers.Control.ZoomOut"
	}), OpenLayers.Control.ZoomToMaxExtent = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_BUTTON,
		trigger : function () {
			this.map && this.map.zoomToMaxExtent()
		},
		CLASS_NAME : "OpenLayers.Control.ZoomToMaxExtent"
	}), OpenLayers.Control.ZoomPanel = OpenLayers.Class(OpenLayers.Control.Panel, {
		initialize : function (e) {
			OpenLayers.Control.Panel.prototype.initialize.apply(this, [e]),
			this.addControls([new OpenLayers.Control.ZoomIn, new OpenLayers.Control.ZoomToMaxExtent, new OpenLayers.Control.ZoomOut])
		},
		CLASS_NAME : "OpenLayers.Control.ZoomPanel"
	}), OpenLayers.Layer.HTTPRequest = OpenLayers.Class(OpenLayers.Layer, {
		URL_HASH_FACTOR : (Math.sqrt(5) - 1) / 2,
		url : null,
		params : null,
		reproject : !1,
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.prototype.initialize.apply(this, [e, r]),
			this.url = t,
			this.params || (this.params = OpenLayers.Util.extend({}, n))
		},
		destroy : function () {
			this.params = this.url = null,
			OpenLayers.Layer.prototype.destroy.apply(this, arguments)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.HTTPRequest(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.prototype.clone.apply(this, [e])
		},
		setUrl : function (e) {
			this.url = e
		},
		mergeNewParams : function (e) {
			return this.params = OpenLayers.Util.extend(this.params, e),
			e = this.redraw(),
			null != this.map && this.map.events.triggerEvent("changelayer", {
				layer : this,
				property : "params"
			}),
			e
		},
		redraw : function (e) {
			return e ? this.mergeNewParams({
				_olSalt : Math.random()
			}) : OpenLayers.Layer.prototype.redraw.apply(this, [])
		},
		selectUrl : function (e, t) {
			for (var n = 1, r = 0, i = e.length; r < i; r++)
				n *= e.charCodeAt(r) * this.URL_HASH_FACTOR, n -= Math.floor(n);
			return t[Math.floor(n * t.length)]
		},
		getFullRequestString : function (e, t) {
			var n = t || this.url,
			r = OpenLayers.Util.extend({}, this.params),
			r = OpenLayers.Util.extend(r, e),
			i = OpenLayers.Util.getParameterString(r);
			OpenLayers.Util.isArray(n) && (n = this.selectUrl(i, n));
			var i = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(n)),
			s;
			for (s in r)
				s.toUpperCase()in i && delete r[s];
			return i = OpenLayers.Util.getParameterString(r),
			OpenLayers.Util.urlAppend(n, i)
		},
		CLASS_NAME : "OpenLayers.Layer.HTTPRequest"
	}), OpenLayers.Tile = OpenLayers.Class({
		events : null,
		eventListeners : null,
		id : null,
		layer : null,
		url : null,
		bounds : null,
		size : null,
		position : null,
		isLoading : !1,
		initialize : function (e, t, n, r, i, s) {
			this.layer = e,
			this.position = t.clone(),
			this.setBounds(n),
			this.url = r,
			i && (this.size = i.clone()),
			this.id = OpenLayers.Util.createUniqueID("Tile_"),
			OpenLayers.Util.extend(this, s),
			this.events = new OpenLayers.Events(this),
			this.eventListeners instanceof Object && this.events.on(this.eventListeners)
		},
		unload : function () {
			this.isLoading && (this.isLoading = !1, this.events.triggerEvent("unload"))
		},
		destroy : function () {
			this.position = this.size = this.bounds = this.layer = null,
			this.eventListeners && this.events.un(this.eventListeners),
			this.events.destroy(),
			this.events = this.eventListeners = null
		},
		draw : function (e) {
			e || this.clear();
			var t = this.shouldDraw();
			return t && !e && (t = !1 !== this.events.triggerEvent("beforedraw")),
			t
		},
		shouldDraw : function () {
			var e = !1,
			t = this.layer.maxExtent;
			if (t) {
				var n = this.layer.map,
				n = n.baseLayer.wrapDateLine && n.getMaxExtent();
				this.bounds.intersectsBounds(t, {
					inclusive : !1,
					worldBounds : n
				}) && (e = !0)
			}
			return e || this.layer.displayOutsideMaxExtent
		},
		setBounds : function (e) {
			e = e.clone();
			if (this.layer.map.baseLayer.wrapDateLine)
				var t = this.layer.map.getMaxExtent(), n = this.layer.map.getResolution(), e = e.wrapDateLine(t, {
						leftTolerance : n,
						rightTolerance : n
					});
			this.bounds = e
		},
		moveTo : function (e, t, n) {
			null == n && (n = !0),
			this.setBounds(e),
			this.position = t.clone(),
			n && this.draw()
		},
		clear : function () {},
		CLASS_NAME : "OpenLayers.Tile"
	}), OpenLayers.Tile.Image = OpenLayers.Class(OpenLayers.Tile, {
		url : null,
		imgDiv : null,
		frame : null,
		imageReloadAttempts : null,
		layerAlphaHack : null,
		asyncRequestId : null,
		blankImageUrl : "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7",
		maxGetUrlLength : null,
		canvasContext : null,
		crossOriginKeyword : null,
		initialize : function (e, t, n, r, i, s) {
			OpenLayers.Tile.prototype.initialize.apply(this, arguments),
			this.url = r,
			this.layerAlphaHack = this.layer.alpha && OpenLayers.Util.alphaHack();
			if (null != this.maxGetUrlLength || this.layer.gutter || this.layerAlphaHack)
				this.frame = document.createElement("div"), this.frame.style.position = "absolute", this.frame.style.overflow = "hidden";
			null != this.maxGetUrlLength && OpenLayers.Util.extend(this, OpenLayers.Tile.Image.IFrame)
		},
		destroy : function () {
			this.imgDiv && (this.clear(), this.frame = this.imgDiv = null),
			this.asyncRequestId = null,
			OpenLayers.Tile.prototype.destroy.apply(this, arguments)
		},
		draw : function () {
			var e = OpenLayers.Tile.prototype.draw.apply(this, arguments);
			return e ? (this.layer != this.layer.map.baseLayer && this.layer.reproject && (this.bounds = this.getBoundsFromBaseLayer(this.position)), this.isLoading ? this._loadEvent = "reload" : (this.isLoading = !0, this._loadEvent = "loadstart"), this.positionTile(), this.renderTile()) : this.unload(),
			e
		},
		renderTile : function () {
			this.layer.div.appendChild(this.getTile());
			if (this.layer.async) {
				var e = this.asyncRequestId = (this.asyncRequestId || 0) + 1;
				this.layer.getURLasync(this.bounds, function (t) {
					e == this.asyncRequestId && (this.url = t, this.initImage())
				}, this)
			} else
				this.url = this.layer.getURL(this.bounds), this.initImage()
		},
		positionTile : function () {
			var e = this.getTile().style,
			t = this.frame ? this.size : this.layer.getImageSize(this.bounds);
			e.left = this.position.x + "%",
			e.top = this.position.y + "%",
			e.width = t.w + "%",
			e.height = t.h + "%"
		},
		clear : function () {
			OpenLayers.Tile.prototype.clear.apply(this, arguments);
			var e = this.imgDiv;
			if (e) {
				OpenLayers.Event.stopObservingElement(e);
				var t = this.getTile();
				t.parentNode === this.layer.div && this.layer.div.removeChild(t),
				this.setImgSrc(),
				!0 === this.layerAlphaHack && (e.style.filter = ""),
				OpenLayers.Element.removeClass(e, "olImageLoadError")
			}
			this.canvasContext = null
		},
		getImage : function () {
			if (!this.imgDiv) {
				this.imgDiv = document.createElement("img"),
				this.imgDiv.className = "olTileImage",
				this.imgDiv.galleryImg = "no";
				var e = this.imgDiv.style;
				if (this.frame) {
					var t = 0,
					n = 0;
					this.layer.gutter && (t = 100 * (this.layer.gutter / this.layer.tileSize.w), n = 100 * (this.layer.gutter / this.layer.tileSize.h)),
					e.left = -t + "%",
					e.top = -n + "%",
					e.width = 2 * t + 100 + "%",
					e.height = 2 * n + 100 + "%"
				}
				e.visibility = "hidden",
				e.opacity = 0,
				1 > this.layer.opacity && (e.filter = "alpha(opacity=" + 100 * this.layer.opacity + ")"),
				e.position = "absolute",
				this.layerAlphaHack && (e.paddingTop = e.height, e.height = "0", e.width = "100%"),
				this.frame && this.frame.appendChild(this.imgDiv)
			}
			return this.imgDiv
		},
		initImage : function () {
			this.events.triggerEvent(this._loadEvent);
			var e = this.getImage();
			if (this.url && e.getAttribute("src") == this.url)
				this.onImageLoad();
			else {
				var t = OpenLayers.Function.bind(function () {
						OpenLayers.Event.stopObservingElement(e),
						OpenLayers.Event.observe(e, "load", OpenLayers.Function.bind(this.onImageLoad, this)),
						OpenLayers.Event.observe(e, "error", OpenLayers.Function.bind(this.onImageError, this)),
						this.imageReloadAttempts = 0,
						this.setImgSrc(this.url)
					}, this);
				e.getAttribute("src") == this.blankImageUrl ? t() : (OpenLayers.Event.observe(e, "load", t), OpenLayers.Event.observe(e, "error", t), this.crossOriginKeyword && e.removeAttribute("crossorigin"), e.src = this.blankImageUrl)
			}
		},
		setImgSrc : function (e) {
			var t = this.imgDiv;
			t.style.visibility = "hidden",
			t.style.opacity = 0,
			e && (this.crossOriginKeyword && ("data:" !== e.substr(0, 5) ? t.setAttribute("crossorigin", this.crossOriginKeyword) : t.removeAttribute("crossorigin")), t.src = e)
		},
		getTile : function () {
			return this.frame ? this.frame : this.getImage()
		},
		createBackBuffer : function () {
			if (this.imgDiv && !this.isLoading) {
				var e;
				return this.frame ? (e = this.frame.cloneNode(!1), e.appendChild(this.imgDiv)) : e = this.imgDiv,
				this.imgDiv = null,
				e
			}
		},
		onImageLoad : function () {
			var e = this.imgDiv;
			OpenLayers.Event.stopObservingElement(e),
			e.style.visibility = "inherit",
			e.style.opacity = this.layer.opacity,
			this.isLoading = !1,
			this.canvasContext = null,
			this.events.triggerEvent("loadend");
			if (7 > parseFloat(navigator.appVersion.split("MSIE")[1]) && this.layer && this.layer.div) {
				var t = document.createElement("span");
				t.style.display = "none";
				var n = this.layer.div;
				n.appendChild(t),
				window.setTimeout(function () {
					t.parentNode === n && t.parentNode.removeChild(t)
				}, 0)
			}
			!0 === this.layerAlphaHack && (e.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + e.src + "', sizingMethod='scale')")
		},
		onImageError : function () {
			var e = this.imgDiv;
			null != e.src && (this.imageReloadAttempts++, this.imageReloadAttempts <= OpenLayers.IMAGE_RELOAD_ATTEMPTS ? this.setImgSrc(this.layer.getURL(this.bounds)) : (OpenLayers.Element.addClass(e, "olImageLoadError"), this.events.triggerEvent("loaderror"), this.onImageLoad()))
		},
		getCanvasContext : function () {
			if (OpenLayers.CANVAS_SUPPORTED && this.imgDiv && !this.isLoading) {
				if (!this.canvasContext) {
					var e = document.createElement("canvas");
					e.width = this.size.w,
					e.height = this.size.h,
					this.canvasContext = e.getContext("2d"),
					this.canvasContext.drawImage(this.imgDiv, 0, 0)
				}
				return this.canvasContext
			}
		},
		CLASS_NAME : "OpenLayers.Tile.Image"
	}), OpenLayers.Layer.Grid = OpenLayers.Class(OpenLayers.Layer.HTTPRequest, {
		tileSize : null,
		tileOriginCorner : "bl",
		tileOrigin : null,
		tileOptions : null,
		tileClass : OpenLayers.Tile.Image,
		grid : null,
		singleTile : !1,
		ratio : 1.5,
		buffer : 0,
		transitionEffect : null,
		numLoadingTiles : 0,
		tileLoadingDelay : 85,
		serverResolutions : null,
		moveTimerId : null,
		deferMoveGriddedTiles : null,
		tileQueueId : null,
		tileQueue : null,
		loading : !1,
		backBuffer : null,
		gridResolution : null,
		backBufferResolution : null,
		backBufferLonLat : null,
		backBufferTimerId : null,
		removeBackBufferDelay : null,
		className : null,
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.HTTPRequest.prototype.initialize.apply(this, arguments),
			this.grid = [],
			this.tileQueue = [],
			null === this.removeBackBufferDelay && (this.removeBackBufferDelay = this.singleTile ? 0 : 2500),
			null === this.className && (this.className = this.singleTile ? "olLayerGridSingleTile" : "olLayerGrid"),
			OpenLayers.Animation.isNative || (this.deferMoveGriddedTiles = OpenLayers.Function.bind(function () {
						this.moveGriddedTiles(!0),
						this.moveTimerId = null
					}, this))
		},
		setMap : function (e) {
			OpenLayers.Layer.HTTPRequest.prototype.setMap.call(this, e),
			OpenLayers.Element.addClass(this.div, this.className)
		},
		removeMap : function () {
			null !== this.moveTimerId && (window.clearTimeout(this.moveTimerId), this.moveTimerId = null),
			this.clearTileQueue(),
			null !== this.backBufferTimerId && (window.clearTimeout(this.backBufferTimerId), this.backBufferTimerId = null)
		},
		destroy : function () {
			this.removeBackBuffer(),
			this.clearGrid(),
			this.tileSize = this.grid = null,
			OpenLayers.Layer.HTTPRequest.prototype.destroy.apply(this, arguments)
		},
		clearGrid : function () {
			this.clearTileQueue();
			if (this.grid) {
				for (var e = 0, t = this.grid.length; e < t; e++)
					for (var n = this.grid[e], r = 0, i = n.length; r < i; r++)
						this.destroyTile(n[r]);
				this.grid = [],
				this.gridResolution = null
			}
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.Grid(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this, [e]),
			null != this.tileSize && (e.tileSize = this.tileSize.clone()),
			e.grid = [],
			e.gridResolution = null,
			e.backBuffer = null,
			e.backBufferTimerId = null,
			e.tileQueue = [],
			e.tileQueueId = null,
			e.loading = !1,
			e.moveTimerId = null,
			e
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this, arguments),
			e = e || this.map.getExtent();
			if (null != e) {
				var r = !this.grid.length || t,
				i = this.getTilesBounds(),
				s = this.map.getResolution(),
				o = this.getServerResolution(s);
				if (this.singleTile) {
					if (r || !n && !i.containsBounds(e))
						t && "resize" !== this.transitionEffect && this.removeBackBuffer(), (!t || "resize" === this.transitionEffect) && this.applyBackBuffer(o), this.initSingleTile(e)
				} else (r = r || !i.intersectsBounds(e, {
								worldBounds : this.map.baseLayer.wrapDateLine && this.map.getMaxExtent()
							}), s !== o ? (e = this.map.calculateBounds(null, o), r && this.transformDiv(o / s)) : (this.div.style.width = "100%", this.div.style.height = "100%", this.div.style.left = "0%", this.div.style.top = "0%"), r) ? (t && "resize" === this.transitionEffect && this.applyBackBuffer(o), this.initGriddedTiles(e)) : this.moveGriddedTiles()
			}
		},
		getTileData : function (e) {
			var t = null,
			n = e.lon,
			r = e.lat,
			i = this.grid.length;
			if (this.map && i) {
				var s = this.map.getResolution(),
				e = this.tileSize.w,
				o = this.tileSize.h,
				u = this.grid[0][0].bounds,
				a = u.left,
				u = u.top;
				if (n < a && this.map.baseLayer.wrapDateLine)
					var f = this.map.getMaxExtent().getWidth(), l = Math.ceil((a - n) / f), n = n + f * l;
				n = (n - a) / (s * e),
				r = (u - r) / (s * o),
				s = Math.floor(n),
				a = Math.floor(r),
				0 <= a && a < i && (i = this.grid[a][s]) && (t = {
						tile : i,
						i : Math.floor((n - s) * e),
						j : Math.floor((r - a) * o)
					})
			}
			return t
		},
		queueTileDraw : function (e) {
			return e = e.object,
			~OpenLayers.Util.indexOf(this.tileQueue, e) || this.tileQueue.push(e),
			this.tileQueueId || (this.tileQueueId = OpenLayers.Animation.start(OpenLayers.Function.bind(this.drawTileFromQueue, this), null, this.div)),
			!1
		},
		drawTileFromQueue : function () {
			0 === this.tileQueue.length ? this.clearTileQueue() : this.tileQueue.shift().draw(!0)
		},
		clearTileQueue : function () {
			OpenLayers.Animation.stop(this.tileQueueId),
			this.tileQueueId = null,
			this.tileQueue = []
		},
		destroyTile : function (e) {
			this.removeTileMonitoringHooks(e),
			e.destroy()
		},
		getServerResolution : function (e) {
			e = e || this.map.getResolution();
			if (this.serverResolutions && -1 === OpenLayers.Util.indexOf(this.serverResolutions, e)) {
				var t,
				n;
				for (t = this.serverResolutions.length - 1; 0 <= t; t--)
					if (n = this.serverResolutions[t], n > e) {
						e = n;
						break
					}
				if (-1 === t)
					throw "no appropriate resolution in serverResolutions"
			}
			return e
		},
		getServerZoom : function () {
			var e = this.getServerResolution();
			return this.serverResolutions ? OpenLayers.Util.indexOf(this.serverResolutions, e) : this.map.getZoomForResolution(e) + (this.zoomOffset || 0)
		},
		transformDiv : function (e) {
			this.div.style.width = 100 * e + "%",
			this.div.style.height = 100 * e + "%";
			var t = this.map.getSize(),
			n = parseInt(this.map.layerContainerDiv.style.left, 10),
			r = (parseInt(this.map.layerContainerDiv.style.top, 10) - t.h / 2) * (e - 1);
			this.div.style.left = (n - t.w / 2) * (e - 1) + "%",
			this.div.style.top = r + "%"
		},
		getResolutionScale : function () {
			return parseInt(this.div.style.width, 10) / 100
		},
		applyBackBuffer : function (e) {
			null !== this.backBufferTimerId && this.removeBackBuffer();
			var t = this.backBuffer;
			if (!t) {
				t = this.createBackBuffer();
				if (!t)
					return;
				this.div.insertBefore(t, this.div.firstChild),
				this.backBuffer = t;
				var n = this.grid[0][0].bounds;
				this.backBufferLonLat = {
					lon : n.left,
					lat : n.top
				},
				this.backBufferResolution = this.gridResolution
			}
			var n = t.style,
			r = this.backBufferResolution / e;
			n.width = 100 * r + "%",
			n.height = 100 * r + "%",
			e = this.getViewPortPxFromLonLat(this.backBufferLonLat, e),
			n = parseInt(this.map.layerContainerDiv.style.left, 10),
			r = parseInt(this.map.layerContainerDiv.style.top, 10),
			t.style.left = Math.round(e.x - n) + "%",
			t.style.top = Math.round(e.y - r) + "%"
		},
		createBackBuffer : function () {
			var e;
			if (0 < this.grid.length) {
				e = document.createElement("div"),
				e.id = this.div.id + "_bb",
				e.className = "olBackBuffer",
				e.style.position = "absolute",
				e.style.width = "100%",
				e.style.height = "100%";
				for (var t = 0, n = this.grid.length; t < n; t++)
					for (var r = 0, i = this.grid[t].length; r < i; r++) {
						var s = this.grid[t][r].createBackBuffer();
						s && (s.style.top = t * this.tileSize.h + "%", s.style.left = r * this.tileSize.w + "%", e.appendChild(s))
					}
			}
			return e
		},
		removeBackBuffer : function () {
			this.backBuffer && (this.div.removeChild(this.backBuffer), this.backBufferResolution = this.backBuffer = null, null !== this.backBufferTimerId && (window.clearTimeout(this.backBufferTimerId), this.backBufferTimerId = null))
		},
		moveByPx : function () {
			this.singleTile || this.moveGriddedTiles()
		},
		setTileSize : function (e) {
			this.singleTile && (e = this.map.getSize(), e.h = parseInt(e.h * this.ratio), e.w = parseInt(e.w * this.ratio)),
			OpenLayers.Layer.HTTPRequest.prototype.setTileSize.apply(this, [e])
		},
		getTilesBounds : function () {
			var e = null,
			t = this.grid.length;
			if (t)
				var e = this.grid[t - 1][0].bounds, t = this.grid[0].length * e.getWidth(), n = this.grid.length * e.getHeight(), e = new OpenLayers.Bounds(e.left, e.bottom, e.left + t, e.bottom + n);
			return e
		},
		initSingleTile : function (e) {
			this.clearTileQueue();
			var t = e.getCenterLonLat(),
			n = e.getWidth() * this.ratio,
			e = e.getHeight() * this.ratio,
			t = new OpenLayers.Bounds(t.lon - n / 2, t.lat - e / 2, t.lon + n / 2, t.lat + e / 2),
			n = this.map.getLayerPxFromLonLat({
					lon : t.left,
					lat : t.top
				});
			this.grid.length || (this.grid[0] = []),
			(e = this.grid[0][0]) ? e.moveTo(t, n) : (e = this.addTile(t, n), this.addTileMonitoringHooks(e), e.draw(), this.grid[0][0] = e),
			this.removeExcessTiles(1, 1),
			this.gridResolution = this.getServerResolution()
		},
		calculateGridLayout : function (e, t, n) {
			var r = n * this.tileSize.w,
			n = n * this.tileSize.h,
			i = e.left - t.lon,
			s = Math.floor(i / r) - this.buffer,
			i =  - (i / r - s) * this.tileSize.w,
			s = t.lon + s * r,
			e = e.top - (t.lat + n),
			o = Math.ceil(e / n) + this.buffer;
			return {
				tilelon : r,
				tilelat : n,
				tileoffsetlon : s,
				tileoffsetlat : t.lat + o * n,
				tileoffsetx : i,
				tileoffsety :  - (o - e / n) * this.tileSize.h
			}
		},
		getTileOrigin : function () {
			var e = this.tileOrigin;
			if (!e)
				var e = this.getMaxExtent(), t = {
					tl : ["left", "top"],
					tr : ["right", "top"],
					bl : ["left", "bottom"],
					br : ["right", "bottom"]
				}
			[this.tileOriginCorner],
			e = new OpenLayers.LonLat(e[t[0]], e[t[1]]);
			return e
		},
		initGriddedTiles : function (e) {
			this.clearTileQueue();
			var t = this.map.getSize(),
			n = Math.ceil(t.h / this.tileSize.h) + Math.max(1, 2 * this.buffer),
			t = Math.ceil(t.w / this.tileSize.w) + Math.max(1, 2 * this.buffer),
			r = this.getTileOrigin(),
			i = this.getServerResolution(),
			r = this.calculateGridLayout(e, r, i),
			i = Math.round(r.tileoffsetx),
			s = Math.round(r.tileoffsety),
			o = r.tileoffsetlon,
			u = r.tileoffsetlat,
			a = r.tilelon,
			f = r.tilelat,
			l = i,
			c = o,
			h = 0,
			p = parseInt(this.map.layerContainerDiv.style.left),
			d = parseInt(this.map.layerContainerDiv.style.top),
			r = [],
			v = this.map.getCenter();
			do {
				var m = this.grid[h++];
				m || (m = [], this.grid.push(m));
				var o = c,
				i = l,
				g = 0;
				do {
					var y = new OpenLayers.Bounds(o, u, o + a, u + f),
					b = i,
					b = b - p,
					w = s,
					w = w - d,
					w = new OpenLayers.Pixel(b, w);
					(b = m[g++]) ? b.moveTo(y, w, !1) : (b = this.addTile(y, w), this.addTileMonitoringHooks(b), m.push(b)),
					y = y.getCenterLonLat(),
					r.push({
						tile : b,
						distance : Math.pow(y.lon - v.lon, 2) + Math.pow(y.lat - v.lat, 2)
					}),
					o += a,
					i += this.tileSize.w
				} while (o <= e.right + a * this.buffer || g < t);
				u -= f,
				s += this.tileSize.h
			} while (u >= e.bottom - f * this.buffer || h < n);
			this.removeExcessTiles(h, g),
			this.gridResolution = this.getServerResolution(),
			r.sort(function (e, t) {
				return e.distance - t.distance
			}),
			e = 0;
			for (n = r.length; e < n; ++e)
				r[e].tile.draw()
		},
		getMaxExtent : function () {
			return this.maxExtent
		},
		addTile : function (e, t) {
			var n = new this.tileClass(this, t, e, null, this.tileSize, this.tileOptions);
			return n.events.register("beforedraw", this, this.queueTileDraw),
			n
		},
		addTileMonitoringHooks : function (e) {
			e.onLoadStart = function () {
				!1 === this.loading && (this.loading = !0, this.events.triggerEvent("loadstart")),
				this.events.triggerEvent("tileloadstart", {
					tile : e
				}),
				this.numLoadingTiles++
			},
			e.onLoadEnd = function () {
				this.numLoadingTiles--,
				this.events.triggerEvent("tileloaded", {
					tile : e
				}),
				0 === this.tileQueue.length && 0 === this.numLoadingTiles && (this.loading = !1, this.events.triggerEvent("loadend"), this.backBuffer && (this.backBufferTimerId = window.setTimeout(OpenLayers.Function.bind(this.removeBackBuffer, this), this.removeBackBufferDelay)))
			},
			e.onLoadError = function () {
				this.events.triggerEvent("tileerror", {
					tile : e
				})
			},
			e.events.on({
				loadstart : e.onLoadStart,
				loadend : e.onLoadEnd,
				unload : e.onLoadEnd,
				loaderror : e.onLoadError,
				scope : this
			})
		},
		removeTileMonitoringHooks : function (e) {
			e.unload(),
			e.events.un({
				loadstart : e.onLoadStart,
				loadend : e.onLoadEnd,
				unload : e.onLoadEnd,
				loaderror : e.onLoadError,
				scope : this
			})
		},
		moveGriddedTiles : function (e) {
			if (!e && !OpenLayers.Animation.isNative)
				null != this.moveTimerId && window.clearTimeout(this.moveTimerId), this.moveTimerId = window.setTimeout(this.deferMoveGriddedTiles, this.tileLoadingDelay);
			else
				for (var e = this.buffer || 1, t = this.getResolutionScale(); ; ) {
					var n = this.grid[0][0].position.x * t + parseInt(this.div.style.left, 10) + parseInt(this.map.layerContainerDiv.style.left),
					r = this.grid[0][0].position.y * t + parseInt(this.div.style.top, 10) + parseInt(this.map.layerContainerDiv.style.top),
					i = this.tileSize.w * t,
					s = this.tileSize.h * t;
					if (n > -i * (e - 1))
						this.shiftColumn(!0);
					else if (n < -i * e)
						this.shiftColumn(!1);
					else if (r > -s * (e - 1))
						this.shiftRow(!0);
					else {
						if (!(r < -s * e))
							break;
						this.shiftRow(!1)
					}
				}
		},
		shiftRow : function (e) {
			for (var t = this.grid, n = t[e ? 0 : this.grid.length - 1], r = this.getServerResolution(), i = e ? -this.tileSize.h : this.tileSize.h, r = r * -i, s = e ? t.pop() : t.shift(), o = 0, u = n.length; o < u; o++) {
				var a = n[o],
				f = a.bounds.clone(),
				a = a.position.clone();
				f.bottom += r,
				f.top += r,
				a.y += i,
				s[o].moveTo(f, a)
			}
			e ? t.unshift(s) : t.push(s)
		},
		shiftColumn : function (e) {
			for (var t = e ? -this.tileSize.w : this.tileSize.w, n = this.getServerResolution() * t, r = 0, i = this.grid.length; r < i; r++) {
				var s = this.grid[r],
				o = s[e ? 0 : s.length - 1],
				u = o.bounds.clone(),
				o = o.position.clone();
				u.left += n,
				u.right += n,
				o.x += t;
				var a = e ? this.grid[r].pop() : this.grid[r].shift();
				a.moveTo(u, o),
				e ? s.unshift(a) : s.push(a)
			}
		},
		removeExcessTiles : function (e, t) {
			for (var n, r; this.grid.length > e; ) {
				var i = this.grid.pop();
				n = 0;
				for (r = i.length; n < r; n++) {
					var s = i[n];
					this.destroyTile(s)
				}
			}
			n = 0;
			for (r = this.grid.length; n < r; n++)
				for (; this.grid[n].length > t; )
					i = this.grid[n], s = i.pop(), this.destroyTile(s)
		},
		onMapResize : function () {
			this.singleTile && (this.clearGrid(), this.setTileSize())
		},
		getTileBounds : function (e) {
			var t = this.maxExtent,
			n = this.getResolution(),
			r = n * this.tileSize.w,
			n = n * this.tileSize.h,
			i = this.getLonLatFromViewPortPx(e),
			e = t.left + r * Math.floor((i.lon - t.left) / r),
			t = t.bottom + n * Math.floor((i.lat - t.bottom) / n);
			return new OpenLayers.Bounds(e, t, e + r, t + n)
		},
		CLASS_NAME : "OpenLayers.Layer.Grid"
	}), OpenLayers.Format.ArcXML = OpenLayers.Class(OpenLayers.Format.XML, {
		fontStyleKeys : "antialiasing blockout font fontcolor fontsize fontstyle glowing interval outline printmode shadow transparency".split(" "),
		request : null,
		response : null,
		initialize : function (e) {
			this.request = new OpenLayers.Format.ArcXML.Request,
			this.response = new OpenLayers.Format.ArcXML.Response;
			if (e)
				if ("feature" == e.requesttype) {
					this.request.get_image = null;
					var t = this.request.get_feature.query;
					this.addCoordSys(t.featurecoordsys, e.featureCoordSys),
					this.addCoordSys(t.filtercoordsys, e.filterCoordSys),
					e.polygon ? (t.isspatial = !0, t.spatialfilter.polygon = e.polygon) : e.envelope && (t.isspatial = !0, t.spatialfilter.envelope = {
							minx : 0,
							miny : 0,
							maxx : 0,
							maxy : 0
						}, this.parseEnvelope(t.spatialfilter.envelope, e.envelope))
				} else
					"image" == e.requesttype ? (this.request.get_feature = null, t = this.request.get_image.properties, this.parseEnvelope(t.envelope, e.envelope), this.addLayers(t.layerlist, e.layers), this.addImageSize(t.imagesize, e.tileSize), this.addCoordSys(t.featurecoordsys, e.featureCoordSys), this.addCoordSys(t.filtercoordsys, e.filterCoordSys)) : this.request = null;
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		parseEnvelope : function (e, t) {
			t && 4 == t.length && (e.minx = t[0], e.miny = t[1], e.maxx = t[2], e.maxy = t[3])
		},
		addLayers : function (e, t) {
			for (var n = 0, r = t.length; n < r; n++)
				e.push(t[n])
		},
		addImageSize : function (e, t) {
			null !== t && (e.width = t.w, e.height = t.h, e.printwidth = t.w, e.printheight = t.h)
		},
		addCoordSys : function (e, t) {
			"string" == typeof t ? (e.id = parseInt(t), e.string = t) : "object" == typeof t && null !== t.proj && (e.id = t.proj.srsProjNumber, e.string = t.proj.srsCode)
		},
		iserror : function (e) {
			var t = null;
			return e ? (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]), e = e.documentElement.getElementsByTagName("ERROR"), t = null !== e && 0 < e.length) : t = "" !== this.response.error,
			t
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = null;
			e && e.documentElement && (t = "ARCXML" == e.documentElement.nodeName ? e.documentElement : e.documentElement.getElementsByTagName("ARCXML")[0]);
			if (!t || "parsererror" === t.firstChild.nodeName) {
				var n,
				r;
				try {
					n = e.firstChild.nodeValue,
					r = e.firstChild.childNodes[1].firstChild.nodeValue
				} catch (i) {}

				throw {
					message : "Error parsing the ArcXML request",
					error : n,
					source : r
				}
			}
			return this.parseResponse(t)
		},
		write : function (e) {
			e || (e = this.request);
			var t = this.createElementNS("", "ARCXML");
			t.setAttribute("version", "1.1");
			var n = this.createElementNS("", "REQUEST");
			if (null != e.get_image) {
				var r = this.createElementNS("", "GET_IMAGE");
				n.appendChild(r);
				var i = this.createElementNS("", "PROPERTIES");
				r.appendChild(i),
				e = e.get_image.properties,
				null != e.featurecoordsys && (r = this.createElementNS("", "FEATURECOORDSYS"), i.appendChild(r), 0 === e.featurecoordsys.id ? r.setAttribute("string", e.featurecoordsys.string) : r.setAttribute("id", e.featurecoordsys.id)),
				null != e.filtercoordsys && (r = this.createElementNS("", "FILTERCOORDSYS"), i.appendChild(r), 0 === e.filtercoordsys.id ? r.setAttribute("string", e.filtercoordsys.string) : r.setAttribute("id", e.filtercoordsys.id)),
				null != e.envelope && (r = this.createElementNS("", "ENVELOPE"), i.appendChild(r), r.setAttribute("minx", e.envelope.minx), r.setAttribute("miny", e.envelope.miny), r.setAttribute("maxx", e.envelope.maxx), r.setAttribute("maxy", e.envelope.maxy)),
				r = this.createElementNS("", "IMAGESIZE"),
				i.appendChild(r),
				r.setAttribute("height", e.imagesize.height),
				r.setAttribute("width", e.imagesize.width);
				if (e.imagesize.height != e.imagesize.printheight || e.imagesize.width != e.imagesize.printwidth)
					r.setAttribute("printheight", e.imagesize.printheight), r.setArrtibute("printwidth", e.imagesize.printwidth);
				null != e.background && (r = this.createElementNS("", "BACKGROUND"), i.appendChild(r), r.setAttribute("color", e.background.color.r + "," + e.background.color.g + "," + e.background.color.b), null !== e.background.transcolor && r.setAttribute("transcolor", e.background.transcolor.r + "," + e.background.transcolor.g + "," + e.background.transcolor.b));
				if (null != e.layerlist && 0 < e.layerlist.length) {
					r = this.createElementNS("", "LAYERLIST"),
					i.appendChild(r);
					for (i = 0; i < e.layerlist.length; i++) {
						var s = this.createElementNS("", "LAYERDEF");
						r.appendChild(s),
						s.setAttribute("id", e.layerlist[i].id),
						s.setAttribute("visible", e.layerlist[i].visible);
						if ("object" == typeof e.layerlist[i].query) {
							var o = e.layerlist[i].query;
							if (0 > o.where.length)
								continue;
							var u = null,
							u = "boolean" == typeof o.spatialfilter && o.spatialfilter ? this.createElementNS("", "SPATIALQUERY") : this.createElementNS("", "QUERY");
							u.setAttribute("where", o.where),
							"number" == typeof o.accuracy && 0 < o.accuracy && u.setAttribute("accuracy", o.accuracy),
							"number" == typeof o.featurelimit && 2e3 > o.featurelimit && u.setAttribute("featurelimit", o.featurelimit),
							"string" == typeof o.subfields && "#ALL#" != o.subfields && u.setAttribute("subfields", o.subfields),
							"string" == typeof o.joinexpression && 0 < o.joinexpression.length && u.setAttribute("joinexpression", o.joinexpression),
							"string" == typeof o.jointables && 0 < o.jointables.length && u.setAttribute("jointables", o.jointables),
							s.appendChild(u)
						}
						"object" == typeof e.layerlist[i].renderer && this.addRenderer(s, e.layerlist[i].renderer)
					}
				}
			} else
				null != e.get_feature && (r = this.createElementNS("", "GET_FEATURES"), r.setAttribute("outputmode", "newxml"), r.setAttribute("checkesc", "true"), e.get_feature.geometry ? r.setAttribute("geometry", e.get_feature.geometry) : r.setAttribute("geometry", "false"), e.get_feature.compact && r.setAttribute("compact", e.get_feature.compact), "number" == e.get_feature.featurelimit && r.setAttribute("featurelimit", e.get_feature.featurelimit), r.setAttribute("globalenvelope", "true"), n.appendChild(r), null != e.get_feature.layer && 0 < e.get_feature.layer.length && (i = this.createElementNS("", "LAYER"), i.setAttribute("id", e.get_feature.layer), r.appendChild(i)), e = e.get_feature.query, null != e) && (i = null, i = e.isspatial ? this.createElementNS("", "SPATIALQUERY") : this.createElementNS("", "QUERY"), r.appendChild(i), "number" == typeof e.accuracy && i.setAttribute("accuracy", e.accuracy), null != e.featurecoordsys && (r = this.createElementNS("", "FEATURECOORDSYS"), 0 == e.featurecoordsys.id ? r.setAttribute("string", e.featurecoordsys.string) : r.setAttribute("id", e.featurecoordsys.id), i.appendChild(r)), null != e.filtercoordsys && (r = this.createElementNS("", "FILTERCOORDSYS"), 0 === e.filtercoordsys.id ? r.setAttribute("string", e.filtercoordsys.string) : r.setAttribute("id", e.filtercoordsys.id), i.appendChild(r)), 0 < e.buffer && (r = this.createElementNS("", "BUFFER"), r.setAttribute("distance", e.buffer), i.appendChild(r)), e.isspatial && (r = this.createElementNS("", "SPATIALFILTER"), r.setAttribute("relation", e.spatialfilter.relation), i.appendChild(r), e.spatialfilter.envelope ? (s = this.createElementNS("", "ENVELOPE"), s.setAttribute("minx", e.spatialfilter.envelope.minx), s.setAttribute("miny", e.spatialfilter.envelope.miny), s.setAttribute("maxx", e.spatialfilter.envelope.maxx), s.setAttribute("maxy", e.spatialfilter.envelope.maxy), r.appendChild(s)) : "object" == typeof e.spatialfilter.polygon && r.appendChild(this.writePolygonGeometry(e.spatialfilter.polygon))), null != e.where && 0 < e.where.length && i.setAttribute("where", e.where));
			return t.appendChild(n),
			OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		addGroupRenderer : function (e, t) {
			var n = this.createElementNS("", "GROUPRENDERER");
			e.appendChild(n);
			for (var r = 0; r < t.length; r++)
				this.addRenderer(n, t[r])
		},
		addRenderer : function (e, t) {
			if (OpenLayers.Util.isArray(t))
				this.addGroupRenderer(e, t);
			else {
				var n = this.createElementNS("", t.type.toUpperCase() + "RENDERER");
				e.appendChild(n),
				"VALUEMAPRENDERER" == n.tagName ? this.addValueMapRenderer(n, t) : "VALUEMAPLABELRENDERER" == n.tagName ? this.addValueMapLabelRenderer(n, t) : "SIMPLELABELRENDERER" == n.tagName ? this.addSimpleLabelRenderer(n, t) : "SCALEDEPENDENTRENDERER" == n.tagName && this.addScaleDependentRenderer(n, t)
			}
		},
		addScaleDependentRenderer : function (e, t) {
			("string" == typeof t.lower || "number" == typeof t.lower) && e.setAttribute("lower", t.lower),
			("string" == typeof t.upper || "number" == typeof t.upper) && e.setAttribute("upper", t.upper),
			this.addRenderer(e, t.renderer)
		},
		addValueMapLabelRenderer : function (e, t) {
			e.setAttribute("lookupfield", t.lookupfield),
			e.setAttribute("labelfield", t.labelfield);
			if ("object" == typeof t.exacts)
				for (var n = 0, r = t.exacts.length; n < r; n++) {
					var i = t.exacts[n],
					s = this.createElementNS("", "EXACT");
					"string" == typeof i.value && s.setAttribute("value", i.value),
					"string" == typeof i.label && s.setAttribute("label", i.label),
					"string" == typeof i.method && s.setAttribute("method", i.method),
					e.appendChild(s);
					if ("object" == typeof i.symbol) {
						var o = null;
						"text" == i.symbol.type && (o = this.createElementNS("", "TEXTSYMBOL"));
						if (null != o) {
							for (var u = this.fontStyleKeys, a = 0, f = u.length; a < f; a++) {
								var l = u[a];
								i.symbol[l] && o.setAttribute(l, i.symbol[l])
							}
							s.appendChild(o)
						}
					}
				}
		},
		addValueMapRenderer : function (e, t) {
			e.setAttribute("lookupfield", t.lookupfield);
			if ("object" == typeof t.ranges)
				for (var n = 0, r = t.ranges.length; n < r; n++) {
					var i = t.ranges[n],
					s = this.createElementNS("", "RANGE");
					s.setAttribute("lower", i.lower),
					s.setAttribute("upper", i.upper),
					e.appendChild(s);
					if ("object" == typeof i.symbol) {
						var o = null;
						"simplepolygon" == i.symbol.type && (o = this.createElementNS("", "SIMPLEPOLYGONSYMBOL")),
						null != o && ("string" == typeof i.symbol.boundarycolor && o.setAttribute("boundarycolor", i.symbol.boundarycolor), "string" == typeof i.symbol.fillcolor && o.setAttribute("fillcolor", i.symbol.fillcolor), "number" == typeof i.symbol.filltransparency && o.setAttribute("filltransparency", i.symbol.filltransparency), s.appendChild(o))
					}
				}
			else if ("object" == typeof t.exacts) {
				n = 0;
				for (r = t.exacts.length; n < r; n++)
					i = t.exacts[n], s = this.createElementNS("", "EXACT"), "string" == typeof i.value && s.setAttribute("value", i.value), "string" == typeof i.label && s.setAttribute("label", i.label), "string" == typeof i.method && s.setAttribute("method", i.method), e.appendChild(s), "object" == typeof i.symbol && (o = null, "simplemarker" == i.symbol.type && (o = this.createElementNS("", "SIMPLEMARKERSYMBOL")), null != o && ("string" == typeof i.symbol.antialiasing && o.setAttribute("antialiasing", i.symbol.antialiasing), "string" == typeof i.symbol.color && o.setAttribute("color", i.symbol.color), "string" == typeof i.symbol.outline && o.setAttribute("outline", i.symbol.outline), "string" == typeof i.symbol.overlap && o.setAttribute("overlap", i.symbol.overlap), "string" == typeof i.symbol.shadow && o.setAttribute("shadow", i.symbol.shadow), "number" == typeof i.symbol.transparency && o.setAttribute("transparency", i.symbol.transparency), "string" == typeof i.symbol.usecentroid && o.setAttribute("usecentroid", i.symbol.usecentroid), "number" == typeof i.symbol.width && o.setAttribute("width", i.symbol.width), s.appendChild(o)))
			}
		},
		addSimpleLabelRenderer : function (e, t) {
			e.setAttribute("field", t.field);
			for (var n = "featureweight howmanylabels labelbufferratio labelpriorities labelweight linelabelposition rotationalangles".split(" "), r = 0, i = n.length; r < i; r++) {
				var s = n[r];
				t[s] && e.setAttribute(s, t[s])
			}
			if ("text" == t.symbol.type) {
				var o = t.symbol,
				u = this.createElementNS("", "TEXTSYMBOL");
				e.appendChild(u),
				n = this.fontStyleKeys,
				r = 0;
				for (i = n.length; r < i; r++)
					s = n[r], o[s] && u.setAttribute(s, t[s])
			}
		},
		writePolygonGeometry : function (e) {
			if (e instanceof OpenLayers.Geometry.Polygon) {
				for (var t = this.createElementNS("", "POLYGON"), n = 0, r = e.components.length; n < r; n++) {
					for (var i = e.components[n], s = this.createElementNS("", "RING"), o = 0, u = i.components.length; o < u; o++) {
						var a = i.components[o],
						f = this.createElementNS("", "POINT");
						f.setAttribute("x", a.x),
						f.setAttribute("y", a.y),
						s.appendChild(f)
					}
					t.appendChild(s)
				}
				return t
			}
			throw {
				message : "Cannot write polygon geometry to ArcXML with an " + e.CLASS_NAME + " object.",
				geometry : e
			}
		},
		parseResponse : function (e) {
			"string" == typeof e && (e = (new OpenLayers.Format.XML).read(e));
			var t = new OpenLayers.Format.ArcXML.Response,
			n = e.getElementsByTagName("ERROR");
			if (null != n && 0 < n.length)
				t.error = this.getChildValue(n, "Unknown error.");
			else {
				n = e.getElementsByTagName("RESPONSE");
				if (null == n || 0 == n.length)
					return t.error = "No RESPONSE tag found in ArcXML response.", t;
				var r = n[0].firstChild.nodeName;
				"#text" == r && (r = n[0].firstChild.nextSibling.nodeName);
				if ("IMAGE" == r)
					n = e.getElementsByTagName("ENVELOPE"), e = e.getElementsByTagName("OUTPUT"), null == n || 0 == n.length ? t.error = "No ENVELOPE tag found in ArcXML response." : null == e || 0 == e.length ? t.error = "No OUTPUT tag found in ArcXML response." : (n = this.parseAttributes(n[0]), r = this.parseAttributes(e[0]), t.image = "string" == typeof r.type ? {
								envelope : n,
								output : {
									type : r.type,
									data : this.getChildValue(e[0])
								}
							}
							 : {
							envelope : n,
							output : r
						});
				else if ("FEATURES" == r) {
					if (e = n[0].getElementsByTagName("FEATURES"), n = e[0].getElementsByTagName("FEATURECOUNT"), t.features.featurecount = n[0].getAttribute("count"), 0 < t.features.featurecount) {
						n = e[0].getElementsByTagName("ENVELOPE"),
						t.features.envelope = this.parseAttributes(n[0], "number"),
						e = e[0].getElementsByTagName("FEATURE");
						for (n = 0; n < e.length; n++) {
							for (var r = new OpenLayers.Feature.Vector, i = e[n].getElementsByTagName("FIELD"), s = 0; s < i.length; s++) {
								var o = i[s].getAttribute("name"),
								u = i[s].getAttribute("value");
								r.attributes[o] = u
							}
							i = e[n].getElementsByTagName("POLYGON");
							if (0 < i.length) {
								i = i[0].getElementsByTagName("RING"),
								s = [];
								for (o = 0; o < i.length; o++) {
									u = [],
									u.push(this.parsePointGeometry(i[o]));
									for (var a = i[o].getElementsByTagName("HOLE"), f = 0; f < a.length; f++)
										u.push(this.parsePointGeometry(a[f]));
									s.push(new OpenLayers.Geometry.Polygon(u))
								}
								r.geometry = 1 == s.length ? s[0] : new OpenLayers.Geometry.MultiPolygon(s)
							}
							t.features.feature.push(r)
						}
					}
				} else
					t.error = "Unidentified response type."
			}
			return t
		},
		parseAttributes : function (e, t) {
			for (var n = {}, r = 0; r < e.attributes.length; r++)
				n[e.attributes[r].nodeName] = "number" == t ? parseFloat(e.attributes[r].nodeValue) : e.attributes[r].nodeValue;
			return n
		},
		parsePointGeometry : function (e) {
			var t = [],
			n = e.getElementsByTagName("COORDS");
			if (0 < n.length) {
				e = this.getChildValue(n[0]),
				e = e.split(/;/);
				for (n = 0; n < e.length; n++) {
					var r = e[n].split(/ /);
					t.push(new OpenLayers.Geometry.Point(r[0], r[1]))
				}
			} else if (e = e.getElementsByTagName("POINT"), 0 < e.length)
				for (n = 0; n < e.length; n++)
					t.push(new OpenLayers.Geometry.Point(parseFloat(e[n].getAttribute("x")), parseFloat(e[n].getAttribute("y"))));
			return new OpenLayers.Geometry.LinearRing(t)
		},
		CLASS_NAME : "OpenLayers.Format.ArcXML"
	}), OpenLayers.Format.ArcXML.Request = OpenLayers.Class({
		initialize : function () {
			return OpenLayers.Util.extend(this, {
				get_image : {
					properties : {
						background : null,
						draw : !0,
						envelope : {
							minx : 0,
							miny : 0,
							maxx : 0,
							maxy : 0
						},
						featurecoordsys : {
							id : 0,
							string : "",
							datumtransformid : 0,
							datumtransformstring : ""
						},
						filtercoordsys : {
							id : 0,
							string : "",
							datumtransformid : 0,
							datumtransformstring : ""
						},
						imagesize : {
							height : 0,
							width : 0,
							dpi : 96,
							printheight : 0,
							printwidth : 0,
							scalesymbols : !1
						},
						layerlist : [],
						output : {
							baseurl : "",
							legendbaseurl : "",
							legendname : "",
							legendpath : "",
							legendurl : "",
							name : "",
							path : "",
							type : "jpg",
							url : ""
						}
					}
				},
				get_feature : {
					layer : "",
					query : {
						isspatial : !1,
						featurecoordsys : {
							id : 0,
							string : "",
							datumtransformid : 0,
							datumtransformstring : ""
						},
						filtercoordsys : {
							id : 0,
							string : "",
							datumtransformid : 0,
							datumtransformstring : ""
						},
						buffer : 0,
						where : "",
						spatialfilter : {
							relation : "envelope_intersection",
							envelope : null
						}
					}
				},
				environment : {
					separators : {
						cs : " ",
						ts : ";"
					}
				},
				layer : [],
				workspaces : []
			})
		},
		CLASS_NAME : "OpenLayers.Format.ArcXML.Request"
	}), OpenLayers.Format.ArcXML.Response = OpenLayers.Class({
		initialize : function () {
			return OpenLayers.Util.extend(this, {
				image : {
					envelope : null,
					output : ""
				},
				features : {
					featurecount : 0,
					envelope : null,
					feature : []
				},
				error : ""
			})
		},
		CLASS_NAME : "OpenLayers.Format.ArcXML.Response"
	}), OpenLayers.ProxyHost = "", OpenLayers.Request = {
	DEFAULT_CONFIG : {
		method : "GET",
		url : window.location.href,
		async : !0,
		user : void 0,
		password : void 0,
		params : null,
		proxy : OpenLayers.ProxyHost,
		headers : {},
		data : null,
		callback : function () {},
		success : null,
		failure : null,
		scope : null
	},
	URL_SPLIT_REGEX : /([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/,
	events : new OpenLayers.Events(this),
	makeSameOrigin : function (e, t) {
		var n = 0 !== e.indexOf("http"),
		r = !n && e.match(this.URL_SPLIT_REGEX);
		if (r) {
			var i = window.location,
			n = r[1] == i.protocol && r[3] == i.hostname,
			r = r[4],
			i = i.port;
			if (80 != r && "" != r || "80" != i && "" != i)
				n = n && r == i
		}
		return n || (t ? e = "function" == typeof t ? t(e) : t + encodeURIComponent(e) : OpenLayers.Console.warn(OpenLayers.i18n("proxyNeeded"), {
					url : e
				})),
		e
	},
	issue : function (e) {
		var t = OpenLayers.Util.extend(this.DEFAULT_CONFIG, {
				proxy : OpenLayers.ProxyHost
			}),
		e = OpenLayers.Util.applyDefaults(e, t),
		t = !1,
		n;
		for (n in e.headers)
			e.headers.hasOwnProperty(n) && "x-requested-with" === n.toLowerCase() && (t = !0);
		!1 === t && (e.headers["X-Requested-With"] = "XMLHttpRequest");
		var r = new OpenLayers.Request.XMLHttpRequest,
		i = OpenLayers.Util.urlAppend(e.url, OpenLayers.Util.getParameterString(e.params || {})),
		i = OpenLayers.Request.makeSameOrigin(i, e.proxy);
		r.open(e.method, i, e.async, e.user, e.password);
		for (var s in e.headers)
			r.setRequestHeader(s, e.headers[s]);
		var o = this.events,
		u = this;
		return r.onreadystatechange = function () {
			r.readyState == OpenLayers.Request.XMLHttpRequest.DONE && !1 !== o.triggerEvent("complete", {
				request : r,
				config : e,
				requestUrl : i
			}) && u.runCallbacks({
				request : r,
				config : e,
				requestUrl : i
			})
		},
		!1 === e.async ? r.send(e.data) : window.setTimeout(function () {
			0 !== r.readyState && r.send(e.data)
		}, 0),
		r
	},
	runCallbacks : function (e) {
		var t = e.request,
		n = e.config,
		r = n.scope ? OpenLayers.Function.bind(n.callback, n.scope) : n.callback,
		i;
		n.success && (i = n.scope ? OpenLayers.Function.bind(n.success, n.scope) : n.success);
		var s;
		n.failure && (s = n.scope ? OpenLayers.Function.bind(n.failure, n.scope) : n.failure),
		"file:" == OpenLayers.Util.createUrlObject(n.url).protocol && t.responseText && (t.status = 200),
		r(t);
		if (!t.status || 200 <= t.status && 300 > t.status)
			this.events.triggerEvent("success", e), i && i(t);
		t.status && (200 > t.status || 300 <= t.status) && (this.events.triggerEvent("failure", e), s && s(t))
	},
	GET : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "GET"
			}),
		OpenLayers.Request.issue(e)
	},
	POST : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "POST"
			}),
		e.headers = e.headers ? e.headers : {},
		"CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(e.headers) || (e.headers["Content-Type"] = "application/xml"),
		OpenLayers.Request.issue(e)
	},
	PUT : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "PUT"
			}),
		e.headers = e.headers ? e.headers : {},
		"CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(e.headers) || (e.headers["Content-Type"] = "application/xml"),
		OpenLayers.Request.issue(e)
	},
	DELETE : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "DELETE"
			}),
		OpenLayers.Request.issue(e)
	},
	HEAD : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "HEAD"
			}),
		OpenLayers.Request.issue(e)
	},
	OPTIONS : function (e) {
		return e = OpenLayers.Util.extend(e, {
				method : "OPTIONS"
			}),
		OpenLayers.Request.issue(e)
	}
}, OpenLayers.Layer.ArcIMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
		DEFAULT_PARAMS : {
			ClientVersion : "9.2",
			ServiceName : ""
		},
		featureCoordSys : "4326",
		filterCoordSys : "4326",
		layers : null,
		async : !0,
		name : "ArcIMS",
		isBaseLayer : !0,
		DEFAULT_OPTIONS : {
			tileSize : new OpenLayers.Size(512, 512),
			featureCoordSys : "4326",
			filterCoordSys : "4326",
			layers : null,
			isBaseLayer : !0,
			async : !0,
			name : "ArcIMS"
		},
		initialize : function (e, t, n) {
			this.tileSize = new OpenLayers.Size(512, 512),
			this.params = OpenLayers.Util.applyDefaults({
					ServiceName : n.serviceName
				}, this.DEFAULT_PARAMS),
			this.options = OpenLayers.Util.applyDefaults(n, this.DEFAULT_OPTIONS),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e, t, this.params, n]),
			this.transparent && (this.isBaseLayer || (this.isBaseLayer = !1), "image/jpeg" == this.format) && (this.format = OpenLayers.Util.alphaHack() ? "image/gif" : "image/png"),
			null === this.options.layers && (this.options.layers = [])
		},
		getURL : function (e) {
			var t = "",
			e = this.adjustBounds(e),
			e = new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options, {
						requesttype : "image",
						envelope : e.toArray(),
						tileSize : this.tileSize
					})),
			e = new OpenLayers.Request.POST({
					url : this.getFullRequestString(),
					data : e.write(),
					async : !1
				});
			if (null != e) {
				t = e.responseXML;
				if (!t || !t.documentElement)
					t = e.responseText;
				t = this.getUrlOrImage((new OpenLayers.Format.ArcXML).read(t).image.output)
			}
			return t
		},
		getURLasync : function (e, t, n) {
			e = this.adjustBounds(e),
			e = new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options, {
						requesttype : "image",
						envelope : e.toArray(),
						tileSize : this.tileSize
					})),
			OpenLayers.Request.POST({
				url : this.getFullRequestString(),
				async : !0,
				data : e.write(),
				callback : function (e) {
					var r = e.responseXML;
					if (!r || !r.documentElement)
						r = e.responseText;
					e = (new OpenLayers.Format.ArcXML).read(r),
					t.call(n, this.getUrlOrImage(e.image.output))
				},
				scope : this
			})
		},
		getUrlOrImage : function (e) {
			var t = "";
			return e.url ? t = e.url : e.data && (t = "data:image/" + e.type + ";base64," + e.data),
			t
		},
		setLayerQuery : function (e, t) {
			for (var n = 0; n < this.options.layers.length; n++)
				if (e == this.options.layers[n].id) {
					this.options.layers[n].query = t;
					return
				}
			this.options.layers.push({
				id : e,
				visible : !0,
				query : t
			})
		},
		getFeatureInfo : function (e, t, n) {
			var r = n.buffer || 1,
			i = n.callback || function () {},
			s = n.scope || window,
			o = {};
			OpenLayers.Util.extend(o, this.options),
			o.requesttype = "feature",
			e instanceof OpenLayers.LonLat ? (o.polygon = null, o.envelope = [e.lon - r, e.lat - r, e.lon + r, e.lat + r]) : e instanceof OpenLayers.Geometry.Polygon && (o.envelope = null, o.polygon = e);
			var u = new OpenLayers.Format.ArcXML(o);
			OpenLayers.Util.extend(u.request.get_feature, n),
			u.request.get_feature.layer = t.id,
			"number" == typeof t.query.accuracy ? u.request.get_feature.query.accuracy = t.query.accuracy : (e = this.map.getCenter(), n = this.map.getViewPortPxFromLonLat(e), n.x++, n = this.map.getLonLatFromPixel(n), u.request.get_feature.query.accuracy = n.lon - e.lon),
			u.request.get_feature.query.where = t.query.where,
			u.request.get_feature.query.spatialfilter.relation = "area_intersection",
			OpenLayers.Request.POST({
				url : this.getFullRequestString({
					CustomService : "Query"
				}),
				data : u.write(),
				callback : function (e) {
					e = u.parseResponse(e.responseText),
					u.iserror() ? i.call(s, null) : i.call(s, e.features)
				}
			})
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.ArcIMS(this.name, this.url, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		CLASS_NAME : "OpenLayers.Layer.ArcIMS"
	}), OpenLayers.Format.OWSCommon.v1_1_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1, {
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			xlink : "http://www.w3.org/1999/xlink"
		},
		readers : {
			ows : OpenLayers.Util.applyDefaults({
				ExceptionReport : function (e, t) {
					t.exceptionReport = {
						version : e.getAttribute("version"),
						language : e.getAttribute("xml:lang"),
						exceptions : []
					},
					this.readChildNodes(e, t.exceptionReport)
				},
				AllowedValues : function (e, t) {
					t.allowedValues = {},
					this.readChildNodes(e, t.allowedValues)
				},
				AnyValue : function (e, t) {
					t.anyValue = !0
				},
				DataType : function (e, t) {
					t.dataType = this.getChildValue(e)
				},
				Range : function (e, t) {
					t.range = {},
					this.readChildNodes(e, t.range)
				},
				MinimumValue : function (e, t) {
					t.minValue = this.getChildValue(e)
				},
				MaximumValue : function (e, t) {
					t.maxValue = this.getChildValue(e)
				},
				Identifier : function (e, t) {
					t.identifier = this.getChildValue(e)
				},
				SupportedCRS : function (e, t) {
					t.supportedCRS = this.getChildValue(e)
				}
			}, OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)
		},
		writers : {
			ows : OpenLayers.Util.applyDefaults({
				Range : function (e) {
					var t = this.createElementNSPlus("ows:Range", {
							attributes : {
								"ows:rangeClosure" : e.closure
							}
						});
					return this.writeNode("ows:MinimumValue", e.minValue, t),
					this.writeNode("ows:MaximumValue", e.maxValue, t),
					t
				},
				MinimumValue : function (e) {
					return this.createElementNSPlus("ows:MinimumValue", {
						value : e
					})
				},
				MaximumValue : function (e) {
					return this.createElementNSPlus("ows:MaximumValue", {
						value : e
					})
				},
				Value : function (e) {
					return this.createElementNSPlus("ows:Value", {
						value : e
					})
				}
			}, OpenLayers.Format.OWSCommon.v1.prototype.writers.ows)
		},
		CLASS_NAME : "OpenLayers.Format.OWSCommon.v1_1_0"
	}), OpenLayers.Format.WCSGetCoverage = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			wcs : "http://www.opengis.net/wcs/1.1",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		VERSION : "1.1.2",
		schemaLocation : "http://www.opengis.net/wcs/1.1 http://schemas.opengis.net/wcs/1.1/wcsGetCoverage.xsd",
		write : function (e) {
			return e = this.writeNode("wcs:GetCoverage", e),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			wcs : {
				GetCoverage : function (e) {
					var t = this.createElementNSPlus("wcs:GetCoverage", {
							attributes : {
								version : e.version || this.VERSION,
								service : "WCS"
							}
						});
					return this.writeNode("ows:Identifier", e.identifier, t),
					this.writeNode("wcs:DomainSubset", e.domainSubset, t),
					this.writeNode("wcs:Output", e.output, t),
					t
				},
				DomainSubset : function (e) {
					var t = this.createElementNSPlus("wcs:DomainSubset", {});
					return this.writeNode("ows:BoundingBox", e.boundingBox, t),
					e.temporalSubset && this.writeNode("wcs:TemporalSubset", e.temporalSubset, t),
					t
				},
				TemporalSubset : function (e) {
					for (var t = this.createElementNSPlus("wcs:TemporalSubset", {}), n = 0, r = e.timePeriods.length; n < r; ++n)
						this.writeNode("wcs:TimePeriod", e.timePeriods[n], t);
					return t
				},
				TimePeriod : function (e) {
					var t = this.createElementNSPlus("wcs:TimePeriod", {});
					return this.writeNode("wcs:BeginPosition", e.begin, t),
					this.writeNode("wcs:EndPosition", e.end, t),
					e.resolution && this.writeNode("wcs:TimeResolution", e.resolution, t),
					t
				},
				BeginPosition : function (e) {
					return this.createElementNSPlus("wcs:BeginPosition", {
						value : e
					})
				},
				EndPosition : function (e) {
					return this.createElementNSPlus("wcs:EndPosition", {
						value : e
					})
				},
				TimeResolution : function (e) {
					return this.createElementNSPlus("wcs:TimeResolution", {
						value : e
					})
				},
				Output : function (e) {
					var t = this.createElementNSPlus("wcs:Output", {
							attributes : {
								format : e.format,
								store : e.store
							}
						});
					return e.gridCRS && this.writeNode("wcs:GridCRS", e.gridCRS, t),
					t
				},
				GridCRS : function (e) {
					var t = this.createElementNSPlus("wcs:GridCRS", {});
					return this.writeNode("wcs:GridBaseCRS", e.baseCRS, t),
					e.type && this.writeNode("wcs:GridType", e.type, t),
					e.origin && this.writeNode("wcs:GridOrigin", e.origin, t),
					this.writeNode("wcs:GridOffsets", e.offsets, t),
					e.CS && this.writeNode("wcs:GridCS", e.CS, t),
					t
				},
				GridBaseCRS : function (e) {
					return this.createElementNSPlus("wcs:GridBaseCRS", {
						value : e
					})
				},
				GridOrigin : function (e) {
					return this.createElementNSPlus("wcs:GridOrigin", {
						value : e
					})
				},
				GridType : function (e) {
					return this.createElementNSPlus("wcs:GridType", {
						value : e
					})
				},
				GridOffsets : function (e) {
					return this.createElementNSPlus("wcs:GridOffsets", {
						value : e
					})
				},
				GridCS : function (e) {
					return this.createElementNSPlus("wcs:GridCS", {
						value : e
					})
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WCSGetCoverage"
	}), OpenLayers.Format.WPSExecute = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			gml : "http://www.opengis.net/gml",
			wps : "http://www.opengis.net/wps/1.0.0",
			wfs : "http://www.opengis.net/wfs",
			ogc : "http://www.opengis.net/ogc",
			wcs : "http://www.opengis.net/wcs",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		VERSION : "1.0.0",
		schemaLocation : "http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",
		schemaLocationAttr : function () {},
		write : function (e) {
			var t;
			return window.ActiveXObject ? this.xmldom = t = new ActiveXObject("Microsoft.XMLDOM") : t = document.implementation.createDocument("", "", null),
			e = this.writeNode("wps:Execute", e, t),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			wps : {
				Execute : function (e) {
					var t = this.createElementNSPlus("wps:Execute", {
							attributes : {
								version : this.VERSION,
								service : "WPS"
							}
						});
					return this.writeNode("ows:Identifier", e.identifier, t),
					this.writeNode("wps:DataInputs", e.dataInputs, t),
					this.writeNode("wps:ResponseForm", e.responseForm, t),
					t
				},
				ResponseForm : function (e) {
					var t = this.createElementNSPlus("wps:ResponseForm", {});
					return e.rawDataOutput && this.writeNode("wps:RawDataOutput", e.rawDataOutput, t),
					e.responseDocument && this.writeNode("wps:ResponseDocument", e.responseDocument, t),
					t
				},
				ResponseDocument : function (e) {
					var t = this.createElementNSPlus("wps:ResponseDocument", {
							attributes : {
								storeExecuteResponse : e.storeExecuteResponse,
								lineage : e.lineage,
								status : e.status
							}
						});
					return e.output && this.writeNode("wps:Output", e.output, t),
					t
				},
				Output : function (e) {
					var t = this.createElementNSPlus("wps:Output", {
							attributes : {
								asReference : e.asReference
							}
						});
					return this.writeNode("ows:Identifier", e.identifier, t),
					this.writeNode("ows:Title", e.title, t),
					this.writeNode("ows:Abstract", e["abstract"], t),
					t
				},
				RawDataOutput : function (e) {
					var t = this.createElementNSPlus("wps:RawDataOutput", {
							attributes : {
								mimeType : e.mimeType
							}
						});
					return this.writeNode("ows:Identifier", e.identifier, t),
					t
				},
				DataInputs : function (e) {
					for (var t = this.createElementNSPlus("wps:DataInputs", {}), n = 0, r = e.length; n < r; ++n)
						this.writeNode("wps:Input", e[n], t);
					return t
				},
				Input : function (e) {
					var t = this.createElementNSPlus("wps:Input", {});
					return this.writeNode("ows:Identifier", e.identifier, t),
					e.title && this.writeNode("ows:Title", e.title, t),
					e.data && this.writeNode("wps:Data", e.data, t),
					e.reference && this.writeNode("wps:Reference", e.reference, t),
					t
				},
				Data : function (e) {
					var t = this.createElementNSPlus("wps:Data", {});
					return e.literalData ? this.writeNode("wps:LiteralData", e.literalData, t) : e.complexData && this.writeNode("wps:ComplexData", e.complexData, t),
					t
				},
				LiteralData : function (e) {
					return this.createElementNSPlus("wps:LiteralData", {
						attributes : {
							uom : e.uom
						},
						value : e.value
					})
				},
				ComplexData : function (e) {
					var t = this.createElementNSPlus("wps:ComplexData", {
							attributes : {
								mimeType : e.mimeType,
								encoding : e.encoding,
								schema : e.schema
							}
						}),
					n = e.value;
					return "string" == typeof n ? t.appendChild(this.getXMLDoc().createCDATASection(e.value)) : t.appendChild(n),
					t
				},
				Reference : function (e) {
					var t = this.createElementNSPlus("wps:Reference", {
							attributes : {
								mimeType : e.mimeType,
								"xlink:href" : e.href,
								method : e.method,
								encoding : e.encoding,
								schema : e.schema
							}
						});
					return e.body && this.writeNode("wps:Body", e.body, t),
					t
				},
				Body : function (e) {
					var t = this.createElementNSPlus("wps:Body", {});
					return e.wcs ? this.writeNode("wcs:GetCoverage", e.wcs, t) : e.wfs ? (this.featureType = e.wfs.featureType, this.version = e.wfs.version, this.writeNode("wfs:GetFeature", e.wfs, t)) : this.writeNode("wps:Execute", e, t),
					t
				}
			},
			wcs : OpenLayers.Format.WCSGetCoverage.prototype.writers.wcs,
			wfs : OpenLayers.Format.WFST.v1_1_0.prototype.writers.wfs,
			ogc : OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc,
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WPSExecute"
	}), OpenLayers.Control.PanZoom = OpenLayers.Class(OpenLayers.Control, {
		slideFactor : 50,
		slideRatio : null,
		buttons : null,
		position : null,
		initialize : function (e) {
			this.position = new OpenLayers.Pixel(OpenLayers.Control.PanZoom.X, OpenLayers.Control.PanZoom.Y),
			OpenLayers.Control.prototype.initialize.apply(this, arguments)
		},
		destroy : function () {
			this.map && this.map.events.unregister("buttonclick", this, this.onButtonClick),
			this.removeButtons(),
			this.position = this.buttons = null,
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments),
			this.map.events.register("buttonclick", this, this.onButtonClick)
		},
		draw : function (e) {
			OpenLayers.Control.prototype.draw.apply(this, arguments),
			e = this.position,
			this.buttons = [];
			var t = {
				w : 18,
				h : 18
			},
			n = new OpenLayers.Pixel(e.x + t.w / 2, e.y);
			return this._addButton("panup", "north-mini.png", n, t),
			e.y = n.y + t.h,
			this._addButton("panleft", "west-mini.png", e, t),
			this._addButton("panright", "east-mini.png", e.add(t.w, 0), t),
			this._addButton("pandown", "south-mini.png", n.add(0, 2 * t.h), t),
			this._addButton("zoomin", "zoom-plus-mini.png", n.add(0, 3 * t.h + 5), t),
			this._addButton("zoomworld", "zoom-world-mini.png", n.add(0, 4 * t.h + 5), t),
			this._addButton("zoomout", "zoom-minus-mini.png", n.add(0, 5 * t.h + 5), t),
			this.div
		},
		_addButton : function (e, t, n, r) {
			return t = OpenLayers.Util.getImageLocation(t),
			n = OpenLayers.Util.createAlphaImageDiv(this.id + "_" + e, n, r, t, "absolute"),
			n.style.cursor = "pointer",
			this.div.appendChild(n),
			n.action = e,
			n.className = "olButton",
			this.buttons.push(n),
			n
		},
		_removeButton : function (e) {
			this.div.removeChild(e),
			OpenLayers.Util.removeItem(this.buttons, e)
		},
		removeButtons : function () {
			for (var e = this.buttons.length - 1; 0 <= e; --e)
				this._removeButton(this.buttons[e])
		},
		onButtonClick : function (e) {
			switch (e.buttonElement.action) {
			case "panup":
				this.map.pan(0, -this.getSlideFactor("h"));
				break;
			case "pandown":
				this.map.pan(0, this.getSlideFactor("h"));
				break;
			case "panleft":
				this.map.pan(-this.getSlideFactor("w"), 0);
				break;
			case "panright":
				this.map.pan(this.getSlideFactor("w"), 0);
				break;
			case "zoomin":
				this.map.zoomIn();
				break;
			case "zoomout":
				this.map.zoomOut();
				break;
			case "zoomworld":
				this.map.zoomToMaxExtent()
			}
		},
		getSlideFactor : function (e) {
			return this.slideRatio ? this.map.getSize()[e] * this.slideRatio : this.slideFactor
		},
		CLASS_NAME : "OpenLayers.Control.PanZoom"
	}), OpenLayers.Control.PanZoom.X = 4, OpenLayers.Control.PanZoom.Y = 4, OpenLayers.Control.PanZoomBar = OpenLayers.Class(OpenLayers.Control.PanZoom, {
		zoomStopWidth : 18,
		zoomStopHeight : 11,
		slider : null,
		sliderEvents : null,
		zoombarDiv : null,
		zoomWorldIcon : !1,
		panIcons : !0,
		forceFixedZoomLevel : !1,
		mouseDragStart : null,
		deltaY : null,
		zoomStart : null,
		destroy : function () {
			this._removeZoomBar(),
			this.map.events.un({
				changebaselayer : this.redraw,
				scope : this
			}),
			OpenLayers.Control.PanZoom.prototype.destroy.apply(this, arguments),
			delete this.mouseDragStart,
			delete this.zoomStart
		},
		setMap : function (e) {
			OpenLayers.Control.PanZoom.prototype.setMap.apply(this, arguments),
			this.map.events.register("changebaselayer", this, this.redraw)
		},
		redraw : function () {
			null != this.div && (this.removeButtons(), this._removeZoomBar()),
			this.draw()
		},
		draw : function (e) {
			OpenLayers.Control.prototype.draw.apply(this, arguments),
			e = this.position.clone(),
			this.buttons = [];
			var t = {
				w : 18,
				h : 18
			};
			if (this.panIcons) {
				var n = new OpenLayers.Pixel(e.x + t.w / 2, e.y),
				r = t.w;
				this.zoomWorldIcon && (n = new OpenLayers.Pixel(e.x + t.w, e.y)),
				this._addButton("panup", "north-mini.png", n, t),
				e.y = n.y + t.h,
				this._addButton("panleft", "west-mini.png", e, t),
				this.zoomWorldIcon && (this._addButton("zoomworld", "zoom-world-mini.png", e.add(t.w, 0), t), r *= 2),
				this._addButton("panright", "east-mini.png", e.add(r, 0), t),
				this._addButton("pandown", "south-mini.png", n.add(0, 2 * t.h), t),
				this._addButton("zoomin", "zoom-plus-mini.png", n.add(0, 3 * t.h + 5), t),
				n = this._addZoomBar(n.add(0, 4 * t.h + 5)),
				this._addButton("zoomout", "zoom-minus-mini.png", n, t)
			} else
				this._addButton("zoomin", "zoom-plus-mini.png", e, t), n = this._addZoomBar(e.add(0, t.h)), this._addButton("zoomout", "zoom-minus-mini.png", n, t), this.zoomWorldIcon && (n = n.add(0, t.h + 3), this._addButton("zoomworld", "zoom-world-mini.png", n, t));
			return this.div
		},
		_addZoomBar : function (e) {
			var t = OpenLayers.Util.getImageLocation("slider.png"),
			n = this.id + "_" + this.map.id,
			r = this.map.getNumZoomLevels() - 1 - this.map.getZoom(),
			r = OpenLayers.Util.createAlphaImageDiv(n, e.add(-1, r * this.zoomStopHeight), {
					w : 20,
					h : 9
				}, t, "absolute");
			r.style.cursor = "move",
			this.slider = r,
			this.sliderEvents = new OpenLayers.Events(this, r, null, !0, {
					includeXY : !0
				}),
			this.sliderEvents.on({
				touchstart : this.zoomBarDown,
				touchmove : this.zoomBarDrag,
				touchend : this.zoomBarUp,
				mousedown : this.zoomBarDown,
				mousemove : this.zoomBarDrag,
				mouseup : this.zoomBarUp
			});
			var i = {
				w : this.zoomStopWidth,
				h : this.zoomStopHeight * this.map.getNumZoomLevels()
			},
			t = OpenLayers.Util.getImageLocation("zoombar.png"),
			n = null;
			return OpenLayers.Util.alphaHack() ? (n = this.id + "_" + this.map.id, n = OpenLayers.Util.createAlphaImageDiv(n, e, {
						w : i.w,
						h : this.zoomStopHeight
					}, t, "absolute", null, "crop"), n.style.height = i.h + "px") : n = OpenLayers.Util.createDiv("OpenLayers_Control_PanZoomBar_Zoombar" + this.map.id, e, i, t),
			n.style.cursor = "pointer",
			n.className = "olButton",
			this.zoombarDiv = n,
			this.div.appendChild(n),
			this.startTop = parseInt(n.style.top),
			this.div.appendChild(r),
			this.map.events.register("zoomend", this, this.moveZoomBar),
			e = e.add(0, this.zoomStopHeight * this.map.getNumZoomLevels())
		},
		_removeZoomBar : function () {
			this.sliderEvents.un({
				touchstart : this.zoomBarDown,
				touchmove : this.zoomBarDrag,
				touchend : this.zoomBarUp,
				mousedown : this.zoomBarDown,
				mousemove : this.zoomBarDrag,
				mouseup : this.zoomBarUp
			}),
			this.sliderEvents.destroy(),
			this.div.removeChild(this.zoombarDiv),
			this.zoombarDiv = null,
			this.div.removeChild(this.slider),
			this.slider = null,
			this.map.events.unregister("zoomend", this, this.moveZoomBar)
		},
		onButtonClick : function (e) {
			OpenLayers.Control.PanZoom.prototype.onButtonClick.apply(this, arguments);
			if (e.buttonElement === this.zoombarDiv) {
				var t = e.buttonXY.y / this.zoomStopHeight;
				if (this.forceFixedZoomLevel || !this.map.fractionalZoom)
					t = Math.floor(t);
				t = this.map.getNumZoomLevels() - 1 - t,
				t = Math.min(Math.max(t, 0), this.map.getNumZoomLevels() - 1),
				this.map.zoomTo(t)
			}
		},
		passEventToSlider : function (e) {
			this.sliderEvents.handleBrowserEvent(e)
		},
		zoomBarDown : function (e) {
			if (OpenLayers.Event.isLeftClick(e) || OpenLayers.Event.isSingleTouch(e))
				this.map.events.on({
					touchmove : this.passEventToSlider,
					mousemove : this.passEventToSlider,
					mouseup : this.passEventToSlider,
					scope : this
				}), this.mouseDragStart = e.xy.clone(), this.zoomStart = e.xy.clone(), this.div.style.cursor = "move", this.zoombarDiv.offsets = null, OpenLayers.Event.stop(e)
		},
		zoomBarDrag : function (e) {
			if (null != this.mouseDragStart) {
				var t = this.mouseDragStart.y - e.xy.y,
				n = OpenLayers.Util.pagePosition(this.zoombarDiv);
				0 < e.clientY - n[1] && e.clientY - n[1] < parseInt(this.zoombarDiv.style.height) - 2 && (this.slider.style.top = parseInt(this.slider.style.top) - t + "px", this.mouseDragStart = e.xy.clone()),
				this.deltaY = this.zoomStart.y - e.xy.y,
				OpenLayers.Event.stop(e)
			}
		},
		zoomBarUp : function (e) {
			if ((OpenLayers.Event.isLeftClick(e) || "touchend" === e.type) && this.mouseDragStart) {
				this.div.style.cursor = "",
				this.map.events.un({
					touchmove : this.passEventToSlider,
					mouseup : this.passEventToSlider,
					mousemove : this.passEventToSlider,
					scope : this
				});
				var t = this.map.zoom;
				!this.forceFixedZoomLevel && this.map.fractionalZoom ? (t += this.deltaY / this.zoomStopHeight, t = Math.min(Math.max(t, 0), this.map.getNumZoomLevels() - 1)) : (t += this.deltaY / this.zoomStopHeight, t = Math.max(Math.round(t), 0)),
				this.map.zoomTo(t),
				this.zoomStart = this.mouseDragStart = null,
				this.deltaY = 0,
				OpenLayers.Event.stop(e)
			}
		},
		moveZoomBar : function () {
			this.slider.style.top = (this.map.getNumZoomLevels() - 1 - this.map.getZoom()) * this.zoomStopHeight + this.startTop + 1 + "px"
		},
		CLASS_NAME : "OpenLayers.Control.PanZoomBar"
	}), OpenLayers.Format.WFSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.1.0",
		errorProperty : "service",
		CLASS_NAME : "OpenLayers.Format.WFSCapabilities"
	}), OpenLayers.Format.WFSCapabilities.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			wfs : "http://www.opengis.net/wfs",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance",
			ows : "http://www.opengis.net/ows"
		},
		defaultPrefix : "wfs",
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			wfs : {
				WFS_Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				FeatureTypeList : function (e, t) {
					t.featureTypeList = {
						featureTypes : []
					},
					this.readChildNodes(e, t.featureTypeList)
				},
				FeatureType : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.featureTypes.push(n)
				},
				Name : function (e, t) {
					var n = this.getChildValue(e);
					n && (n = n.split(":"), t.name = n.pop(), 0 < n.length && (t.featureNS = this.lookupNamespaceURI(e, n[0])))
				},
				Title : function (e, t) {
					var n = this.getChildValue(e);
					n && (t.title = n)
				},
				Abstract : function (e, t) {
					var n = this.getChildValue(e);
					n && (t["abstract"] = n)
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.WFSCapabilities.v1"
	}), OpenLayers.Format.WFSCapabilities.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1, {
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		readers : {
			wfs : OpenLayers.Util.applyDefaults({
				DefaultSRS : function (e, t) {
					var n = this.getChildValue(e);
					n && (t.srs = n)
				}
			}, OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs),
			ows : OpenLayers.Format.OWSCommon.v1.prototype.readers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WFSCapabilities.v1_1_0"
	}), OpenLayers.Layer.Image = OpenLayers.Class(OpenLayers.Layer, {
		isBaseLayer : !0,
		url : null,
		extent : null,
		size : null,
		tile : null,
		aspectRatio : null,
		initialize : function (e, t, n, r, i) {
			this.url = t,
			this.maxExtent = this.extent = n,
			this.size = r,
			OpenLayers.Layer.prototype.initialize.apply(this, [e, i]),
			this.aspectRatio = this.extent.getHeight() / this.size.h / (this.extent.getWidth() / this.size.w)
		},
		destroy : function () {
			this.tile && (this.removeTileMonitoringHooks(this.tile), this.tile.destroy(), this.tile = null),
			OpenLayers.Layer.prototype.destroy.apply(this, arguments)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.Image(this.name, this.url, this.extent, this.size, this.getOptions())),
			e = OpenLayers.Layer.prototype.clone.apply(this, [e])
		},
		setMap : function (e) {
			null == this.options.maxResolution && (this.options.maxResolution = this.aspectRatio * this.extent.getWidth() / this.size.w),
			OpenLayers.Layer.prototype.setMap.apply(this, arguments)
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
			var r = null == this.tile;
			if (t || r) {
				this.setTileSize();
				var i = this.map.getLayerPxFromLonLat({
						lon : this.extent.left,
						lat : this.extent.top
					});
				r ? (this.tile = new OpenLayers.Tile.Image(this, i, this.extent, null, this.tileSize), this.addTileMonitoringHooks(this.tile)) : (this.tile.size = this.tileSize.clone(), this.tile.position = i.clone()),
				this.tile.draw()
			}
		},
		setTileSize : function () {
			var e = this.extent.getWidth() / this.map.getResolution(),
			t = this.extent.getHeight() / this.map.getResolution();
			this.tileSize = new OpenLayers.Size(e, t)
		},
		addTileMonitoringHooks : function (e) {
			e.onLoadStart = function () {
				this.events.triggerEvent("loadstart")
			},
			e.events.register("loadstart", this, e.onLoadStart),
			e.onLoadEnd = function () {
				this.events.triggerEvent("loadend")
			},
			e.events.register("loadend", this, e.onLoadEnd),
			e.events.register("unload", this, e.onLoadEnd)
		},
		removeTileMonitoringHooks : function (e) {
			e.unload(),
			e.events.un({
				loadstart : e.onLoadStart,
				loadend : e.onLoadEnd,
				unload : e.onLoadEnd,
				scope : this
			})
		},
		setUrl : function (e) {
			this.url = e,
			this.tile.draw()
		},
		getURL : function () {
			return this.url
		},
		CLASS_NAME : "OpenLayers.Layer.Image"
	}), OpenLayers.Strategy = OpenLayers.Class({
		layer : null,
		options : null,
		active : null,
		autoActivate : !0,
		autoDestroy : !0,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e),
			this.options = e,
			this.active = !1
		},
		destroy : function () {
			this.deactivate(),
			this.options = this.layer = null
		},
		setLayer : function (e) {
			this.layer = e
		},
		activate : function () {
			return this.active ? !1 : this.active = !0
		},
		deactivate : function () {
			return this.active ? (this.active = !1, !0) : !1
		},
		CLASS_NAME : "OpenLayers.Strategy"
	}), OpenLayers.Strategy.Save = OpenLayers.Class(OpenLayers.Strategy, {
		events : null,
		auto : !1,
		timer : null,
		initialize : function (e) {
			OpenLayers.Strategy.prototype.initialize.apply(this, [e]),
			this.events = new OpenLayers.Events(this)
		},
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.call(this);
			return e && this.auto && ("number" == typeof this.auto ? this.timer = window.setInterval(OpenLayers.Function.bind(this.save, this), 1e3 * this.auto) : this.layer.events.on({
						featureadded : this.triggerSave,
						afterfeaturemodified : this.triggerSave,
						scope : this
					})),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && this.auto && ("number" == typeof this.auto ? window.clearInterval(this.timer) : this.layer.events.un({
					featureadded : this.triggerSave,
					afterfeaturemodified : this.triggerSave,
					scope : this
				})),
			e
		},
		triggerSave : function (e) {
			var t = e.feature;
			(t.state === OpenLayers.State.INSERT || t.state === OpenLayers.State.UPDATE || t.state === OpenLayers.State.DELETE) && this.save([e.feature])
		},
		save : function (e) {
			e || (e = this.layer.features),
			this.events.triggerEvent("start", {
				features : e
			});
			var t = this.layer.projection,
			n = this.layer.map.getProjectionObject();
			if (!n.equals(t)) {
				for (var r = e.length, i = Array(r), s, o, u = 0; u < r; ++u)
					s = e[u], o = s.clone(), o.fid = s.fid, o.state = s.state, s.url && (o.url = s.url), o._original = s, o.geometry.transform(n, t), i[u] = o;
				e = i
			}
			this.layer.protocol.commit(e, {
				callback : this.onCommit,
				scope : this
			})
		},
		onCommit : function (e) {
			var t = {
				response : e
			};
			if (e.success()) {
				for (var n = e.reqFeatures, r, i = [], s = e.insertIds || [], o = 0, u = 0, a = n.length; u < a; ++u)
					if (r = n[u], r = r._original || r, e = r.state)
						e == OpenLayers.State.DELETE ? i.push(r) : e == OpenLayers.State.INSERT && (r.fid = s[o], ++o), r.state = null;
				0 < i.length && this.layer.destroyFeatures(i),
				this.events.triggerEvent("success", t)
			} else
				this.events.triggerEvent("fail", t)
		},
		CLASS_NAME : "OpenLayers.Strategy.Save"
	}), OpenLayers.Format.GPX = OpenLayers.Class(OpenLayers.Format.XML, {
		defaultDesc : "No description available",
		extractWaypoints : !0,
		extractTracks : !0,
		extractRoutes : !0,
		extractAttributes : !0,
		namespaces : {
			gpx : "http://www.topografix.com/GPX/1/1",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		schemaLocation : "http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",
		creator : "OpenLayers",
		initialize : function (e) {
			this.externalProjection = new OpenLayers.Projection("EPSG:4326"),
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = [];
			if (this.extractTracks)
				for (var n = e.getElementsByTagName("trk"), r = 0, i = n.length; r < i; r++) {
					var s = {};
					this.extractAttributes && (s = this.parseAttributes(n[r]));
					for (var o = this.getElementsByTagNameNS(n[r], n[r].namespaceURI, "trkseg"), u = 0, a = o.length; u < a; u++) {
						var f = this.extractSegment(o[u], "trkpt");
						t.push(new OpenLayers.Feature.Vector(f, s))
					}
				}
			if (this.extractRoutes) {
				i = e.getElementsByTagName("rte"),
				n = 0;
				for (r = i.length; n < r; n++)
					s = {},
				this.extractAttributes && (s = this.parseAttributes(i[n])),
				o = this.extractSegment(i[n], "rtept"),
				t.push(new OpenLayers.Feature.Vector(o, s))
			}
			if (this.extractWaypoints) {
				e = e.getElementsByTagName("wpt"),
				n = 0;
				for (i = e.length; n < i; n++)
					s = {},
				this.extractAttributes && (s = this.parseAttributes(e[n])),
				r = new OpenLayers.Geometry.Point(e[n].getAttribute("lon"), e[n].getAttribute("lat")),
				t.push(new OpenLayers.Feature.Vector(r, s))
			}
			if (this.internalProjection && this.externalProjection) {
				s = 0;
				for (e = t.length; s < e; s++)
					t[s].geometry.transform(this.externalProjection, this.internalProjection)
			}
			return t
		},
		extractSegment : function (e, t) {
			for (var n = this.getElementsByTagNameNS(e, e.namespaceURI, t), r = [], i = 0, s = n.length; i < s; i++)
				r.push(new OpenLayers.Geometry.Point(n[i].getAttribute("lon"), n[i].getAttribute("lat")));
			return new OpenLayers.Geometry.LineString(r)
		},
		parseAttributes : function (e) {
			for (var t = {}, e = e.firstChild, n, r; e; )
				1 == e.nodeType && e.firstChild && (n = e.firstChild, 3 == n.nodeType || 4 == n.nodeType) && (r = e.prefix ? e.nodeName.split(":")[1] : e.nodeName, "trkseg" != r && "rtept" != r && (t[r] = n.nodeValue)), e = e.nextSibling;
			return t
		},
		write : function (e, t) {
			var e = OpenLayers.Util.isArray(e) ? e : [e],
			n = this.createElementNS(this.namespaces.gpx, "gpx");
			n.setAttribute("version", "1.1"),
			n.setAttribute("creator", this.creator),
			this.setAttributes(n, {
				"xsi:schemaLocation" : this.schemaLocation
			}),
			t && "object" == typeof t && n.appendChild(this.buildMetadataNode(t));
			for (var r = 0, i = e.length; r < i; r++)
				n.appendChild(this.buildFeatureNode(e[r]));
			return OpenLayers.Format.XML.prototype.write.apply(this, [n])
		},
		buildMetadataNode : function (e) {
			for (var t = ["name", "desc", "author"], n = this.createElementNSPlus("gpx:metadata"), r = 0; r < t.length; r++) {
				var i = t[r];
				if (e[i]) {
					var s = this.createElementNSPlus("gpx:" + i);
					s.appendChild(this.createTextNode(e[i])),
					n.appendChild(s)
				}
			}
			return n
		},
		buildFeatureNode : function (e) {
			var t = e.geometry,
			t = t.clone();
			this.internalProjection && this.externalProjection && t.transform(this.internalProjection, this.externalProjection);
			if ("OpenLayers.Geometry.Point" == t.CLASS_NAME) {
				var n = this.buildWptNode(t);
				return this.appendAttributesNode(n, e),
				n
			}
			n = this.createElementNSPlus("gpx:trk"),
			this.appendAttributesNode(n, e);
			for (var e = this.buildTrkSegNode(t), e = OpenLayers.Util.isArray(e) ? e : [e], t = 0, r = e.length; t < r; t++)
				n.appendChild(e[t]);
			return n
		},
		buildTrkSegNode : function (e) {
			var t,
			n,
			r,
			i;
			if ("OpenLayers.Geometry.LineString" == e.CLASS_NAME || "OpenLayers.Geometry.LinearRing" == e.CLASS_NAME) {
				t = this.createElementNSPlus("gpx:trkseg"),
				n = 0;
				for (r = e.components.length; n < r; n++)
					i = e.components[n], t.appendChild(this.buildTrkPtNode(i));
				return t
			}
			t = [],
			n = 0;
			for (r = e.components.length; n < r; n++)
				t.push(this.buildTrkSegNode(e.components[n]));
			return t
		},
		buildTrkPtNode : function (e) {
			var t = this.createElementNSPlus("gpx:trkpt");
			return t.setAttribute("lon", e.x),
			t.setAttribute("lat", e.y),
			t
		},
		buildWptNode : function (e) {
			var t = this.createElementNSPlus("gpx:wpt");
			return t.setAttribute("lon", e.x),
			t.setAttribute("lat", e.y),
			t
		},
		appendAttributesNode : function (e, t) {
			var n = this.createElementNSPlus("gpx:name");
			n.appendChild(this.createTextNode(t.attributes.name || t.id)),
			e.appendChild(n),
			n = this.createElementNSPlus("gpx:desc"),
			n.appendChild(this.createTextNode(t.attributes.description || this.defaultDesc)),
			e.appendChild(n)
		},
		CLASS_NAME : "OpenLayers.Format.GPX"
	}), OpenLayers.Format.WMSDescribeLayer = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.1.1",
		getVersion : function (e, t) {
			var n = OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this, arguments);
			if ("1.1.1" == n || "1.1.0" == n)
				n = "1.1";
			return n
		},
		CLASS_NAME : "OpenLayers.Format.WMSDescribeLayer"
	}), OpenLayers.Format.WMSDescribeLayer.v1_1 = OpenLayers.Class(OpenLayers.Format.WMSDescribeLayer, {
		initialize : function (e) {
			OpenLayers.Format.WMSDescribeLayer.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			for (var e = e.documentElement.childNodes, t = [], n, r, i = 0; i < e.length; ++i)
				if (n = e[i], r = n.nodeName, "LayerDescription" == r) {
					r = n.getAttribute("name");
					var s = "",
					o = "",
					u = "";
					n.getAttribute("owsType") ? (s = n.getAttribute("owsType"), o = n.getAttribute("owsURL")) : "" != n.getAttribute("wfs") ? (s = "WFS", o = n.getAttribute("wfs")) : "" != n.getAttribute("wcs") && (s = "WCS", o = n.getAttribute("wcs")),
					n = n.getElementsByTagName("Query"),
					0 < n.length && ((u = n[0].getAttribute("typeName")) || (u = n[0].getAttribute("typename"))),
					t.push({
						layerName : r,
						owsType : s,
						owsURL : o,
						typeName : u
					})
				}
			return t
		},
		CLASS_NAME : "OpenLayers.Format.WMSDescribeLayer.v1_1"
	}), OpenLayers.Layer.XYZ = OpenLayers.Class(OpenLayers.Layer.Grid, {
		isBaseLayer : !0,
		sphericalMercator : !1,
		zoomOffset : 0,
		serverResolutions : null,
		initialize : function (e, t, n) {
			if (n && n.sphericalMercator || this.sphericalMercator)
				n = OpenLayers.Util.extend({
						projection : "EPSG:900913",
						numZoomLevels : 19
					}, n);
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e || this.name, t || this.url, {}, n])
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.XYZ(this.name, this.url, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var e = this.getXYZ(e),
			t = this.url;
			return OpenLayers.Util.isArray(t) && (t = this.selectUrl("" + e.x + e.y + e.z, t)),
			OpenLayers.String.format(t, e)
		},
		getXYZ : function (e) {
			var t = this.getServerResolution(),
			n = Math.round((e.left - this.maxExtent.left) / (t * this.tileSize.w)),
			e = Math.round((this.maxExtent.top - e.top) / (t * this.tileSize.h)),
			t = this.getServerZoom();
			if (this.wrapDateLine)
				var r = Math.pow(2, t), n = (n % r + r) % r;
			return {
				x : n,
				y : e,
				z : t
			}
		},
		setMap : function (e) {
			OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments),
			this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.maxExtent.left, this.maxExtent.bottom))
		},
		CLASS_NAME : "OpenLayers.Layer.XYZ"
	}), OpenLayers.Layer.OSM = OpenLayers.Class(OpenLayers.Layer.XYZ, {
		name : "OpenStreetMap",
		url : ["http://a.tile.openstreetmap.org/${z}/${x}/${y}.png", "http://b.tile.openstreetmap.org/${z}/${x}/${y}.png", "http://c.tile.openstreetmap.org/${z}/${x}/${y}.png"],
		attribution : "Data CC-By-SA by <a href='http://openstreetmap.org/'>OpenStreetMap</a>",
		sphericalMercator : !0,
		wrapDateLine : !0,
		tileOptions : null,
		initialize : function (e, t, n) {
			OpenLayers.Layer.XYZ.prototype.initialize.apply(this, arguments),
			this.tileOptions = OpenLayers.Util.extend({
					crossOriginKeyword : "anonymous"
				}, this.options && this.options.tileOptions)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.OSM(this.name, this.url, this.getOptions())),
			e = OpenLayers.Layer.XYZ.prototype.clone.apply(this, [e])
		},
		CLASS_NAME : "OpenLayers.Layer.OSM"
	}), OpenLayers.Renderer = OpenLayers.Class({
		container : null,
		root : null,
		extent : null,
		locked : !1,
		size : null,
		resolution : null,
		map : null,
		featureDx : 0,
		initialize : function (e, t) {
			this.container = OpenLayers.Util.getElement(e),
			OpenLayers.Util.extend(this, t)
		},
		destroy : function () {
			this.map = this.resolution = this.size = this.extent = this.container = null
		},
		supported : function () {
			return !1
		},
		setExtent : function (e, t) {
			this.extent = e.clone();
			if (this.map.baseLayer && this.map.baseLayer.wrapDateLine) {
				var n = e.getWidth() / this.map.getExtent().getWidth(),
				e = e.scale(1 / n);
				this.extent = e.wrapDateLine(this.map.getMaxExtent()).scale(n)
			}
			return t && (this.resolution = null),
			!0
		},
		setSize : function (e) {
			this.size = e.clone(),
			this.resolution = null
		},
		getResolution : function () {
			return this.resolution = this.resolution || this.map.getResolution()
		},
		drawFeature : function (e, t) {
			null == t && (t = e.style);
			if (e.geometry) {
				var n = e.geometry.getBounds();
				if (n) {
					var r;
					this.map.baseLayer && this.map.baseLayer.wrapDateLine && (r = this.map.getMaxExtent()),
					n.intersectsBounds(this.extent, {
						worldBounds : r
					}) ? this.calculateFeatureDx(n, r) : t = {
						display : "none"
					},
					n = this.drawGeometry(e.geometry, t, e.id);
					if ("none" != t.display && t.label && !1 !== n) {
						r = e.geometry.getCentroid();
						if (t.labelXOffset || t.labelYOffset) {
							var i = isNaN(t.labelXOffset) ? 0 : t.labelXOffset,
							s = isNaN(t.labelYOffset) ? 0 : t.labelYOffset,
							o = this.getResolution();
							r.move(i * o, s * o)
						}
						this.drawText(e.id, t, r)
					} else
						this.removeText(e.id);
					return n
				}
			}
		},
		calculateFeatureDx : function (e, t) {
			this.featureDx = 0;
			if (t) {
				var n = t.getWidth();
				this.featureDx = Math.round(((e.left + e.right) / 2 - (this.extent.left + this.extent.right) / 2) / n) * n
			}
		},
		drawGeometry : function () {},
		drawText : function () {},
		removeText : function () {},
		clear : function () {},
		getFeatureIdFromEvent : function () {},
		eraseFeatures : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var t = 0, n = e.length; t < n; ++t) {
				var r = e[t];
				this.eraseGeometry(r.geometry, r.id),
				this.removeText(r.id)
			}
		},
		eraseGeometry : function () {},
		moveRoot : function () {},
		getRenderLayerId : function () {
			return this.container.id
		},
		applyDefaultSymbolizer : function (e) {
			var t = OpenLayers.Util.extend({}, OpenLayers.Renderer.defaultSymbolizer);
			return !1 === e.stroke && (delete t.strokeWidth, delete t.strokeColor),
			!1 === e.fill && delete t.fillColor,
			OpenLayers.Util.extend(t, e),
			t
		},
		CLASS_NAME : "OpenLayers.Renderer"
	}), OpenLayers.Renderer.defaultSymbolizer = {
	fillColor : "#000000",
	strokeColor : "#000000",
	strokeWidth : 2,
	fillOpacity : 1,
	strokeOpacity : 1,
	pointRadius : 0,
	labelAlign : "cm"
}, OpenLayers.Renderer.symbol = {
	star : [350, 75, 379, 161, 469, 161, 397, 215, 423, 301, 350, 250, 277, 301, 303, 215, 231, 161, 321, 161, 350, 75],
	cross : [4, 0, 6, 0, 6, 4, 10, 4, 10, 6, 6, 6, 6, 10, 4, 10, 4, 6, 0, 6, 0, 4, 4, 4, 4, 0],
	x : [0, 0, 25, 0, 50, 35, 75, 0, 100, 0, 65, 50, 100, 100, 75, 100, 50, 65, 25, 100, 0, 100, 35, 50, 0, 0],
	square : [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
	triangle : [0, 10, 10, 10, 5, 0, 0, 10]
}, OpenLayers.Renderer.Canvas = OpenLayers.Class(OpenLayers.Renderer, {
		hitDetection : !0,
		hitOverflow : 0,
		canvas : null,
		features : null,
		pendingRedraw : !1,
		cachedSymbolBounds : {},
		initialize : function (e, t) {
			OpenLayers.Renderer.prototype.initialize.apply(this, arguments),
			this.root = document.createElement("canvas"),
			this.container.appendChild(this.root),
			this.canvas = this.root.getContext("2d"),
			this.features = {},
			this.hitDetection && (this.hitCanvas = document.createElement("canvas"), this.hitContext = this.hitCanvas.getContext("2d"))
		},
		setExtent : function () {
			return OpenLayers.Renderer.prototype.setExtent.apply(this, arguments),
			!1
		},
		eraseGeometry : function (e, t) {
			this.eraseFeatures(this.features[t][0])
		},
		supported : function () {
			return OpenLayers.CANVAS_SUPPORTED
		},
		setSize : function (e) {
			this.size = e.clone();
			var t = this.root;
			t.style.width = e.w + "px",
			t.style.height = e.h + "px",
			t.width = e.w,
			t.height = e.h,
			this.resolution = null,
			this.hitDetection && (t = this.hitCanvas, t.style.width = e.w + "px", t.style.height = e.h + "px", t.width = e.w, t.height = e.h)
		},
		drawFeature : function (e, t) {
			var n;
			if (e.geometry) {
				t = this.applyDefaultSymbolizer(t || e.style),
				n = e.geometry.getBounds();
				var r;
				this.map.baseLayer && this.map.baseLayer.wrapDateLine && (r = this.map.getMaxExtent()),
				r = n && n.intersectsBounds(this.extent, {
						worldBounds : r
					}),
				(n = "none" !== t.display && !!n && r) ? this.features[e.id] = [e, t] : delete this.features[e.id],
				this.pendingRedraw = !0
			}
			return this.pendingRedraw && !this.locked && (this.redraw(), this.pendingRedraw = !1),
			n
		},
		drawGeometry : function (e, t, n) {
			var r = e.CLASS_NAME;
			if ("OpenLayers.Geometry.Collection" == r || "OpenLayers.Geometry.MultiPoint" == r || "OpenLayers.Geometry.MultiLineString" == r || "OpenLayers.Geometry.MultiPolygon" == r)
				for (r = 0; r < e.components.length; r++)
					this.drawGeometry(e.components[r], t, n);
			else
				switch (e.CLASS_NAME) {
				case "OpenLayers.Geometry.Point":
					this.drawPoint(e, t, n);
					break;
				case "OpenLayers.Geometry.LineString":
					this.drawLineString(e, t, n);
					break;
				case "OpenLayers.Geometry.LinearRing":
					this.drawLinearRing(e, t, n);
					break;
				case "OpenLayers.Geometry.Polygon":
					this.drawPolygon(e, t, n)
				}
		},
		drawExternalGraphic : function (e, t, n) {
			var r = new Image;
			t.graphicTitle && (r.title = t.graphicTitle);
			var i = t.graphicWidth || t.graphicHeight,
			s = t.graphicHeight || t.graphicWidth,
			i = i ? i : 2 * t.pointRadius,
			s = s ? s : 2 * t.pointRadius,
			o = void 0 != t.graphicXOffset ? t.graphicXOffset :  - (.5 * i),
			u = void 0 != t.graphicYOffset ? t.graphicYOffset :  - (.5 * s),
			a = t.graphicOpacity || t.fillOpacity;
			r.onload = OpenLayers.Function.bind(function () {
					if (this.features[n]) {
						var t = this.getLocalXY(e),
						l = t[0],
						t = t[1];
						if (!isNaN(l) && !isNaN(t)) {
							var l = l + o | 0,
							t = t + u | 0,
							p = this.canvas;
							p.globalAlpha = a;
							var v = OpenLayers.Renderer.Canvas.drawImageScaleFactor || (OpenLayers.Renderer.Canvas.drawImageScaleFactor = /android 2.1/.test(navigator.userAgent.toLowerCase()) ? 320 / window.screen.width : 1);
							p.drawImage(r, l * v, t * v, i * v, s * v),
							this.hitDetection && (this.setHitContextStyle("fill", n), this.hitContext.fillRect(l, t, i, s))
						}
					}
				}, this),
			r.src = t.externalGraphic
		},
		drawNamedSymbol : function (e, t, n) {
			var r,
			i,
			s,
			o;
			s = Math.PI / 180;
			var u = OpenLayers.Renderer.symbol[t.graphicName];
			if (!u)
				throw Error(t.graphicName + " is not a valid symbol name");
			if (u.length && !(2 > u.length) && (e = this.getLocalXY(e), i = e[0], o = e[1], !isNaN(i) && !isNaN(o))) {
				this.canvas.lineCap = "round",
				this.canvas.lineJoin = "round",
				this.hitDetection && (this.hitContext.lineCap = "round", this.hitContext.lineJoin = "round");
				if (t.graphicName in this.cachedSymbolBounds)
					r = this.cachedSymbolBounds[t.graphicName];
				else {
					r = new OpenLayers.Bounds;
					for (e = 0; e < u.length; e += 2)
						r.extend(new OpenLayers.LonLat(u[e], u[e + 1]));
					this.cachedSymbolBounds[t.graphicName] = r
				}
				this.canvas.save(),
				this.hitDetection && this.hitContext.save(),
				this.canvas.translate(i, o),
				this.hitDetection && this.hitContext.translate(i, o),
				e = s * t.rotation,
				isNaN(e) || (this.canvas.rotate(e), this.hitDetection && this.hitContext.rotate(e)),
				s = 2 * t.pointRadius / Math.max(r.getWidth(), r.getHeight()),
				this.canvas.scale(s, s),
				this.hitDetection && this.hitContext.scale(s, s),
				e = r.getCenterLonLat().lon,
				r = r.getCenterLonLat().lat,
				this.canvas.translate(-e, -r),
				this.hitDetection && this.hitContext.translate(-e, -r),
				o = t.strokeWidth,
				t.strokeWidth = o / s;
				if (!1 !== t.fill) {
					this.setCanvasStyle("fill", t),
					this.canvas.beginPath();
					for (e = 0; e < u.length; e += 2)
						r = u[e], i = u[e + 1], 0 == e && this.canvas.moveTo(r, i), this.canvas.lineTo(r, i);
					this.canvas.closePath(),
					this.canvas.fill();
					if (this.hitDetection) {
						this.setHitContextStyle("fill", n, t),
						this.hitContext.beginPath();
						for (e = 0; e < u.length; e += 2)
							r = u[e], i = u[e + 1], 0 == e && this.canvas.moveTo(r, i), this.hitContext.lineTo(r, i);
						this.hitContext.closePath(),
						this.hitContext.fill()
					}
				}
				if (!1 !== t.stroke) {
					this.setCanvasStyle("stroke", t),
					this.canvas.beginPath();
					for (e = 0; e < u.length; e += 2)
						r = u[e], i = u[e + 1], 0 == e && this.canvas.moveTo(r, i), this.canvas.lineTo(r, i);
					this.canvas.closePath(),
					this.canvas.stroke();
					if (this.hitDetection) {
						this.setHitContextStyle("stroke", n, t, s),
						this.hitContext.beginPath();
						for (e = 0; e < u.length; e += 2)
							r = u[e], i = u[e + 1], 0 == e && this.hitContext.moveTo(r, i), this.hitContext.lineTo(r, i);
						this.hitContext.closePath(),
						this.hitContext.stroke()
					}
				}
				t.strokeWidth = o,
				this.canvas.restore(),
				this.hitDetection && this.hitContext.restore(),
				this.setCanvasStyle("reset")
			}
		},
		setCanvasStyle : function (e, t) {
			"fill" === e ? (this.canvas.globalAlpha = t.fillOpacity, this.canvas.fillStyle = t.fillColor) : "stroke" === e ? (this.canvas.globalAlpha = t.strokeOpacity, this.canvas.strokeStyle = t.strokeColor, this.canvas.lineWidth = t.strokeWidth) : (this.canvas.globalAlpha = 0, this.canvas.lineWidth = 1)
		},
		featureIdToHex : function (e) {
			e = Number(e.split("_").pop()) + 1,
			16777216 <= e && (this.hitOverflow = e - 16777215, e = e % 16777216 + 1);
			var e = "000000" + e.toString(16),
			t = e.length;
			return e = "#" + e.substring(t - 6, t)
		},
		setHitContextStyle : function (e, t, n, r) {
			t = this.featureIdToHex(t),
			"fill" == e ? (this.hitContext.globalAlpha = 1, this.hitContext.fillStyle = t) : "stroke" == e ? (this.hitContext.globalAlpha = 1, this.hitContext.strokeStyle = t, "undefined" == typeof r ? this.hitContext.lineWidth = n.strokeWidth + 2 : isNaN(r) || (this.hitContext.lineWidth = n.strokeWidth + 2 / r)) : (this.hitContext.globalAlpha = 0, this.hitContext.lineWidth = 1)
		},
		drawPoint : function (e, t, n) {
			if (!1 !== t.graphic)
				if (t.externalGraphic)
					this.drawExternalGraphic(e, t, n);
				else if (t.graphicName && "circle" != t.graphicName)
					this.drawNamedSymbol(e, t, n);
				else {
					var r = this.getLocalXY(e),
					e = r[0],
					r = r[1];
					if (!isNaN(e) && !isNaN(r)) {
						var i = 2 * Math.PI,
						s = t.pointRadius;
						!1 !== t.fill && (this.setCanvasStyle("fill", t), this.canvas.beginPath(), this.canvas.arc(e, r, s, 0, i, !0), this.canvas.fill(), this.hitDetection && (this.setHitContextStyle("fill", n, t), this.hitContext.beginPath(), this.hitContext.arc(e, r, s, 0, i, !0), this.hitContext.fill())),
						!1 !== t.stroke && (this.setCanvasStyle("stroke", t), this.canvas.beginPath(), this.canvas.arc(e, r, s, 0, i, !0), this.canvas.stroke(), this.hitDetection && (this.setHitContextStyle("stroke", n, t), this.hitContext.beginPath(), this.hitContext.arc(e, r, s, 0, i, !0), this.hitContext.stroke()), this.setCanvasStyle("reset"))
					}
				}
		},
		drawLineString : function (e, t, n) {
			t = OpenLayers.Util.applyDefaults({
					fill : !1
				}, t),
			this.drawLinearRing(e, t, n)
		},
		drawLinearRing : function (e, t, n) {
			!1 !== t.fill && (this.setCanvasStyle("fill", t), this.renderPath(this.canvas, e, t, n, "fill"), this.hitDetection && (this.setHitContextStyle("fill", n, t), this.renderPath(this.hitContext, e, t, n, "fill"))),
			!1 !== t.stroke && (this.setCanvasStyle("stroke", t), this.renderPath(this.canvas, e, t, n, "stroke"), this.hitDetection && (this.setHitContextStyle("stroke", n, t), this.renderPath(this.hitContext, e, t, n, "stroke"))),
			this.setCanvasStyle("reset")
		},
		renderPath : function (e, t, n, r, i) {
			t = t.components,
			n = t.length,
			e.beginPath();
			var r = this.getLocalXY(t[0]),
			s = r[1];
			if (!isNaN(r[0]) && !isNaN(s)) {
				e.moveTo(r[0], r[1]);
				for (r = 1; r < n; ++r)
					s = this.getLocalXY(t[r]), e.lineTo(s[0], s[1]);
				"fill" === i ? e.fill() : e.stroke()
			}
		},
		drawPolygon : function (e, t, n) {
			var e = e.components,
			r = e.length;
			this.drawLinearRing(e[0], t, n);
			for (var i = 1; i < r; ++i)
				this.canvas.globalCompositeOperation = "destination-out", this.hitDetection && (this.hitContext.globalCompositeOperation = "destination-out"), this.drawLinearRing(e[i], OpenLayers.Util.applyDefaults({
						stroke : !1,
						fillOpacity : 1
					}, t), n), this.canvas.globalCompositeOperation = "source-over", this.hitDetection && (this.hitContext.globalCompositeOperation = "source-over"), this.drawLinearRing(e[i], OpenLayers.Util.applyDefaults({
						fill : !1
					}, t), n)
		},
		drawText : function (e, t) {
			var n = this.getLocalXY(e);
			this.setCanvasStyle("reset"),
			this.canvas.fillStyle = t.fontColor,
			this.canvas.globalAlpha = t.fontOpacity || 1;
			var r = [t.fontStyle ? t.fontStyle : "normal", "normal", t.fontWeight ? t.fontWeight : "normal", t.fontSize ? t.fontSize : "1em", t.fontFamily ? t.fontFamily : "sans-serif"].join(" "),
			i = t.label.split("\n"),
			s = i.length;
			if (this.canvas.fillText) {
				this.canvas.font = r,
				this.canvas.textAlign = OpenLayers.Renderer.Canvas.LABEL_ALIGN[t.labelAlign[0]] || "center",
				this.canvas.textBaseline = OpenLayers.Renderer.Canvas.LABEL_ALIGN[t.labelAlign[1]] || "middle";
				var o = OpenLayers.Renderer.Canvas.LABEL_FACTOR[t.labelAlign[1]];
				null == o && (o = -0.5),
				r = this.canvas.measureText("Mg").height || this.canvas.measureText("xx").width,
				n[1] += r * o * (s - 1);
				for (o = 0; o < s; o++)
					t.labelOutlineWidth && (this.canvas.save(), this.canvas.strokeStyle = t.labelOutlineColor, this.canvas.lineWidth = t.labelOutlineWidth, this.canvas.strokeText(i[o], n[0], n[1] + r * o + 1), this.canvas.restore()), this.canvas.fillText(i[o], n[0], n[1] + r * o)
			} else if (this.canvas.mozDrawText) {
				this.canvas.mozTextStyle = r;
				var u = OpenLayers.Renderer.Canvas.LABEL_FACTOR[t.labelAlign[0]];
				null == u && (u = -0.5),
				o = OpenLayers.Renderer.Canvas.LABEL_FACTOR[t.labelAlign[1]],
				null == o && (o = -0.5),
				r = this.canvas.mozMeasureText("xx"),
				n[1] += r * (1 + o * s);
				for (o = 0; o < s; o++) {
					var a = n[0] + u * this.canvas.mozMeasureText(i[o]),
					f = n[1] + o * r;
					this.canvas.translate(a, f),
					this.canvas.mozDrawText(i[o]),
					this.canvas.translate(-a, -f)
				}
			}
			this.setCanvasStyle("reset")
		},
		getLocalXY : function (e) {
			var t = this.getResolution(),
			n = this.extent;
			return [(e.x - this.featureDx) / t + -n.left / t, n.top / t - e.y / t]
		},
		clear : function () {
			var e = this.root.height,
			t = this.root.width;
			this.canvas.clearRect(0, 0, t, e),
			this.features = {},
			this.hitDetection && this.hitContext.clearRect(0, 0, t, e)
		},
		getFeatureIdFromEvent : function (e) {
			var t;
			if (this.hitDetection && "none" !== this.root.style.display && !this.map.dragging && (e = e.xy, e = this.hitContext.getImageData(e.x | 0, e.y | 0, 1, 1).data, 255 === e[3] && (e = e[2] + 256 * (e[1] + 256 * e[0])))) {
				e = "OpenLayers.Feature.Vector_" + (e - 1 + this.hitOverflow);
				try {
					t = this.features[e][0]
				} catch (n) {}

			}
			return t
		},
		eraseFeatures : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var t = 0; t < e.length; ++t)
				delete this.features[e[t].id];
			this.redraw()
		},
		redraw : function () {
			if (!this.locked) {
				var e = this.root.height,
				t = this.root.width;
				this.canvas.clearRect(0, 0, t, e),
				this.hitDetection && this.hitContext.clearRect(0, 0, t, e);
				var e = [],
				n,
				r,
				i = this.map.baseLayer && this.map.baseLayer.wrapDateLine && this.map.getMaxExtent(),
				s;
				for (s in this.features)
					this.features.hasOwnProperty(s) && (t = this.features[s][0], n = t.geometry, this.calculateFeatureDx(n.getBounds(), i), r = this.features[s][1], this.drawGeometry(n, r, t.id), r.label && e.push([t, r]));
				t = 0;
				for (n = e.length; t < n; ++t)
					s = e[t], this.drawText(s[0].geometry.getCentroid(), s[1])
			}
		},
		CLASS_NAME : "OpenLayers.Renderer.Canvas"
	}), OpenLayers.Renderer.Canvas.LABEL_ALIGN = {
	l : "left",
	r : "right",
	t : "top",
	b : "bottom"
}, OpenLayers.Renderer.Canvas.LABEL_FACTOR = {
	l : 0,
	r : -1,
	t : 0,
	b : -1
}, OpenLayers.Renderer.Canvas.drawImageScaleFactor = null, OpenLayers.Format.OSM = OpenLayers.Class(OpenLayers.Format.XML, {
		checkTags : !1,
		interestingTagsExclude : null,
		areaTags : null,
		initialize : function (e) {
			for (var t = {
					interestingTagsExclude : "source source_ref source:ref history attribution created_by".split(" "),
					areaTags : "area building leisure tourism ruins historic landuse military natural sport".split(" ")
				}, t = OpenLayers.Util.extend(t, e), n = {}, e = 0; e < t.interestingTagsExclude.length; e++)
				n[t.interestingTagsExclude[e]] = !0;
			t.interestingTagsExclude = n,
			n = {};
			for (e = 0; e < t.areaTags.length; e++)
				n[t.areaTags[e]] = !0;
			t.areaTags = n,
			this.externalProjection = new OpenLayers.Projection("EPSG:4326"),
			OpenLayers.Format.XML.prototype.initialize.apply(this, [t])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			for (var t = this.getNodes(e), n = this.getWays(e), e = Array(n.length), r = 0; r < n.length; r++) {
				for (var i = Array(n[r].nodes.length), s = this.isWayArea(n[r]) ? 1 : 0, o = 0; o < n[r].nodes.length; o++) {
					var u = t[n[r].nodes[o]],
					a = new OpenLayers.Geometry.Point(u.lon, u.lat);
					a.osm_id = parseInt(n[r].nodes[o]),
					i[o] = a,
					u.used = !0
				}
				u = null,
				u = s ? new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(i)) : new OpenLayers.Geometry.LineString(i),
				this.internalProjection && this.externalProjection && u.transform(this.externalProjection, this.internalProjection),
				i = new OpenLayers.Feature.Vector(u, n[r].tags),
				i.osm_id = parseInt(n[r].id),
				i.fid = "way." + i.osm_id,
				e[r] = i
			}
			for (var f in t) {
				u = t[f];
				if (!u.used || this.checkTags) {
					n = null;
					if (this.checkTags) {
						n = this.getTags(u.node, !0);
						if (u.used && !n[1])
							continue;
						n = n[0]
					} else
						n = this.getTags(u.node);
					i = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(u.lon, u.lat), n),
					this.internalProjection && this.externalProjection && i.geometry.transform(this.externalProjection, this.internalProjection),
					i.osm_id = parseInt(f),
					i.fid = "node." + i.osm_id,
					e.push(i)
				}
				u.node = null
			}
			return e
		},
		getNodes : function (e) {
			for (var e = e.getElementsByTagName("node"), t = {}, n = 0; n < e.length; n++) {
				var r = e[n],
				i = r.getAttribute("id");
				t[i] = {
					lat : r.getAttribute("lat"),
					lon : r.getAttribute("lon"),
					node : r
				}
			}
			return t
		},
		getWays : function (e) {
			for (var e = e.getElementsByTagName("way"), t = [], n = 0; n < e.length; n++) {
				var r = e[n],
				i = {
					id : r.getAttribute("id")
				};
				i.tags = this.getTags(r),
				r = r.getElementsByTagName("nd"),
				i.nodes = Array(r.length);
				for (var s = 0; s < r.length; s++)
					i.nodes[s] = r[s].getAttribute("ref");
				t.push(i)
			}
			return t
		},
		getTags : function (e, t) {
			for (var n = e.getElementsByTagName("tag"), r = {}, i = !1, s = 0; s < n.length; s++) {
				var o = n[s].getAttribute("k");
				r[o] = n[s].getAttribute("v"),
				t && (this.interestingTagsExclude[o] || (i = !0))
			}
			return t ? [r, i] : r
		},
		isWayArea : function (e) {
			var t = !1,
			n = !1;
			e.nodes[0] == e.nodes[e.nodes.length - 1] && (t = !0);
			if (this.checkTags)
				for (var r in e.tags)
					if (this.areaTags[r]) {
						n = !0;
						break
					}
			return t && (this.checkTags ? n : !0)
		},
		write : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]),
			this.osm_id = 1,
			this.created_nodes = {};
			var t = this.createElementNS(null, "osm");
			t.setAttribute("version", "0.5"),
			t.setAttribute("generator", "OpenLayers " + OpenLayers.VERSION_NUMBER);
			for (var n = e.length - 1; 0 <= n; n--)
				for (var r = this.createFeatureNodes(e[n]), i = 0; i < r.length; i++)
					t.appendChild(r[i]);
			return OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		createFeatureNodes : function (e) {
			var t = [],
			n = e.geometry.CLASS_NAME,
			n = n.substring(n.lastIndexOf(".") + 1),
			n = n.toLowerCase();
			return (n = this.createXML[n]) && (t = n.apply(this, [e])),
			t
		},
		createXML : {
			point : function (e) {
				var t = null,
				n = e.geometry ? e.geometry : e;
				this.internalProjection && this.externalProjection && (n = n.clone(), n.transform(this.internalProjection, this.externalProjection));
				var r = !1;
				e.osm_id ? (t = e.osm_id, this.created_nodes[t] && (r = !0)) : (t = -this.osm_id, this.osm_id++);
				var i = r ? this.created_nodes[t] : this.createElementNS(null, "node");
				return this.created_nodes[t] = i,
				i.setAttribute("id", t),
				i.setAttribute("lon", n.x),
				i.setAttribute("lat", n.y),
				e.attributes && this.serializeTags(e, i),
				this.setState(e, i),
				r ? [] : [i]
			},
			linestring : function (e) {
				var t,
				n = [],
				r = e.geometry;
				e.osm_id ? t = e.osm_id : (t = -this.osm_id, this.osm_id++);
				var i = this.createElementNS(null, "way");
				i.setAttribute("id", t);
				for (t = 0; t < r.components.length; t++) {
					var s = this.createXML.point.apply(this, [r.components[t]]);
					if (s.length) {
						var s = s[0],
						o = s.getAttribute("id");
						n.push(s)
					} else
						o = r.components[t].osm_id, s = this.created_nodes[o];
					this.setState(e, s),
					s = this.createElementNS(null, "nd"),
					s.setAttribute("ref", o),
					i.appendChild(s)
				}
				return this.serializeTags(e, i),
				n.push(i),
				n
			},
			polygon : function (e) {
				var t = OpenLayers.Util.extend({
						area : "yes"
					}, e.attributes),
				t = new OpenLayers.Feature.Vector(e.geometry.components[0], t);
				return t.osm_id = e.osm_id,
				this.createXML.linestring.apply(this, [t])
			}
		},
		serializeTags : function (e, t) {
			for (var n in e.attributes) {
				var r = this.createElementNS(null, "tag");
				r.setAttribute("k", n),
				r.setAttribute("v", e.attributes[n]),
				t.appendChild(r)
			}
		},
		setState : function (e, t) {
			if (e.state) {
				var n = null;
				switch (e.state) {
				case OpenLayers.State.UPDATE:
				case OpenLayers.State.DELETE:
					n = "delete"
				}
				n && t.setAttribute("action", n)
			}
		},
		CLASS_NAME : "OpenLayers.Format.OSM"
	}), OpenLayers.Handler = OpenLayers.Class({
		id : null,
		control : null,
		map : null,
		keyMask : null,
		active : !1,
		evt : null,
		initialize : function (e, t, n) {
			OpenLayers.Util.extend(this, n),
			this.control = e,
			this.callbacks = t,
			(e = this.map || e.map) && this.setMap(e),
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		setMap : function (e) {
			this.map = e
		},
		checkModifiers : function (e) {
			return null == this.keyMask ? !0 : ((e.shiftKey ? OpenLayers.Handler.MOD_SHIFT : 0) | (e.ctrlKey ? OpenLayers.Handler.MOD_CTRL : 0) | (e.altKey ? OpenLayers.Handler.MOD_ALT : 0)) == this.keyMask
		},
		activate : function () {
			if (this.active)
				return !1;
			for (var e = OpenLayers.Events.prototype.BROWSER_EVENTS, t = 0, n = e.length; t < n; t++)
				this[e[t]] && this.register(e[t], this[e[t]]);
			return this.active = !0
		},
		deactivate : function () {
			if (!this.active)
				return !1;
			for (var e = OpenLayers.Events.prototype.BROWSER_EVENTS, t = 0, n = e.length; t < n; t++)
				this[e[t]] && this.unregister(e[t], this[e[t]]);
			return this.active = !1,
			!0
		},
		callback : function (e, t) {
			e && this.callbacks[e] && this.callbacks[e].apply(this.control, t)
		},
		register : function (e, t) {
			this.map.events.registerPriority(e, this, t),
			this.map.events.registerPriority(e, this, this.setEvent)
		},
		unregister : function (e, t) {
			this.map.events.unregister(e, this, t),
			this.map.events.unregister(e, this, this.setEvent)
		},
		setEvent : function (e) {
			return this.evt = e,
			!0
		},
		destroy : function () {
			this.deactivate(),
			this.control = this.map = null
		},
		CLASS_NAME : "OpenLayers.Handler"
	}), OpenLayers.Handler.MOD_NONE = 0, OpenLayers.Handler.MOD_SHIFT = 1, OpenLayers.Handler.MOD_CTRL = 2, OpenLayers.Handler.MOD_ALT = 4, OpenLayers.Handler.Drag = OpenLayers.Class(OpenLayers.Handler, {
		started : !1,
		stopDown : !0,
		dragging : !1,
		touch : !1,
		last : null,
		start : null,
		lastMoveEvt : null,
		oldOnselectstart : null,
		interval : 0,
		timeoutId : null,
		documentDrag : !1,
		documentEvents : null,
		initialize : function (e, t, n) {
			OpenLayers.Handler.prototype.initialize.apply(this, arguments);
			if (!0 === this.documentDrag) {
				var r = this;
				this._docMove = function (e) {
					r.mousemove({
						xy : {
							x : e.clientX,
							y : e.clientY
						},
						element : document
					})
				},
				this._docUp = function (e) {
					r.mouseup({
						xy : {
							x : e.clientX,
							y : e.clientY
						}
					})
				}
			}
		},
		dragstart : function (e) {
			var t = !0;
			return this.dragging = !1,
			this.checkModifiers(e) && (OpenLayers.Event.isLeftClick(e) || OpenLayers.Event.isSingleTouch(e)) ? (this.started = !0, this.last = this.start = e.xy, OpenLayers.Element.addClass(this.map.viewPortDiv, "olDragDown"), this.down(e), this.callback("down", [e.xy]), OpenLayers.Event.stop(e), this.oldOnselectstart || (this.oldOnselectstart = document.onselectstart ? document.onselectstart : OpenLayers.Function.True), document.onselectstart = OpenLayers.Function.False, t = !this.stopDown) : (this.started = !1, this.last = this.start = null),
			t
		},
		dragmove : function (e) {
			return this.lastMoveEvt = e,
			this.started && !this.timeoutId && (e.xy.x != this.last.x || e.xy.y != this.last.y) && (!0 === this.documentDrag && this.documentEvents && (e.element === document ? (this.adjustXY(e), this.setEvent(e)) : this.removeDocumentEvents()), 0 < this.interval && (this.timeoutId = setTimeout(OpenLayers.Function.bind(this.removeTimeout, this), this.interval)), this.dragging = !0, this.move(e), this.callback("move", [e.xy]), this.oldOnselectstart || (this.oldOnselectstart = document.onselectstart, document.onselectstart = OpenLayers.Function.False), this.last = e.xy),
			!0
		},
		dragend : function (e) {
			if (this.started) {
				!0 === this.documentDrag && this.documentEvents && (this.adjustXY(e), this.removeDocumentEvents());
				var t = this.start != this.last;
				this.dragging = this.started = !1,
				OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown"),
				this.up(e),
				this.callback("up", [e.xy]),
				t && this.callback("done", [e.xy]),
				document.onselectstart = this.oldOnselectstart
			}
			return !0
		},
		down : function () {},
		move : function () {},
		up : function () {},
		out : function () {},
		mousedown : function (e) {
			return this.dragstart(e)
		},
		touchstart : function (e) {
			return this.touch || (this.touch = !0, this.map.events.un({
					mousedown : this.mousedown,
					mouseup : this.mouseup,
					mousemove : this.mousemove,
					click : this.click,
					scope : this
				})),
			this.dragstart(e)
		},
		mousemove : function (e) {
			return this.dragmove(e)
		},
		touchmove : function (e) {
			return this.dragmove(e)
		},
		removeTimeout : function () {
			this.timeoutId = null,
			this.dragging && this.mousemove(this.lastMoveEvt)
		},
		mouseup : function (e) {
			return this.dragend(e)
		},
		touchend : function (e) {
			return e.xy = this.last,
			this.dragend(e)
		},
		mouseout : function (e) {
			if (this.started && OpenLayers.Util.mouseLeft(e, this.map.viewPortDiv))
				if (!0 === this.documentDrag)
					this.addDocumentEvents();
				else {
					var t = this.start != this.last;
					this.dragging = this.started = !1,
					OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown"),
					this.out(e),
					this.callback("out", []),
					t && this.callback("done", [e.xy]),
					document.onselectstart && (document.onselectstart = this.oldOnselectstart)
				}
			return !0
		},
		click : function () {
			return this.start == this.last
		},
		activate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.dragging = !1, e = !0),
			e
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.dragging = this.started = this.touch = !1, this.last = this.start = null, e = !0, OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown")),
			e
		},
		adjustXY : function (e) {
			var t = OpenLayers.Util.pagePosition(this.map.viewPortDiv);
			e.xy.x -= t[0],
			e.xy.y -= t[1]
		},
		addDocumentEvents : function () {
			OpenLayers.Element.addClass(document.body, "olDragDown"),
			this.documentEvents = !0,
			OpenLayers.Event.observe(document, "mousemove", this._docMove),
			OpenLayers.Event.observe(document, "mouseup", this._docUp)
		},
		removeDocumentEvents : function () {
			OpenLayers.Element.removeClass(document.body, "olDragDown"),
			this.documentEvents = !1,
			OpenLayers.Event.stopObserving(document, "mousemove", this._docMove),
			OpenLayers.Event.stopObserving(document, "mouseup", this._docUp)
		},
		CLASS_NAME : "OpenLayers.Handler.Drag"
	}), OpenLayers.Handler.Feature = OpenLayers.Class(OpenLayers.Handler, {
		EVENTMAP : {
			click : {
				"in" : "click",
				out : "clickout"
			},
			mousemove : {
				"in" : "over",
				out : "out"
			},
			dblclick : {
				"in" : "dblclick",
				out : null
			},
			mousedown : {
				"in" : null,
				out : null
			},
			mouseup : {
				"in" : null,
				out : null
			},
			touchstart : {
				"in" : "click",
				out : "clickout"
			}
		},
		feature : null,
		lastFeature : null,
		down : null,
		up : null,
		touch : !1,
		clickTolerance : 4,
		geometryTypes : null,
		stopClick : !0,
		stopDown : !0,
		stopUp : !1,
		initialize : function (e, t, n, r) {
			OpenLayers.Handler.prototype.initialize.apply(this, [e, n, r]),
			this.layer = t
		},
		touchstart : function (e) {
			return this.touch || (this.touch = !0, this.map.events.un({
					mousedown : this.mousedown,
					mouseup : this.mouseup,
					mousemove : this.mousemove,
					click : this.click,
					dblclick : this.dblclick,
					scope : this
				})),
			OpenLayers.Event.isMultiTouch(e) ? !0 : this.mousedown(e)
		},
		touchmove : function (e) {
			OpenLayers.Event.stop(e)
		},
		mousedown : function (e) {
			if (OpenLayers.Event.isLeftClick(e) || OpenLayers.Event.isSingleTouch(e))
				this.down = e.xy;
			return this.handle(e) ? !this.stopDown : !0
		},
		mouseup : function (e) {
			return this.up = e.xy,
			this.handle(e) ? !this.stopUp : !0
		},
		click : function (e) {
			return this.handle(e) ? !this.stopClick : !0
		},
		mousemove : function (e) {
			return !this.callbacks.over && !this.callbacks.out ? !0 : (this.handle(e), !0)
		},
		dblclick : function (e) {
			return !this.handle(e)
		},
		geometryTypeMatches : function (e) {
			return null == this.geometryTypes || -1 < OpenLayers.Util.indexOf(this.geometryTypes, e.geometry.CLASS_NAME)
		},
		handle : function (e) {
			this.feature && !this.feature.layer && (this.feature = null);
			var t = e.type,
			n = !1,
			r = !!this.feature,
			i = "click" == t || "dblclick" == t || "touchstart" == t;
			return (this.feature = this.layer.getFeatureFromEvent(e)) && !this.feature.layer && (this.feature = null),
			this.lastFeature && !this.lastFeature.layer && (this.lastFeature = null),
			this.feature ? ("touchstart" === t && OpenLayers.Event.stop(e), e = this.feature != this.lastFeature, this.geometryTypeMatches(this.feature) ? (r && e ? (this.lastFeature && this.triggerCallback(t, "out", [this.lastFeature]), this.triggerCallback(t, "in", [this.feature])) : (!r || i) && this.triggerCallback(t, "in", [this.feature]), this.lastFeature = this.feature, n = !0) : (this.lastFeature && (r && e || i) && this.triggerCallback(t, "out", [this.lastFeature]), this.feature = null)) : this.lastFeature && (r || i) && this.triggerCallback(t, "out", [this.lastFeature]),
			n
		},
		triggerCallback : function (e, t, n) {
			(t = this.EVENTMAP[e][t]) && ("click" == e && this.up && this.down ? Math.sqrt(Math.pow(this.up.x - this.down.x, 2) + Math.pow(this.up.y - this.down.y, 2)) <= this.clickTolerance && this.callback(t, n) : this.callback(t, n))
		},
		activate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.moveLayerToTop(), this.map.events.on({
					removelayer : this.handleMapEvents,
					changelayer : this.handleMapEvents,
					scope : this
				}), e = !0),
			e
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.moveLayerBack(), this.up = this.down = this.lastFeature = this.feature = null, this.touch = !1, this.map.events.un({
					removelayer : this.handleMapEvents,
					changelayer : this.handleMapEvents,
					scope : this
				}), e = !0),
			e
		},
		handleMapEvents : function (e) {
			("removelayer" == e.type || "order" == e.property) && this.moveLayerToTop()
		},
		moveLayerToTop : function () {
			this.layer.setZIndex(Math.max(this.map.Z_INDEX_BASE.Feature - 1, this.layer.getZIndex()) + 1)
		},
		moveLayerBack : function () {
			var e = this.layer.getZIndex() - 1;
			e >= this.map.Z_INDEX_BASE.Feature ? this.layer.setZIndex(e) : this.map.setLayerZIndex(this.layer, this.map.getLayerIndex(this.layer))
		},
		CLASS_NAME : "OpenLayers.Handler.Feature"
	}), OpenLayers.Control.DragFeature = OpenLayers.Class(OpenLayers.Control, {
		geometryTypes : null,
		onStart : function () {},
		onDrag : function () {},
		onComplete : function () {},
		onEnter : function () {},
		onLeave : function () {},
		documentDrag : !1,
		layer : null,
		feature : null,
		dragCallbacks : {},
		featureCallbacks : {},
		lastPixel : null,
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			this.layer = e,
			this.handlers = {
				drag : new OpenLayers.Handler.Drag(this, OpenLayers.Util.extend({
						down : this.downFeature,
						move : this.moveFeature,
						up : this.upFeature,
						out : this.cancel,
						done : this.doneDragging
					}, this.dragCallbacks), {
					documentDrag : this.documentDrag
				}),
				feature : new OpenLayers.Handler.Feature(this, this.layer, OpenLayers.Util.extend({
						click : this.clickFeature,
						clickout : this.clickoutFeature,
						over : this.overFeature,
						out : this.outFeature
					}, this.featureCallbacks), {
					geometryTypes : this.geometryTypes
				})
			}
		},
		clickFeature : function (e) {
			this.handlers.feature.touch && !this.over && this.overFeature(e) && (this.handlers.drag.dragstart(this.handlers.feature.evt), this.handlers.drag.stopDown = !1)
		},
		clickoutFeature : function (e) {
			this.handlers.feature.touch && this.over && (this.outFeature(e), this.handlers.drag.stopDown = !0)
		},
		destroy : function () {
			this.layer = null,
			OpenLayers.Control.prototype.destroy.apply(this, [])
		},
		activate : function () {
			return this.handlers.feature.activate() && OpenLayers.Control.prototype.activate.apply(this, arguments)
		},
		deactivate : function () {
			return this.handlers.drag.deactivate(),
			this.handlers.feature.deactivate(),
			this.feature = null,
			this.dragging = !1,
			this.lastPixel = null,
			OpenLayers.Element.removeClass(this.map.viewPortDiv, this.displayClass + "Over"),
			OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		overFeature : function (e) {
			var t = !1;
			return this.handlers.drag.dragging ? this.over = this.feature.id == e.id ? !0 : !1 : (this.feature = e, this.handlers.drag.activate(), this.over = t = !0, OpenLayers.Element.addClass(this.map.viewPortDiv, this.displayClass + "Over"), this.onEnter(e)),
			t
		},
		downFeature : function (e) {
			this.lastPixel = e,
			this.onStart(this.feature, e)
		},
		moveFeature : function (e) {
			var t = this.map.getResolution();
			this.feature.geometry.move(t * (e.x - this.lastPixel.x), t * (this.lastPixel.y - e.y)),
			this.layer.drawFeature(this.feature),
			this.lastPixel = e,
			this.onDrag(this.feature, e)
		},
		upFeature : function () {
			this.over || this.handlers.drag.deactivate()
		},
		doneDragging : function (e) {
			this.onComplete(this.feature, e)
		},
		outFeature : function (e) {
			this.handlers.drag.dragging ? this.feature.id == e.id && (this.over = !1) : (this.over = !1, this.handlers.drag.deactivate(), OpenLayers.Element.removeClass(this.map.viewPortDiv, this.displayClass + "Over"), this.onLeave(e), this.feature = null)
		},
		cancel : function () {
			this.handlers.drag.deactivate(),
			this.over = !1
		},
		setMap : function (e) {
			this.handlers.drag.setMap(e),
			this.handlers.feature.setMap(e),
			OpenLayers.Control.prototype.setMap.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Control.DragFeature"
	}), OpenLayers.StyleMap = OpenLayers.Class({
		styles : null,
		extendDefault : !0,
		initialize : function (e, t) {
			this.styles = {
				"default" : new OpenLayers.Style(OpenLayers.Feature.Vector.style["default"]),
				select : new OpenLayers.Style(OpenLayers.Feature.Vector.style.select),
				temporary : new OpenLayers.Style(OpenLayers.Feature.Vector.style.temporary),
				"delete" : new OpenLayers.Style(OpenLayers.Feature.Vector.style["delete"])
			};
			if (e instanceof OpenLayers.Style)
				this.styles["default"] = e, this.styles.select = e, this.styles.temporary = e, this.styles["delete"] = e;
			else if ("object" == typeof e)
				for (var n in e)
					if (e[n]instanceof OpenLayers.Style)
						this.styles[n] = e[n];
					else {
						if ("object" != typeof e[n]) {
							this.styles["default"] = new OpenLayers.Style(e),
							this.styles.select = new OpenLayers.Style(e),
							this.styles.temporary = new OpenLayers.Style(e),
							this.styles["delete"] = new OpenLayers.Style(e);
							break
						}
						this.styles[n] = new OpenLayers.Style(e[n])
					}
			OpenLayers.Util.extend(this, t)
		},
		destroy : function () {
			for (var e in this.styles)
				this.styles[e].destroy();
			this.styles = null
		},
		createSymbolizer : function (e, t) {
			e || (e = new OpenLayers.Feature.Vector),
			this.styles[t] || (t = "default"),
			e.renderIntent = t;
			var n = {};
			return this.extendDefault && "default" != t && (n = this.styles["default"].createSymbolizer(e)),
			OpenLayers.Util.extend(n, this.styles[t].createSymbolizer(e))
		},
		addUniqueValueRules : function (e, t, n, r) {
			var i = [],
			s;
			for (s in n)
				i.push(new OpenLayers.Rule({
						symbolizer : n[s],
						context : r,
						filter : new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.EQUAL_TO,
							property : t,
							value : s
						})
					}));
			this.styles[e].addRules(i)
		},
		CLASS_NAME : "OpenLayers.StyleMap"
	}), OpenLayers.Layer.Vector = OpenLayers.Class(OpenLayers.Layer, {
		isBaseLayer : !1,
		isFixed : !1,
		features : null,
		filter : null,
		selectedFeatures : null,
		unrenderedFeatures : null,
		reportError : !0,
		style : null,
		styleMap : null,
		strategies : null,
		protocol : null,
		renderers : ["SVG", "VML", "Canvas"],
		renderer : null,
		rendererOptions : null,
		geometryType : null,
		drawn : !1,
		ratio : 1,
		initialize : function (e, t) {
			OpenLayers.Layer.prototype.initialize.apply(this, arguments),
			(!this.renderer || !this.renderer.supported()) && this.assignRenderer();
			if (!this.renderer || !this.renderer.supported())
				this.renderer = null, this.displayError();
			this.styleMap || (this.styleMap = new OpenLayers.StyleMap),
			this.features = [],
			this.selectedFeatures = [],
			this.unrenderedFeatures = {};
			if (this.strategies)
				for (var n = 0, r = this.strategies.length; n < r; n++)
					this.strategies[n].setLayer(this)
		},
		destroy : function () {
			if (this.strategies) {
				var e,
				t,
				n;
				t = 0;
				for (n = this.strategies.length; t < n; t++)
					e = this.strategies[t], e.autoDestroy && e.destroy();
				this.strategies = null
			}
			this.protocol && (this.protocol.autoDestroy && this.protocol.destroy(), this.protocol = null),
			this.destroyFeatures(),
			this.unrenderedFeatures = this.selectedFeatures = this.features = null,
			this.renderer && this.renderer.destroy(),
			this.drawn = this.geometryType = this.renderer = null,
			OpenLayers.Layer.prototype.destroy.apply(this, arguments)
		},
		clone : function (e) {
			null == e && (e = new OpenLayers.Layer.Vector(this.name, this.getOptions()));
			for (var e = OpenLayers.Layer.prototype.clone.apply(this, [e]), t = this.features, n = t.length, r = Array(n), i = 0; i < n; ++i)
				r[i] = t[i].clone();
			return e.features = r,
			e
		},
		refresh : function (e) {
			this.calculateInRange() && this.visibility && this.events.triggerEvent("refresh", e)
		},
		assignRenderer : function () {
			for (var e = 0, t = this.renderers.length; e < t; e++) {
				var n = this.renderers[e];
				if ((n = "function" == typeof n ? n : OpenLayers.Renderer[n]) && n.prototype.supported()) {
					this.renderer = new n(this.div, this.rendererOptions);
					break
				}
			}
		},
		displayError : function () {
			this.reportError && OpenLayers.Console.userError(OpenLayers.i18n("browserNotSupported", {
					renderers : this.renderers.join("\n")
				}))
		},
		setMap : function (e) {
			OpenLayers.Layer.prototype.setMap.apply(this, arguments);
			if (this.renderer) {
				this.renderer.map = this.map;
				var t = this.map.getSize();
				t.w *= this.ratio,
				t.h *= this.ratio,
				this.renderer.setSize(t)
			} else
				this.map.removeLayer(this)
		},
		afterAdd : function () {
			if (this.strategies) {
				var e,
				t,
				n;
				t = 0;
				for (n = this.strategies.length; t < n; t++)
					e = this.strategies[t], e.autoActivate && e.activate()
			}
		},
		removeMap : function () {
			this.drawn = !1;
			if (this.strategies) {
				var e,
				t,
				n;
				t = 0;
				for (n = this.strategies.length; t < n; t++)
					e = this.strategies[t], e.autoActivate && e.deactivate()
			}
		},
		onMapResize : function () {
			OpenLayers.Layer.prototype.onMapResize.apply(this, arguments);
			var e = this.map.getSize();
			e.w *= this.ratio,
			e.h *= this.ratio,
			this.renderer.setSize(e)
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
			var r = !0;
			if (!n) {
				this.renderer.root.style.visibility = "hidden";
				var r = this.map.getSize(),
				i = r.w,
				r = r.h,
				i = i / 2 * this.ratio - i / 2,
				r = r / 2 * this.ratio - r / 2,
				i = i + parseInt(this.map.layerContainerDiv.style.left, 10),
				i = -Math.round(i),
				r = r + parseInt(this.map.layerContainerDiv.style.top, 10),
				r = -Math.round(r);
				this.div.style.left = i + "px",
				this.div.style.top = r + "px",
				r = this.renderer.setExtent(this.map.getExtent().scale(this.ratio), t),
				this.renderer.root.style.visibility = "visible",
				!0 === OpenLayers.IS_GECKO && (this.div.scrollLeft = this.div.scrollLeft);
				if (!t && r)
					for (var s in this.unrenderedFeatures)
						i = this.unrenderedFeatures[s], this.drawFeature(i)
			}
			if (!this.drawn || t || !r) {
				this.drawn = !0,
				s = 0;
				for (r = this.features.length; s < r; s++)
					this.renderer.locked = s !== r - 1, i = this.features[s], this.drawFeature(i)
			}
		},
		display : function (e) {
			OpenLayers.Layer.prototype.display.apply(this, arguments);
			var t = this.div.style.display;
			t != this.renderer.root.style.display && (this.renderer.root.style.display = t)
		},
		addFeatures : function (e, t) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			var n = !t || !t.silent;
			if (n) {
				var r = {
					features : e
				};
				if (!1 === this.events.triggerEvent("beforefeaturesadded", r))
					return;
				e = r.features
			}
			for (var r = [], i = 0, s = e.length; i < s; i++) {
				this.renderer.locked = i != e.length - 1 ? !0 : !1;
				var o = e[i];
				if (!(!this.geometryType || o.geometry instanceof this.geometryType))
					throw new TypeError("addFeatures: component should be an " + this.geometryType.prototype.CLASS_NAME);
				o.layer = this,
				!o.style && this.style && (o.style = OpenLayers.Util.extend({}, this.style));
				if (n) {
					if (!1 === this.events.triggerEvent("beforefeatureadded", {
							feature : o
						}))
						continue;
					this.preFeatureInsert(o)
				}
				r.push(o),
				this.features.push(o),
				this.drawFeature(o),
				n && (this.events.triggerEvent("featureadded", {
						feature : o
					}), this.onFeatureInsert(o))
			}
			n && this.events.triggerEvent("featuresadded", {
				features : r
			})
		},
		removeFeatures : function (e, t) {
			if (e && 0 !== e.length) {
				if (e === this.features)
					return this.removeAllFeatures(t);
				OpenLayers.Util.isArray(e) || (e = [e]),
				e === this.selectedFeatures && (e = e.slice());
				var n = !t || !t.silent;
				n && this.events.triggerEvent("beforefeaturesremoved", {
					features : e
				});
				for (var r = e.length - 1; 0 <= r; r--) {
					this.renderer.locked = 0 != r && e[r - 1].geometry ? !0 : !1;
					var i = e[r];
					delete this.unrenderedFeatures[i.id],
					n && this.events.triggerEvent("beforefeatureremoved", {
						feature : i
					}),
					this.features = OpenLayers.Util.removeItem(this.features, i),
					i.layer = null,
					i.geometry && this.renderer.eraseFeatures(i),
					-1 != OpenLayers.Util.indexOf(this.selectedFeatures, i) && OpenLayers.Util.removeItem(this.selectedFeatures, i),
					n && this.events.triggerEvent("featureremoved", {
						feature : i
					})
				}
				n && this.events.triggerEvent("featuresremoved", {
					features : e
				})
			}
		},
		removeAllFeatures : function (e) {
			var e = !e || !e.silent,
			t = this.features;
			e && this.events.triggerEvent("beforefeaturesremoved", {
				features : t
			});
			for (var n, r = t.length - 1; 0 <= r; r--)
				n = t[r], e && this.events.triggerEvent("beforefeatureremoved", {
					feature : n
				}), n.layer = null, e && this.events.triggerEvent("featureremoved", {
					feature : n
				});
			this.renderer.clear(),
			this.features = [],
			this.unrenderedFeatures = {},
			this.selectedFeatures = [],
			e && this.events.triggerEvent("featuresremoved", {
				features : t
			})
		},
		destroyFeatures : function (e, t) {
			void 0 == e && (e = this.features);
			if (e) {
				this.removeFeatures(e, t);
				for (var n = e.length - 1; 0 <= n; n--)
					e[n].destroy()
			}
		},
		drawFeature : function (e, t) {
			if (this.drawn) {
				if ("object" != typeof t) {
					!t && e.state === OpenLayers.State.DELETE && (t = "delete");
					var n = t || e.renderIntent;
					(t = e.style || this.style) || (t = this.styleMap.createSymbolizer(e, n))
				}
				n = this.renderer.drawFeature(e, t),
				!1 === n || null === n ? this.unrenderedFeatures[e.id] = e : delete this.unrenderedFeatures[e.id]
			}
		},
		eraseFeatures : function (e) {
			this.renderer.eraseFeatures(e)
		},
		getFeatureFromEvent : function (e) {
			if (!this.renderer)
				throw Error("getFeatureFromEvent called on layer with no renderer. This usually means you destroyed a layer, but not some handler which is associated with it.");
			var t = null;
			return (e = this.renderer.getFeatureIdFromEvent(e)) && (t = "string" == typeof e ? this.getFeatureById(e) : e),
			t
		},
		getFeatureBy : function (e, t) {
			for (var n = null, r = 0, i = this.features.length; r < i; ++r)
				if (this.features[r][e] == t) {
					n = this.features[r];
					break
				}
			return n
		},
		getFeatureById : function (e) {
			return this.getFeatureBy("id", e)
		},
		getFeatureByFid : function (e) {
			return this.getFeatureBy("fid", e)
		},
		getFeaturesByAttribute : function (e, t) {
			var n,
			r,
			i = this.features.length,
			s = [];
			for (n = 0; n < i; n++)
				(r = this.features[n]) && r.attributes && r.attributes[e] === t && s.push(r);
			return s
		},
		onFeatureInsert : function () {},
		preFeatureInsert : function () {},
		getDataExtent : function () {
			var e = null,
			t = this.features;
			if (t && 0 < t.length)
				for (var n = null, r = 0, i = t.length; r < i; r++)
					if (n = t[r].geometry)
						null === e && (e = new OpenLayers.Bounds), e.extend(n.getBounds());
			return e
		},
		CLASS_NAME : "OpenLayers.Layer.Vector"
	}), OpenLayers.Layer.Vector.RootContainer = OpenLayers.Class(OpenLayers.Layer.Vector, {
		displayInLayerSwitcher : !1,
		layers : null,
		display : function () {},
		getFeatureFromEvent : function (e) {
			for (var t = this.layers, n, r = 0; r < t.length; r++)
				if (n = t[r].getFeatureFromEvent(e))
					return n
		},
		setMap : function (e) {
			OpenLayers.Layer.Vector.prototype.setMap.apply(this, arguments),
			this.collectRoots(),
			e.events.register("changelayer", this, this.handleChangeLayer)
		},
		removeMap : function (e) {
			e.events.unregister("changelayer", this, this.handleChangeLayer),
			this.resetRoots(),
			OpenLayers.Layer.Vector.prototype.removeMap.apply(this, arguments)
		},
		collectRoots : function () {
			for (var e, t = 0; t < this.map.layers.length; ++t)
				e = this.map.layers[t], -1 != OpenLayers.Util.indexOf(this.layers, e) && e.renderer.moveRoot(this.renderer)
		},
		resetRoots : function () {
			for (var e, t = 0; t < this.layers.length; ++t)
				e = this.layers[t], this.renderer && e.renderer.getRenderLayerId() == this.id && this.renderer.moveRoot(e.renderer)
		},
		handleChangeLayer : function (e) {
			var t = e.layer;
			"order" == e.property && -1 != OpenLayers.Util.indexOf(this.layers, t) && (this.resetRoots(), this.collectRoots())
		},
		CLASS_NAME : "OpenLayers.Layer.Vector.RootContainer"
	}), OpenLayers.Control.SelectFeature = OpenLayers.Class(OpenLayers.Control, {
		multipleKey : null,
		toggleKey : null,
		multiple : !1,
		clickout : !0,
		toggle : !1,
		hover : !1,
		highlightOnly : !1,
		box : !1,
		onBeforeSelect : function () {},
		onSelect : function () {},
		onUnselect : function () {},
		scope : null,
		geometryTypes : null,
		layer : null,
		layers : null,
		callbacks : null,
		selectStyle : null,
		renderIntent : "select",
		handlers : null,
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			null === this.scope && (this.scope = this),
			this.initLayer(e);
			var n = {
				click : this.clickFeature,
				clickout : this.clickoutFeature
			};
			this.hover && (n.over = this.overFeature, n.out = this.outFeature),
			this.callbacks = OpenLayers.Util.extend(n, this.callbacks),
			this.handlers = {
				feature : new OpenLayers.Handler.Feature(this, this.layer, this.callbacks, {
					geometryTypes : this.geometryTypes
				})
			},
			this.box && (this.handlers.box = new OpenLayers.Handler.Box(this, {
						done : this.selectBox
					}, {
						boxDivClassName : "olHandlerBoxSelectFeature"
					}))
		},
		initLayer : function (e) {
			OpenLayers.Util.isArray(e) ? (this.layers = e, this.layer = new OpenLayers.Layer.Vector.RootContainer(this.id + "_container", {
						layers : e
					})) : this.layer = e
		},
		destroy : function () {
			this.active && this.layers && this.map.removeLayer(this.layer),
			OpenLayers.Control.prototype.destroy.apply(this, arguments),
			this.layers && this.layer.destroy()
		},
		activate : function () {
			return this.active || (this.layers && this.map.addLayer(this.layer), this.handlers.feature.activate(), this.box && this.handlers.box && this.handlers.box.activate()),
			OpenLayers.Control.prototype.activate.apply(this, arguments)
		},
		deactivate : function () {
			return this.active && (this.handlers.feature.deactivate(), this.handlers.box && this.handlers.box.deactivate(), this.layers && this.map.removeLayer(this.layer)),
			OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		unselectAll : function (e) {
			for (var t = this.layers || [this.layer], n, r, i = 0; i < t.length; ++i) {
				n = t[i];
				for (var s = n.selectedFeatures.length - 1; 0 <= s; --s)
					r = n.selectedFeatures[s], (!e || e.except != r) && this.unselect(r)
			}
		},
		clickFeature : function (e) {
			this.hover || (-1 < OpenLayers.Util.indexOf(e.layer.selectedFeatures, e) ? this.toggleSelect() ? this.unselect(e) : this.multipleSelect() || this.unselectAll({
					except : e
				}) : (this.multipleSelect() || this.unselectAll({
						except : e
					}), this.select(e)))
		},
		multipleSelect : function () {
			return this.multiple || this.handlers.feature.evt && this.handlers.feature.evt[this.multipleKey]
		},
		toggleSelect : function () {
			return this.toggle || this.handlers.feature.evt && this.handlers.feature.evt[this.toggleKey]
		},
		clickoutFeature : function () {
			!this.hover && this.clickout && this.unselectAll()
		},
		overFeature : function (e) {
			var t = e.layer;
			this.hover && (this.highlightOnly ? this.highlight(e) : -1 == OpenLayers.Util.indexOf(t.selectedFeatures, e) && this.select(e))
		},
		outFeature : function (e) {
			if (this.hover)
				if (this.highlightOnly) {
					if (e._lastHighlighter == this.id)
						if (e._prevHighlighter && e._prevHighlighter != this.id) {
							delete e._lastHighlighter;
							var t = this.map.getControl(e._prevHighlighter);
							t && t.highlight(e)
						} else
							this.unhighlight(e)
				} else
					this.unselect(e)
		},
		highlight : function (e) {
			var t = e.layer;
			!1 !== this.events.triggerEvent("beforefeaturehighlighted", {
				feature : e
			}) && (e._prevHighlighter = e._lastHighlighter, e._lastHighlighter = this.id, t.drawFeature(e, this.selectStyle || this.renderIntent), this.events.triggerEvent("featurehighlighted", {
					feature : e
				}))
		},
		unhighlight : function (e) {
			var t = e.layer;
			void 0 == e._prevHighlighter ? delete e._lastHighlighter : (e._prevHighlighter != this.id && (e._lastHighlighter = e._prevHighlighter), delete e._prevHighlighter),
			t.drawFeature(e, e.style || e.layer.style || "default"),
			this.events.triggerEvent("featureunhighlighted", {
				feature : e
			})
		},
		select : function (e) {
			var t = this.onBeforeSelect.call(this.scope, e),
			n = e.layer;
			!1 !== t && (t = n.events.triggerEvent("beforefeatureselected", {
						feature : e
					}), !1 !== t && (n.selectedFeatures.push(e), this.highlight(e), this.handlers.feature.lastFeature || (this.handlers.feature.lastFeature = n.selectedFeatures[0]), n.events.triggerEvent("featureselected", {
						feature : e
					}), this.onSelect.call(this.scope, e)))
		},
		unselect : function (e) {
			var t = e.layer;
			this.unhighlight(e),
			OpenLayers.Util.removeItem(t.selectedFeatures, e),
			t.events.triggerEvent("featureunselected", {
				feature : e
			}),
			this.onUnselect.call(this.scope, e)
		},
		selectBox : function (e) {
			if (e instanceof OpenLayers.Bounds) {
				var t = this.map.getLonLatFromPixel({
						x : e.left,
						y : e.bottom
					}),
				e = this.map.getLonLatFromPixel({
						x : e.right,
						y : e.top
					}),
				t = new OpenLayers.Bounds(t.lon, t.lat, e.lon, e.lat);
				this.multipleSelect() || this.unselectAll(),
				e = this.multiple,
				this.multiple = !0;
				var n = this.layers || [this.layer];
				this.events.triggerEvent("boxselectionstart", {
					layers : n
				});
				for (var r, i = 0; i < n.length; ++i) {
					r = n[i];
					for (var s = 0, o = r.features.length; s < o; ++s) {
						var u = r.features[s];
						u.getVisibility() && (null == this.geometryTypes || -1 < OpenLayers.Util.indexOf(this.geometryTypes, u.geometry.CLASS_NAME)) && t.toGeometry().intersects(u.geometry) && -1 == OpenLayers.Util.indexOf(r.selectedFeatures, u) && this.select(u)
					}
				}
				this.multiple = e,
				this.events.triggerEvent("boxselectionend", {
					layers : n
				})
			}
		},
		setMap : function (e) {
			this.handlers.feature.setMap(e),
			this.box && this.handlers.box.setMap(e),
			OpenLayers.Control.prototype.setMap.apply(this, arguments)
		},
		setLayer : function (e) {
			var t = this.active;
			this.unselectAll(),
			this.deactivate(),
			this.layers && (this.layer.destroy(), this.layers = null),
			this.initLayer(e),
			this.handlers.feature.layer = this.layer,
			t && this.activate()
		},
		CLASS_NAME : "OpenLayers.Control.SelectFeature"
	}), OpenLayers.Handler.Keyboard = OpenLayers.Class(OpenLayers.Handler, {
		KEY_EVENTS : ["keydown", "keyup"],
		eventListener : null,
		observeElement : null,
		initialize : function (e, t, n) {
			OpenLayers.Handler.prototype.initialize.apply(this, arguments),
			this.eventListener = OpenLayers.Function.bindAsEventListener(this.handleKeyEvent, this)
		},
		destroy : function () {
			this.deactivate(),
			this.eventListener = null,
			OpenLayers.Handler.prototype.destroy.apply(this, arguments)
		},
		activate : function () {
			if (OpenLayers.Handler.prototype.activate.apply(this, arguments)) {
				this.observeElement = this.observeElement || document;
				for (var e = 0, t = this.KEY_EVENTS.length; e < t; e++)
					OpenLayers.Event.observe(this.observeElement, this.KEY_EVENTS[e], this.eventListener);
				return !0
			}
			return !1
		},
		deactivate : function () {
			var e = !1;
			if (OpenLayers.Handler.prototype.deactivate.apply(this, arguments)) {
				for (var e = 0, t = this.KEY_EVENTS.length; e < t; e++)
					OpenLayers.Event.stopObserving(this.observeElement, this.KEY_EVENTS[e], this.eventListener);
				e = !0
			}
			return e
		},
		handleKeyEvent : function (e) {
			this.checkModifiers(e) && this.callback(e.type, [e])
		},
		CLASS_NAME : "OpenLayers.Handler.Keyboard"
	}), OpenLayers.Control.ModifyFeature = OpenLayers.Class(OpenLayers.Control, {
		geometryTypes : null,
		clickout : !0,
		toggle : !0,
		standalone : !1,
		layer : null,
		feature : null,
		vertices : null,
		virtualVertices : null,
		selectControl : null,
		dragControl : null,
		handlers : null,
		deleteCodes : null,
		virtualStyle : null,
		vertexRenderIntent : null,
		mode : null,
		createVertices : !0,
		modified : !1,
		radiusHandle : null,
		dragHandle : null,
		onModificationStart : function () {},
		onModification : function () {},
		onModificationEnd : function () {},
		initialize : function (e, t) {
			t = t || {},
			this.layer = e,
			this.vertices = [],
			this.virtualVertices = [],
			this.virtualStyle = OpenLayers.Util.extend({}, this.layer.style || this.layer.styleMap.createSymbolizer(null, t.vertexRenderIntent)),
			this.virtualStyle.fillOpacity = .3,
			this.virtualStyle.strokeOpacity = .3,
			this.deleteCodes = [46, 68],
			this.mode = OpenLayers.Control.ModifyFeature.RESHAPE,
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			OpenLayers.Util.isArray(this.deleteCodes) || (this.deleteCodes = [this.deleteCodes]);
			var n = this,
			r = {
				geometryTypes : this.geometryTypes,
				clickout : this.clickout,
				toggle : this.toggle,
				onBeforeSelect : this.beforeSelectFeature,
				onSelect : this.selectFeature,
				onUnselect : this.unselectFeature,
				scope : this
			};
			!1 === this.standalone && (this.selectControl = new OpenLayers.Control.SelectFeature(e, r)),
			this.dragControl = new OpenLayers.Control.DragFeature(e, {
					geometryTypes : ["OpenLayers.Geometry.Point"],
					onStart : function (e, t) {
						n.dragStart.apply(n, [e, t])
					},
					onDrag : function (e, t) {
						n.dragVertex.apply(n, [e, t])
					},
					onComplete : function (e) {
						n.dragComplete.apply(n, [e])
					},
					featureCallbacks : {
						over : function (e) {
							(n.standalone !== !0 || e._sketch || n.feature === e) && n.dragControl.overFeature.apply(n.dragControl, [e])
						}
					}
				}),
			this.handlers = {
				keyboard : new OpenLayers.Handler.Keyboard(this, {
					keydown : this.handleKeypress
				})
			}
		},
		destroy : function () {
			this.layer = null,
			this.standalone || this.selectControl.destroy(),
			this.dragControl.destroy(),
			OpenLayers.Control.prototype.destroy.apply(this, [])
		},
		activate : function () {
			return (this.standalone || this.selectControl.activate()) && this.handlers.keyboard.activate() && OpenLayers.Control.prototype.activate.apply(this, arguments)
		},
		deactivate : function () {
			var e = !1;
			if (OpenLayers.Control.prototype.deactivate.apply(this, arguments)) {
				this.layer.removeFeatures(this.vertices, {
					silent : !0
				}),
				this.layer.removeFeatures(this.virtualVertices, {
					silent : !0
				}),
				this.vertices = [],
				this.dragControl.deactivate();
				var t = (e = this.feature) && e.geometry && e.layer;
				!1 === this.standalone ? (t && this.selectControl.unselect.apply(this.selectControl, [e]), this.selectControl.deactivate()) : t && this.unselectFeature(e),
				this.handlers.keyboard.deactivate(),
				e = !0
			}
			return e
		},
		beforeSelectFeature : function (e) {
			return this.layer.events.triggerEvent("beforefeaturemodified", {
				feature : e
			})
		},
		selectFeature : function (e) {
			if (!this.standalone || !1 !== this.beforeSelectFeature(e))
				this.feature = e, this.modified = !1, this.resetVertices(), this.dragControl.activate(), this.onModificationStart(this.feature);
			var t = e.modified;
			e.geometry && (!t || !t.geometry) && (this._originalGeometry = e.geometry.clone())
		},
		unselectFeature : function (e) {
			this.layer.removeFeatures(this.vertices, {
				silent : !0
			}),
			this.vertices = [],
			this.layer.destroyFeatures(this.virtualVertices, {
				silent : !0
			}),
			this.virtualVertices = [],
			this.dragHandle && (this.layer.destroyFeatures([this.dragHandle], {
					silent : !0
				}), delete this.dragHandle),
			this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
					silent : !0
				}), delete this.radiusHandle),
			this.feature = null,
			this.dragControl.deactivate(),
			this.onModificationEnd(e),
			this.layer.events.triggerEvent("afterfeaturemodified", {
				feature : e,
				modified : this.modified
			}),
			this.modified = !1
		},
		dragStart : function (e, t) {
			e != this.feature && !e.geometry.parent && e != this.dragHandle && e != this.radiusHandle && (!1 === this.standalone && this.feature && this.selectControl.clickFeature.apply(this.selectControl, [this.feature]), null == this.geometryTypes || -1 != OpenLayers.Util.indexOf(this.geometryTypes, e.geometry.CLASS_NAME)) && (this.standalone || this.selectControl.clickFeature.apply(this.selectControl, [e]), this.dragControl.overFeature.apply(this.dragControl, [e]), this.dragControl.lastPixel = t, this.dragControl.handlers.drag.started = !0, this.dragControl.handlers.drag.start = t, this.dragControl.handlers.drag.last = t)
		},
		dragVertex : function (e, t) {
			this.modified = !0,
			"OpenLayers.Geometry.Point" == this.feature.geometry.CLASS_NAME ? (this.feature != e && (this.feature = e), this.layer.events.triggerEvent("vertexmodified", {
					vertex : e.geometry,
					feature : this.feature,
					pixel : t
				})) : (e._index ? (e.geometry.parent.addComponent(e.geometry, e._index), delete e._index, OpenLayers.Util.removeItem(this.virtualVertices, e), this.vertices.push(e)) : e == this.dragHandle ? (this.layer.removeFeatures(this.vertices, {
						silent : !0
					}), this.vertices = [], this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
							silent : !0
						}), this.radiusHandle = null)) : e !== this.radiusHandle && this.layer.events.triggerEvent("vertexmodified", {
					vertex : e.geometry,
					feature : this.feature,
					pixel : t
				}), 0 < this.virtualVertices.length && (this.layer.destroyFeatures(this.virtualVertices, {
						silent : !0
					}), this.virtualVertices = []), this.layer.drawFeature(this.feature, this.standalone ? void 0 : this.selectControl.renderIntent)),
			this.layer.drawFeature(e)
		},
		dragComplete : function () {
			this.resetVertices(),
			this.setFeatureState(),
			this.onModification(this.feature),
			this.layer.events.triggerEvent("featuremodified", {
				feature : this.feature
			})
		},
		setFeatureState : function () {
			if (this.feature.state != OpenLayers.State.INSERT && this.feature.state != OpenLayers.State.DELETE && (this.feature.state = OpenLayers.State.UPDATE, this.modified && this._originalGeometry)) {
				var e = this.feature;
				e.modified = OpenLayers.Util.extend(e.modified, {
						geometry : this._originalGeometry
					}),
				delete this._originalGeometry
			}
		},
		resetVertices : function () {
			this.dragControl.feature && this.dragControl.outFeature(this.dragControl.feature),
			0 < this.vertices.length && (this.layer.removeFeatures(this.vertices, {
					silent : !0
				}), this.vertices = []),
			0 < this.virtualVertices.length && (this.layer.removeFeatures(this.virtualVertices, {
					silent : !0
				}), this.virtualVertices = []),
			this.dragHandle && (this.layer.destroyFeatures([this.dragHandle], {
					silent : !0
				}), this.dragHandle = null),
			this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
					silent : !0
				}), this.radiusHandle = null),
			this.feature && "OpenLayers.Geometry.Point" != this.feature.geometry.CLASS_NAME && (this.mode & OpenLayers.Control.ModifyFeature.DRAG && this.collectDragHandle(), this.mode & (OpenLayers.Control.ModifyFeature.ROTATE | OpenLayers.Control.ModifyFeature.RESIZE) && this.collectRadiusHandle(), this.mode & OpenLayers.Control.ModifyFeature.RESHAPE && (this.mode & OpenLayers.Control.ModifyFeature.RESIZE || this.collectVertices()))
		},
		handleKeypress : function (e) {
			var t = e.keyCode;
			this.feature && -1 != OpenLayers.Util.indexOf(this.deleteCodes, t) && (t = this.dragControl.feature) && -1 != OpenLayers.Util.indexOf(this.vertices, t) && !this.dragControl.handlers.drag.dragging && t.geometry.parent && (t.geometry.parent.removeComponent(t.geometry), this.layer.events.triggerEvent("vertexremoved", {
					vertex : t.geometry,
					feature : this.feature,
					pixel : e.xy
				}), this.layer.drawFeature(this.feature, this.standalone ? void 0 : this.selectControl.renderIntent), this.modified = !0, this.resetVertices(), this.setFeatureState(), this.onModification(this.feature), this.layer.events.triggerEvent("featuremodified", {
					feature : this.feature
				}))
		},
		collectVertices : function () {
			function e(n) {
				var r,
				i,
				s;
				if ("OpenLayers.Geometry.Point" == n.CLASS_NAME)
					i = new OpenLayers.Feature.Vector(n), i._sketch = !0, i.renderIntent = t.vertexRenderIntent, t.vertices.push(i);
				else {
					s = n.components.length,
					"OpenLayers.Geometry.LinearRing" == n.CLASS_NAME && (s -= 1);
					for (r = 0; r < s; ++r)
						i = n.components[r], "OpenLayers.Geometry.Point" == i.CLASS_NAME ? (i = new OpenLayers.Feature.Vector(i), i._sketch = !0, i.renderIntent = t.vertexRenderIntent, t.vertices.push(i)) : e(i);
					if (t.createVertices && "OpenLayers.Geometry.MultiPoint" != n.CLASS_NAME) {
						r = 0;
						for (s = n.components.length; r < s - 1; ++r) {
							i = n.components[r];
							var o = n.components[r + 1];
							"OpenLayers.Geometry.Point" == i.CLASS_NAME && "OpenLayers.Geometry.Point" == o.CLASS_NAME && (i = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point((i.x + o.x) / 2, (i.y + o.y) / 2), null, t.virtualStyle), i.geometry.parent = n, i._index = r + 1, i._sketch = !0, t.virtualVertices.push(i))
						}
					}
				}
			}
			this.vertices = [],
			this.virtualVertices = [];
			var t = this;
			e.call(this, this.feature.geometry),
			this.layer.addFeatures(this.virtualVertices, {
				silent : !0
			}),
			this.layer.addFeatures(this.vertices, {
				silent : !0
			})
		},
		collectDragHandle : function () {
			var e = this.feature.geometry,
			t = e.getBounds().getCenterLonLat(),
			t = new OpenLayers.Geometry.Point(t.lon, t.lat),
			n = new OpenLayers.Feature.Vector(t);
			t.move = function (t, n) {
				OpenLayers.Geometry.Point.prototype.move.call(this, t, n),
				e.move(t, n)
			},
			n._sketch = !0,
			this.dragHandle = n,
			this.dragHandle.renderIntent = this.vertexRenderIntent,
			this.layer.addFeatures([this.dragHandle], {
				silent : !0
			})
		},
		collectRadiusHandle : function () {
			var e = this.feature.geometry,
			t = e.getBounds(),
			n = t.getCenterLonLat(),
			r = new OpenLayers.Geometry.Point(n.lon, n.lat),
			t = new OpenLayers.Geometry.Point(t.right, t.bottom),
			n = new OpenLayers.Feature.Vector(t),
			i = this.mode & OpenLayers.Control.ModifyFeature.RESIZE,
			s = this.mode & OpenLayers.Control.ModifyFeature.RESHAPE,
			o = this.mode & OpenLayers.Control.ModifyFeature.ROTATE;
			t.move = function (t, n) {
				OpenLayers.Geometry.Point.prototype.move.call(this, t, n);
				var u = this.x - r.x,
				l = this.y - r.y,
				c = u - t,
				h = l - n;
				if (o) {
					var p = Math.atan2(h, c),
					p = Math.atan2(l, u) - p,
					p = p * (180 / Math.PI);
					e.rotate(p, r)
				}
				if (i) {
					var v;
					s ? (l /= h, v = u / c / l) : (c = Math.sqrt(c * c + h * h), l = Math.sqrt(u * u + l * l) / c),
					e.resize(l, r, v)
				}
			},
			n._sketch = !0,
			this.radiusHandle = n,
			this.radiusHandle.renderIntent = this.vertexRenderIntent,
			this.layer.addFeatures([this.radiusHandle], {
				silent : !0
			})
		},
		setMap : function (e) {
			this.standalone || this.selectControl.setMap(e),
			this.dragControl.setMap(e),
			OpenLayers.Control.prototype.setMap.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Control.ModifyFeature"
	}), OpenLayers.Control.ModifyFeature.RESHAPE = 1, OpenLayers.Control.ModifyFeature.RESIZE = 2, OpenLayers.Control.ModifyFeature.ROTATE = 4, OpenLayers.Control.ModifyFeature.DRAG = 8, OpenLayers.Layer.Bing = OpenLayers.Class(OpenLayers.Layer.XYZ, {
		key : null,
		serverResolutions : [156543.03390625, 78271.516953125, 39135.7584765625, 19567.87923828125, 9783.939619140625, 4891.9698095703125, 2445.9849047851562, 1222.9924523925781, 611.4962261962891, 305.74811309814453, 152.87405654907226, 76.43702827453613, 38.218514137268066, 19.109257068634033, 9.554628534317017, 4.777314267158508, 2.388657133579254, 1.194328566789627, .5971642833948135, .29858214169740677, .14929107084870338, .07464553542435169],
		attributionTemplate : '<span class="olBingAttribution ${type}"><div><a target="_blank" href="http://www.bing.com/maps/"><img src="${logo}" /></a></div>${copyrights}<a style="white-space: nowrap" target="_blank" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a></span>',
		metadata : null,
		type : "Road",
		culture : "en-US",
		metadataParams : null,
		tileOptions : null,
		initialize : function (e) {
			e = OpenLayers.Util.applyDefaults({
					sphericalMercator : !0
				}, e),
			OpenLayers.Layer.XYZ.prototype.initialize.apply(this, [e.name || "Bing " + (e.type || this.type), null, e]),
			this.tileOptions = OpenLayers.Util.extend({
					crossOriginKeyword : "anonymous"
				}, this.options.tileOptions),
			this.loadMetadata()
		},
		loadMetadata : function () {
			this._callbackId = "_callback_" + this.id.replace(/\./g, "_"),
			window[this._callbackId] = OpenLayers.Function.bind(OpenLayers.Layer.Bing.processMetadata, this);
			var e = OpenLayers.Util.applyDefaults({
					key : this.key,
					jsonp : this._callbackId,
					include : "ImageryProviders"
				}, this.metadataParams),
			e = "http://dev.virtualearth.net/REST/v1/Imagery/Metadata/" + this.type + "?" + OpenLayers.Util.getParameterString(e),
			t = document.createElement("script");
			t.type = "text/javascript",
			t.src = e,
			t.id = this._callbackId,
			document.getElementsByTagName("head")[0].appendChild(t)
		},
		initLayer : function () {
			var e = this.metadata.resourceSets[0].resources[0],
			t = e.imageUrl.replace("{quadkey}", "${quadkey}"),
			t = t.replace("{culture}", this.culture);
			this.url = [];
			for (var n = 0; n < e.imageUrlSubdomains.length; ++n)
				this.url.push(t.replace("{subdomain}", e.imageUrlSubdomains[n]));
			this.addOptions({
				maxResolution : Math.min(this.serverResolutions[e.zoomMin], this.maxResolution || Number.POSITIVE_INFINITY),
				numZoomLevels : Math.min(e.zoomMax + 1 - e.zoomMin, this.numZoomLevels)
			}, !0)
		},
		getURL : function (e) {
			if (this.url) {
				for (var t = this.getXYZ(e), e = t.x, n = t.y, t = t.z, r = [], i = t; 0 < i; --i) {
					var s = "0",
					o = 1 << i - 1;
					0 != (e & o) && s++,
					0 != (n & o) && (s++, s++),
					r.push(s)
				}
				return r = r.join(""),
				e = this.selectUrl("" + e + n + t, this.url),
				OpenLayers.String.format(e, {
					quadkey : r
				})
			}
		},
		updateAttribution : function () {
			var e = this.metadata;
			if (e.resourceSets && this.map && this.map.center) {
				var t = e.resourceSets[0].resources[0],
				n = this.map.getExtent().transform(this.map.getProjectionObject(), new OpenLayers.Projection("EPSG:4326")),
				t = t.imageryProviders,
				r = OpenLayers.Util.indexOf(this.serverResolutions, this.getServerResolution()),
				i = "",
				s,
				o,
				u,
				a,
				f,
				l,
				c;
				o = 0;
				for (u = t.length; o < u; ++o) {
					s = t[o],
					a = 0;
					for (f = s.coverageAreas.length; a < f; ++a)
						c = s.coverageAreas[a], l = OpenLayers.Bounds.fromArray(c.bbox, !0), n.intersectsBounds(l) && r <= c.zoomMax && r >= c.zoomMin && (i += s.attribution + " ")
				}
				this.attribution = OpenLayers.String.format(this.attributionTemplate, {
						type : this.type.toLowerCase(),
						logo : e.brandLogoUri,
						copyrights : i
					}),
				this.map && this.map.events.triggerEvent("changelayer", {
					layer : this,
					property : "attribution"
				})
			}
		},
		setMap : function () {
			OpenLayers.Layer.XYZ.prototype.setMap.apply(this, arguments),
			this.updateAttribution(),
			this.map.events.register("moveend", this, this.updateAttribution)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.Bing(this.options)),
			e = OpenLayers.Layer.XYZ.prototype.clone.apply(this, [e])
		},
		destroy : function () {
			this.map && this.map.events.unregister("moveend", this, this.updateAttribution),
			OpenLayers.Layer.XYZ.prototype.destroy.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Layer.Bing"
	}), OpenLayers.Layer.Bing.processMetadata = function (e) {
	this.metadata = e,
	this.initLayer(),
	e = document.getElementById(this._callbackId),
	e.parentNode.removeChild(e),
	window[this._callbackId] = void 0,
	delete this._callbackId
}, OpenLayers.Layer.PointGrid = OpenLayers.Class(OpenLayers.Layer.Vector, {
		dx : null,
		dy : null,
		ratio : 1.5,
		maxFeatures : 250,
		rotation : 0,
		origin : null,
		gridBounds : null,
		initialize : function (e) {
			e = e || {},
			OpenLayers.Layer.Vector.prototype.initialize.apply(this, [e.name, e])
		},
		setMap : function (e) {
			OpenLayers.Layer.Vector.prototype.setMap.apply(this, arguments),
			e.events.register("moveend", this, this.onMoveEnd)
		},
		removeMap : function (e) {
			e.events.unregister("moveend", this, this.onMoveEnd),
			OpenLayers.Layer.Vector.prototype.removeMap.apply(this, arguments)
		},
		setRatio : function (e) {
			this.ratio = e,
			this.updateGrid(!0)
		},
		setMaxFeatures : function (e) {
			this.maxFeatures = e,
			this.updateGrid(!0)
		},
		setSpacing : function (e, t) {
			this.dx = e,
			this.dy = t || e,
			this.updateGrid(!0)
		},
		setOrigin : function (e) {
			this.origin = e,
			this.updateGrid(!0)
		},
		getOrigin : function () {
			return this.origin || (this.origin = this.map.getExtent().getCenterLonLat()),
			this.origin
		},
		setRotation : function (e) {
			this.rotation = e,
			this.updateGrid(!0)
		},
		onMoveEnd : function () {
			this.updateGrid()
		},
		getViewBounds : function () {
			var e = this.map.getExtent();
			if (this.rotation) {
				var t = this.getOrigin(),
				t = new OpenLayers.Geometry.Point(t.lon, t.lat),
				e = e.toGeometry();
				e.rotate(-this.rotation, t),
				e = e.getBounds()
			}
			return e
		},
		updateGrid : function (e) {
			if (e || this.invalidBounds()) {
				var t = this.getViewBounds(),
				n = this.getOrigin(),
				e = new OpenLayers.Geometry.Point(n.lon, n.lat),
				r = t.getWidth(),
				i = t.getHeight(),
				s = r / i,
				o = Math.sqrt(this.dx * this.dy * this.maxFeatures / s),
				r = Math.min(r * this.ratio, o * s),
				i = Math.min(i * this.ratio, o),
				t = t.getCenterLonLat();
				this.gridBounds = new OpenLayers.Bounds(t.lon - r / 2, t.lat - i / 2, t.lon + r / 2, t.lat + i / 2);
				for (var t = Math.floor(i / this.dy), r = Math.floor(r / this.dx), i = n.lon + this.dx * Math.ceil((this.gridBounds.left - n.lon) / this.dx), n = n.lat + this.dy * Math.ceil((this.gridBounds.bottom - n.lat) / this.dy), o = Array(t * r), u, a = 0; a < r; ++a)
					for (var s = i + a * this.dx, f = 0; f < t; ++f)
						u = n + f * this.dy, u = new OpenLayers.Geometry.Point(s, u), this.rotation && u.rotate(this.rotation, e), o[a * t + f] = new OpenLayers.Feature.Vector(u);
				this.destroyFeatures(this.features, {
					silent : !0
				}),
				this.addFeatures(o, {
					silent : !0
				})
			}
		},
		invalidBounds : function () {
			return !this.gridBounds || !this.gridBounds.containsBounds(this.getViewBounds())
		},
		CLASS_NAME : "OpenLayers.Layer.PointGrid"
	}), OpenLayers.Handler.MouseWheel = OpenLayers.Class(OpenLayers.Handler, {
		wheelListener : null,
		mousePosition : null,
		interval : 0,
		delta : 0,
		cumulative : !0,
		initialize : function (e, t, n) {
			OpenLayers.Handler.prototype.initialize.apply(this, arguments),
			this.wheelListener = OpenLayers.Function.bindAsEventListener(this.onWheelEvent, this)
		},
		destroy : function () {
			OpenLayers.Handler.prototype.destroy.apply(this, arguments),
			this.wheelListener = null
		},
		onWheelEvent : function (e) {
			if (this.map && this.checkModifiers(e)) {
				for (var t = !1, n = !1, r = !1, i = OpenLayers.Event.element(e); null != i && !r && !t; ) {
					if (!t)
						try {
							var s = i.currentStyle ? i.currentStyle.overflow : document.defaultView.getComputedStyle(i, null).getPropertyValue("overflow"),
							t = s && "auto" == s || "scroll" == s
						} catch (o) {}

					if (!n)
						for (var r = 0, u = this.map.layers.length; r < u; r++)
							if (i == this.map.layers[r].div || i == this.map.layers[r].pane) {
								n = !0;
								break
							}
					r = i == this.map.div,
					i = i.parentNode
				}
				!t && r && (n && ((t = 0, e || (e = window.event), e.wheelDelta ? (t = e.wheelDelta / 120, window.opera && 9.2 > window.opera.version() && (t = -t)) : e.detail && (t = -e.detail / 3), this.delta += t, this.interval) ? (window.clearTimeout(this._timeoutId), this._timeoutId = window.setTimeout(OpenLayers.Function.bind(function () {
										this.wheelZoom(e)
									}, this), this.interval)) : this.wheelZoom(e)), OpenLayers.Event.stop(e))
			}
		},
		wheelZoom : function (e) {
			var t = this.delta;
			this.delta = 0,
			t && (this.mousePosition && (e.xy = this.mousePosition), e.xy || (e.xy = this.map.getPixelFromLonLat(this.map.getCenter())), 0 > t ? this.callback("down", [e, this.cumulative ? t : -1]) : this.callback("up", [e, this.cumulative ? t : 1]))
		},
		mousemove : function (e) {
			this.mousePosition = e.xy
		},
		activate : function (e) {
			if (OpenLayers.Handler.prototype.activate.apply(this, arguments)) {
				var t = this.wheelListener;
				return OpenLayers.Event.observe(window, "DOMMouseScroll", t),
				OpenLayers.Event.observe(window, "mousewheel", t),
				OpenLayers.Event.observe(document, "mousewheel", t),
				!0
			}
			return !1
		},
		deactivate : function (e) {
			if (OpenLayers.Handler.prototype.deactivate.apply(this, arguments)) {
				var t = this.wheelListener;
				return OpenLayers.Event.stopObserving(window, "DOMMouseScroll", t),
				OpenLayers.Event.stopObserving(window, "mousewheel", t),
				OpenLayers.Event.stopObserving(document, "mousewheel", t),
				!0
			}
			return !1
		},
		CLASS_NAME : "OpenLayers.Handler.MouseWheel"
	}), OpenLayers.Symbolizer = OpenLayers.Class({
		zIndex : 0,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e)
		},
		clone : function () {
			return new(eval(this.CLASS_NAME))(OpenLayers.Util.extend({}, this))
		},
		CLASS_NAME : "OpenLayers.Symbolizer"
	}), OpenLayers.Symbolizer.Raster = OpenLayers.Class(OpenLayers.Symbolizer, {
		initialize : function (e) {
			OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Symbolizer.Raster"
	}), OpenLayers.Rule = OpenLayers.Class({
		id : null,
		name : null,
		title : null,
		description : null,
		context : null,
		filter : null,
		elseFilter : !1,
		symbolizer : null,
		symbolizers : null,
		minScaleDenominator : null,
		maxScaleDenominator : null,
		initialize : function (e) {
			this.symbolizer = {},
			OpenLayers.Util.extend(this, e),
			this.symbolizers && delete this.symbolizer,
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		destroy : function () {
			for (var e in this.symbolizer)
				this.symbolizer[e] = null;
			this.symbolizer = null,
			delete this.symbolizers
		},
		evaluate : function (e) {
			var t = this.getContext(e),
			n = !0;
			if (this.minScaleDenominator || this.maxScaleDenominator)
				var r = e.layer.map.getScale();
			return this.minScaleDenominator && (n = r >= OpenLayers.Style.createLiteral(this.minScaleDenominator, t)),
			n && this.maxScaleDenominator && (n = r < OpenLayers.Style.createLiteral(this.maxScaleDenominator, t)),
			n && this.filter && (n = "OpenLayers.Filter.FeatureId" == this.filter.CLASS_NAME ? this.filter.evaluate(e) : this.filter.evaluate(t)),
			n
		},
		getContext : function (e) {
			var t = this.context;
			return t || (t = e.attributes || e.data),
			"function" == typeof this.context && (t = this.context(e)),
			t
		},
		clone : function () {
			var e = OpenLayers.Util.extend({}, this);
			if (this.symbolizers) {
				var t = this.symbolizers.length;
				e.symbolizers = Array(t);
				for (var n = 0; n < t; ++n)
					e.symbolizers[n] = this.symbolizers[n].clone()
			} else {
				e.symbolizer = {};
				for (var r in this.symbolizer)
					t = this.symbolizer[r], n = typeof t, "object" === n ? e.symbolizer[r] = OpenLayers.Util.extend({}, t) : "string" === n && (e.symbolizer[r] = t)
			}
			return e.filter = this.filter && this.filter.clone(),
			e.context = this.context && OpenLayers.Util.extend({}, this.context),
			new OpenLayers.Rule(e)
		},
		CLASS_NAME : "OpenLayers.Rule"
	}), OpenLayers.Filter.Spatial = OpenLayers.Class(OpenLayers.Filter, {
		type : null,
		property : null,
		value : null,
		distance : null,
		distanceUnits : null,
		evaluate : function (e) {
			var t = !1;
			switch (this.type) {
			case OpenLayers.Filter.Spatial.BBOX:
			case OpenLayers.Filter.Spatial.INTERSECTS:
				if (e.geometry) {
					var n = this.value;
					"OpenLayers.Bounds" == this.value.CLASS_NAME && (n = this.value.toGeometry()),
					e.geometry.intersects(n) && (t = !0)
				}
				break;
			default:
				throw Error("evaluate is not implemented for this filter type.")
			}
			return t
		},
		clone : function () {
			var e = OpenLayers.Util.applyDefaults({
					value : this.value && this.value.clone && this.value.clone()
				}, this);
			return new OpenLayers.Filter.Spatial(e)
		},
		CLASS_NAME : "OpenLayers.Filter.Spatial"
	}), OpenLayers.Filter.Spatial.BBOX = "BBOX", OpenLayers.Filter.Spatial.INTERSECTS = "INTERSECTS", OpenLayers.Filter.Spatial.DWITHIN = "DWITHIN", OpenLayers.Filter.Spatial.WITHIN = "WITHIN", OpenLayers.Filter.Spatial.CONTAINS = "CONTAINS", OpenLayers.Format.SLD = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		profile : null,
		defaultVersion : "1.0.0",
		stringifyOutput : !0,
		namedLayersAsArray : !1,
		CLASS_NAME : "OpenLayers.Format.SLD"
	}), OpenLayers.Symbolizer.Polygon = OpenLayers.Class(OpenLayers.Symbolizer, {
		initialize : function (e) {
			OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Symbolizer.Polygon"
	}), OpenLayers.Format.GML.v2 = OpenLayers.Class(OpenLayers.Format.GML.Base, {
		schemaLocation : "http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",
		initialize : function (e) {
			OpenLayers.Format.GML.Base.prototype.initialize.apply(this, [e])
		},
		readers : {
			gml : OpenLayers.Util.applyDefaults({
				outerBoundaryIs : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.outer = n.components[0]
				},
				innerBoundaryIs : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.inner.push(n.components[0])
				},
				Box : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.components || (t.components = []);
					var r = n.points[0],
					n = n.points[1];
					t.components.push(new OpenLayers.Bounds(r.x, r.y, n.x, n.y))
				}
			}, OpenLayers.Format.GML.Base.prototype.readers.gml),
			feature : OpenLayers.Format.GML.Base.prototype.readers.feature,
			wfs : OpenLayers.Format.GML.Base.prototype.readers.wfs
		},
		write : function (e) {
			return e = this.writeNode(OpenLayers.Util.isArray(e) ? "wfs:FeatureCollection" : "gml:featureMember", e),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			gml : OpenLayers.Util.applyDefaults({
				Point : function (e) {
					var t = this.createElementNSPlus("gml:Point");
					return this.writeNode("coordinates", [e], t),
					t
				},
				coordinates : function (e) {
					for (var t = e.length, n = Array(t), r, i = 0; i < t; ++i)
						r = e[i], n[i] = this.xy ? r.x + "," + r.y : r.y + "," + r.x, void 0 != r.z && (n[i] += "," + r.z);
					return this.createElementNSPlus("gml:coordinates", {
						attributes : {
							decimal : ".",
							cs : ",",
							ts : " "
						},
						value : 1 == t ? n[0] : n.join(" ")
					})
				},
				LineString : function (e) {
					var t = this.createElementNSPlus("gml:LineString");
					return this.writeNode("coordinates", e.components, t),
					t
				},
				Polygon : function (e) {
					var t = this.createElementNSPlus("gml:Polygon");
					this.writeNode("outerBoundaryIs", e.components[0], t);
					for (var n = 1; n < e.components.length; ++n)
						this.writeNode("innerBoundaryIs", e.components[n], t);
					return t
				},
				outerBoundaryIs : function (e) {
					var t = this.createElementNSPlus("gml:outerBoundaryIs");
					return this.writeNode("LinearRing", e, t),
					t
				},
				innerBoundaryIs : function (e) {
					var t = this.createElementNSPlus("gml:innerBoundaryIs");
					return this.writeNode("LinearRing", e, t),
					t
				},
				LinearRing : function (e) {
					var t = this.createElementNSPlus("gml:LinearRing");
					return this.writeNode("coordinates", e.components, t),
					t
				},
				Box : function (e) {
					var t = this.createElementNSPlus("gml:Box");
					return this.writeNode("coordinates", [{
								x : e.left,
								y : e.bottom
							}, {
								x : e.right,
								y : e.top
							}
						], t),
					this.srsName && t.setAttribute("srsName", this.srsName),
					t
				}
			}, OpenLayers.Format.GML.Base.prototype.writers.gml),
			feature : OpenLayers.Format.GML.Base.prototype.writers.feature,
			wfs : OpenLayers.Format.GML.Base.prototype.writers.wfs
		},
		CLASS_NAME : "OpenLayers.Format.GML.v2"
	}), OpenLayers.Format.Filter.v1_0_0 = OpenLayers.Class(OpenLayers.Format.GML.v2, OpenLayers.Format.Filter.v1, {
		VERSION : "1.0.0",
		schemaLocation : "http://www.opengis.net/ogc/filter/1.0.0/filter.xsd",
		initialize : function (e) {
			OpenLayers.Format.GML.v2.prototype.initialize.apply(this, [e])
		},
		readers : {
			ogc : OpenLayers.Util.applyDefaults({
				PropertyIsEqualTo : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.EQUAL_TO
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsNotEqualTo : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.NOT_EQUAL_TO
						});
					this.readChildNodes(e, n),
					t.filters.push(n)
				},
				PropertyIsLike : function (e, t) {
					var n = new OpenLayers.Filter.Comparison({
							type : OpenLayers.Filter.Comparison.LIKE
						});
					this.readChildNodes(e, n);
					var r = e.getAttribute("wildCard"),
					i = e.getAttribute("singleChar"),
					s = e.getAttribute("escape");
					n.value2regex(r, i, s),
					t.filters.push(n)
				}
			}, OpenLayers.Format.Filter.v1.prototype.readers.ogc),
			gml : OpenLayers.Format.GML.v2.prototype.readers.gml,
			feature : OpenLayers.Format.GML.v2.prototype.readers.feature
		},
		writers : {
			ogc : OpenLayers.Util.applyDefaults({
				PropertyIsEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsEqualTo");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsNotEqualTo : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsNotEqualTo");
					return this.writeNode("PropertyName", e, t),
					this.writeOgcExpression(e.value, t),
					t
				},
				PropertyIsLike : function (e) {
					var t = this.createElementNSPlus("ogc:PropertyIsLike", {
							attributes : {
								wildCard : "*",
								singleChar : ".",
								escape : "!"
							}
						});
					return this.writeNode("PropertyName", e, t),
					this.writeNode("Literal", e.regex2value(), t),
					t
				},
				BBOX : function (e) {
					var t = this.createElementNSPlus("ogc:BBOX");
					e.property && this.writeNode("PropertyName", e, t);
					var n = this.writeNode("gml:Box", e.value, t);
					return e.projection && n.setAttribute("srsName", e.projection),
					t
				}
			}, OpenLayers.Format.Filter.v1.prototype.writers.ogc),
			gml : OpenLayers.Format.GML.v2.prototype.writers.gml,
			feature : OpenLayers.Format.GML.v2.prototype.writers.feature
		},
		writeSpatial : function (e, t) {
			var n = this.createElementNSPlus("ogc:" + t);
			this.writeNode("PropertyName", e, n);
			if (e.value instanceof OpenLayers.Filter.Function)
				this.writeNode("Function", e.value, n);
			else {
				var r;
				r = e.value instanceof OpenLayers.Geometry ? this.writeNode("feature:_geometry", e.value).firstChild : this.writeNode("gml:Box", e.value),
				e.projection && r.setAttribute("srsName", e.projection),
				n.appendChild(r)
			}
			return n
		},
		CLASS_NAME : "OpenLayers.Format.Filter.v1_0_0"
	}), OpenLayers.Format.WFST.v1_0_0 = OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0, OpenLayers.Format.WFST.v1, {
		version : "1.0.0",
		srsNameInQuery : !1,
		schemaLocations : {
			wfs : "http://schemas.opengis.net/wfs/1.0.0/WFS-transaction.xsd"
		},
		initialize : function (e) {
			OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this, [e]),
			OpenLayers.Format.WFST.v1.prototype.initialize.apply(this, [e])
		},
		readNode : function (e, t) {
			return OpenLayers.Format.GML.v2.prototype.readNode.apply(this, [e, t])
		},
		readers : {
			wfs : OpenLayers.Util.applyDefaults({
				WFS_TransactionResponse : function (e, t) {
					t.insertIds = [],
					t.success = !1,
					this.readChildNodes(e, t)
				},
				InsertResult : function (e, t) {
					var n = {
						fids : []
					};
					this.readChildNodes(e, n),
					t.insertIds.push(n.fids[0])
				},
				TransactionResult : function (e, t) {
					this.readChildNodes(e, t)
				},
				Status : function (e, t) {
					this.readChildNodes(e, t)
				},
				SUCCESS : function (e, t) {
					t.success = !0
				}
			}, OpenLayers.Format.WFST.v1.prototype.readers.wfs),
			gml : OpenLayers.Format.GML.v2.prototype.readers.gml,
			feature : OpenLayers.Format.GML.v2.prototype.readers.feature,
			ogc : OpenLayers.Format.Filter.v1_0_0.prototype.readers.ogc
		},
		writers : {
			wfs : OpenLayers.Util.applyDefaults({
				Query : function (e) {
					var e = OpenLayers.Util.extend({
							featureNS : this.featureNS,
							featurePrefix : this.featurePrefix,
							featureType : this.featureType,
							srsName : this.srsName,
							srsNameInQuery : this.srsNameInQuery
						}, e),
					t = e.featurePrefix,
					n = this.createElementNSPlus("wfs:Query", {
							attributes : {
								typeName : (t ? t + ":" : "") + e.featureType
							}
						});
					e.srsNameInQuery && e.srsName && n.setAttribute("srsName", e.srsName),
					e.featureNS && n.setAttribute("xmlns:" + t, e.featureNS);
					if (e.propertyNames)
						for (var t = 0, r = e.propertyNames.length; t < r; t++)
							this.writeNode("ogc:PropertyName", {
								property : e.propertyNames[t]
							}, n);
					return e.filter && (this.setFilterProperty(e.filter), this.writeNode("ogc:Filter", e.filter, n)),
					n
				}
			}, OpenLayers.Format.WFST.v1.prototype.writers.wfs),
			gml : OpenLayers.Format.GML.v2.prototype.writers.gml,
			feature : OpenLayers.Format.GML.v2.prototype.writers.feature,
			ogc : OpenLayers.Format.Filter.v1_0_0.prototype.writers.ogc
		},
		CLASS_NAME : "OpenLayers.Format.WFST.v1_0_0"
	}), OpenLayers.ElementsIndexer = OpenLayers.Class({
		maxZIndex : null,
		order : null,
		indices : null,
		compare : null,
		initialize : function (e) {
			this.compare = e ? OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_Y_ORDER : OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_DRAWING_ORDER,
			this.clear()
		},
		insert : function (e) {
			this.exists(e) && this.remove(e);
			var t = e.id;
			this.determineZIndex(e);
			for (var n = -1, r = this.order.length, i; 1 < r - n; )
				i = parseInt((n + r) / 2), 0 < this.compare(this, e, OpenLayers.Util.getElement(this.order[i])) ? n = i : r = i;
			return this.order.splice(r, 0, t),
			this.indices[t] = this.getZIndex(e),
			this.getNextElement(r)
		},
		remove : function (e) {
			var e = e.id,
			t = OpenLayers.Util.indexOf(this.order, e);
			0 <= t && (this.order.splice(t, 1), delete this.indices[e], this.maxZIndex = 0 < this.order.length ? this.indices[this.order[this.order.length - 1]] : 0)
		},
		clear : function () {
			this.order = [],
			this.indices = {},
			this.maxZIndex = 0
		},
		exists : function (e) {
			return null != this.indices[e.id]
		},
		getZIndex : function (e) {
			return e._style.graphicZIndex
		},
		determineZIndex : function (e) {
			var t = e._style.graphicZIndex;
			null == t ? (t = this.maxZIndex, e._style.graphicZIndex = t) : t > this.maxZIndex && (this.maxZIndex = t)
		},
		getNextElement : function (e) {
			e += 1;
			if (e < this.order.length) {
				var t = OpenLayers.Util.getElement(this.order[e]);
				return void 0 == t && (t = this.getNextElement(e)),
				t
			}
			return null
		},
		CLASS_NAME : "OpenLayers.ElementsIndexer"
	}), OpenLayers.ElementsIndexer.IndexingMethods = {
	Z_ORDER : function (e, t, n) {
		var t = e.getZIndex(t),
		r = 0;
		return n && (e = e.getZIndex(n), r = t - e),
		r
	},
	Z_ORDER_DRAWING_ORDER : function (e, t, n) {
		return e = OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(e, t, n),
		n && 0 == e && (e = 1),
		e
	},
	Z_ORDER_Y_ORDER : function (e, t, n) {
		return e = OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(e, t, n),
		n && 0 === e && (t = n._boundsBottom - t._boundsBottom, e = 0 === t ? 1 : t),
		e
	}
}, OpenLayers.Renderer.Elements = OpenLayers.Class(OpenLayers.Renderer, {
		rendererRoot : null,
		root : null,
		vectorRoot : null,
		textRoot : null,
		xmlns : null,
		xOffset : 0,
		indexer : null,
		BACKGROUND_ID_SUFFIX : "_background",
		LABEL_ID_SUFFIX : "_label",
		LABEL_OUTLINE_SUFFIX : "_outline",
		initialize : function (e, t) {
			OpenLayers.Renderer.prototype.initialize.apply(this, arguments),
			this.rendererRoot = this.createRenderRoot(),
			this.root = this.createRoot("_root"),
			this.vectorRoot = this.createRoot("_vroot"),
			this.textRoot = this.createRoot("_troot"),
			this.root.appendChild(this.vectorRoot),
			this.root.appendChild(this.textRoot),
			this.rendererRoot.appendChild(this.root),
			this.container.appendChild(this.rendererRoot),
			t && (t.zIndexing || t.yOrdering) && (this.indexer = new OpenLayers.ElementsIndexer(t.yOrdering))
		},
		destroy : function () {
			this.clear(),
			this.xmlns = this.root = this.rendererRoot = null,
			OpenLayers.Renderer.prototype.destroy.apply(this, arguments)
		},
		clear : function () {
			var e,
			t = this.vectorRoot;
			if (t)
				for (; e = t.firstChild; )
					t.removeChild(e);
			if (t = this.textRoot)
				for (; e = t.firstChild; )
					t.removeChild(e);
			this.indexer && this.indexer.clear()
		},
		setExtent : function (e, t) {
			var n = OpenLayers.Renderer.prototype.setExtent.apply(this, arguments),
			r = this.getResolution();
			if (this.map.baseLayer && this.map.baseLayer.wrapDateLine) {
				var i,
				s = e.getWidth() / this.map.getExtent().getWidth(),
				e = e.scale(1 / s),
				s = this.map.getMaxExtent();
				s.right > e.left && s.right < e.right ? i = !0 : s.left > e.left && s.left < e.right && (i = !1);
				if (i !== this.rightOfDateLine || t)
					n = !1, this.xOffset = !0 === i ? s.getWidth() / r : 0;
				this.rightOfDateLine = i
			}
			return n
		},
		getNodeType : function () {},
		drawGeometry : function (e, t, n) {
			var r = e.CLASS_NAME,
			i = !0;
			if ("OpenLayers.Geometry.Collection" == r || "OpenLayers.Geometry.MultiPoint" == r || "OpenLayers.Geometry.MultiLineString" == r || "OpenLayers.Geometry.MultiPolygon" == r) {
				for (var r = 0, s = e.components.length; r < s; r++)
					i = this.drawGeometry(e.components[r], t, n) && i;
				return i
			}
			return r = i = !1,
			"none" != t.display && (t.backgroundGraphic ? this.redrawBackgroundNode(e.id, e, t, n) : r = !0, i = this.redrawNode(e.id, e, t, n)),
			0 == i && (t = document.getElementById(e.id)) && (t._style.backgroundGraphic && (r = !0), t.parentNode.removeChild(t)),
			r && (t = document.getElementById(e.id + this.BACKGROUND_ID_SUFFIX)) && t.parentNode.removeChild(t),
			i
		},
		redrawNode : function (e, t, n, r) {
			return n = this.applyDefaultSymbolizer(n),
			e = this.nodeFactory(e, this.getNodeType(t, n)),
			e._featureId = r,
			e._boundsBottom = t.getBounds().bottom,
			e._geometryClass = t.CLASS_NAME,
			e._style = n,
			t = this.drawGeometryNode(e, t, n),
			!1 === t ? !1 : (e = t.node, this.indexer ? (n = this.indexer.insert(e)) ? this.vectorRoot.insertBefore(e, n) : this.vectorRoot.appendChild(e) : e.parentNode !== this.vectorRoot && this.vectorRoot.appendChild(e), this.postDraw(e), t.complete)
		},
		redrawBackgroundNode : function (e, t, n) {
			return n = OpenLayers.Util.extend({}, n),
			n.externalGraphic = n.backgroundGraphic,
			n.graphicXOffset = n.backgroundXOffset,
			n.graphicYOffset = n.backgroundYOffset,
			n.graphicZIndex = n.backgroundGraphicZIndex,
			n.graphicWidth = n.backgroundWidth || n.graphicWidth,
			n.graphicHeight = n.backgroundHeight || n.graphicHeight,
			n.backgroundGraphic = null,
			n.backgroundXOffset = null,
			n.backgroundYOffset = null,
			n.backgroundGraphicZIndex = null,
			this.redrawNode(e + this.BACKGROUND_ID_SUFFIX, t, n, null)
		},
		drawGeometryNode : function (e, t, n) {
			var n = n || e._style,
			r = {
				isFilled : void 0 === n.fill ? !0 : n.fill,
				isStroked : void 0 === n.stroke ? !!n.strokeWidth : n.stroke
			},
			i;
			switch (t.CLASS_NAME) {
			case "OpenLayers.Geometry.Point":
				!1 === n.graphic && (r.isFilled = !1, r.isStroked = !1),
				i = this.drawPoint(e, t);
				break;
			case "OpenLayers.Geometry.LineString":
				r.isFilled = !1,
				i = this.drawLineString(e, t);
				break;
			case "OpenLayers.Geometry.LinearRing":
				i = this.drawLinearRing(e, t);
				break;
			case "OpenLayers.Geometry.Polygon":
				i = this.drawPolygon(e, t);
				break;
			case "OpenLayers.Geometry.Rectangle":
				i = this.drawRectangle(e, t)
			}
			return e._options = r,
			0 != i ? {
				node : this.setStyle(e, n, r, t),
				complete : i
			}
			 : !1
		},
		postDraw : function () {},
		drawPoint : function () {},
		drawLineString : function () {},
		drawLinearRing : function () {},
		drawPolygon : function () {},
		drawRectangle : function () {},
		drawCircle : function () {},
		removeText : function (e) {
			var t = document.getElementById(e + this.LABEL_ID_SUFFIX);
			t && this.textRoot.removeChild(t),
			(e = document.getElementById(e + this.LABEL_OUTLINE_SUFFIX)) && this.textRoot.removeChild(e)
		},
		getFeatureIdFromEvent : function (e) {
			var t = e.target,
			n = t && t.correspondingUseElement;
			return (n ? n : t || e.srcElement)._featureId
		},
		eraseGeometry : function (e, t) {
			if ("OpenLayers.Geometry.MultiPoint" == e.CLASS_NAME || "OpenLayers.Geometry.MultiLineString" == e.CLASS_NAME || "OpenLayers.Geometry.MultiPolygon" == e.CLASS_NAME || "OpenLayers.Geometry.Collection" == e.CLASS_NAME)
				for (var n = 0, r = e.components.length; n < r; n++)
					this.eraseGeometry(e.components[n], t);
			else (n = OpenLayers.Util.getElement(e.id)) && n.parentNode && (n.geometry && (n.geometry.destroy(), n.geometry = null), n.parentNode.removeChild(n), this.indexer && this.indexer.remove(n), n._style.backgroundGraphic) && (n = OpenLayers.Util.getElement(e.id + this.BACKGROUND_ID_SUFFIX)) && n.parentNode && n.parentNode.removeChild(n)
		},
		nodeFactory : function (e, t) {
			var n = OpenLayers.Util.getElement(e);
			return n ? this.nodeTypeCompare(n, t) || (n.parentNode.removeChild(n), n = this.nodeFactory(e, t)) : n = this.createNode(t, e),
			n
		},
		nodeTypeCompare : function () {},
		createNode : function () {},
		moveRoot : function (e) {
			var t = this.root;
			e.root.parentNode == this.rendererRoot && (t = e.root),
			t.parentNode.removeChild(t),
			e.rendererRoot.appendChild(t)
		},
		getRenderLayerId : function () {
			return this.root.parentNode.parentNode.id
		},
		isComplexSymbol : function (e) {
			return "circle" != e && !!e
		},
		CLASS_NAME : "OpenLayers.Renderer.Elements"
	}), OpenLayers.Control.ArgParser = OpenLayers.Class(OpenLayers.Control, {
		center : null,
		zoom : null,
		layers : null,
		displayProjection : null,
		getParameters : function (e) {
			var e = e || window.location.href,
			t = OpenLayers.Util.getParameters(e),
			n = e.indexOf("#");
			return 0 < n && (e = "?" + e.substring(n + 1, e.length), OpenLayers.Util.extend(t, OpenLayers.Util.getParameters(e))),
			t
		},
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments);
			for (var t = 0, n = this.map.controls.length; t < n; t++) {
				var r = this.map.controls[t];
				if (r != this && "OpenLayers.Control.ArgParser" == r.CLASS_NAME) {
					r.displayProjection != this.displayProjection && (this.displayProjection = r.displayProjection);
					break
				}
			}
			t == this.map.controls.length && (t = this.getParameters(), t.layers && (this.layers = t.layers, this.map.events.register("addlayer", this, this.configureLayers), this.configureLayers()), t.lat && t.lon) && (this.center = new OpenLayers.LonLat(parseFloat(t.lon), parseFloat(t.lat)), t.zoom && (this.zoom = parseFloat(t.zoom)), this.map.events.register("changebaselayer", this, this.setCenter), this.setCenter())
		},
		setCenter : function () {
			this.map.baseLayer && (this.map.events.unregister("changebaselayer", this, this.setCenter), this.displayProjection && this.center.transform(this.displayProjection, this.map.getProjectionObject()), this.map.setCenter(this.center, this.zoom))
		},
		configureLayers : function () {
			if (this.layers.length == this.map.layers.length) {
				this.map.events.unregister("addlayer", this, this.configureLayers);
				for (var e = 0, t = this.layers.length; e < t; e++) {
					var n = this.map.layers[e],
					r = this.layers.charAt(e);
					"B" == r ? this.map.setBaseLayer(n) : ("T" == r || "F" == r) && n.setVisibility("T" == r)
				}
			}
		},
		CLASS_NAME : "OpenLayers.Control.ArgParser"
	}), OpenLayers.Control.Permalink = OpenLayers.Class(OpenLayers.Control, {
		argParserClass : OpenLayers.Control.ArgParser,
		element : null,
		anchor : !1,
		base : "",
		displayProjection : null,
		initialize : function (e, t, n) {
			null !== e && "object" == typeof e && !OpenLayers.Util.isElement(e) ? (this.base = document.location.href, OpenLayers.Control.prototype.initialize.apply(this, [e]), null != this.element && (this.element = OpenLayers.Util.getElement(this.element))) : (OpenLayers.Control.prototype.initialize.apply(this, [n]), this.element = OpenLayers.Util.getElement(e), this.base = t || document.location.href)
		},
		destroy : function () {
			this.element && this.element.parentNode == this.div && (this.div.removeChild(this.element), this.element = null),
			this.map && this.map.events.unregister("moveend", this, this.updateLink),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments);
			for (var t = 0, n = this.map.controls.length; t < n; t++) {
				var r = this.map.controls[t];
				if (r.CLASS_NAME == this.argParserClass.CLASS_NAME) {
					r.displayProjection != this.displayProjection && (this.displayProjection = r.displayProjection);
					break
				}
			}
			t == this.map.controls.length && this.map.addControl(new this.argParserClass({
					displayProjection : this.displayProjection
				}))
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			!this.element && !this.anchor && (this.element = document.createElement("a"), this.element.innerHTML = OpenLayers.i18n("Permalink"), this.element.href = "", this.div.appendChild(this.element)),
			this.map.events.on({
				moveend : this.updateLink,
				changelayer : this.updateLink,
				changebaselayer : this.updateLink,
				scope : this
			}),
			this.updateLink(),
			this.div
		},
		updateLink : function () {
			var e = this.anchor ? "#" : "?",
			t = this.base;
			-1 != t.indexOf(e) && (t = t.substring(0, t.indexOf(e))),
			t += e + OpenLayers.Util.getParameterString(this.createParams()),
			this.anchor && !this.element ? window.location.href = t : this.element.href = t
		},
		createParams : function (e, t, n) {
			var e = e || this.map.getCenter(),
			r = OpenLayers.Util.getParameters(this.base);
			if (e) {
				r.zoom = t || this.map.getZoom(),
				t = e.lat,
				e = e.lon,
				this.displayProjection && (t = OpenLayers.Projection.transform({
							x : e,
							y : t
						}, this.map.getProjectionObject(), this.displayProjection), e = t.x, t = t.y),
				r.lat = Math.round(1e5 * t) / 1e5,
				r.lon = Math.round(1e5 * e) / 1e5,
				n = n || this.map.layers,
				r.layers = "",
				e = 0;
				for (t = n.length; e < t; e++) {
					var i = n[e];
					r.layers = i.isBaseLayer ? r.layers + (i == this.map.baseLayer ? "B" : "0") : r.layers + (i.getVisibility() ? "T" : "F")
				}
			}
			return r
		},
		CLASS_NAME : "OpenLayers.Control.Permalink"
	}), OpenLayers.Layer.TMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
		serviceVersion : "1.0.0",
		layername : null,
		type : null,
		isBaseLayer : !0,
		tileOrigin : null,
		serverResolutions : null,
		zoomOffset : 0,
		initialize : function (e, t, n) {
			var r = [];
			r.push(e, t, {}, n),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, r)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.TMS(this.name, this.url, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.getServerResolution(),
			n = Math.round((e.left - this.tileOrigin.lon) / (t * this.tileSize.w)),
			e = Math.round((e.bottom - this.tileOrigin.lat) / (t * this.tileSize.h)),
			n = this.serviceVersion + "/" + this.layername + "/" + this.getServerZoom() + "/" + n + "/" + e + "." + this.type,
			e = this.url;
			return OpenLayers.Util.isArray(e) && (e = this.selectUrl(n, e)),
			e + n
		},
		setMap : function (e) {
			OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments),
			this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left, this.map.maxExtent.bottom))
		},
		CLASS_NAME : "OpenLayers.Layer.TMS"
	}), OpenLayers.Strategy.Fixed = OpenLayers.Class(OpenLayers.Strategy, {
		preload : !1,
		activate : function () {
			return OpenLayers.Strategy.prototype.activate.apply(this, arguments) ? (this.layer.events.on({
					refresh : this.load,
					scope : this
				}), 1 == this.layer.visibility || this.preload ? this.load() : this.layer.events.on({
					visibilitychanged : this.load,
					scope : this
				}), !0) : !1
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && this.layer.events.un({
				refresh : this.load,
				visibilitychanged : this.load,
				scope : this
			}),
			e
		},
		load : function (e) {
			var t = this.layer;
			t.events.triggerEvent("loadstart"),
			t.protocol.read(OpenLayers.Util.applyDefaults({
					callback : OpenLayers.Function.bind(this.merge, this, t.map.getProjectionObject()),
					filter : t.filter
				}, e)),
			t.events.un({
				visibilitychanged : this.load,
				scope : this
			})
		},
		merge : function (e, t) {
			var n = this.layer;
			n.destroyFeatures();
			var r = t.features;
			if (r && 0 < r.length) {
				if (!e.equals(n.projection))
					for (var i, s = 0, o = r.length; s < o; ++s)
						(i = r[s].geometry) && i.transform(n.projection, e);
				n.addFeatures(r)
			}
			n.events.triggerEvent("loadend")
		},
		CLASS_NAME : "OpenLayers.Strategy.Fixed"
	}), OpenLayers.Control.Zoom = OpenLayers.Class(OpenLayers.Control, {
		zoomInText : "+",
		zoomInId : "olZoomInLink",
		zoomOutText : "-",
		zoomOutId : "olZoomOutLink",
		draw : function () {
			var e = OpenLayers.Control.prototype.draw.apply(this),
			t = this.getOrCreateLinks(e),
			n = t.zoomIn,
			t = t.zoomOut,
			r = this.map.events;
			return t.parentNode !== e && (r = this.events, r.attachToElement(t.parentNode)),
			r.register("buttonclick", this, this.onZoomClick),
			this.zoomInLink = n,
			this.zoomOutLink = t,
			e
		},
		getOrCreateLinks : function (e) {
			var t = document.getElementById(this.zoomInId),
			n = document.getElementById(this.zoomOutId);
			return t || (t = document.createElement("a"), t.href = "#zoomIn", t.appendChild(document.createTextNode(this.zoomInText)), t.className = "olControlZoomIn", e.appendChild(t)),
			OpenLayers.Element.addClass(t, "olButton"),
			n || (n = document.createElement("a"), n.href = "#zoomOut", n.appendChild(document.createTextNode(this.zoomOutText)), n.className = "olControlZoomOut", e.appendChild(n)),
			OpenLayers.Element.addClass(n, "olButton"), {
				zoomIn : t,
				zoomOut : n
			}
		},
		onZoomClick : function (e) {
			e = e.buttonElement,
			e === this.zoomInLink ? this.map.zoomIn() : e === this.zoomOutLink && this.map.zoomOut()
		},
		destroy : function () {
			this.map && this.map.events.unregister("buttonclick", this, this.onZoomClick),
			delete this.zoomInLink,
			delete this.zoomOutLink,
			OpenLayers.Control.prototype.destroy.apply(this)
		},
		CLASS_NAME : "OpenLayers.Control.Zoom"
	}), OpenLayers.Layer.PointTrack = OpenLayers.Class(OpenLayers.Layer.Vector, {
		dataFrom : null,
		styleFrom : null,
		addNodes : function (e, t) {
			if (2 > e.length)
				throw Error("At least two point features have to be added to create a line from");
			for (var n = Array(e.length - 1), r, i, s, o = 0, u = e.length; o < u; o++) {
				r = e[o];
				if (s = r.geometry) {
					if ("OpenLayers.Geometry.Point" != s.CLASS_NAME)
						throw new TypeError("Only features with point geometries are supported.")
				} else
					s = r.lonlat, s = new OpenLayers.Geometry.Point(s.lon, s.lat);
				if (0 < o) {
					r = null != this.dataFrom ? e[o + this.dataFrom].data || e[o + this.dataFrom].attributes : null;
					var a = null != this.styleFrom ? e[o + this.styleFrom].style : null;
					i = new OpenLayers.Geometry.LineString([i, s]),
					n[o - 1] = new OpenLayers.Feature.Vector(i, r, a)
				}
				i = s
			}
			this.addFeatures(n, t)
		},
		CLASS_NAME : "OpenLayers.Layer.PointTrack"
	}), OpenLayers.Layer.PointTrack.SOURCE_NODE = -1, OpenLayers.Layer.PointTrack.TARGET_NODE = 0, OpenLayers.Layer.PointTrack.dataFrom = {
	SOURCE_NODE : -1,
	TARGET_NODE : 0
}, OpenLayers.Protocol.WFS = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Protocol.WFS.DEFAULTS),
	t = OpenLayers.Protocol.WFS["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported WFS version: " + e.version;
	return new t(e)
}, OpenLayers.Protocol.WFS.fromWMSLayer = function (e, t) {
	var n,
	r;
	return n = e.params.LAYERS,
	n = (OpenLayers.Util.isArray(n) ? n[0] : n).split(":"),
	1 < n.length && (r = n[0]),
	n = n.pop(),
	r = {
		url : e.url,
		featureType : n,
		featurePrefix : r,
		srsName : e.projection && e.projection.getCode() || e.map && e.map.getProjectionObject().getCode(),
		version : "1.1.0"
	},
	new OpenLayers.Protocol.WFS(OpenLayers.Util.applyDefaults(t, r))
}, OpenLayers.Protocol.WFS.DEFAULTS = {
	version : "1.0.0"
}, OpenLayers.Layer.Markers = OpenLayers.Class(OpenLayers.Layer, {
		isBaseLayer : !1,
		markers : null,
		drawn : !1,
		initialize : function (e, t) {
			OpenLayers.Layer.prototype.initialize.apply(this, arguments),
			this.markers = []
		},
		destroy : function () {
			this.clearMarkers(),
			this.markers = null,
			OpenLayers.Layer.prototype.destroy.apply(this, arguments)
		},
		setOpacity : function (e) {
			if (e != this.opacity) {
				this.opacity = e;
				for (var e = 0, t = this.markers.length; e < t; e++)
					this.markers[e].setOpacity(this.opacity)
			}
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
			if (t || !this.drawn) {
				for (var r = 0, i = this.markers.length; r < i; r++)
					this.drawMarker(this.markers[r]);
				this.drawn = !0
			}
		},
		addMarker : function (e) {
			this.markers.push(e),
			1 > this.opacity && e.setOpacity(this.opacity),
			this.map && this.map.getExtent() && (e.map = this.map, this.drawMarker(e))
		},
		removeMarker : function (e) {
			this.markers && this.markers.length && (OpenLayers.Util.removeItem(this.markers, e), e.erase())
		},
		clearMarkers : function () {
			if (null != this.markers)
				for (; 0 < this.markers.length; )
					this.removeMarker(this.markers[0])
		},
		drawMarker : function (e) {
			var t = this.map.getLayerPxFromLonLat(e.lonlat);
			null == t ? e.display(!1) : e.isDrawn() ? e.icon && e.icon.moveTo(t) : this.div.appendChild(e.draw(t))
		},
		getDataExtent : function () {
			var e = null;
			if (this.markers && 0 < this.markers.length)
				for (var e = new OpenLayers.Bounds, t = 0, n = this.markers.length; t < n; t++)
					e.extend(this.markers[t].lonlat);
			return e
		},
		CLASS_NAME : "OpenLayers.Layer.Markers"
	}), OpenLayers.Control.Pan = OpenLayers.Class(OpenLayers.Control, {
		slideFactor : 50,
		slideRatio : null,
		direction : null,
		type : OpenLayers.Control.TYPE_BUTTON,
		initialize : function (e, t) {
			this.direction = e,
			this.CLASS_NAME += this.direction,
			OpenLayers.Control.prototype.initialize.apply(this, [t])
		},
		trigger : function () {
			var e = OpenLayers.Function.bind(function (e) {
					return this.slideRatio ? this.map.getSize()[e] * this.slideRatio : this.slideFactor
				}, this);
			switch (this.direction) {
			case OpenLayers.Control.Pan.NORTH:
				this.map.pan(0, -e("h"));
				break;
			case OpenLayers.Control.Pan.SOUTH:
				this.map.pan(0, e("h"));
				break;
			case OpenLayers.Control.Pan.WEST:
				this.map.pan(-e("w"), 0);
				break;
			case OpenLayers.Control.Pan.EAST:
				this.map.pan(e("w"), 0)
			}
		},
		CLASS_NAME : "OpenLayers.Control.Pan"
	}), OpenLayers.Control.Pan.NORTH = "North", OpenLayers.Control.Pan.SOUTH = "South", OpenLayers.Control.Pan.EAST = "East", OpenLayers.Control.Pan.WEST = "West", OpenLayers.Format.CSWGetDomain = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Format.CSWGetDomain.DEFAULTS),
	t = OpenLayers.Format.CSWGetDomain["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported CSWGetDomain version: " + e.version;
	return new t(e)
}, OpenLayers.Format.CSWGetDomain.DEFAULTS = {
	version : "2.0.2"
}, OpenLayers.Format.CSWGetDomain.v2_0_2 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance",
			csw : "http://www.opengis.net/cat/csw/2.0.2"
		},
		defaultPrefix : "csw",
		version : "2.0.2",
		schemaLocation : "http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",
		PropertyName : null,
		ParameterName : null,
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			csw : {
				GetDomainResponse : function (e, t) {
					this.readChildNodes(e, t)
				},
				DomainValues : function (e, t) {
					OpenLayers.Util.isArray(t.DomainValues) || (t.DomainValues = []);
					for (var n = e.attributes, r = {}, i = 0, s = n.length; i < s; ++i)
						r[n[i].name] = n[i].nodeValue;
					this.readChildNodes(e, r),
					t.DomainValues.push(r)
				},
				PropertyName : function (e, t) {
					t.PropertyName = this.getChildValue(e)
				},
				ParameterName : function (e, t) {
					t.ParameterName = this.getChildValue(e)
				},
				ListOfValues : function (e, t) {
					OpenLayers.Util.isArray(t.ListOfValues) || (t.ListOfValues = []),
					this.readChildNodes(e, t.ListOfValues)
				},
				Value : function (e, t) {
					for (var n = e.attributes, r = {}, i = 0, s = n.length; i < s; ++i)
						r[n[i].name] = n[i].nodeValue;
					r.value = this.getChildValue(e),
					t.push({
						Value : r
					})
				},
				ConceptualScheme : function (e, t) {
					t.ConceptualScheme = {},
					this.readChildNodes(e, t.ConceptualScheme)
				},
				Name : function (e, t) {
					t.Name = this.getChildValue(e)
				},
				Document : function (e, t) {
					t.Document = this.getChildValue(e)
				},
				Authority : function (e, t) {
					t.Authority = this.getChildValue(e)
				},
				RangeOfValues : function (e, t) {
					t.RangeOfValues = {},
					this.readChildNodes(e, t.RangeOfValues)
				},
				MinValue : function (e, t) {
					for (var n = e.attributes, r = {}, i = 0, s = n.length; i < s; ++i)
						r[n[i].name] = n[i].nodeValue;
					r.value = this.getChildValue(e),
					t.MinValue = r
				},
				MaxValue : function (e, t) {
					for (var n = e.attributes, r = {}, i = 0, s = n.length; i < s; ++i)
						r[n[i].name] = n[i].nodeValue;
					r.value = this.getChildValue(e),
					t.MaxValue = r
				}
			}
		},
		write : function (e) {
			return e = this.writeNode("csw:GetDomain", e),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			csw : {
				GetDomain : function (e) {
					var t = this.createElementNSPlus("csw:GetDomain", {
							attributes : {
								service : "CSW",
								version : this.version
							}
						});
					return e.PropertyName || this.PropertyName ? this.writeNode("csw:PropertyName", e.PropertyName || this.PropertyName, t) : (e.ParameterName || this.ParameterName) && this.writeNode("csw:ParameterName", e.ParameterName || this.ParameterName, t),
					this.readChildNodes(t, e),
					t
				},
				PropertyName : function (e) {
					return this.createElementNSPlus("csw:PropertyName", {
						value : e
					})
				},
				ParameterName : function (e) {
					return this.createElementNSPlus("csw:ParameterName", {
						value : e
					})
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.CSWGetDomain.v2_0_2"
	}), OpenLayers.Format.ArcXML.Features = OpenLayers.Class(OpenLayers.Format.XML, {
		read : function (e) {
			return (new OpenLayers.Format.ArcXML).read(e).features.feature
		}
	}), OpenLayers.Control.Snapping = OpenLayers.Class(OpenLayers.Control, {
		DEFAULTS : {
			tolerance : 10,
			node : !0,
			edge : !0,
			vertex : !0
		},
		greedy : !0,
		precedence : ["node", "vertex", "edge"],
		resolution : null,
		geoToleranceCache : null,
		layer : null,
		feature : null,
		point : null,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.options = e || {},
			this.options.layer && this.setLayer(this.options.layer),
			e = OpenLayers.Util.extend({}, this.options.defaults),
			this.defaults = OpenLayers.Util.applyDefaults(e, this.DEFAULTS),
			this.setTargets(this.options.targets),
			0 === this.targets.length && this.layer && this.addTargetLayer(this.layer),
			this.geoToleranceCache = {}

		},
		setLayer : function (e) {
			this.active ? (this.deactivate(), this.layer = e, this.activate()) : this.layer = e
		},
		setTargets : function (e) {
			this.targets = [];
			if (e && e.length)
				for (var t, n = 0, r = e.length; n < r; ++n)
					t = e[n], t instanceof OpenLayers.Layer.Vector ? this.addTargetLayer(t) : this.addTarget(t)
		},
		addTargetLayer : function (e) {
			this.addTarget({
				layer : e
			})
		},
		addTarget : function (e) {
			e = OpenLayers.Util.applyDefaults(e, this.defaults),
			e.nodeTolerance = e.nodeTolerance || e.tolerance,
			e.vertexTolerance = e.vertexTolerance || e.tolerance,
			e.edgeTolerance = e.edgeTolerance || e.tolerance,
			this.targets.push(e)
		},
		removeTargetLayer : function (e) {
			for (var t, n = this.targets.length - 1; 0 <= n; --n)
				t = this.targets[n], t.layer === e && this.removeTarget(t)
		},
		removeTarget : function (e) {
			return OpenLayers.Util.removeItem(this.targets, e)
		},
		activate : function () {
			var e = OpenLayers.Control.prototype.activate.call(this);
			return e && this.layer && this.layer.events && this.layer.events.on({
				sketchstarted : this.onSketchModified,
				sketchmodified : this.onSketchModified,
				vertexmodified : this.onVertexModified,
				scope : this
			}),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Control.prototype.deactivate.call(this);
			return e && this.layer && this.layer.events && this.layer.events.un({
				sketchstarted : this.onSketchModified,
				sketchmodified : this.onSketchModified,
				vertexmodified : this.onVertexModified,
				scope : this
			}),
			this.point = this.feature = null,
			e
		},
		onSketchModified : function (e) {
			this.feature = e.feature,
			this.considerSnapping(e.vertex, e.vertex)
		},
		onVertexModified : function (e) {
			this.feature = e.feature;
			var t = this.layer.map.getLonLatFromViewPortPx(e.pixel);
			this.considerSnapping(e.vertex, new OpenLayers.Geometry.Point(t.lon, t.lat))
		},
		considerSnapping : function (e, t) {
			for (var n = {
					rank : Number.POSITIVE_INFINITY,
					dist : Number.POSITIVE_INFINITY,
					x : null,
					y : null
				}, r = !1, i, s, o = 0, u = this.targets.length; o < u; ++o)
				if (s = this.targets[o], i = this.testTarget(s, t)) {
					if (this.greedy) {
						n = i,
						n.target = s,
						r = !0;
						break
					}
					if (i.rank < n.rank || i.rank === n.rank && i.dist < n.dist)
						n = i, n.target = s, r = !0
				}
			r && (!1 !== this.events.triggerEvent("beforesnap", {
					point : e,
					x : n.x,
					y : n.y,
					distance : n.dist,
					layer : n.target.layer,
					snapType : this.precedence[n.rank]
				}) ? (e.x = n.x, e.y = n.y, this.point = e, this.events.triggerEvent("snap", {
						point : e,
						snapType : this.precedence[n.rank],
						layer : n.target.layer,
						distance : n.dist
					})) : r = !1),
			this.point && !r && (e.x = t.x, e.y = t.y, this.point = null, this.events.triggerEvent("unsnap", {
					point : e
				}))
		},
		testTarget : function (e, t) {
			var n = this.layer.map.getResolution();
			if ("minResolution" in e && n < e.minResolution || "maxResolution" in e && n >= e.maxResolution)
				return null;
			for (var n = {
					node : this.getGeoTolerance(e.nodeTolerance, n),
					vertex : this.getGeoTolerance(e.vertexTolerance, n),
					edge : this.getGeoTolerance(e.edgeTolerance, n)
				}, r = Math.max(n.node, n.vertex, n.edge), i = {
					rank : Number.POSITIVE_INFINITY,
					dist : Number.POSITIVE_INFINITY
				}, s = !1, o = e.layer.features, u, a, f, l, c, h, p = this.precedence.length, d = new OpenLayers.LonLat(t.x, t.y), v = 0, m = o.length; v < m; ++v)
				if (u = o[v], u !== this.feature && !u._sketch && u.state !== OpenLayers.State.DELETE && (!e.filter || e.filter.evaluate(u)) && u.atPoint(d, r, r))
					for (var g = 0, y = Math.min(i.rank + 1, p); g < y; ++g)
						if (a = this.precedence[g], e[a])
							if ("edge" === a) {
								if (f = u.geometry.distanceTo(t, {
											details : !0
										}), c = f.distance, c <= n[a] && c < i.dist) {
									i = {
										rank : g,
										dist : c,
										x : f.x0,
										y : f.y0
									},
									s = !0;
									break
								}
							} else {
								f = u.geometry.getVertices("node" === a),
								h = !1;
								for (var b = 0, w = f.length; b < w; ++b)
									if (l = f[b], c = l.distanceTo(t), c <= n[a] && (g < i.rank || g === i.rank && c < i.dist))
										i = {
											rank : g,
											dist : c,
											x : l.x,
											y : l.y
										},
								h = s = !0;
								if (h)
									break
							}
			return s ? i : null
		},
		getGeoTolerance : function (e, t) {
			t !== this.resolution && (this.resolution = t, this.geoToleranceCache = {});
			var n = this.geoToleranceCache[e];
			return void 0 === n && (n = e * t, this.geoToleranceCache[e] = n),
			n
		},
		destroy : function () {
			this.active && this.deactivate(),
			delete this.layer,
			delete this.targets,
			OpenLayers.Control.prototype.destroy.call(this)
		},
		CLASS_NAME : "OpenLayers.Control.Snapping"
	}), OpenLayers.Date = {
	toISOString : function () {
		if ("toISOString" in Date.prototype)
			return function (e) {
				return e.toISOString()
			};
		var e = function (e, t) {
			for (var n = e + ""; n.length < t; )
				n = "0" + n;
			return n
		};
		return function (t) {
			return isNaN(t.getTime()) ? "Invalid Date" : t.getUTCFullYear() + "-" + e(t.getUTCMonth() + 1, 2) + "-" + e(t.getUTCDate(), 2) + "T" + e(t.getUTCHours(), 2) + ":" + e(t.getUTCMinutes(), 2) + ":" + e(t.getUTCSeconds(), 2) + "." + e(t.getUTCMilliseconds(), 3) + "Z"
		}
	}
	(),
	parse : function (e) {
		var t;
		if ((e = e.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/)) && (e[1] || e[7])) {
			t = parseInt(e[1], 10) || 0;
			var n = parseInt(e[2], 10) - 1 || 0,
			r = parseInt(e[3], 10) || 1;
			t = new Date(Date.UTC(t, n, r));
			if (n = e[7]) {
				var r = parseInt(e[4], 10),
				i = parseInt(e[5], 10),
				s = parseFloat(e[6]),
				o = s | 0,
				s = Math.round(1e3 * (s - o));
				t.setUTCHours(r, i, o, s),
				"Z" !== n && (n = parseInt(n, 10), e = parseInt(e[8], 10) || 0, t = new Date(t.getTime() + -1e3 * (3600 * n + 60 * e)))
			}
		} else
			t = new Date("invalid");
		return t
	}
}, function () {
	function e() {
		this._object = s && !a ? new s : new window.ActiveXObject("Microsoft.XMLHTTP"),
		this._listeners = []
	}
	function t() {
		return new e
	}
	function n(e) {
		t.onreadystatechange && t.onreadystatechange.apply(e),
		e.dispatchEvent({
			type : "readystatechange",
			bubbles : !1,
			cancelable : !1,
			timeStamp : new Date + 0
		})
	}
	function r(e) {
		try {
			e.responseText = e._object.responseText
		} catch (t) {}

		try {
			var n,
			r = e._object,
			i = r.responseXML,
			s = r.responseText;
			u && s && i && !i.documentElement && r.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/) && (i = new window.ActiveXObject("Microsoft.XMLDOM"), i.async = !1, i.validateOnParse = !1, i.loadXML(s)),
			n = i && (u && 0 != i.parseError || !i.documentElement || i.documentElement && "parsererror" == i.documentElement.tagName) ? null : i,
			e.responseXML = n
		} catch (o) {}

		try {
			e.status = e._object.status
		} catch (a) {}

		try {
			e.statusText = e._object.statusText
		} catch (f) {}

	}
	function i(e) {
		e._object.onreadystatechange = new window.Function
	}
	var s = window.XMLHttpRequest,
	o = !!window.controllers,
	u = window.document.all && !window.opera,
	a = u && window.navigator.userAgent.match(/MSIE 7.0/);
	t.prototype = e.prototype,
	o && s.wrapped && (t.wrapped = s.wrapped),
	t.UNSENT = 0,
	t.OPENED = 1,
	t.HEADERS_RECEIVED = 2,
	t.LOADING = 3,
	t.DONE = 4,
	t.prototype.readyState = t.UNSENT,
	t.prototype.responseText = "",
	t.prototype.responseXML = null,
	t.prototype.status = 0,
	t.prototype.statusText = "",
	t.prototype.priority = "NORMAL",
	t.prototype.onreadystatechange = null,
	t.onreadystatechange = null,
	t.onopen = null,
	t.onsend = null,
	t.onabort = null,
	t.prototype.open = function (e, s, a, f, l) {
		delete this._headers,
		arguments.length < 3 && (a = !0),
		this._async = a;
		var p = this,
		v = this.readyState,
		m;
		u && a && (m = function () {
			v != t.DONE && (i(p), p.abort())
		}, window.attachEvent("onunload", m)),
		t.onopen && t.onopen.apply(this, arguments),
		arguments.length > 4 ? this._object.open(e, s, a, f, l) : arguments.length > 3 ? this._object.open(e, s, a, f) : this._object.open(e, s, a),
		this.readyState = t.OPENED,
		n(this),
		this._object.onreadystatechange = function () {
			if (!o || a)
				p.readyState = p._object.readyState, r(p), p._aborted ? p.readyState = t.UNSENT : (p.readyState == t.DONE && (delete p._data, i(p), u && a && window.detachEvent("onunload", m)), v != p.readyState && n(p), v = p.readyState)
		}
	},
	t.prototype.send = function (e) {
		t.onsend && t.onsend.apply(this, arguments),
		arguments.length || (e = null),
		e && e.nodeType && (e = window.XMLSerializer ? (new window.XMLSerializer).serializeToString(e) : e.xml, this._headers["Content-Type"] || this._object.setRequestHeader("Content-Type", "application/xml")),
		this._data = e;
		e : {
			this._object.send(this._data);
			if (o && !this._async) {
				this.readyState = t.OPENED;
				for (r(this); this.readyState < t.DONE; ) {
					this.readyState++,
					n(this);
					if (this._aborted)
						break e
				}
			}
		}
	},
	t.prototype.abort = function () {
		t.onabort && t.onabort.apply(this, arguments),
		this.readyState > t.UNSENT && (this._aborted = !0),
		this._object.abort(),
		i(this),
		this.readyState = t.UNSENT,
		delete this._data
	},
	t.prototype.getAllResponseHeaders = function () {
		return this._object.getAllResponseHeaders()
	},
	t.prototype.getResponseHeader = function (e) {
		return this._object.getResponseHeader(e)
	},
	t.prototype.setRequestHeader = function (e, t) {
		return this._headers || (this._headers = {}),
		this._headers[e] = t,
		this._object.setRequestHeader(e, t)
	},
	t.prototype.addEventListener = function (e, t, n) {
		for (var r = 0, i; i = this._listeners[r]; r++)
			if (i[0] == e && i[1] == t && i[2] == n)
				return;
		this._listeners.push([e, t, n])
	},
	t.prototype.removeEventListener = function (e, t, n) {
		for (var r = 0, i; i = this._listeners[r]; r++)
			if (i[0] == e && i[1] == t && i[2] == n)
				break;
		i && this._listeners.splice(r, 1)
	},
	t.prototype.dispatchEvent = function (e) {
		e = {
			type : e.type,
			target : this,
			currentTarget : this,
			eventPhase : 2,
			bubbles : e.bubbles,
			cancelable : e.cancelable,
			timeStamp : e.timeStamp,
			stopPropagation : function () {},
			preventDefault : function () {},
			initEvent : function () {}

		},
		e.type == "readystatechange" && this.onreadystatechange && (this.onreadystatechange.handleEvent || this.onreadystatechange).apply(this, [e]);
		for (var t = 0, n; n = this._listeners[t]; t++)
			n[0] == e.type && !n[2] && (n[1].handleEvent || n[1]).apply(this, [e])
	},
	t.prototype.toString = function () {
		return "[object XMLHttpRequest]"
	},
	t.toString = function () {
		return "[XMLHttpRequest]"
	},
	window.Function.prototype.apply || (window.Function.prototype.apply = function (e, t) {
		t || (t = []),
		e.__func = this,
		e.__func(t[0], t[1], t[2], t[3], t[4]),
		delete e.__func
	}),
	OpenLayers.Request.XMLHttpRequest = t
}
(), OpenLayers.Format.KML = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			kml : "http://www.opengis.net/kml/2.2",
			gx : "http://www.google.com/kml/ext/2.2"
		},
		kmlns : "http://earth.google.com/kml/2.0",
		placemarksDesc : "No description available",
		foldersName : "OpenLayers export",
		foldersDesc : "Exported on " + new Date,
		extractAttributes : !0,
		kvpAttributes : !1,
		extractStyles : !1,
		extractTracks : !1,
		trackAttributes : null,
		internalns : null,
		features : null,
		styles : null,
		styleBaseUrl : "",
		fetched : null,
		maxDepth : 0,
		initialize : function (e) {
			this.regExes = {
				trimSpace : /^\s*|\s*$/g,
				removeSpace : /\s*/g,
				splitSpace : /\s+/,
				trimComma : /\s*,\s*/g,
				kmlColor : /(\w{2})(\w{2})(\w{2})(\w{2})/,
				kmlIconPalette : /root:\/\/icons\/palette-(\d+)(\.\w+)/,
				straightBracket : /\$\[(.*?)\]/g
			},
			this.externalProjection = new OpenLayers.Projection("EPSG:4326"),
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			return this.features = [],
			this.styles = {},
			this.fetched = {},
			this.parseData(e, {
				depth : 0,
				styleBaseUrl : this.styleBaseUrl
			})
		},
		parseData : function (e, t) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			for (var n = ["Link", "NetworkLink", "Style", "StyleMap", "Placemark"], r = 0, i = n.length; r < i; ++r) {
				var s = n[r],
				o = this.getElementsByTagNameNS(e, "*", s);
				if (0 != o.length)
					switch (s.toLowerCase()) {
					case "link":
					case "networklink":
						this.parseLinks(o, t);
						break;
					case "style":
						this.extractStyles && this.parseStyles(o, t);
						break;
					case "stylemap":
						this.extractStyles && this.parseStyleMaps(o, t);
						break;
					case "placemark":
						this.parseFeatures(o, t)
					}
			}
			return this.features
		},
		parseLinks : function (e, t) {
			if (t.depth >= this.maxDepth)
				return !1;
			var n = OpenLayers.Util.extend({}, t);
			n.depth++;
			for (var r = 0, i = e.length; r < i; r++) {
				var s = this.parseProperty(e[r], "*", "href");
				s && !this.fetched[s] && (this.fetched[s] = !0, (s = this.fetchLink(s)) && this.parseData(s, n))
			}
		},
		fetchLink : function (e) {
			if (e = OpenLayers.Request.GET({
						url : e,
						async : !1
					}))
				return e.responseText
		},
		parseStyles : function (e, t) {
			for (var n = 0, r = e.length; n < r; n++) {
				var i = this.parseStyle(e[n]);
				i && (this.styles[(t.styleBaseUrl || "") + "#" + i.id] = i)
			}
		},
		parseKmlColor : function (e) {
			var t = null;
			return e && (e = e.match(this.regExes.kmlColor)) && (t = {
					color : "#" + e[4] + e[3] + e[2],
					opacity : parseInt(e[1], 16) / 255
				}),
			t
		},
		parseStyle : function (e) {
			for (var t = {}, n = ["LineStyle", "PolyStyle", "IconStyle", "BalloonStyle", "LabelStyle"], r, i, s = 0, o = n.length; s < o; ++s)
				if (r = n[s], i = this.getElementsByTagNameNS(e, "*", r)[0])
					switch (r.toLowerCase()) {
					case "linestyle":
						r = this.parseProperty(i, "*", "color");
						if (r = this.parseKmlColor(r))
							t.strokeColor = r.color, t.strokeOpacity = r.opacity;
						(r = this.parseProperty(i, "*", "width")) && (t.strokeWidth = r);
						break;
					case "polystyle":
						r = this.parseProperty(i, "*", "color");
						if (r = this.parseKmlColor(r))
							t.fillOpacity = r.opacity, t.fillColor = r.color;
						"0" == this.parseProperty(i, "*", "fill") && (t.fillColor = "none"),
						"0" == this.parseProperty(i, "*", "outline") && (t.strokeWidth = "0");
						break;
					case "iconstyle":
						var u = parseFloat(this.parseProperty(i, "*", "scale") || 1);
						r = 32 * u;
						var a = 32 * u,
						f = this.getElementsByTagNameNS(i, "*", "Icon")[0];
						if (f) {
							var l = this.parseProperty(f, "*", "href");
							if (l) {
								var c = this.parseProperty(f, "*", "w"),
								h = this.parseProperty(f, "*", "h");
								OpenLayers.String.startsWith(l, "http://maps.google.com/mapfiles/kml") && !c && !h && (h = c = 64, u /= 2),
								c = c || h,
								h = h || c,
								c && (r = parseInt(c) * u),
								h && (a = parseInt(h) * u);
								if (h = l.match(this.regExes.kmlIconPalette))
									c = h[1], h = h[2], l = this.parseProperty(f, "*", "x"), f = this.parseProperty(f, "*", "y"), l = "http://maps.google.com/mapfiles/kml/pal" + c + "/icon" + (8 * (f ? 7 - f / 32 : 7) + (l ? l / 32 : 0)) + h;
								t.graphicOpacity = 1,
								t.externalGraphic = l
							}
						}
						if (i = this.getElementsByTagNameNS(i, "*", "hotSpot")[0])
							l = parseFloat(i.getAttribute("x")), f = parseFloat(i.getAttribute("y")), c = i.getAttribute("xunits"), "pixels" == c ? t.graphicXOffset = -l * u : "insetPixels" == c ? t.graphicXOffset = -r + l * u : "fraction" == c && (t.graphicXOffset = -r * l), i = i.getAttribute("yunits"), "pixels" == i ? t.graphicYOffset = -a + f * u + 1 : "insetPixels" == i ? t.graphicYOffset =  - (f * u) + 1 : "fraction" == i && (t.graphicYOffset = -a * (1 - f) + 1);
						t.graphicWidth = r,
						t.graphicHeight = a;
						break;
					case "balloonstyle":
						(i = OpenLayers.Util.getXmlNodeValue(i)) && (t.balloonStyle = i.replace(this.regExes.straightBracket, "${$1}"));
						break;
					case "labelstyle":
						if (r = this.parseProperty(i, "*", "color"), r = this.parseKmlColor(r))
							t.fontColor = r.color, t.fontOpacity = r.opacity
					}
			return !t.strokeColor && t.fillColor && (t.strokeColor = t.fillColor),
			(e = e.getAttribute("id")) && t && (t.id = e),
			t
		},
		parseStyleMaps : function (e, t) {
			for (var n = 0, r = e.length; n < r; n++)
				for (var i = e[n], s = this.getElementsByTagNameNS(i, "*", "Pair"), i = i.getAttribute("id"), o = 0, u = s.length; o < u; o++) {
					var a = s[o],
					f = this.parseProperty(a, "*", "key");
					(a = this.parseProperty(a, "*", "styleUrl")) && "normal" == f && (this.styles[(t.styleBaseUrl || "") + "#" + i] = this.styles[(t.styleBaseUrl || "") + a])
				}
		},
		parseFeatures : function (e, t) {
			for (var n = [], r = 0, i = e.length; r < i; r++) {
				var s = e[r],
				o = this.parseFeature.apply(this, [s]);
				if (!o)
					throw "Bad Placemark: " + r;
				this.extractStyles && o.attributes && o.attributes.styleUrl && (o.style = this.getStyle(o.attributes.styleUrl, t));
				if (this.extractStyles) {
					var u = this.getElementsByTagNameNS(s, "*", "Style")[0];
					u && (u = this.parseStyle(u)) && (o.style = OpenLayers.Util.extend(o.style, u))
				}
				this.extractTracks ? (s = this.getElementsByTagNameNS(s, this.namespaces.gx, "Track")) && 0 < s.length && (o = {
						features : [],
						feature : o
					}, this.readNode(s[0], o), 0 < o.features.length && n.push.apply(n, o.features)) : n.push(o)
			}
			this.features = this.features.concat(n)
		},
		readers : {
			kml : {
				when : function (e, t) {
					t.whens.push(OpenLayers.Date.parse(this.getChildValue(e)))
				},
				_trackPointAttribute : function (e, t) {
					var n = e.nodeName.split(":").pop();
					t.attributes[n].push(this.getChildValue(e))
				}
			},
			gx : {
				Track : function (e, t) {
					var n = {
						whens : [],
						points : [],
						angles : []
					};
					if (this.trackAttributes) {
						var r;
						n.attributes = {};
						for (var i = 0, s = this.trackAttributes.length; i < s; ++i)
							r = this.trackAttributes[i], n.attributes[r] = [], r in this.readers.kml || (this.readers.kml[r] = this.readers.kml._trackPointAttribute)
					}
					this.readChildNodes(e, n);
					if (n.whens.length !== n.points.length)
						throw Error("gx:Track with unequal number of when (" + n.whens.length + ") and gx:coord (" + n.points.length + ") elements.");
					var o = 0 < n.angles.length;
					if (o && n.whens.length !== n.angles.length)
						throw Error("gx:Track with unequal number of when (" + n.whens.length + ") and gx:angles (" + n.angles.length + ") elements.");
					for (var u, a, i = 0, s = n.whens.length; i < s; ++i) {
						u = t.feature.clone(),
						u.fid = t.feature.fid || t.feature.id,
						a = n.points[i],
						u.geometry = a,
						"z" in a && (u.attributes.altitude = a.z),
						this.internalProjection && this.externalProjection && u.geometry.transform(this.externalProjection, this.internalProjection);
						if (this.trackAttributes) {
							a = 0;
							for (var f = this.trackAttributes.length; a < f; ++a)
								u.attributes[r] = n.attributes[this.trackAttributes[a]][i]
						}
						u.attributes.when = n.whens[i],
						u.attributes.trackId = t.feature.id,
						o && (a = n.angles[i], u.attributes.heading = parseFloat(a[0]), u.attributes.tilt = parseFloat(a[1]), u.attributes.roll = parseFloat(a[2])),
						t.features.push(u)
					}
				},
				coord : function (e, t) {
					var n = this.getChildValue(e).replace(this.regExes.trimSpace, "").split(/\s+/),
					r = new OpenLayers.Geometry.Point(n[0], n[1]);
					2 < n.length && (r.z = parseFloat(n[2])),
					t.points.push(r)
				},
				angles : function (e, t) {
					var n = this.getChildValue(e).replace(this.regExes.trimSpace, "").split(/\s+/);
					t.angles.push(n)
				}
			}
		},
		parseFeature : function (e) {
			for (var t = ["MultiGeometry", "Polygon", "LineString", "Point"], n, r, i, s = 0, o = t.length; s < o; ++s)
				if (n = t[s], this.internalns = e.namespaceURI ? e.namespaceURI : this.kmlns, r = this.getElementsByTagNameNS(e, this.internalns, n), 0 < r.length) {
					if (!(t = this.parseGeometry[n.toLowerCase()]))
						throw new TypeError("Unsupported geometry type: " + n);
					i = t.apply(this, [r[0]]),
					this.internalProjection && this.externalProjection && i.transform(this.externalProjection, this.internalProjection);
					break
				}
			var u;
			return this.extractAttributes && (u = this.parseAttributes(e)),
			n = new OpenLayers.Feature.Vector(i, u),
			e = e.getAttribute("id") || e.getAttribute("name"),
			null != e && (n.fid = e),
			n
		},
		getStyle : function (e, t) {
			var n = OpenLayers.Util.removeTail(e),
			r = OpenLayers.Util.extend({}, t);
			return r.depth++,
			r.styleBaseUrl = n,
			!this.styles[e] && !OpenLayers.String.startsWith(e, "#") && r.depth <= this.maxDepth && !this.fetched[n] && (n = this.fetchLink(n)) && this.parseData(n, r),
			OpenLayers.Util.extend({}, this.styles[e])
		},
		parseGeometry : {
			point : function (e) {
				var t = this.getElementsByTagNameNS(e, this.internalns, "coordinates"),
				e = [];
				if (0 < t.length)
					var n = t[0].firstChild.nodeValue, n = n.replace(this.regExes.removeSpace, ""), e = n.split(",");
				t = null;
				if (1 < e.length)
					return 2 == e.length && (e[2] = null), t = new OpenLayers.Geometry.Point(e[0], e[1], e[2]), t;
				throw "Bad coordinate string: " + n
			},
			linestring : function (e, t) {
				var n = this.getElementsByTagNameNS(e, this.internalns, "coordinates"),
				r = null;
				if (0 < n.length) {
					for (var n = this.getChildValue(n[0]), n = n.replace(this.regExes.trimSpace, ""), n = n.replace(this.regExes.trimComma, ","), r = n.split(this.regExes.splitSpace), i = r.length, s = Array(i), o, u, a = 0; a < i; ++a) {
						if (o = r[a].split(","), u = o.length, !(1 < u))
							throw "Bad LineString point coordinates: " + r[a];
						2 == o.length && (o[2] = null),
						s[a] = new OpenLayers.Geometry.Point(o[0], o[1], o[2])
					}
					if (!i)
						throw "Bad LineString coordinates: " + n;
					r = t ? new OpenLayers.Geometry.LinearRing(s) : new OpenLayers.Geometry.LineString(s)
				}
				return r
			},
			polygon : function (e) {
				var e = this.getElementsByTagNameNS(e, this.internalns, "LinearRing"),
				t = e.length,
				n = Array(t);
				if (0 < t)
					for (var r = 0, i = e.length; r < i; ++r) {
						if (!(t = this.parseGeometry.linestring.apply(this, [e[r], !0])))
							throw "Bad LinearRing geometry: " + r;
						n[r] = t
					}
				return new OpenLayers.Geometry.Polygon(n)
			},
			multigeometry : function (e) {
				for (var t, n = [], r = e.childNodes, i = 0, s = r.length; i < s; ++i)
					e = r[i], 1 == e.nodeType && (t = this.parseGeometry[(e.prefix ? e.nodeName.split(":")[1] : e.nodeName).toLowerCase()]) && n.push(t.apply(this, [e]));
				return new OpenLayers.Geometry.Collection(n)
			}
		},
		parseAttributes : function (e) {
			var t = {},
			n = e.getElementsByTagName("ExtendedData");
			n.length && (t = this.parseExtendedData(n[0]));
			for (var r, i, s, e = e.childNodes, n = 0, o = e.length; n < o; ++n)
				if (r = e[n], 1 == r.nodeType && (i = r.childNodes, 1 <= i.length && 3 >= i.length)) {
					switch (i.length) {
					case 1:
						s = i[0];
						break;
					case 2:
						s = i[0],
						i = i[1],
						s = 3 == s.nodeType || 4 == s.nodeType ? s : i;
						break;
					default:
						s = i[1]
					}
					if (3 == s.nodeType || 4 == s.nodeType)
						if (r = r.prefix ? r.nodeName.split(":")[1] : r.nodeName, s = OpenLayers.Util.getXmlNodeValue(s))
							s = s.replace(this.regExes.trimSpace, ""), t[r] = s
				}
			return t
		},
		parseExtendedData : function (e) {
			var t = {},
			n,
			r,
			i,
			s,
			o = e.getElementsByTagName("Data");
			n = 0;
			for (r = o.length; n < r; n++) {
				i = o[n],
				s = i.getAttribute("name");
				var u = {},
				a = i.getElementsByTagName("value");
				a.length && (u.value = this.getChildValue(a[0])),
				this.kvpAttributes ? t[s] = u.value : (i = i.getElementsByTagName("displayName"), i.length && (u.displayName = this.getChildValue(i[0])), t[s] = u)
			}
			e = e.getElementsByTagName("SimpleData"),
			n = 0;
			for (r = e.length; n < r; n++)
				u = {},
			i = e[n],
			s = i.getAttribute("name"),
			u.value = this.getChildValue(i),
			this.kvpAttributes ? t[s] = u.value : (u.displayName = s, t[s] = u);
			return t
		},
		parseProperty : function (e, t, n) {
			var r,
			e = this.getElementsByTagNameNS(e, t, n);
			try {
				r = OpenLayers.Util.getXmlNodeValue(e[0])
			} catch (i) {
				r = null
			}
			return r
		},
		write : function (e) {
			OpenLayers.Util.isArray(e) || (e = [e]);
			for (var t = this.createElementNS(this.kmlns, "kml"), n = this.createFolderXML(), r = 0, i = e.length; r < i; ++r)
				n.appendChild(this.createPlacemarkXML(e[r]));
			return t.appendChild(n),
			OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		createFolderXML : function () {
			var e = this.createElementNS(this.kmlns, "Folder");
			if (this.foldersName) {
				var t = this.createElementNS(this.kmlns, "name"),
				n = this.createTextNode(this.foldersName);
				t.appendChild(n),
				e.appendChild(t)
			}
			return this.foldersDesc && (t = this.createElementNS(this.kmlns, "description"), n = this.createTextNode(this.foldersDesc), t.appendChild(n), e.appendChild(t)),
			e
		},
		createPlacemarkXML : function (e) {
			var t = this.createElementNS(this.kmlns, "name");
			t.appendChild(this.createTextNode(e.style && e.style.label ? e.style.label : e.attributes.name || e.id));
			var n = this.createElementNS(this.kmlns, "description");
			n.appendChild(this.createTextNode(e.attributes.description || this.placemarksDesc));
			var r = this.createElementNS(this.kmlns, "Placemark");
			return null != e.fid && r.setAttribute("id", e.fid),
			r.appendChild(t),
			r.appendChild(n),
			t = this.buildGeometryNode(e.geometry),
			r.appendChild(t),
			e.attributes && (e = this.buildExtendedData(e.attributes)) && r.appendChild(e),
			r
		},
		buildGeometryNode : function (e) {
			var t = e.CLASS_NAME,
			t = this.buildGeometry[t.substring(t.lastIndexOf(".") + 1).toLowerCase()],
			n = null;
			return t && (n = t.apply(this, [e])),
			n
		},
		buildGeometry : {
			point : function (e) {
				var t = this.createElementNS(this.kmlns, "Point");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			multipoint : function (e) {
				return this.buildGeometry.collection.apply(this, [e])
			},
			linestring : function (e) {
				var t = this.createElementNS(this.kmlns, "LineString");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			multilinestring : function (e) {
				return this.buildGeometry.collection.apply(this, [e])
			},
			linearring : function (e) {
				var t = this.createElementNS(this.kmlns, "LinearRing");
				return t.appendChild(this.buildCoordinatesNode(e)),
				t
			},
			polygon : function (e) {
				for (var t = this.createElementNS(this.kmlns, "Polygon"), e = e.components, n, r, i = 0, s = e.length; i < s; ++i)
					n = 0 == i ? "outerBoundaryIs" : "innerBoundaryIs", n = this.createElementNS(this.kmlns, n), r = this.buildGeometry.linearring.apply(this, [e[i]]), n.appendChild(r), t.appendChild(n);
				return t
			},
			multipolygon : function (e) {
				return this.buildGeometry.collection.apply(this, [e])
			},
			collection : function (e) {
				for (var t = this.createElementNS(this.kmlns, "MultiGeometry"), n, r = 0, i = e.components.length; r < i; ++r)
					(n = this.buildGeometryNode.apply(this, [e.components[r]])) && t.appendChild(n);
				return t
			}
		},
		buildCoordinatesNode : function (e) {
			var t = this.createElementNS(this.kmlns, "coordinates"),
			n;
			if (n = e.components) {
				for (var r = n.length, i = Array(r), s = 0; s < r; ++s)
					e = n[s], i[s] = this.buildCoordinates(e);
				n = i.join(" ")
			} else
				n = this.buildCoordinates(e);
			return n = this.createTextNode(n),
			t.appendChild(n),
			t
		},
		buildCoordinates : function (e) {
			return this.internalProjection && this.externalProjection && (e = e.clone(), e.transform(this.internalProjection, this.externalProjection)),
			e.x + "," + e.y
		},
		buildExtendedData : function (e) {
			var t = this.createElementNS(this.kmlns, "ExtendedData"),
			n;
			for (n in e)
				if (e[n] && "name" != n && "description" != n && "styleUrl" != n) {
					var r = this.createElementNS(this.kmlns, "Data");
					r.setAttribute("name", n);
					var i = this.createElementNS(this.kmlns, "value");
					if ("object" == typeof e[n]) {
						if (e[n].value && i.appendChild(this.createTextNode(e[n].value)), e[n].displayName) {
							var s = this.createElementNS(this.kmlns, "displayName");
							s.appendChild(this.getXMLDoc().createCDATASection(e[n].displayName)),
							r.appendChild(s)
						}
					} else
						i.appendChild(this.createTextNode(e[n]));
					r.appendChild(i),
					t.appendChild(r)
				}
			return this.isSimpleContent(t) ? null : t
		},
		CLASS_NAME : "OpenLayers.Format.KML"
	}), OpenLayers.Popup = OpenLayers.Class({
		events : null,
		id : "",
		lonlat : null,
		div : null,
		contentSize : null,
		size : null,
		contentHTML : null,
		backgroundColor : "",
		opacity : "",
		border : "",
		contentDiv : null,
		groupDiv : null,
		closeDiv : null,
		autoSize : !1,
		minSize : null,
		maxSize : null,
		displayClass : "olPopup",
		contentDisplayClass : "olPopupContent",
		padding : 0,
		disableFirefoxOverflowHack : !1,
		fixPadding : function () {
			"number" == typeof this.padding && (this.padding = new OpenLayers.Bounds(this.padding, this.padding, this.padding, this.padding))
		},
		panMapIfOutOfView : !1,
		keepInMap : !1,
		closeOnMove : !1,
		map : null,
		initialize : function (e, t, n, r, i, s) {
			null == e && (e = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")),
			this.id = e,
			this.lonlat = t,
			this.contentSize = null != n ? n : new OpenLayers.Size(OpenLayers.Popup.WIDTH, OpenLayers.Popup.HEIGHT),
			null != r && (this.contentHTML = r),
			this.backgroundColor = OpenLayers.Popup.COLOR,
			this.opacity = OpenLayers.Popup.OPACITY,
			this.border = OpenLayers.Popup.BORDER,
			this.div = OpenLayers.Util.createDiv(this.id, null, null, null, null, null, "hidden"),
			this.div.className = this.displayClass,
			this.groupDiv = OpenLayers.Util.createDiv(this.id + "_GroupDiv", null, null, null, "relative", null, "hidden"),
			e = this.div.id + "_contentDiv",
			this.contentDiv = OpenLayers.Util.createDiv(e, null, this.contentSize.clone(), null, "relative"),
			this.contentDiv.className = this.contentDisplayClass,
			this.groupDiv.appendChild(this.contentDiv),
			this.div.appendChild(this.groupDiv),
			i && this.addCloseBox(s),
			this.registerEvents()
		},
		destroy : function () {
			this.border = this.opacity = this.backgroundColor = this.contentHTML = this.size = this.lonlat = this.id = null,
			this.closeOnMove && this.map && this.map.events.unregister("movestart", this, this.hide),
			this.events.destroy(),
			this.events = null,
			this.closeDiv && (OpenLayers.Event.stopObservingElement(this.closeDiv), this.groupDiv.removeChild(this.closeDiv)),
			this.closeDiv = null,
			this.div.removeChild(this.groupDiv),
			this.groupDiv = null,
			null != this.map && this.map.removePopup(this),
			this.panMapIfOutOfView = this.padding = this.maxSize = this.minSize = this.autoSize = this.div = this.map = null
		},
		draw : function (e) {
			return null == e && null != this.lonlat && null != this.map && (e = this.map.getLayerPxFromLonLat(this.lonlat)),
			this.closeOnMove && this.map.events.register("movestart", this, this.hide),
			!this.disableFirefoxOverflowHack && "firefox" == OpenLayers.BROWSER_NAME && (this.map.events.register("movestart", this, function () {
					var e = document.defaultView.getComputedStyle(this.contentDiv, null).getPropertyValue("overflow");
					"hidden" != e && (this.contentDiv._oldOverflow = e, this.contentDiv.style.overflow = "hidden")
				}), this.map.events.register("moveend", this, function () {
					var e = this.contentDiv._oldOverflow;
					e && (this.contentDiv.style.overflow = e, this.contentDiv._oldOverflow = null)
				})),
			this.moveTo(e),
			!this.autoSize && !this.size && this.setSize(this.contentSize),
			this.setBackgroundColor(),
			this.setOpacity(),
			this.setBorder(),
			this.setContentHTML(),
			this.panMapIfOutOfView && this.panIntoView(),
			this.div
		},
		updatePosition : function () {
			if (this.lonlat && this.map) {
				var e = this.map.getLayerPxFromLonLat(this.lonlat);
				e && this.moveTo(e)
			}
		},
		moveTo : function (e) {
			null != e && null != this.div && (this.div.style.left = e.x + "px", this.div.style.top = e.y + "px")
		},
		visible : function () {
			return OpenLayers.Element.visible(this.div)
		},
		toggle : function () {
			this.visible() ? this.hide() : this.show()
		},
		show : function () {
			this.div.style.display = "",
			this.panMapIfOutOfView && this.panIntoView()
		},
		hide : function () {
			this.div.style.display = "none"
		},
		setSize : function (e) {
			this.size = e.clone();
			var t = this.getContentDivPadding(),
			n = t.left + t.right,
			r = t.top + t.bottom;
			this.fixPadding(),
			n += this.padding.left + this.padding.right,
			r += this.padding.top + this.padding.bottom;
			if (this.closeDiv)
				var i = parseInt(this.closeDiv.style.width), n = n + (i + t.right);
			this.size.w += n,
			this.size.h += r,
			"msie" == OpenLayers.BROWSER_NAME && (this.contentSize.w += t.left + t.right, this.contentSize.h += t.bottom + t.top),
			null != this.div && (this.div.style.width = this.size.w + "px", this.div.style.height = this.size.h + "px"),
			null != this.contentDiv && (this.contentDiv.style.width = e.w + "px", this.contentDiv.style.height = e.h + "px")
		},
		updateSize : function () {
			var e = "<div class='" + this.contentDisplayClass + "'>" + this.contentDiv.innerHTML + "</div>",
			t = this.map ? this.map.div : document.body,
			n = OpenLayers.Util.getRenderedDimensions(e, null, {
					displayClass : this.displayClass,
					containerElement : t
				}),
			r = this.getSafeContentSize(n),
			i = null;
			r.equals(n) ? i = n : (n = {
						w : r.w < n.w ? r.w : null,
						h : r.h < n.h ? r.h : null
					}, n.w && n.h ? i = r : (e = OpenLayers.Util.getRenderedDimensions(e, n, {
									displayClass : this.contentDisplayClass,
									containerElement : t
								}), "hidden" != OpenLayers.Element.getStyle(this.contentDiv, "overflow") && e.equals(r) && (r = OpenLayers.Util.getScrollbarWidth(), n.w ? e.h += r : e.w += r), i = this.getSafeContentSize(e))),
			this.setSize(i)
		},
		setBackgroundColor : function (e) {
			void 0 != e && (this.backgroundColor = e),
			null != this.div && (this.div.style.backgroundColor = this.backgroundColor)
		},
		setOpacity : function (e) {
			void 0 != e && (this.opacity = e),
			null != this.div && (this.div.style.opacity = this.opacity, this.div.style.filter = "alpha(opacity=" + 100 * this.opacity + ")")
		},
		setBorder : function (e) {
			void 0 != e && (this.border = e),
			null != this.div && (this.div.style.border = this.border)
		},
		setContentHTML : function (e) {
			null != e && (this.contentHTML = e),
			null != this.contentDiv && null != this.contentHTML && this.contentHTML != this.contentDiv.innerHTML && (this.contentDiv.innerHTML = this.contentHTML, this.autoSize && (this.registerImageListeners(), this.updateSize()))
		},
		registerImageListeners : function () {
			for (var e = function () {
				null !== this.popup.id && (this.popup.updateSize(), this.popup.visible() && this.popup.panMapIfOutOfView && this.popup.panIntoView(), OpenLayers.Event.stopObserving(this.img, "load", this.img._onImageLoad))
			}, t = this.contentDiv.getElementsByTagName("img"), n = 0, r = t.length; n < r; n++) {
				var i = t[n];
				if (0 == i.width || 0 == i.height)
					i._onImgLoad = OpenLayers.Function.bind(e, {
							popup : this,
							img : i
						}), OpenLayers.Event.observe(i, "load", i._onImgLoad)
			}
		},
		getSafeContentSize : function (e) {
			var e = e.clone(),
			t = this.getContentDivPadding(),
			n = t.left + t.right,
			r = t.top + t.bottom;
			this.fixPadding(),
			n += this.padding.left + this.padding.right,
			r += this.padding.top + this.padding.bottom;
			if (this.closeDiv)
				var i = parseInt(this.closeDiv.style.width), n = n + (i + t.right);
			this.minSize && (e.w = Math.max(e.w, this.minSize.w - n), e.h = Math.max(e.h, this.minSize.h - r)),
			this.maxSize && (e.w = Math.min(e.w, this.maxSize.w - n), e.h = Math.min(e.h, this.maxSize.h - r));
			if (this.map && this.map.size) {
				i = t = 0;
				if (this.keepInMap && !this.panMapIfOutOfView)
					switch (i = this.map.getPixelFromLonLat(this.lonlat), this.relativePosition) {
					case "tr":
						t = i.x,
						i = this.map.size.h - i.y;
						break;
					case "tl":
						t = this.map.size.w - i.x,
						i = this.map.size.h - i.y;
						break;
					case "bl":
						t = this.map.size.w - i.x,
						i = i.y;
						break;
					case "br":
						t = i.x,
						i = i.y;
						break;
					default:
						t = i.x,
						i = this.map.size.h - i.y
					}
				r = this.map.size.h - this.map.paddingForPopups.top - this.map.paddingForPopups.bottom - r - i,
				e.w = Math.min(e.w, this.map.size.w - this.map.paddingForPopups.left - this.map.paddingForPopups.right - n - t),
				e.h = Math.min(e.h, r)
			}
			return e
		},
		getContentDivPadding : function () {
			var e = this._contentDivPadding;
			return !e && (null == this.div.parentNode && (this.div.style.display = "none", document.body.appendChild(this.div)), this._contentDivPadding = e = new OpenLayers.Bounds(OpenLayers.Element.getStyle(this.contentDiv, "padding-left"), OpenLayers.Element.getStyle(this.contentDiv, "padding-bottom"), OpenLayers.Element.getStyle(this.contentDiv, "padding-right"), OpenLayers.Element.getStyle(this.contentDiv, "padding-top")), this.div.parentNode == document.body) && (document.body.removeChild(this.div), this.div.style.display = ""),
			e
		},
		addCloseBox : function (e) {
			this.closeDiv = OpenLayers.Util.createDiv(this.id + "_close", null, {
					w : 17,
					h : 17
				}),
			this.closeDiv.className = "olPopupCloseBox";
			var t = this.getContentDivPadding();
			this.closeDiv.style.right = t.right + "px",
			this.closeDiv.style.top = t.top + "px",
			this.groupDiv.appendChild(this.closeDiv),
			e = e || function (e) {
				this.hide(),
				OpenLayers.Event.stop(e)
			},
			OpenLayers.Event.observe(this.closeDiv, "touchend", OpenLayers.Function.bindAsEventListener(e, this)),
			OpenLayers.Event.observe(this.closeDiv, "click", OpenLayers.Function.bindAsEventListener(e, this))
		},
		panIntoView : function () {
			var e = this.map.getSize(),
			t = this.map.getViewPortPxFromLayerPx(new OpenLayers.Pixel(parseInt(this.div.style.left), parseInt(this.div.style.top))),
			n = t.clone();
			t.x < this.map.paddingForPopups.left ? n.x = this.map.paddingForPopups.left : t.x + this.size.w > e.w - this.map.paddingForPopups.right && (n.x = e.w - this.map.paddingForPopups.right - this.size.w),
			t.y < this.map.paddingForPopups.top ? n.y = this.map.paddingForPopups.top : t.y + this.size.h > e.h - this.map.paddingForPopups.bottom && (n.y = e.h - this.map.paddingForPopups.bottom - this.size.h),
			this.map.pan(t.x - n.x, t.y - n.y)
		},
		registerEvents : function () {
			this.events = new OpenLayers.Events(this, this.div, null, !0),
			this.events.on({
				mousedown : this.onmousedown,
				mousemove : this.onmousemove,
				mouseup : this.onmouseup,
				click : this.onclick,
				mouseout : this.onmouseout,
				dblclick : this.ondblclick,
				touchstart : function (e) {
					OpenLayers.Event.stop(e, !0)
				},
				scope : this
			})
		},
		onmousedown : function (e) {
			this.mousedown = !0,
			OpenLayers.Event.stop(e, !0)
		},
		onmousemove : function (e) {
			this.mousedown && OpenLayers.Event.stop(e, !0)
		},
		onmouseup : function (e) {
			this.mousedown && (this.mousedown = !1, OpenLayers.Event.stop(e, !0))
		},
		onclick : function (e) {
			OpenLayers.Event.stop(e, !0)
		},
		onmouseout : function () {
			this.mousedown = !1
		},
		ondblclick : function (e) {
			OpenLayers.Event.stop(e, !0)
		},
		CLASS_NAME : "OpenLayers.Popup"
	}), OpenLayers.Popup.WIDTH = 200, OpenLayers.Popup.HEIGHT = 200, OpenLayers.Popup.COLOR = "white", OpenLayers.Popup.OPACITY = 1, OpenLayers.Popup.BORDER = "0px", OpenLayers.Popup.Anchored = OpenLayers.Class(OpenLayers.Popup, {
		relativePosition : null,
		keepInMap : !0,
		anchor : null,
		initialize : function (e, t, n, r, i, s, o) {
			OpenLayers.Popup.prototype.initialize.apply(this, [e, t, n, r, s, o]),
			this.anchor = null != i ? i : {
				size : new OpenLayers.Size(0, 0),
				offset : new OpenLayers.Pixel(0, 0)
			}
		},
		destroy : function () {
			this.relativePosition = this.anchor = null,
			OpenLayers.Popup.prototype.destroy.apply(this, arguments)
		},
		show : function () {
			this.updatePosition(),
			OpenLayers.Popup.prototype.show.apply(this, arguments)
		},
		moveTo : function (e) {
			var t = this.relativePosition;
			this.relativePosition = this.calculateRelativePosition(e),
			e = this.calculateNewPx(e),
			OpenLayers.Popup.prototype.moveTo.apply(this, Array(e)),
			this.relativePosition != t && this.updateRelativePosition()
		},
		setSize : function (e) {
			OpenLayers.Popup.prototype.setSize.apply(this, arguments),
			this.lonlat && this.map && this.moveTo(this.map.getLayerPxFromLonLat(this.lonlat))
		},
		calculateRelativePosition : function (e) {
			return e = this.map.getLonLatFromLayerPx(e),
			e = this.map.getExtent().determineQuadrant(e),
			OpenLayers.Bounds.oppositeQuadrant(e)
		},
		updateRelativePosition : function () {},
		calculateNewPx : function (e) {
			var e = e.offset(this.anchor.offset),
			t = this.size || this.contentSize,
			n = "t" == this.relativePosition.charAt(0);
			return e.y += n ? -t.h : this.anchor.size.h,
			n = "l" == this.relativePosition.charAt(1),
			e.x += n ? -t.w : this.anchor.size.w,
			e
		},
		CLASS_NAME : "OpenLayers.Popup.Anchored"
	}), OpenLayers.Console.warn("OpenLayers.Rico is deprecated"), OpenLayers.Rico = OpenLayers.Rico || {}, OpenLayers.Rico.Color = OpenLayers.Class({
		initialize : function (e, t, n) {
			this.rgb = {
				r : e,
				g : t,
				b : n
			}
		},
		setRed : function (e) {
			this.rgb.r = e
		},
		setGreen : function (e) {
			this.rgb.g = e
		},
		setBlue : function (e) {
			this.rgb.b = e
		},
		setHue : function (e) {
			var t = this.asHSB();
			t.h = e,
			this.rgb = OpenLayers.Rico.Color.HSBtoRGB(t.h, t.s, t.b)
		},
		setSaturation : function (e) {
			var t = this.asHSB();
			t.s = e,
			this.rgb = OpenLayers.Rico.Color.HSBtoRGB(t.h, t.s, t.b)
		},
		setBrightness : function (e) {
			var t = this.asHSB();
			t.b = e,
			this.rgb = OpenLayers.Rico.Color.HSBtoRGB(t.h, t.s, t.b)
		},
		darken : function (e) {
			var t = this.asHSB();
			this.rgb = OpenLayers.Rico.Color.HSBtoRGB(t.h, t.s, Math.max(t.b - e, 0))
		},
		brighten : function (e) {
			var t = this.asHSB();
			this.rgb = OpenLayers.Rico.Color.HSBtoRGB(t.h, t.s, Math.min(t.b + e, 1))
		},
		blend : function (e) {
			this.rgb.r = Math.floor((this.rgb.r + e.rgb.r) / 2),
			this.rgb.g = Math.floor((this.rgb.g + e.rgb.g) / 2),
			this.rgb.b = Math.floor((this.rgb.b + e.rgb.b) / 2)
		},
		isBright : function () {
			return this.asHSB(),
			.5 < this.asHSB().b
		},
		isDark : function () {
			return !this.isBright()
		},
		asRGB : function () {
			return "rgb(" + this.rgb.r + "," + this.rgb.g + "," + this.rgb.b + ")"
		},
		asHex : function () {
			return "#" + this.rgb.r.toColorPart() + this.rgb.g.toColorPart() + this.rgb.b.toColorPart()
		},
		asHSB : function () {
			return OpenLayers.Rico.Color.RGBtoHSB(this.rgb.r, this.rgb.g, this.rgb.b)
		},
		toString : function () {
			return this.asHex()
		}
	}), OpenLayers.Rico.Color.createFromHex = function (e) {
	if (4 == e.length)
		for (var t = e, e = "#", n = 1; 4 > n; n++)
			e += t.charAt(n) + t.charAt(n);
	return 0 == e.indexOf("#") && (e = e.substring(1)),
	t = e.substring(0, 2),
	n = e.substring(2, 4),
	e = e.substring(4, 6),
	new OpenLayers.Rico.Color(parseInt(t, 16), parseInt(n, 16), parseInt(e, 16))
}, OpenLayers.Rico.Color.createColorFromBackground = function (e) {
	var t = OpenLayers.Element.getStyle(OpenLayers.Util.getElement(e), "backgroundColor");
	return "transparent" == t && e.parentNode ? OpenLayers.Rico.Color.createColorFromBackground(e.parentNode) : null == t ? new OpenLayers.Rico.Color(255, 255, 255) : 0 == t.indexOf("rgb(") ? (e = t.substring(4, t.length - 1).split(","), new OpenLayers.Rico.Color(parseInt(e[0]), parseInt(e[1]), parseInt(e[2]))) : 0 == t.indexOf("#") ? OpenLayers.Rico.Color.createFromHex(t) : new OpenLayers.Rico.Color(255, 255, 255)
}, OpenLayers.Rico.Color.HSBtoRGB = function (e, t, n) {
	var r = 0,
	i = 0,
	s = 0;
	if (0 == t)
		s = i = r = parseInt(255 * n + .5);
	else {
		var e = 6 * (e - Math.floor(e)),
		o = e - Math.floor(e),
		u = n * (1 - t),
		a = n * (1 - t * o),
		t = n * (1 - t * (1 - o));
		switch (parseInt(e)) {
		case 0:
			r = 255 * n + .5,
			i = 255 * t + .5,
			s = 255 * u + .5;
			break;
		case 1:
			r = 255 * a + .5,
			i = 255 * n + .5,
			s = 255 * u + .5;
			break;
		case 2:
			r = 255 * u + .5,
			i = 255 * n + .5,
			s = 255 * t + .5;
			break;
		case 3:
			r = 255 * u + .5,
			i = 255 * a + .5,
			s = 255 * n + .5;
			break;
		case 4:
			r = 255 * t + .5,
			i = 255 * u + .5,
			s = 255 * n + .5;
			break;
		case 5:
			r = 255 * n + .5,
			i = 255 * u + .5,
			s = 255 * a + .5
		}
	}
	return {
		r : parseInt(r),
		g : parseInt(i),
		b : parseInt(s)
	}
}, OpenLayers.Rico.Color.RGBtoHSB = function (e, t, n) {
	var r,
	i = e > t ? e : t;
	n > i && (i = n);
	var s = e < t ? e : t;
	n < s && (s = n),
	r = 0 != i ? (i - s) / i : 0;
	if (0 == r)
		e = 0;
	else {
		var o = (i - e) / (i - s),
		u = (i - t) / (i - s),
		n = (i - n) / (i - s),
		e = (e == i ? n - u : t == i ? 2 + o - n : 4 + u - o) / 6;
		0 > e && (e += 1)
	}
	return {
		h : e,
		s : r,
		b : i / 255
	}
}, OpenLayers.Console.warn("OpenLayers.Rico is deprecated"), OpenLayers.Rico = OpenLayers.Rico || {}, OpenLayers.Rico.Corner = {
	round : function (e, t) {
		e = OpenLayers.Util.getElement(e),
		this._setOptions(t);
		var n = this.options.color;
		"fromElement" == this.options.color && (n = this._background(e));
		var r = this.options.bgColor;
		"fromParent" == this.options.bgColor && (r = this._background(e.offsetParent)),
		this._roundCornersImpl(e, n, r)
	},
	changeColor : function (e, t) {
		e.style.backgroundColor = t;
		for (var n = e.parentNode.getElementsByTagName("span"), r = 0; r < n.length; r++)
			n[r].style.backgroundColor = t
	},
	changeOpacity : function (e, t) {
		var n = "alpha(opacity=" + 100 * t + ")";
		e.style.opacity = t,
		e.style.filter = n;
		for (var r = e.parentNode.getElementsByTagName("span"), i = 0; i < r.length; i++)
			r[i].style.opacity = t, r[i].style.filter = n
	},
	reRound : function (e, t) {
		var n = e.parentNode.childNodes[2];
		e.parentNode.removeChild(e.parentNode.childNodes[0]),
		e.parentNode.removeChild(n),
		this.round(e.parentNode, t)
	},
	_roundCornersImpl : function (e, t, n) {
		this.options.border && this._renderBorder(e, n),
		this._isTopRounded() && this._roundTopCorners(e, t, n),
		this._isBottomRounded() && this._roundBottomCorners(e, t, n)
	},
	_renderBorder : function (e, t) {
		var n = "1px solid " + this._borderColor(t);
		e.innerHTML = "<div " + ("style='border-left: " + n + ";" + ("border-right: " + n) + "'") + ">" + e.innerHTML + "</div>"
	},
	_roundTopCorners : function (e, t, n) {
		for (var r = this._createCorner(n), i = 0; i < this.options.numSlices; i++)
			r.appendChild(this._createCornerSlice(t, n, i, "top"));
		e.style.paddingTop = 0,
		e.insertBefore(r, e.firstChild)
	},
	_roundBottomCorners : function (e, t, n) {
		for (var r = this._createCorner(n), i = this.options.numSlices - 1; 0 <= i; i--)
			r.appendChild(this._createCornerSlice(t, n, i, "bottom"));
		e.style.paddingBottom = 0,
		e.appendChild(r)
	},
	_createCorner : function (e) {
		var t = document.createElement("div");
		return t.style.backgroundColor = this._isTransparent() ? "transparent" : e,
		t
	},
	_createCornerSlice : function (e, t, n, r) {
		var i = document.createElement("span"),
		s = i.style;
		return s.backgroundColor = e,
		s.display = "block",
		s.height = "1px",
		s.overflow = "hidden",
		s.fontSize = "1px",
		e = this._borderColor(e, t),
		this.options.border && 0 == n ? (s.borderTopStyle = "solid", s.borderTopWidth = "1px", s.borderLeftWidth = "0px", s.borderRightWidth = "0px", s.borderBottomWidth = "0px", s.height = "0px", s.borderColor = e) : e && (s.borderColor = e, s.borderStyle = "solid", s.borderWidth = "0px 1px"),
		!this.options.compact && n == this.options.numSlices - 1 && (s.height = "2px"),
		this._setMargin(i, n, r),
		this._setBorder(i, n, r),
		i
	},
	_setOptions : function (e) {
		this.options = {
			corners : "all",
			color : "fromElement",
			bgColor : "fromParent",
			blend : !0,
			border : !1,
			compact : !1
		},
		OpenLayers.Util.extend(this.options, e || {}),
		this.options.numSlices = this.options.compact ? 2 : 4,
		this._isTransparent() && (this.options.blend = !1)
	},
	_whichSideTop : function () {
		return this._hasString(this.options.corners, "all", "top") || 0 <= this.options.corners.indexOf("tl") && 0 <= this.options.corners.indexOf("tr") ? "" : 0 <= this.options.corners.indexOf("tl") ? "left" : 0 <= this.options.corners.indexOf("tr") ? "right" : ""
	},
	_whichSideBottom : function () {
		return this._hasString(this.options.corners, "all", "bottom") || 0 <= this.options.corners.indexOf("bl") && 0 <= this.options.corners.indexOf("br") ? "" : 0 <= this.options.corners.indexOf("bl") ? "left" : 0 <= this.options.corners.indexOf("br") ? "right" : ""
	},
	_borderColor : function (e, t) {
		return "transparent" == e ? t : this.options.border ? this.options.border : this.options.blend ? this._blend(t, e) : ""
	},
	_setMargin : function (e, t, n) {
		t = this._marginSize(t),
		n = "top" == n ? this._whichSideTop() : this._whichSideBottom(),
		"left" == n ? (e.style.marginLeft = t + "px", e.style.marginRight = "0px") : "right" == n ? (e.style.marginRight = t + "px", e.style.marginLeft = "0px") : (e.style.marginLeft = t + "px", e.style.marginRight = t + "px")
	},
	_setBorder : function (e, t, n) {
		t = this._borderSize(t),
		n = "top" == n ? this._whichSideTop() : this._whichSideBottom(),
		"left" == n ? (e.style.borderLeftWidth = t + "px", e.style.borderRightWidth = "0px") : "right" == n ? (e.style.borderRightWidth = t + "px", e.style.borderLeftWidth = "0px") : (e.style.borderLeftWidth = t + "px", e.style.borderRightWidth = t + "px"),
		0 != this.options.border && (e.style.borderLeftWidth = t + "px", e.style.borderRightWidth = t + "px")
	},
	_marginSize : function (e) {
		if (this._isTransparent())
			return 0;
		var t = [5, 3, 2, 1],
		n = [3, 2, 1, 0],
		r = [2, 1],
		i = [1, 0];
		return this.options.compact && this.options.blend ? i[e] : this.options.compact ? r[e] : this.options.blend ? n[e] : t[e]
	},
	_borderSize : function (e) {
		var t = [5, 3, 2, 1],
		n = [2, 1, 1, 1],
		r = [1, 0],
		i = [0, 2, 0, 0];
		return this.options.compact && (this.options.blend || this._isTransparent()) ? 1 : this.options.compact ? r[e] : this.options.blend ? n[e] : this.options.border ? i[e] : this._isTransparent() ? t[e] : 0
	},
	_hasString : function (e) {
		for (var t = 1; t < arguments.length; t++)
			if (0 <= e.indexOf(arguments[t]))
				return !0;
		return !1
	},
	_blend : function (e, t) {
		var n = OpenLayers.Rico.Color.createFromHex(e);
		return n.blend(OpenLayers.Rico.Color.createFromHex(t)),
		n
	},
	_background : function (e) {
		try {
			return OpenLayers.Rico.Color.createColorFromBackground(e).asHex()
		} catch (t) {
			return "#ffffff"
		}
	},
	_isTransparent : function () {
		return "transparent" == this.options.color
	},
	_isTopRounded : function () {
		return this._hasString(this.options.corners, "all", "top", "tl", "tr")
	},
	_isBottomRounded : function () {
		return this._hasString(this.options.corners, "all", "bottom", "bl", "br")
	},
	_hasSingleTextChild : function (e) {
		return 1 == e.childNodes.length && 3 == e.childNodes[0].nodeType
	}
}, OpenLayers.Popup.AnchoredBubble = OpenLayers.Class(OpenLayers.Popup.Anchored, {
		rounded : !1,
		initialize : function (e, t, n, r, i, s, o) {
			OpenLayers.Console.warn("AnchoredBubble is deprecated"),
			this.padding = new OpenLayers.Bounds(0, OpenLayers.Popup.AnchoredBubble.CORNER_SIZE, 0, OpenLayers.Popup.AnchoredBubble.CORNER_SIZE),
			OpenLayers.Popup.Anchored.prototype.initialize.apply(this, arguments)
		},
		draw : function (e) {
			return OpenLayers.Popup.Anchored.prototype.draw.apply(this, arguments),
			this.setContentHTML(),
			this.setBackgroundColor(),
			this.setOpacity(),
			this.div
		},
		updateRelativePosition : function () {
			this.setRicoCorners()
		},
		setSize : function (e) {
			OpenLayers.Popup.Anchored.prototype.setSize.apply(this, arguments),
			this.setRicoCorners()
		},
		setBackgroundColor : function (e) {
			void 0 != e && (this.backgroundColor = e),
			null != this.div && null != this.contentDiv && (this.div.style.background = "transparent", OpenLayers.Rico.Corner.changeColor(this.groupDiv, this.backgroundColor))
		},
		setOpacity : function (e) {
			OpenLayers.Popup.Anchored.prototype.setOpacity.call(this, e),
			null != this.div && null != this.groupDiv && OpenLayers.Rico.Corner.changeOpacity(this.groupDiv, this.opacity)
		},
		setBorder : function () {
			this.border = 0
		},
		setRicoCorners : function () {
			var e = {
				corners : this.getCornersToRound(this.relativePosition),
				color : this.backgroundColor,
				bgColor : "transparent",
				blend : !1
			};
			this.rounded ? (OpenLayers.Rico.Corner.reRound(this.groupDiv, e), this.setBackgroundColor(), this.setOpacity()) : (OpenLayers.Rico.Corner.round(this.div, e), this.rounded = !0)
		},
		getCornersToRound : function () {
			var e = ["tl", "tr", "bl", "br"],
			t = OpenLayers.Bounds.oppositeQuadrant(this.relativePosition);
			return OpenLayers.Util.removeItem(e, t),
			e.join(" ")
		},
		CLASS_NAME : "OpenLayers.Popup.AnchoredBubble"
	}), OpenLayers.Popup.AnchoredBubble.CORNER_SIZE = 5, OpenLayers.Protocol.WFS.v1 = OpenLayers.Class(OpenLayers.Protocol, {
		version : null,
		srsName : "EPSG:4326",
		featureType : null,
		featureNS : null,
		geometryName : "the_geom",
		schema : null,
		featurePrefix : "feature",
		formatOptions : null,
		readFormat : null,
		readOptions : null,
		initialize : function (e) {
			OpenLayers.Protocol.prototype.initialize.apply(this, [e]),
			e.format || (this.format = OpenLayers.Format.WFST(OpenLayers.Util.extend({
							version : this.version,
							featureType : this.featureType,
							featureNS : this.featureNS,
							featurePrefix : this.featurePrefix,
							geometryName : this.geometryName,
							srsName : this.srsName,
							schema : this.schema
						}, this.formatOptions))),
			!e.geometryName && 1 < parseFloat(this.format.version) && this.setGeometryName(null)
		},
		destroy : function () {
			this.options && !this.options.format && this.format.destroy(),
			this.format = null,
			OpenLayers.Protocol.prototype.destroy.apply(this)
		},
		read : function (e) {
			OpenLayers.Protocol.prototype.read.apply(this, arguments),
			e = OpenLayers.Util.extend({}, e),
			OpenLayers.Util.applyDefaults(e, this.options || {});
			var t = new OpenLayers.Protocol.Response({
					requestType : "read"
				}),
			n = OpenLayers.Format.XML.prototype.write.apply(this.format, [this.format.writeNode("wfs:GetFeature", e)]);
			return t.priv = OpenLayers.Request.POST({
					url : e.url,
					callback : this.createCallback(this.handleRead, t, e),
					params : e.params,
					headers : e.headers,
					data : n
				}),
			t
		},
		setFeatureType : function (e) {
			this.featureType = e,
			this.format.featureType = e
		},
		setGeometryName : function (e) {
			this.geometryName = e,
			this.format.geometryName = e
		},
		handleRead : function (e, t) {
			t = OpenLayers.Util.extend({}, t),
			OpenLayers.Util.applyDefaults(t, this.options);
			if (t.callback) {
				var n = e.priv;
				200 <= n.status && 300 > n.status ? (n = this.parseResponse(n, t.readOptions)) && !1 !== n.success ? (t.readOptions && "object" == t.readOptions.output ? OpenLayers.Util.extend(e, n) : e.features = n, e.code = OpenLayers.Protocol.Response.SUCCESS) : (e.code = OpenLayers.Protocol.Response.FAILURE, e.error = n) : e.code = OpenLayers.Protocol.Response.FAILURE,
				t.callback.call(t.scope, e)
			}
		},
		parseResponse : function (e, t) {
			var n = e.responseXML;
			if (!n || !n.documentElement)
				n = e.responseText;
			if (!n || 0 >= n.length)
				return null;
			n = null !== this.readFormat ? this.readFormat.read(n) : this.format.read(n, t);
			if (!this.featureNS) {
				var r = this.readFormat || this.format;
				this.featureNS = r.featureNS,
				r.autoConfig = !1,
				this.geometryName || this.setGeometryName(r.geometryName)
			}
			return n
		},
		commit : function (e, t) {
			t = OpenLayers.Util.extend({}, t),
			OpenLayers.Util.applyDefaults(t, this.options);
			var n = new OpenLayers.Protocol.Response({
					requestType : "commit",
					reqFeatures : e
				});
			return n.priv = OpenLayers.Request.POST({
					url : t.url,
					headers : t.headers,
					data : this.format.write(e, t),
					callback : this.createCallback(this.handleCommit, n, t)
				}),
			n
		},
		handleCommit : function (e, t) {
			if (t.callback) {
				var n = e.priv,
				r = n.responseXML;
				if (!r || !r.documentElement)
					r = n.responseText;
				n = this.format.read(r) || {},
				e.insertIds = n.insertIds || [],
				n.success ? e.code = OpenLayers.Protocol.Response.SUCCESS : (e.code = OpenLayers.Protocol.Response.FAILURE, e.error = n),
				t.callback.call(t.scope, e)
			}
		},
		filterDelete : function (e, t) {
			t = OpenLayers.Util.extend({}, t),
			OpenLayers.Util.applyDefaults(t, this.options),
			new OpenLayers.Protocol.Response({
				requestType : "commit"
			});
			var n = this.format.createElementNSPlus("wfs:Transaction", {
					attributes : {
						service : "WFS",
						version : this.version
					}
				}),
			r = this.format.createElementNSPlus("wfs:Delete", {
					attributes : {
						typeName : (t.featureNS ? this.featurePrefix + ":" : "") + t.featureType
					}
				});
			t.featureNS && r.setAttribute("xmlns:" + this.featurePrefix, t.featureNS);
			var i = this.format.writeNode("ogc:Filter", e);
			return r.appendChild(i),
			n.appendChild(r),
			n = OpenLayers.Format.XML.prototype.write.apply(this.format, [n]),
			OpenLayers.Request.POST({
				url : this.url,
				callback : t.callback || function () {},
				data : n
			})
		},
		abort : function (e) {
			e && e.priv.abort()
		},
		CLASS_NAME : "OpenLayers.Protocol.WFS.v1"
	}), OpenLayers.Handler.Point = OpenLayers.Class(OpenLayers.Handler, {
		point : null,
		layer : null,
		multi : !1,
		citeCompliant : !1,
		mouseDown : !1,
		stoppedDown : null,
		lastDown : null,
		lastUp : null,
		persist : !1,
		stopDown : !1,
		stopUp : !1,
		layerOptions : null,
		pixelTolerance : 5,
		touch : !1,
		lastTouchPx : null,
		initialize : function (e, t, n) {
			if (!n || !n.layerOptions || !n.layerOptions.styleMap)
				this.style = OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"], {});
			OpenLayers.Handler.prototype.initialize.apply(this, arguments)
		},
		activate : function () {
			if (!OpenLayers.Handler.prototype.activate.apply(this, arguments))
				return !1;
			var e = OpenLayers.Util.extend({
					displayInLayerSwitcher : !1,
					calculateInRange : OpenLayers.Function.True,
					wrapDateLine : this.citeCompliant
				}, this.layerOptions);
			return this.layer = new OpenLayers.Layer.Vector(this.CLASS_NAME, e),
			this.map.addLayer(this.layer),
			!0
		},
		createFeature : function (e) {
			e = this.layer.getLonLatFromViewPortPx(e),
			e = new OpenLayers.Geometry.Point(e.lon, e.lat),
			this.point = new OpenLayers.Feature.Vector(e),
			this.callback("create", [this.point.geometry, this.point]),
			this.point.geometry.clearBounds(),
			this.layer.addFeatures([this.point], {
				silent : !0
			})
		},
		deactivate : function () {
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) ? (this.cancel(), null != this.layer.map && (this.destroyFeature(!0), this.layer.destroy(!1)), this.layer = null, this.touch = !1, !0) : !1
		},
		destroyFeature : function (e) {
			this.layer && (e || !this.persist) && this.layer.destroyFeatures(),
			this.point = null
		},
		destroyPersistedFeature : function () {
			var e = this.layer;
			e && 1 < e.features.length && this.layer.features[0].destroy()
		},
		finalize : function (e) {
			this.mouseDown = !1,
			this.lastTouchPx = this.lastUp = this.lastDown = null,
			this.callback(e ? "cancel" : "done", [this.geometryClone()]),
			this.destroyFeature(e)
		},
		cancel : function () {
			this.finalize(!0)
		},
		click : function (e) {
			return OpenLayers.Event.stop(e),
			!1
		},
		dblclick : function (e) {
			return OpenLayers.Event.stop(e),
			!1
		},
		modifyFeature : function (e) {
			this.point || this.createFeature(e),
			e = this.layer.getLonLatFromViewPortPx(e),
			this.point.geometry.x = e.lon,
			this.point.geometry.y = e.lat,
			this.callback("modify", [this.point.geometry, this.point, !1]),
			this.point.geometry.clearBounds(),
			this.drawFeature()
		},
		drawFeature : function () {
			this.layer.drawFeature(this.point, this.style)
		},
		getGeometry : function () {
			var e = this.point && this.point.geometry;
			return e && this.multi && (e = new OpenLayers.Geometry.MultiPoint([e])),
			e
		},
		geometryClone : function () {
			var e = this.getGeometry();
			return e && e.clone()
		},
		mousedown : function (e) {
			return this.down(e)
		},
		touchstart : function (e) {
			return this.touch || (this.touch = !0, this.map.events.un({
					mousedown : this.mousedown,
					mouseup : this.mouseup,
					mousemove : this.mousemove,
					click : this.click,
					dblclick : this.dblclick,
					scope : this
				})),
			this.lastTouchPx = e.xy,
			this.down(e)
		},
		mousemove : function (e) {
			return this.move(e)
		},
		touchmove : function (e) {
			return this.lastTouchPx = e.xy,
			this.move(e)
		},
		mouseup : function (e) {
			return this.up(e)
		},
		touchend : function (e) {
			return e.xy = this.lastTouchPx,
			this.up(e)
		},
		down : function (e) {
			return this.mouseDown = !0,
			this.lastDown = e.xy,
			this.touch || this.modifyFeature(e.xy),
			this.stoppedDown = this.stopDown,
			!this.stopDown
		},
		move : function (e) {
			return !this.touch && (!this.mouseDown || this.stoppedDown) && this.modifyFeature(e.xy),
			!0
		},
		up : function (e) {
			return this.mouseDown = !1,
			this.stoppedDown = this.stopDown,
			this.checkModifiers(e) && (!this.lastUp || !this.lastUp.equals(e.xy)) && this.lastDown && this.passesTolerance(this.lastDown, e.xy, this.pixelTolerance) ? (this.touch && this.modifyFeature(e.xy), this.persist && this.destroyPersistedFeature(), this.lastUp = e.xy, this.finalize(), !this.stopUp) : !0
		},
		mouseout : function (e) {
			OpenLayers.Util.mouseLeft(e, this.map.viewPortDiv) && (this.stoppedDown = this.stopDown, this.mouseDown = !1)
		},
		passesTolerance : function (e, t, n) {
			var r = !0;
			return null != n && e && t && e.distanceTo(t) > n && (r = !1),
			r
		},
		CLASS_NAME : "OpenLayers.Handler.Point"
	}), OpenLayers.Handler.Path = OpenLayers.Class(OpenLayers.Handler.Point, {
		line : null,
		maxVertices : null,
		doubleTouchTolerance : 20,
		freehand : !1,
		freehandToggle : "shiftKey",
		timerId : null,
		redoStack : null,
		createFeature : function (e) {
			e = this.layer.getLonLatFromViewPortPx(e),
			e = new OpenLayers.Geometry.Point(e.lon, e.lat),
			this.point = new OpenLayers.Feature.Vector(e),
			this.line = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([this.point.geometry])),
			this.callback("create", [this.point.geometry, this.getSketch()]),
			this.point.geometry.clearBounds(),
			this.layer.addFeatures([this.line, this.point], {
				silent : !0
			})
		},
		destroyFeature : function (e) {
			OpenLayers.Handler.Point.prototype.destroyFeature.call(this, e),
			this.line = null
		},
		destroyPersistedFeature : function () {
			var e = this.layer;
			e && 2 < e.features.length && this.layer.features[0].destroy()
		},
		removePoint : function () {
			this.point && this.layer.removeFeatures([this.point])
		},
		addPoint : function (e) {
			this.layer.removeFeatures([this.point]),
			e = this.layer.getLonLatFromViewPortPx(e),
			this.point = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(e.lon, e.lat)),
			this.line.geometry.addComponent(this.point.geometry, this.line.geometry.components.length),
			this.layer.addFeatures([this.point]),
			this.callback("point", [this.point.geometry, this.getGeometry()]),
			this.callback("modify", [this.point.geometry, this.getSketch()]),
			this.drawFeature(),
			delete this.redoStack
		},
		insertXY : function (e, t) {
			this.line.geometry.addComponent(new OpenLayers.Geometry.Point(e, t), this.getCurrentPointIndex()),
			this.drawFeature(),
			delete this.redoStack
		},
		insertDeltaXY : function (e, t) {
			var n = this.line.geometry.components[this.getCurrentPointIndex() - 1];
			n && !isNaN(n.x) && !isNaN(n.y) && this.insertXY(n.x + e, n.y + t)
		},
		insertDirectionLength : function (e, t) {
			var e = e * (Math.PI / 180),
			n = t * Math.cos(e),
			r = t * Math.sin(e);
			this.insertDeltaXY(n, r)
		},
		insertDeflectionLength : function (e, t) {
			var n = this.getCurrentPointIndex() - 1;
			if (0 < n) {
				var r = this.line.geometry.components[n],
				n = this.line.geometry.components[n - 1];
				this.insertDirectionLength(180 * Math.atan2(r.y - n.y, r.x - n.x) / Math.PI + e, t)
			}
		},
		getCurrentPointIndex : function () {
			return this.line.geometry.components.length - 1
		},
		undo : function () {
			var e = this.line.geometry,
			t = e.components,
			n = this.getCurrentPointIndex() - 1,
			t = t[n];
			if (e = e.removeComponent(t))
				this.redoStack || (this.redoStack = []), this.redoStack.push(t), this.drawFeature();
			return e
		},
		redo : function () {
			var e = this.redoStack && this.redoStack.pop();
			return e && (this.line.geometry.addComponent(e, this.getCurrentPointIndex()), this.drawFeature()),
			!!e
		},
		freehandMode : function (e) {
			return this.freehandToggle && e[this.freehandToggle] ? !this.freehand : this.freehand
		},
		modifyFeature : function (e, t) {
			this.line || this.createFeature(e);
			var n = this.layer.getLonLatFromViewPortPx(e);
			this.point.geometry.x = n.lon,
			this.point.geometry.y = n.lat,
			this.callback("modify", [this.point.geometry, this.getSketch(), t]),
			this.point.geometry.clearBounds(),
			this.drawFeature()
		},
		drawFeature : function () {
			this.layer.drawFeature(this.line, this.style),
			this.layer.drawFeature(this.point, this.style)
		},
		getSketch : function () {
			return this.line
		},
		getGeometry : function () {
			var e = this.line && this.line.geometry;
			return e && this.multi && (e = new OpenLayers.Geometry.MultiLineString([e])),
			e
		},
		touchstart : function (e) {
			return this.timerId && this.passesTolerance(this.lastTouchPx, e.xy, this.doubleTouchTolerance) ? (this.finishGeometry(), window.clearTimeout(this.timerId), this.timerId = null, !1) : (this.timerId && (window.clearTimeout(this.timerId), this.timerId = null), this.timerId = window.setTimeout(OpenLayers.Function.bind(function () {
							this.timerId = null
						}, this), 300), OpenLayers.Handler.Point.prototype.touchstart.call(this, e))
		},
		down : function (e) {
			var t = this.stopDown;
			return this.freehandMode(e) && (t = !0, this.touch && (this.modifyFeature(e.xy, !!this.lastUp), OpenLayers.Event.stop(e))),
			!this.touch && (!this.lastDown || !this.passesTolerance(this.lastDown, e.xy, this.pixelTolerance)) && this.modifyFeature(e.xy, !!this.lastUp),
			this.mouseDown = !0,
			this.lastDown = e.xy,
			this.stoppedDown = t,
			!t
		},
		move : function (e) {
			return this.stoppedDown && this.freehandMode(e) ? (this.persist && this.destroyPersistedFeature(), this.maxVertices && this.line && this.line.geometry.components.length === this.maxVertices ? (this.removePoint(), this.finalize()) : this.addPoint(e.xy), !1) : (!this.touch && (!this.mouseDown || this.stoppedDown) && this.modifyFeature(e.xy, !!this.lastUp), !0)
		},
		up : function (e) {
			return this.mouseDown && (!this.lastUp || !this.lastUp.equals(e.xy)) && (this.stoppedDown && this.freehandMode(e) ? (this.persist && this.destroyPersistedFeature(), this.removePoint(), this.finalize()) : this.passesTolerance(this.lastDown, e.xy, this.pixelTolerance) && (this.touch && this.modifyFeature(e.xy), null == this.lastUp && this.persist && this.destroyPersistedFeature(), this.addPoint(e.xy), this.lastUp = e.xy, this.line.geometry.components.length === this.maxVertices + 1 && this.finishGeometry())),
			this.stoppedDown = this.stopDown,
			this.mouseDown = !1,
			!this.stopUp
		},
		finishGeometry : function () {
			this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length - 1]),
			this.removePoint(),
			this.finalize()
		},
		dblclick : function (e) {
			return this.freehandMode(e) || this.finishGeometry(),
			!1
		},
		CLASS_NAME : "OpenLayers.Handler.Path"
	}), OpenLayers.Spherical = OpenLayers.Spherical || {}, OpenLayers.Spherical.DEFAULT_RADIUS = 6378137, OpenLayers.Spherical.computeDistanceBetween = function (e, t, n) {
	var n = n || OpenLayers.Spherical.DEFAULT_RADIUS,
	r = Math.sin(Math.PI * (t.lon - e.lon) / 360),
	i = Math.sin(Math.PI * (t.lat - e.lat) / 360),
	e = i * i + r * r * Math.cos(Math.PI * e.lat / 180) * Math.cos(Math.PI * t.lat / 180);
	return 2 * n * Math.atan2(Math.sqrt(e), Math.sqrt(1 - e))
}, OpenLayers.Spherical.computeHeading = function (e, t) {
	var n = Math.sin(Math.PI * (e.lon - t.lon) / 180) * Math.cos(Math.PI * t.lat / 180),
	r = Math.cos(Math.PI * e.lat / 180) * Math.sin(Math.PI * t.lat / 180) - Math.sin(Math.PI * e.lat / 180) * Math.cos(Math.PI * t.lat / 180) * Math.cos(Math.PI * (e.lon - t.lon) / 180);
	return 180 * Math.atan2(n, r) / Math.PI
}, OpenLayers.Control.CacheWrite = OpenLayers.Class(OpenLayers.Control, {
		layers : null,
		imageFormat : "image/png",
		quotaRegEx : /quota/i,
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments);
			var t,
			n = this.layers || e.layers;
			for (t = n.length - 1; 0 <= t; --t)
				this.addLayer({
					layer : n[t]
				});
			this.layers || e.events.on({
				addlayer : this.addLayer,
				removeLayer : this.removeLayer,
				scope : this
			})
		},
		addLayer : function (e) {
			e.layer.events.on({
				tileloadstart : this.makeSameOrigin,
				tileloaded : this.cache,
				scope : this
			})
		},
		removeLayer : function (e) {
			e.layer.events.un({
				tileloadstart : this.makeSameOrigin,
				tileloaded : this.cache,
				scope : this
			})
		},
		makeSameOrigin : function (e) {
			if (this.active && (e = e.tile, e instanceof OpenLayers.Tile.Image && !e.crossOriginKeyword && "data:" !== e.url.substr(0, 5))) {
				var t = OpenLayers.Request.makeSameOrigin(e.url, OpenLayers.ProxyHost);
				OpenLayers.Control.CacheWrite.urlMap[t] = e.url,
				e.url = t
			}
		},
		cache : function (e) {
			if (this.active && window.localStorage && (e = e.tile, e instanceof OpenLayers.Tile.Image && "data:" !== e.url.substr(0, 5)))
				try {
					var t = e.getCanvasContext();
					if (t) {
						var n = OpenLayers.Control.CacheWrite.urlMap;
						window.localStorage.setItem("olCache_" + (n[e.url] || e.url), t.canvas.toDataURL(this.imageFormat)),
						delete n[e.url]
					}
				} catch (r) {
					(t = r.name || r.message) && this.quotaRegEx.test(t) ? this.events.triggerEvent("cachefull", {
						tile : e
					}) : OpenLayers.Console.error(r.toString())
				}
		},
		destroy : function () {
			if (this.layers || this.map) {
				var e,
				t = this.layers || this.map.layers;
				for (e = t.length - 1; 0 <= e; --e)
					this.removeLayer({
						layer : t[e]
					})
			}
			this.map && this.map.events.un({
				addlayer : this.addLayer,
				removeLayer : this.removeLayer,
				scope : this
			}),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Control.CacheWrite"
	}), OpenLayers.Control.CacheWrite.clearCache = function () {
	if (window.localStorage) {
		var e,
		t;
		for (e = window.localStorage.length - 1; 0 <= e; --e)
			t = window.localStorage.key(e), "olCache_" === t.substr(0, 8) && window.localStorage.removeItem(t)
	}
}, OpenLayers.Control.CacheWrite.urlMap = {}, OpenLayers.Format.Context = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		layerOptions : null,
		layerParams : null,
		read : function (e, t) {
			var n = OpenLayers.Format.XML.VersionedOGC.prototype.read.apply(this, arguments);
			if (t && t.map)
				if (this.context = n, t.map instanceof OpenLayers.Map)
					n = this.mergeContextToMap(n, t.map);
				else {
					var r = t.map;
					if (OpenLayers.Util.isElement(r) || "string" == typeof r)
						r = {
							div : r
						};
					n = this.contextToMap(n, r)
				}
			return n
		},
		getLayerFromContext : function (e) {
			var t,
			n,
			r = {
				queryable : e.queryable,
				visibility : e.visibility,
				maxExtent : e.maxExtent,
				metadata : OpenLayers.Util.applyDefaults(e.metadata, {
					styles : e.styles,
					formats : e.formats,
					"abstract" : e["abstract"],
					dataURL : e.dataURL
				}),
				numZoomLevels : e.numZoomLevels,
				units : e.units,
				isBaseLayer : e.isBaseLayer,
				opacity : e.opacity,
				displayInLayerSwitcher : e.displayInLayerSwitcher,
				singleTile : e.singleTile,
				tileSize : e.tileSize ? new OpenLayers.Size(e.tileSize.width, e.tileSize.height) : void 0,
				minScale : e.minScale || e.maxScaleDenominator,
				maxScale : e.maxScale || e.minScaleDenominator,
				srs : e.srs,
				dimensions : e.dimensions,
				metadataURL : e.metadataURL
			};
			this.layerOptions && OpenLayers.Util.applyDefaults(r, this.layerOptions);
			var i = {
				layers : e.name,
				transparent : e.transparent,
				version : e.version
			};
			if (e.formats && 0 < e.formats.length) {
				i.format = e.formats[0].value,
				t = 0;
				for (n = e.formats.length; t < n; t++) {
					var s = e.formats[t];
					if (1 == s.current) {
						i.format = s.value;
						break
					}
				}
			}
			if (e.styles && 0 < e.styles.length) {
				t = 0;
				for (n = e.styles.length; t < n; t++)
					if (s = e.styles[t], 1 == s.current) {
						s.href ? i.sld = s.href : s.body ? i.sld_body = s.body : i.styles = s.name;
						break
					}
			}
			return this.layerParams && OpenLayers.Util.applyDefaults(i, this.layerParams),
			t = null,
			n = e.service,
			n == OpenLayers.Format.Context.serviceTypes.WFS ? (r.strategies = [new OpenLayers.Strategy.BBOX], r.protocol = new OpenLayers.Protocol.WFS({
						url : e.url,
						featurePrefix : e.name.split(":")[0],
						featureType : e.name.split(":").pop()
					}), t = new OpenLayers.Layer.Vector(e.title || e.name, r)) : n == OpenLayers.Format.Context.serviceTypes.KML ? (r.strategies = [new OpenLayers.Strategy.Fixed], r.protocol = new OpenLayers.Protocol.HTTP({
						url : e.url,
						format : new OpenLayers.Format.KML
					}), t = new OpenLayers.Layer.Vector(e.title || e.name, r)) : n == OpenLayers.Format.Context.serviceTypes.GML ? (r.strategies = [new OpenLayers.Strategy.Fixed], r.protocol = new OpenLayers.Protocol.HTTP({
						url : e.url,
						format : new OpenLayers.Format.GML
					}), t = new OpenLayers.Layer.Vector(e.title || e.name, r)) : e.features ? (t = new OpenLayers.Layer.Vector(e.title || e.name, r), t.addFeatures(e.features)) : !0 !== e.categoryLayer && (t = new OpenLayers.Layer.WMS(e.title || e.name, e.url, i, r)),
			t
		},
		getLayersFromContext : function (e) {
			for (var t = [], n = 0, r = e.length; n < r; n++) {
				var i = this.getLayerFromContext(e[n]);
				null !== i && t.push(i)
			}
			return t
		},
		contextToMap : function (e, t) {
			t = OpenLayers.Util.applyDefaults({
					maxExtent : e.maxExtent,
					projection : e.projection,
					units : e.units
				}, t),
			t.maxExtent && (t.maxResolution = t.maxExtent.getWidth() / OpenLayers.Map.TILE_WIDTH),
			t.metadata = {
				contactInformation : e.contactInformation,
				"abstract" : e["abstract"],
				keywords : e.keywords,
				logo : e.logo,
				descriptionURL : e.descriptionURL
			};
			var n = new OpenLayers.Map(t);
			return n.addLayers(this.getLayersFromContext(e.layersContext)),
			n.setCenter(e.bounds.getCenterLonLat(), n.getZoomForExtent(e.bounds, !0)),
			n
		},
		mergeContextToMap : function (e, t) {
			return t.addLayers(this.getLayersFromContext(e.layersContext)),
			t
		},
		write : function (e, t) {
			return e = this.toContext(e),
			OpenLayers.Format.XML.VersionedOGC.prototype.write.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Format.Context"
	}), OpenLayers.Format.Context.serviceTypes = {
	WMS : "urn:ogc:serviceType:WMS",
	WFS : "urn:ogc:serviceType:WFS",
	WCS : "urn:ogc:serviceType:WCS",
	GML : "urn:ogc:serviceType:GML",
	SLD : "urn:ogc:serviceType:SLD",
	FES : "urn:ogc:serviceType:FES",
	KML : "urn:ogc:serviceType:KML"
}, OpenLayers.Format.WMC = OpenLayers.Class(OpenLayers.Format.Context, {
		defaultVersion : "1.1.0",
		layerToContext : function (e) {
			var t = this.getParser(),
			n = {
				queryable : e.queryable,
				visibility : e.visibility,
				name : e.params.LAYERS,
				title : e.name,
				"abstract" : e.metadata["abstract"],
				dataURL : e.metadata.dataURL,
				metadataURL : e.metadataURL,
				server : {
					version : e.params.VERSION,
					url : e.url
				},
				maxExtent : e.maxExtent,
				transparent : e.params.TRANSPARENT,
				numZoomLevels : e.numZoomLevels,
				units : e.units,
				isBaseLayer : e.isBaseLayer,
				opacity : 1 == e.opacity ? void 0 : e.opacity,
				displayInLayerSwitcher : e.displayInLayerSwitcher,
				singleTile : e.singleTile,
				tileSize : e.singleTile || !e.tileSize ? void 0 : {
					width : e.tileSize.w,
					height : e.tileSize.h
				},
				minScale : e.options.resolutions || e.options.scales || e.options.maxResolution || e.options.minScale ? e.minScale : void 0,
				maxScale : e.options.resolutions || e.options.scales || e.options.minResolution || e.options.maxScale ? e.maxScale : void 0,
				formats : [],
				styles : [],
				srs : e.srs,
				dimensions : e.dimensions
			};
			e.metadata.servertitle && (n.server.title = e.metadata.servertitle);
			if (e.metadata.formats && 0 < e.metadata.formats.length)
				for (var r = 0, i = e.metadata.formats.length; r < i; r++) {
					var s = e.metadata.formats[r];
					n.formats.push({
						value : s.value,
						current : s.value == e.params.FORMAT
					})
				}
			else
				n.formats.push({
					value : e.params.FORMAT,
					current : !0
				});
			if (e.metadata.styles && 0 < e.metadata.styles.length) {
				r = 0;
				for (i = e.metadata.styles.length; r < i; r++)
					t = e.metadata.styles[r], t.current = t.href == e.params.SLD || t.body == e.params.SLD_BODY || t.name == e.params.STYLES ? !0 : !1, n.styles.push(t)
			} else
				n.styles.push({
					href : e.params.SLD,
					body : e.params.SLD_BODY,
					name : e.params.STYLES || t.defaultStyleName,
					title : t.defaultStyleTitle,
					current : !0
				});
			return n
		},
		toContext : function (e) {
			var t = {},
			n = e.layers;
			if ("OpenLayers.Map" == e.CLASS_NAME) {
				var r = e.metadata || {};
				t.size = e.getSize(),
				t.bounds = e.getExtent(),
				t.projection = e.projection,
				t.title = e.title,
				t.keywords = r.keywords,
				t["abstract"] = r["abstract"],
				t.logo = r.logo,
				t.descriptionURL = r.descriptionURL,
				t.contactInformation = r.contactInformation,
				t.maxExtent = e.maxExtent
			} else
				OpenLayers.Util.applyDefaults(t, e), void 0 != t.layers && delete t.layers;
			void 0 == t.layersContext && (t.layersContext = []);
			if (void 0 != n && OpenLayers.Util.isArray(n)) {
				e = 0;
				for (r = n.length; e < r; e++) {
					var i = n[e];
					i instanceof OpenLayers.Layer.WMS && t.layersContext.push(this.layerToContext(i))
				}
			}
			return t
		},
		CLASS_NAME : "OpenLayers.Format.WMC"
	}), OpenLayers.Format.WMC.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ol : "http://openlayers.org/context",
			wmc : "http://www.opengis.net/context",
			sld : "http://www.opengis.net/sld",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		schemaLocation : "",
		getNamespacePrefix : function (e) {
			var t = null;
			if (null == e)
				t = this.namespaces[this.defaultPrefix];
			else
				for (t in this.namespaces)
					if (this.namespaces[t] == e)
						break;
			return t
		},
		defaultPrefix : "wmc",
		rootPrefix : null,
		defaultStyleName : "",
		defaultStyleTitle : "Default",
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e = e.documentElement,
			this.rootPrefix = e.prefix;
			var t = {
				version : e.getAttribute("version")
			};
			return this.runChildNodes(t, e),
			t
		},
		runChildNodes : function (e, t) {
			for (var n = t.childNodes, r, i, s, o = 0, u = n.length; o < u; ++o)
				r = n[o], 1 == r.nodeType && (i = this.getNamespacePrefix(r.namespaceURI), s = r.nodeName.split(":").pop(), (i = this["read_" + i + "_" + s]) && i.apply(this, [e, r]))
		},
		read_wmc_General : function (e, t) {
			this.runChildNodes(e, t)
		},
		read_wmc_BoundingBox : function (e, t) {
			e.projection = t.getAttribute("SRS"),
			e.bounds = new OpenLayers.Bounds(t.getAttribute("minx"), t.getAttribute("miny"), t.getAttribute("maxx"), t.getAttribute("maxy"))
		},
		read_wmc_LayerList : function (e, t) {
			e.layersContext = [],
			this.runChildNodes(e, t)
		},
		read_wmc_Layer : function (e, t) {
			var n = {
				visibility : "1" != t.getAttribute("hidden"),
				queryable : "1" == t.getAttribute("queryable"),
				formats : [],
				styles : [],
				metadata : {}

			};
			this.runChildNodes(n, t),
			e.layersContext.push(n)
		},
		read_wmc_Extension : function (e, t) {
			this.runChildNodes(e, t)
		},
		read_ol_units : function (e, t) {
			e.units = this.getChildValue(t)
		},
		read_ol_maxExtent : function (e, t) {
			var n = new OpenLayers.Bounds(t.getAttribute("minx"), t.getAttribute("miny"), t.getAttribute("maxx"), t.getAttribute("maxy"));
			e.maxExtent = n
		},
		read_ol_transparent : function (e, t) {
			e.transparent = this.getChildValue(t)
		},
		read_ol_numZoomLevels : function (e, t) {
			e.numZoomLevels = parseInt(this.getChildValue(t))
		},
		read_ol_opacity : function (e, t) {
			e.opacity = parseFloat(this.getChildValue(t))
		},
		read_ol_singleTile : function (e, t) {
			e.singleTile = "true" == this.getChildValue(t)
		},
		read_ol_tileSize : function (e, t) {
			var n = {
				width : t.getAttribute("width"),
				height : t.getAttribute("height")
			};
			e.tileSize = n
		},
		read_ol_isBaseLayer : function (e, t) {
			e.isBaseLayer = "true" == this.getChildValue(t)
		},
		read_ol_displayInLayerSwitcher : function (e, t) {
			e.displayInLayerSwitcher = "true" == this.getChildValue(t)
		},
		read_wmc_Server : function (e, t) {
			e.version = t.getAttribute("version"),
			e.url = this.getOnlineResource_href(t),
			e.metadata.servertitle = t.getAttribute("title")
		},
		read_wmc_FormatList : function (e, t) {
			this.runChildNodes(e, t)
		},
		read_wmc_Format : function (e, t) {
			var n = {
				value : this.getChildValue(t)
			};
			"1" == t.getAttribute("current") && (n.current = !0),
			e.formats.push(n)
		},
		read_wmc_StyleList : function (e, t) {
			this.runChildNodes(e, t)
		},
		read_wmc_Style : function (e, t) {
			var n = {};
			this.runChildNodes(n, t),
			"1" == t.getAttribute("current") && (n.current = !0),
			e.styles.push(n)
		},
		read_wmc_SLD : function (e, t) {
			this.runChildNodes(e, t)
		},
		read_sld_StyledLayerDescriptor : function (e, t) {
			var n = OpenLayers.Format.XML.prototype.write.apply(this, [t]);
			e.body = n
		},
		read_sld_FeatureTypeStyle : function (e, t) {
			var n = OpenLayers.Format.XML.prototype.write.apply(this, [t]);
			e.body = n
		},
		read_wmc_OnlineResource : function (e, t) {
			e.href = this.getAttributeNS(t, this.namespaces.xlink, "href")
		},
		read_wmc_Name : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.name = n)
		},
		read_wmc_Title : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.title = n)
		},
		read_wmc_MetadataURL : function (e, t) {
			e.metadataURL = this.getOnlineResource_href(t)
		},
		read_wmc_KeywordList : function (e, t) {
			e.keywords = [],
			this.runChildNodes(e.keywords, t)
		},
		read_wmc_Keyword : function (e, t) {
			e.push(this.getChildValue(t))
		},
		read_wmc_Abstract : function (e, t) {
			var n = this.getChildValue(t);
			n && (e["abstract"] = n)
		},
		read_wmc_LogoURL : function (e, t) {
			e.logo = {
				width : t.getAttribute("width"),
				height : t.getAttribute("height"),
				format : t.getAttribute("format"),
				href : this.getOnlineResource_href(t)
			}
		},
		read_wmc_DescriptionURL : function (e, t) {
			e.descriptionURL = this.getOnlineResource_href(t)
		},
		read_wmc_ContactInformation : function (e, t) {
			var n = {};
			this.runChildNodes(n, t),
			e.contactInformation = n
		},
		read_wmc_ContactPersonPrimary : function (e, t) {
			var n = {};
			this.runChildNodes(n, t),
			e.personPrimary = n
		},
		read_wmc_ContactPerson : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.person = n)
		},
		read_wmc_ContactOrganization : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.organization = n)
		},
		read_wmc_ContactPosition : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.position = n)
		},
		read_wmc_ContactAddress : function (e, t) {
			var n = {};
			this.runChildNodes(n, t),
			e.contactAddress = n
		},
		read_wmc_AddressType : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.type = n)
		},
		read_wmc_Address : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.address = n)
		},
		read_wmc_City : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.city = n)
		},
		read_wmc_StateOrProvince : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.stateOrProvince = n)
		},
		read_wmc_PostCode : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.postcode = n)
		},
		read_wmc_Country : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.country = n)
		},
		read_wmc_ContactVoiceTelephone : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.phone = n)
		},
		read_wmc_ContactFacsimileTelephone : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.fax = n)
		},
		read_wmc_ContactElectronicMailAddress : function (e, t) {
			var n = this.getChildValue(t);
			n && (e.email = n)
		},
		read_wmc_DataURL : function (e, t) {
			e.dataURL = this.getOnlineResource_href(t)
		},
		read_wmc_LegendURL : function (e, t) {
			var n = {
				width : t.getAttribute("width"),
				height : t.getAttribute("height"),
				format : t.getAttribute("format"),
				href : this.getOnlineResource_href(t)
			};
			e.legend = n
		},
		read_wmc_DimensionList : function (e, t) {
			e.dimensions = {},
			this.runChildNodes(e.dimensions, t)
		},
		read_wmc_Dimension : function (e, t) {
			var n = {
				name : t.getAttribute("name").toLowerCase(),
				units : t.getAttribute("units") || "",
				unitSymbol : t.getAttribute("unitSymbol") || "",
				userValue : t.getAttribute("userValue") || "",
				nearestValue : "1" === t.getAttribute("nearestValue"),
				multipleValues : "1" === t.getAttribute("multipleValues"),
				current : "1" === t.getAttribute("current"),
				"default" : t.getAttribute("default") || ""
			},
			r = this.getChildValue(t);
			n.values = r.split(","),
			e[n.name] = n
		},
		write : function (e, t) {
			var n = this.createElementDefaultNS("ViewContext");
			return this.setAttributes(n, {
				version : this.VERSION,
				id : t && "string" == typeof t.id ? t.id : OpenLayers.Util.createUniqueID("OpenLayers_Context_")
			}),
			this.setAttributeNS(n, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			n.appendChild(this.write_wmc_General(e)),
			n.appendChild(this.write_wmc_LayerList(e)),
			OpenLayers.Format.XML.prototype.write.apply(this, [n])
		},
		createElementDefaultNS : function (e, t, n) {
			return e = this.createElementNS(this.namespaces[this.defaultPrefix], e),
			t && e.appendChild(this.createTextNode(t)),
			n && this.setAttributes(e, n),
			e
		},
		setAttributes : function (e, t) {
			var n,
			r;
			for (r in t)
				n = t[r].toString(), n.match(/[A-Z]/) ? this.setAttributeNS(e, null, r, n) : e.setAttribute(r, n)
		},
		write_wmc_General : function (e) {
			var t = this.createElementDefaultNS("General");
			e.size && t.appendChild(this.createElementDefaultNS("Window", null, {
					width : e.size.w,
					height : e.size.h
				}));
			var n = e.bounds;
			return t.appendChild(this.createElementDefaultNS("BoundingBox", null, {
					minx : n.left.toPrecision(18),
					miny : n.bottom.toPrecision(18),
					maxx : n.right.toPrecision(18),
					maxy : n.top.toPrecision(18),
					SRS : e.projection
				})),
			t.appendChild(this.createElementDefaultNS("Title", e.title)),
			e.keywords && t.appendChild(this.write_wmc_KeywordList(e.keywords)),
			e["abstract"] && t.appendChild(this.createElementDefaultNS("Abstract", e["abstract"])),
			e.logo && t.appendChild(this.write_wmc_URLType("LogoURL", e.logo.href, e.logo)),
			e.descriptionURL && t.appendChild(this.write_wmc_URLType("DescriptionURL", e.descriptionURL)),
			e.contactInformation && t.appendChild(this.write_wmc_ContactInformation(e.contactInformation)),
			t.appendChild(this.write_ol_MapExtension(e)),
			t
		},
		write_wmc_KeywordList : function (e) {
			for (var t = this.createElementDefaultNS("KeywordList"), n = 0, r = e.length; n < r; n++)
				t.appendChild(this.createElementDefaultNS("Keyword", e[n]));
			return t
		},
		write_wmc_ContactInformation : function (e) {
			var t = this.createElementDefaultNS("ContactInformation");
			return e.personPrimary && t.appendChild(this.write_wmc_ContactPersonPrimary(e.personPrimary)),
			e.position && t.appendChild(this.createElementDefaultNS("ContactPosition", e.position)),
			e.contactAddress && t.appendChild(this.write_wmc_ContactAddress(e.contactAddress)),
			e.phone && t.appendChild(this.createElementDefaultNS("ContactVoiceTelephone", e.phone)),
			e.fax && t.appendChild(this.createElementDefaultNS("ContactFacsimileTelephone", e.fax)),
			e.email && t.appendChild(this.createElementDefaultNS("ContactElectronicMailAddress", e.email)),
			t
		},
		write_wmc_ContactPersonPrimary : function (e) {
			var t = this.createElementDefaultNS("ContactPersonPrimary");
			return e.person && t.appendChild(this.createElementDefaultNS("ContactPerson", e.person)),
			e.organization && t.appendChild(this.createElementDefaultNS("ContactOrganization", e.organization)),
			t
		},
		write_wmc_ContactAddress : function (e) {
			var t = this.createElementDefaultNS("ContactAddress");
			return e.type && t.appendChild(this.createElementDefaultNS("AddressType", e.type)),
			e.address && t.appendChild(this.createElementDefaultNS("Address", e.address)),
			e.city && t.appendChild(this.createElementDefaultNS("City", e.city)),
			e.stateOrProvince && t.appendChild(this.createElementDefaultNS("StateOrProvince", e.stateOrProvince)),
			e.postcode && t.appendChild(this.createElementDefaultNS("PostCode", e.postcode)),
			e.country && t.appendChild(this.createElementDefaultNS("Country", e.country)),
			t
		},
		write_ol_MapExtension : function (e) {
			var t = this.createElementDefaultNS("Extension");
			if (e = e.maxExtent) {
				var n = this.createElementNS(this.namespaces.ol, "ol:maxExtent");
				this.setAttributes(n, {
					minx : e.left.toPrecision(18),
					miny : e.bottom.toPrecision(18),
					maxx : e.right.toPrecision(18),
					maxy : e.top.toPrecision(18)
				}),
				t.appendChild(n)
			}
			return t
		},
		write_wmc_LayerList : function (e) {
			for (var t = this.createElementDefaultNS("LayerList"), n = 0, r = e.layersContext.length; n < r; ++n)
				t.appendChild(this.write_wmc_Layer(e.layersContext[n]));
			return t
		},
		write_wmc_Layer : function (e) {
			var t = this.createElementDefaultNS("Layer", null, {
					queryable : e.queryable ? "1" : "0",
					hidden : e.visibility ? "0" : "1"
				});
			return t.appendChild(this.write_wmc_Server(e)),
			t.appendChild(this.createElementDefaultNS("Name", e.name)),
			t.appendChild(this.createElementDefaultNS("Title", e.title)),
			e["abstract"] && t.appendChild(this.createElementDefaultNS("Abstract", e["abstract"])),
			e.dataURL && t.appendChild(this.write_wmc_URLType("DataURL", e.dataURL)),
			e.metadataURL && t.appendChild(this.write_wmc_URLType("MetadataURL", e.metadataURL)),
			t
		},
		write_wmc_LayerExtension : function (e) {
			var t = this.createElementDefaultNS("Extension"),
			n = e.maxExtent,
			r = this.createElementNS(this.namespaces.ol, "ol:maxExtent");
			this.setAttributes(r, {
				minx : n.left.toPrecision(18),
				miny : n.bottom.toPrecision(18),
				maxx : n.right.toPrecision(18),
				maxy : n.top.toPrecision(18)
			}),
			t.appendChild(r),
			e.tileSize && !e.singleTile && (n = this.createElementNS(this.namespaces.ol, "ol:tileSize"), this.setAttributes(n, e.tileSize), t.appendChild(n));
			for (var n = "transparent numZoomLevels units isBaseLayer opacity displayInLayerSwitcher singleTile".split(" "), i = 0, s = n.length; i < s; ++i)
				(r = this.createOLPropertyNode(e, n[i])) && t.appendChild(r);
			return t
		},
		createOLPropertyNode : function (e, t) {
			var n = null;
			return null != e[t] && (n = this.createElementNS(this.namespaces.ol, "ol:" + t), n.appendChild(this.createTextNode(e[t].toString()))),
			n
		},
		write_wmc_Server : function (e) {
			var e = e.server,
			t = this.createElementDefaultNS("Server"),
			n = {
				service : "OGC:WMS",
				version : e.version
			};
			return e.title && (n.title = e.title),
			this.setAttributes(t, n),
			t.appendChild(this.write_wmc_OnlineResource(e.url)),
			t
		},
		write_wmc_URLType : function (e, t, n) {
			e = this.createElementDefaultNS(e),
			e.appendChild(this.write_wmc_OnlineResource(t));
			if (n)
				for (var t = ["width", "height", "format"], r = 0; r < t.length; r++)
					t[r]in n && e.setAttribute(t[r], n[t[r]]);
			return e
		},
		write_wmc_DimensionList : function (e) {
			var t = this.createElementDefaultNS("DimensionList"),
			n;
			for (n in e.dimensions) {
				var r = {},
				i = e.dimensions[n],
				s;
				for (s in i)
					r[s] = "boolean" == typeof i[s] ? Number(i[s]) : i[s];
				i = "",
				r.values && (i = r.values.join(","), delete r.values),
				t.appendChild(this.createElementDefaultNS("Dimension", i, r))
			}
			return t
		},
		write_wmc_FormatList : function (e) {
			for (var t = this.createElementDefaultNS("FormatList"), n = 0, r = e.formats.length; n < r; n++) {
				var i = e.formats[n];
				t.appendChild(this.createElementDefaultNS("Format", i.value, i.current && 1 == i.current ? {
						current : "1"
					}
						 : null))
			}
			return t
		},
		write_wmc_StyleList : function (e) {
			var t = this.createElementDefaultNS("StyleList");
			if ((e = e.styles) && OpenLayers.Util.isArray(e))
				for (var n, r = 0, i = e.length; r < i; r++) {
					var s = e[r],
					o = this.createElementDefaultNS("Style", null, s.current && 1 == s.current ? {
							current : "1"
						}
							 : null);
					s.href ? (n = this.createElementDefaultNS("SLD"), s.name && n.appendChild(this.createElementDefaultNS("Name", s.name)), s.title && n.appendChild(this.createElementDefaultNS("Title", s.title)), s.legend && n.appendChild(this.write_wmc_URLType("LegendURL", s.legend.href, s.legend)), s = this.write_wmc_OnlineResource(s.href), n.appendChild(s), o.appendChild(n)) : s.body ? (n = this.createElementDefaultNS("SLD"), s.name && n.appendChild(this.createElementDefaultNS("Name", s.name)), s.title && n.appendChild(this.createElementDefaultNS("Title", s.title)), s.legend && n.appendChild(this.write_wmc_URLType("LegendURL", s.legend.href, s.legend)), s = OpenLayers.Format.XML.prototype.read.apply(this, [s.body]).documentElement, n.ownerDocument && n.ownerDocument.importNode && (s = n.ownerDocument.importNode(s, !0)), n.appendChild(s), o.appendChild(n)) : (o.appendChild(this.createElementDefaultNS("Name", s.name)), o.appendChild(this.createElementDefaultNS("Title", s.title)), s["abstract"] && o.appendChild(this.createElementDefaultNS("Abstract", s["abstract"])), s.legend && o.appendChild(this.write_wmc_URLType("LegendURL", s.legend.href, s.legend))),
					t.appendChild(o)
				}
			return t
		},
		write_wmc_OnlineResource : function (e) {
			var t = this.createElementDefaultNS("OnlineResource");
			return this.setAttributeNS(t, this.namespaces.xlink, "xlink:type", "simple"),
			this.setAttributeNS(t, this.namespaces.xlink, "xlink:href", e),
			t
		},
		getOnlineResource_href : function (e) {
			var t = {},
			e = e.getElementsByTagName("OnlineResource");
			return 0 < e.length && this.read_wmc_OnlineResource(t, e[0]),
			t.href
		},
		CLASS_NAME : "OpenLayers.Format.WMC.v1"
	}), OpenLayers.Control.PanPanel = OpenLayers.Class(OpenLayers.Control.Panel, {
		slideFactor : 50,
		slideRatio : null,
		initialize : function (e) {
			OpenLayers.Control.Panel.prototype.initialize.apply(this, [e]),
			e = {
				slideFactor : this.slideFactor,
				slideRatio : this.slideRatio
			},
			this.addControls([new OpenLayers.Control.Pan(OpenLayers.Control.Pan.NORTH, e), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.SOUTH, e), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.EAST, e), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.WEST, e)])
		},
		CLASS_NAME : "OpenLayers.Control.PanPanel"
	}), OpenLayers.Control.Attribution = OpenLayers.Class(OpenLayers.Control, {
		separator : ", ",
		template : "${layers}",
		destroy : function () {
			this.map.events.un({
				removelayer : this.updateAttribution,
				addlayer : this.updateAttribution,
				changelayer : this.updateAttribution,
				changebaselayer : this.updateAttribution,
				scope : this
			}),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.map.events.on({
				changebaselayer : this.updateAttribution,
				changelayer : this.updateAttribution,
				addlayer : this.updateAttribution,
				removelayer : this.updateAttribution,
				scope : this
			}),
			this.updateAttribution(),
			this.div
		},
		updateAttribution : function () {
			var e = [];
			if (this.map && this.map.layers) {
				for (var t = 0, n = this.map.layers.length; t < n; t++) {
					var r = this.map.layers[t];
					r.attribution && r.getVisibility() && -1 === OpenLayers.Util.indexOf(e, r.attribution) && e.push(r.attribution)
				}
				this.div.innerHTML = OpenLayers.String.format(this.template, {
						layers : e.join(this.separator)
					})
			}
		},
		CLASS_NAME : "OpenLayers.Control.Attribution"
	}), OpenLayers.Kinetic = OpenLayers.Class({
		threshold : 0,
		deceleration : .0035,
		nbPoints : 100,
		delay : 200,
		points : void 0,
		timerId : void 0,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e)
		},
		begin : function () {
			OpenLayers.Animation.stop(this.timerId),
			this.timerId = void 0,
			this.points = []
		},
		update : function (e) {
			this.points.unshift({
				xy : e,
				tick : (new Date).getTime()
			}),
			this.points.length > this.nbPoints && this.points.pop()
		},
		end : function (e) {
			for (var t, n = (new Date).getTime(), r = 0, i = this.points.length, s; r < i; r++) {
				s = this.points[r];
				if (n - s.tick > this.delay)
					break;
				t = s
			}
			if (t && (r = (new Date).getTime() - t.tick, n = Math.sqrt(Math.pow(e.x - t.xy.x, 2) + Math.pow(e.y - t.xy.y, 2)), r = n / r, !(0 == r || r < this.threshold)))
				return n = Math.asin((e.y - t.xy.y) / n), t.xy.x <= e.x && (n = Math.PI - n), {
					speed : r,
					theta : n
				}
		},
		move : function (e, t) {
			var n = e.speed,
			r = Math.cos(e.theta),
			i = -Math.sin(e.theta),
			s = (new Date).getTime(),
			o = 0,
			u = 0;
			this.timerId = OpenLayers.Animation.start(OpenLayers.Function.bind(function () {
						if (null != this.timerId) {
							var e = (new Date).getTime() - s,
							a = -this.deceleration * Math.pow(e, 2) / 2 + n * e,
							l = a * r,
							a = a * i,
							p,
							v;
							p = !1,
							0 >= -this.deceleration * e + n && (OpenLayers.Animation.stop(this.timerId), this.timerId = null, p = !0),
							e = l - o,
							v = a - u,
							o = l,
							u = a,
							t(e, v, p)
						}
					}, this))
		},
		CLASS_NAME : "OpenLayers.Kinetic"
	}), OpenLayers.Layer.GeoRSS = OpenLayers.Class(OpenLayers.Layer.Markers, {
		location : null,
		features : null,
		formatOptions : null,
		selectedFeature : null,
		icon : null,
		popupSize : null,
		useFeedTitle : !0,
		initialize : function (e, t, n) {
			OpenLayers.Layer.Markers.prototype.initialize.apply(this, [e, n]),
			this.location = t,
			this.features = []
		},
		destroy : function () {
			OpenLayers.Layer.Markers.prototype.destroy.apply(this, arguments),
			this.clearFeatures(),
			this.features = null
		},
		loadRSS : function () {
			this.loaded || (this.events.triggerEvent("loadstart"), OpenLayers.Request.GET({
					url : this.location,
					success : this.parseData,
					scope : this
				}), this.loaded = !0)
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.Markers.prototype.moveTo.apply(this, arguments),
			this.visibility && !this.loaded && this.loadRSS()
		},
		parseData : function (e) {
			var t = e.responseXML;
			if (!t || !t.documentElement)
				t = OpenLayers.Format.XML.prototype.read(e.responseText);
			if (this.useFeedTitle) {
				e = null;
				try {
					e = t.getElementsByTagNameNS("*", "title")[0].firstChild.nodeValue
				} catch (n) {
					e = t.getElementsByTagName("title")[0].firstChild.nodeValue
				}
				e && this.setName(e)
			}
			e = {},
			OpenLayers.Util.extend(e, this.formatOptions),
			this.map && !this.projection.equals(this.map.getProjectionObject()) && (e.externalProjection = this.projection, e.internalProjection = this.map.getProjectionObject());
			for (var t = (new OpenLayers.Format.GeoRSS(e)).read(t), e = 0, r = t.length; e < r; e++) {
				var i = {},
				s = t[e];
				if (s.geometry) {
					var o = s.attributes.title ? s.attributes.title : "Untitled",
					u = s.attributes.description ? s.attributes.description : "No description.",
					a = s.attributes.link ? s.attributes.link : "",
					s = s.geometry.getBounds().getCenterLonLat();
					i.icon = null == this.icon ? OpenLayers.Marker.defaultIcon() : this.icon.clone(),
					i.popupSize = this.popupSize ? this.popupSize.clone() : new OpenLayers.Size(250, 120);
					if (o || u) {
						i.title = o,
						i.description = u;
						var f = '<div class="olLayerGeoRSSClose">[x]</div>',
						f = f + '<div class="olLayerGeoRSSTitle">';
						a && (f += '<a class="link" href="' + a + '" target="_blank">'),
						f += o,
						a && (f += "</a>"),
						f += "</div>",
						f += '<div style="" class="olLayerGeoRSSDescription">',
						f += u,
						f += "</div>",
						i.popupContentHTML = f
					}
					s = new OpenLayers.Feature(this, s, i),
					this.features.push(s),
					i = s.createMarker(),
					i.events.register("click", s, this.markerClick),
					this.addMarker(i)
				}
			}
			this.events.triggerEvent("loadend")
		},
		markerClick : function (e) {
			var t = this == this.layer.selectedFeature;
			this.layer.selectedFeature = t ? null : this;
			for (var n = 0, r = this.layer.map.popups.length; n < r; n++)
				this.layer.map.removePopup(this.layer.map.popups[n]);
			t || (t = this.createPopup(), OpenLayers.Event.observe(t.div, "click", OpenLayers.Function.bind(function () {
						for (var e = 0, t = this.layer.map.popups.length; e < t; e++)
							this.layer.map.removePopup(this.layer.map.popups[e])
					}, this)), this.layer.map.addPopup(t)),
			OpenLayers.Event.stop(e)
		},
		clearFeatures : function () {
			if (null != this.features)
				for (; 0 < this.features.length; ) {
					var e = this.features[0];
					OpenLayers.Util.removeItem(this.features, e),
					e.destroy()
				}
		},
		CLASS_NAME : "OpenLayers.Layer.GeoRSS"
	}), OpenLayers.Symbolizer.Point = OpenLayers.Class(OpenLayers.Symbolizer, {
		initialize : function (e) {
			OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Symbolizer.Point"
	}), OpenLayers.Symbolizer.Line = OpenLayers.Class(OpenLayers.Symbolizer, {
		initialize : function (e) {
			OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Symbolizer.Line"
	}), OpenLayers.Symbolizer.Text = OpenLayers.Class(OpenLayers.Symbolizer, {
		initialize : function (e) {
			OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Symbolizer.Text"
	}), OpenLayers.Format.SLD.v1 = OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0, {
		namespaces : {
			sld : "http://www.opengis.net/sld",
			ogc : "http://www.opengis.net/ogc",
			gml : "http://www.opengis.net/gml",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		defaultPrefix : "sld",
		schemaLocation : null,
		multipleSymbolizers : !1,
		featureTypeCounter : null,
		defaultSymbolizer : {
			fillColor : "#808080",
			fillOpacity : 1,
			strokeColor : "#000000",
			strokeOpacity : 1,
			strokeWidth : 1,
			strokeDashstyle : "solid",
			pointRadius : 3,
			graphicName : "square"
		},
		read : function (e, t) {
			var t = OpenLayers.Util.applyDefaults(t, this.options),
			n = {
				namedLayers : !0 === t.namedLayersAsArray ? [] : {}

			};
			return this.readChildNodes(e, n),
			n
		},
		readers : OpenLayers.Util.applyDefaults({
			sld : {
				StyledLayerDescriptor : function (e, t) {
					t.version = e.getAttribute("version"),
					this.readChildNodes(e, t)
				},
				Name : function (e, t) {
					t.name = this.getChildValue(e)
				},
				Title : function (e, t) {
					t.title = this.getChildValue(e)
				},
				Abstract : function (e, t) {
					t.description = this.getChildValue(e)
				},
				NamedLayer : function (e, t) {
					var n = {
						userStyles : [],
						namedStyles : []
					};
					this.readChildNodes(e, n);
					for (var r = 0, i = n.userStyles.length; r < i; ++r)
						n.userStyles[r].layerName = n.name;
					OpenLayers.Util.isArray(t.namedLayers) ? t.namedLayers.push(n) : t.namedLayers[n.name] = n
				},
				NamedStyle : function (e, t) {
					t.namedStyles.push(this.getChildName(e.firstChild))
				},
				UserStyle : function (e, t) {
					var n = {
						defaultsPerSymbolizer : !0,
						rules : []
					};
					this.featureTypeCounter = -1,
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (delete n.defaultsPerSymbolizer, n = new OpenLayers.Style2(n)) : n = new OpenLayers.Style(this.defaultSymbolizer, n),
					t.userStyles.push(n)
				},
				IsDefault : function (e, t) {
					"1" == this.getChildValue(e) && (t.isDefault = !0)
				},
				FeatureTypeStyle : function (e, t) {
					++this.featureTypeCounter;
					var n = {
						rules : this.multipleSymbolizers ? t.rules : []
					};
					this.readChildNodes(e, n),
					this.multipleSymbolizers || (t.rules = n.rules)
				},
				Rule : function (e, t) {
					var n;
					this.multipleSymbolizers && (n = {
							symbolizers : []
						}),
					n = new OpenLayers.Rule(n),
					this.readChildNodes(e, n),
					t.rules.push(n)
				},
				ElseFilter : function (e, t) {
					t.elseFilter = !0
				},
				MinScaleDenominator : function (e, t) {
					t.minScaleDenominator = parseFloat(this.getChildValue(e))
				},
				MaxScaleDenominator : function (e, t) {
					t.maxScaleDenominator = parseFloat(this.getChildValue(e))
				},
				TextSymbolizer : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (n.zIndex = this.featureTypeCounter, t.symbolizers.push(new OpenLayers.Symbolizer.Text(n))) : t.symbolizer.Text = OpenLayers.Util.applyDefaults(n, t.symbolizer.Text)
				},
				LabelPlacement : function (e, t) {
					this.readChildNodes(e, t)
				},
				PointPlacement : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					n.labelRotation = n.rotation,
					delete n.rotation;
					var r,
					i = t.labelAnchorPointX,
					s = t.labelAnchorPointY;
					i <= 1 / 3 ? r = "l" : i > 1 / 3 && i < 2 / 3 ? r = "c" : i >= 2 / 3 && (r = "r"),
					s <= 1 / 3 ? r += "b" : s > 1 / 3 && s < 2 / 3 ? r += "m" : s >= 2 / 3 && (r += "t"),
					n.labelAlign = r,
					OpenLayers.Util.applyDefaults(t, n)
				},
				AnchorPoint : function (e, t) {
					this.readChildNodes(e, t)
				},
				AnchorPointX : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.labelAnchorPointX = n)
				},
				AnchorPointY : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.labelAnchorPointY = n)
				},
				Displacement : function (e, t) {
					this.readChildNodes(e, t)
				},
				DisplacementX : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.labelXOffset = n)
				},
				DisplacementY : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.labelYOffset = n)
				},
				LinePlacement : function (e, t) {
					this.readChildNodes(e, t)
				},
				PerpendicularOffset : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.labelPerpendicularOffset = n)
				},
				Label : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.label = n)
				},
				Font : function (e, t) {
					this.readChildNodes(e, t)
				},
				Halo : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.haloRadius = n.haloRadius,
					t.haloColor = n.fillColor,
					t.haloOpacity = n.fillOpacity
				},
				Radius : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					null != n && (t.haloRadius = n)
				},
				RasterSymbolizer : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (n.zIndex = this.featureTypeCounter, t.symbolizers.push(new OpenLayers.Symbolizer.Raster(n))) : t.symbolizer.Raster = OpenLayers.Util.applyDefaults(n, t.symbolizer.Raster)
				},
				Geometry : function (e, t) {
					t.geometry = {},
					this.readChildNodes(e, t.geometry)
				},
				ColorMap : function (e, t) {
					t.colorMap = [],
					this.readChildNodes(e, t.colorMap)
				},
				ColorMapEntry : function (e, t) {
					var n = e.getAttribute("quantity"),
					r = e.getAttribute("opacity");
					t.push({
						color : e.getAttribute("color"),
						quantity : null !== n ? parseFloat(n) : void 0,
						label : e.getAttribute("label") || void 0,
						opacity : null !== r ? parseFloat(r) : void 0
					})
				},
				LineSymbolizer : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (n.zIndex = this.featureTypeCounter, t.symbolizers.push(new OpenLayers.Symbolizer.Line(n))) : t.symbolizer.Line = OpenLayers.Util.applyDefaults(n, t.symbolizer.Line)
				},
				PolygonSymbolizer : function (e, t) {
					var n = {
						fill : !1,
						stroke : !1
					};
					this.multipleSymbolizers || (n = t.symbolizer.Polygon || n),
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (n.zIndex = this.featureTypeCounter, t.symbolizers.push(new OpenLayers.Symbolizer.Polygon(n))) : t.symbolizer.Polygon = n
				},
				PointSymbolizer : function (e, t) {
					var n = {
						fill : !1,
						stroke : !1,
						graphic : !1
					};
					this.multipleSymbolizers || (n = t.symbolizer.Point || n),
					this.readChildNodes(e, n),
					this.multipleSymbolizers ? (n.zIndex = this.featureTypeCounter, t.symbolizers.push(new OpenLayers.Symbolizer.Point(n))) : t.symbolizer.Point = n
				},
				Stroke : function (e, t) {
					t.stroke = !0,
					this.readChildNodes(e, t)
				},
				Fill : function (e, t) {
					t.fill = !0,
					this.readChildNodes(e, t)
				},
				CssParameter : function (e, t) {
					var n = e.getAttribute("name"),
					r = this.cssMap[n];
					t.label && ("fill" === n ? r = "fontColor" : "fill-opacity" === n && (r = "fontOpacity")),
					r && (n = this.readers.ogc._expression.call(this, e)) && (t[r] = n)
				},
				Graphic : function (e, t) {
					t.graphic = !0;
					var n = {};
					this.readChildNodes(e, n);
					for (var r = "stroke strokeColor strokeWidth strokeOpacity strokeLinecap fill fillColor fillOpacity graphicName rotation graphicFormat".split(" "), i, s, o = 0, u = r.length; o < u; ++o)
						i = r[o], s = n[i], void 0 != s && (t[i] = s);
					void 0 != n.opacity && (t.graphicOpacity = n.opacity),
					void 0 != n.size && (isNaN(n.size / 2) ? t.graphicWidth = n.size : t.pointRadius = n.size / 2),
					void 0 != n.href && (t.externalGraphic = n.href),
					void 0 != n.rotation && (t.rotation = n.rotation)
				},
				ExternalGraphic : function (e, t) {
					this.readChildNodes(e, t)
				},
				Mark : function (e, t) {
					this.readChildNodes(e, t)
				},
				WellKnownName : function (e, t) {
					t.graphicName = this.getChildValue(e)
				},
				Opacity : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.opacity = n)
				},
				Size : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.size = n)
				},
				Rotation : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.rotation = n)
				},
				OnlineResource : function (e, t) {
					t.href = this.getAttributeNS(e, this.namespaces.xlink, "href")
				},
				Format : function (e, t) {
					t.graphicFormat = this.getChildValue(e)
				}
			}
		}, OpenLayers.Format.Filter.v1_0_0.prototype.readers),
		cssMap : {
			stroke : "strokeColor",
			"stroke-opacity" : "strokeOpacity",
			"stroke-width" : "strokeWidth",
			"stroke-linecap" : "strokeLinecap",
			"stroke-dasharray" : "strokeDashstyle",
			fill : "fillColor",
			"fill-opacity" : "fillOpacity",
			"font-family" : "fontFamily",
			"font-size" : "fontSize",
			"font-weight" : "fontWeight",
			"font-style" : "fontStyle"
		},
		getCssProperty : function (e) {
			var t = null,
			n;
			for (n in this.cssMap)
				if (this.cssMap[n] == e) {
					t = n;
					break
				}
			return t
		},
		getGraphicFormat : function (e) {
			var t,
			n;
			for (n in this.graphicFormats)
				if (this.graphicFormats[n].test(e)) {
					t = n;
					break
				}
			return t || this.defaultGraphicFormat
		},
		defaultGraphicFormat : "image/png",
		graphicFormats : {
			"image/jpeg" : /\.jpe?g$/i,
			"image/gif" : /\.gif$/i,
			"image/png" : /\.png$/i
		},
		write : function (e) {
			return this.writers.sld.StyledLayerDescriptor.apply(this, [e])
		},
		writers : OpenLayers.Util.applyDefaults({
			sld : {
				_OGCExpression : function (e, t) {
					var n = this.createElementNSPlus(e),
					r = "string" == typeof t ? t.split("${") : [t];
					n.appendChild(this.createTextNode(r[0]));
					for (var i, s, o = 1, u = r.length; o < u; o++)
						i = r[o], s = i.indexOf("}"), 0 < s ? (this.writeNode("ogc:PropertyName", {
								property : i.substring(0, s)
							}, n), n.appendChild(this.createTextNode(i.substring(++s)))) : n.appendChild(this.createTextNode("${" + i));
					return n
				},
				StyledLayerDescriptor : function (e) {
					var t = this.createElementNSPlus("sld:StyledLayerDescriptor", {
							attributes : {
								version : this.VERSION,
								"xsi:schemaLocation" : this.schemaLocation
							}
						});
					t.setAttribute("xmlns:ogc", this.namespaces.ogc),
					t.setAttribute("xmlns:gml", this.namespaces.gml),
					e.name && this.writeNode("Name", e.name, t),
					e.title && this.writeNode("Title", e.title, t),
					e.description && this.writeNode("Abstract", e.description, t);
					if (OpenLayers.Util.isArray(e.namedLayers))
						for (var n = 0, r = e.namedLayers.length; n < r; ++n)
							this.writeNode("NamedLayer", e.namedLayers[n], t);
					else
						for (n in e.namedLayers)
							this.writeNode("NamedLayer", e.namedLayers[n], t);
					return t
				},
				Name : function (e) {
					return this.createElementNSPlus("sld:Name", {
						value : e
					})
				},
				Title : function (e) {
					return this.createElementNSPlus("sld:Title", {
						value : e
					})
				},
				Abstract : function (e) {
					return this.createElementNSPlus("sld:Abstract", {
						value : e
					})
				},
				NamedLayer : function (e) {
					var t = this.createElementNSPlus("sld:NamedLayer");
					this.writeNode("Name", e.name, t);
					if (e.namedStyles)
						for (var n = 0, r = e.namedStyles.length; n < r; ++n)
							this.writeNode("NamedStyle", e.namedStyles[n], t);
					if (e.userStyles) {
						n = 0;
						for (r = e.userStyles.length; n < r; ++n)
							this.writeNode("UserStyle", e.userStyles[n], t)
					}
					return t
				},
				NamedStyle : function (e) {
					var t = this.createElementNSPlus("sld:NamedStyle");
					return this.writeNode("Name", e, t),
					t
				},
				UserStyle : function (e) {
					var t = this.createElementNSPlus("sld:UserStyle");
					e.name && this.writeNode("Name", e.name, t),
					e.title && this.writeNode("Title", e.title, t),
					e.description && this.writeNode("Abstract", e.description, t),
					e.isDefault && this.writeNode("IsDefault", e.isDefault, t);
					if (this.multipleSymbolizers && e.rules) {
						for (var n = {
								0 : []
							}, r = [0], i, s, o, u, a, f = 0, l = e.rules.length; f < l; ++f)
							if (i = e.rules[f], i.symbolizers) {
								s = {};
								for (var c = 0, h = i.symbolizers.length; c < h; ++c)
									o = i.symbolizers[c], u = o.zIndex, u in s || (a = i.clone(), a.symbolizers = [], s[u] = a), s[u].symbolizers.push(o.clone());
								for (u in s)
									u in n || (r.push(u), n[u] = []), n[u].push(s[u])
							} else
								n[0].push(i.clone());
						r.sort(),
						f = 0;
						for (l = r.length; f < l; ++f)
							i = n[r[f]], 0 < i.length && (a = e.clone(), a.rules = n[r[f]], this.writeNode("FeatureTypeStyle", a, t))
					} else
						this.writeNode("FeatureTypeStyle", e, t);
					return t
				},
				IsDefault : function (e) {
					return this.createElementNSPlus("sld:IsDefault", {
						value : e ? "1" : "0"
					})
				},
				FeatureTypeStyle : function (e) {
					for (var t = this.createElementNSPlus("sld:FeatureTypeStyle"), n = 0, r = e.rules.length; n < r; ++n)
						this.writeNode("Rule", e.rules[n], t);
					return t
				},
				Rule : function (e) {
					var t = this.createElementNSPlus("sld:Rule");
					e.name && this.writeNode("Name", e.name, t),
					e.title && this.writeNode("Title", e.title, t),
					e.description && this.writeNode("Abstract", e.description, t),
					e.elseFilter ? this.writeNode("ElseFilter", null, t) : e.filter && this.writeNode("ogc:Filter", e.filter, t),
					void 0 != e.minScaleDenominator && this.writeNode("MinScaleDenominator", e.minScaleDenominator, t),
					void 0 != e.maxScaleDenominator && this.writeNode("MaxScaleDenominator", e.maxScaleDenominator, t);
					var n,
					r;
					if (this.multipleSymbolizers && e.symbolizers)
						for (var i = 0, s = e.symbolizers.length; i < s; ++i)
							r = e.symbolizers[i], n = r.CLASS_NAME.split(".").pop(), this.writeNode(n + "Symbolizer", r, t);
					else
						for (var s = OpenLayers.Style.SYMBOLIZER_PREFIXES, i = 0, o = s.length; i < o; ++i)
							n = s[i], (r = e.symbolizer[n]) && this.writeNode(n + "Symbolizer", r, t);
					return t
				},
				ElseFilter : function () {
					return this.createElementNSPlus("sld:ElseFilter")
				},
				MinScaleDenominator : function (e) {
					return this.createElementNSPlus("sld:MinScaleDenominator", {
						value : e
					})
				},
				MaxScaleDenominator : function (e) {
					return this.createElementNSPlus("sld:MaxScaleDenominator", {
						value : e
					})
				},
				LineSymbolizer : function (e) {
					var t = this.createElementNSPlus("sld:LineSymbolizer");
					return this.writeNode("Stroke", e, t),
					t
				},
				Stroke : function (e) {
					var t = this.createElementNSPlus("sld:Stroke");
					return void 0 != e.strokeColor && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "strokeColor"
					}, t),
					void 0 != e.strokeOpacity && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "strokeOpacity"
					}, t),
					void 0 != e.strokeWidth && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "strokeWidth"
					}, t),
					void 0 != e.strokeDashstyle && "solid" !== e.strokeDashstyle && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "strokeDashstyle"
					}, t),
					void 0 != e.strokeLinecap && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "strokeLinecap"
					}, t),
					t
				},
				CssParameter : function (e) {
					return this.createElementNSPlus("sld:CssParameter", {
						attributes : {
							name : this.getCssProperty(e.key)
						},
						value : e.symbolizer[e.key]
					})
				},
				TextSymbolizer : function (e) {
					var t = this.createElementNSPlus("sld:TextSymbolizer");
					return null != e.label && this.writeNode("Label", e.label, t),
					(null != e.fontFamily || null != e.fontSize || null != e.fontWeight || null != e.fontStyle) && this.writeNode("Font", e, t),
					(null != e.labelAnchorPointX || null != e.labelAnchorPointY || null != e.labelAlign || null != e.labelXOffset || null != e.labelYOffset || null != e.labelRotation || null != e.labelPerpendicularOffset) && this.writeNode("LabelPlacement", e, t),
					(null != e.haloRadius || null != e.haloColor || null != e.haloOpacity) && this.writeNode("Halo", e, t),
					(null != e.fontColor || null != e.fontOpacity) && this.writeNode("Fill", {
						fillColor : e.fontColor,
						fillOpacity : e.fontOpacity
					}, t),
					t
				},
				LabelPlacement : function (e) {
					var t = this.createElementNSPlus("sld:LabelPlacement");
					return (null != e.labelAnchorPointX || null != e.labelAnchorPointY || null != e.labelAlign || null != e.labelXOffset || null != e.labelYOffset || null != e.labelRotation) && null == e.labelPerpendicularOffset && this.writeNode("PointPlacement", e, t),
					null != e.labelPerpendicularOffset && this.writeNode("LinePlacement", e, t),
					t
				},
				LinePlacement : function (e) {
					var t = this.createElementNSPlus("sld:LinePlacement");
					return this.writeNode("PerpendicularOffset", e.labelPerpendicularOffset, t),
					t
				},
				PerpendicularOffset : function (e) {
					return this.createElementNSPlus("sld:PerpendicularOffset", {
						value : e
					})
				},
				PointPlacement : function (e) {
					var t = this.createElementNSPlus("sld:PointPlacement");
					return (null != e.labelAnchorPointX || null != e.labelAnchorPointY || null != e.labelAlign) && this.writeNode("AnchorPoint", e, t),
					(null != e.labelXOffset || null != e.labelYOffset) && this.writeNode("Displacement", e, t),
					null != e.labelRotation && this.writeNode("Rotation", e.labelRotation, t),
					t
				},
				AnchorPoint : function (e) {
					var t = this.createElementNSPlus("sld:AnchorPoint"),
					n = e.labelAnchorPointX,
					r = e.labelAnchorPointY;
					null != n && this.writeNode("AnchorPointX", n, t),
					null != r && this.writeNode("AnchorPointY", r, t);
					if (null == n && null == r) {
						var i = e.labelAlign.substr(0, 1),
						e = e.labelAlign.substr(1, 1);
						"l" === i ? n = 0 : "c" === i ? n = .5 : "r" === i && (n = 1),
						"b" === e ? r = 0 : "m" === e ? r = .5 : "t" === e && (r = 1),
						this.writeNode("AnchorPointX", n, t),
						this.writeNode("AnchorPointY", r, t)
					}
					return t
				},
				AnchorPointX : function (e) {
					return this.createElementNSPlus("sld:AnchorPointX", {
						value : e
					})
				},
				AnchorPointY : function (e) {
					return this.createElementNSPlus("sld:AnchorPointY", {
						value : e
					})
				},
				Displacement : function (e) {
					var t = this.createElementNSPlus("sld:Displacement");
					return null != e.labelXOffset && this.writeNode("DisplacementX", e.labelXOffset, t),
					null != e.labelYOffset && this.writeNode("DisplacementY", e.labelYOffset, t),
					t
				},
				DisplacementX : function (e) {
					return this.createElementNSPlus("sld:DisplacementX", {
						value : e
					})
				},
				DisplacementY : function (e) {
					return this.createElementNSPlus("sld:DisplacementY", {
						value : e
					})
				},
				Font : function (e) {
					var t = this.createElementNSPlus("sld:Font");
					return e.fontFamily && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fontFamily"
					}, t),
					e.fontSize && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fontSize"
					}, t),
					e.fontWeight && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fontWeight"
					}, t),
					e.fontStyle && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fontStyle"
					}, t),
					t
				},
				Label : function (e) {
					return this.writers.sld._OGCExpression.call(this, "sld:Label", e)
				},
				Halo : function (e) {
					var t = this.createElementNSPlus("sld:Halo");
					return e.haloRadius && this.writeNode("Radius", e.haloRadius, t),
					(e.haloColor || e.haloOpacity) && this.writeNode("Fill", {
						fillColor : e.haloColor,
						fillOpacity : e.haloOpacity
					}, t),
					t
				},
				Radius : function (e) {
					return this.createElementNSPlus("sld:Radius", {
						value : e
					})
				},
				RasterSymbolizer : function (e) {
					var t = this.createElementNSPlus("sld:RasterSymbolizer");
					return e.geometry && this.writeNode("Geometry", e.geometry, t),
					e.opacity && this.writeNode("Opacity", e.opacity, t),
					e.colorMap && this.writeNode("ColorMap", e.colorMap, t),
					t
				},
				Geometry : function (e) {
					var t = this.createElementNSPlus("sld:Geometry");
					return e.property && this.writeNode("ogc:PropertyName", e, t),
					t
				},
				ColorMap : function (e) {
					for (var t = this.createElementNSPlus("sld:ColorMap"), n = 0, r = e.length; n < r; ++n)
						this.writeNode("ColorMapEntry", e[n], t);
					return t
				},
				ColorMapEntry : function (e) {
					var t = this.createElementNSPlus("sld:ColorMapEntry");
					return t.setAttribute("color", e.color),
					void 0 !== e.opacity && t.setAttribute("opacity", parseFloat(e.opacity)),
					void 0 !== e.quantity && t.setAttribute("quantity", parseFloat(e.quantity)),
					void 0 !== e.label && t.setAttribute("label", e.label),
					t
				},
				PolygonSymbolizer : function (e) {
					var t = this.createElementNSPlus("sld:PolygonSymbolizer");
					return !1 !== e.fill && this.writeNode("Fill", e, t),
					!1 !== e.stroke && this.writeNode("Stroke", e, t),
					t
				},
				Fill : function (e) {
					var t = this.createElementNSPlus("sld:Fill");
					return e.fillColor && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fillColor"
					}, t),
					null != e.fillOpacity && this.writeNode("CssParameter", {
						symbolizer : e,
						key : "fillOpacity"
					}, t),
					t
				},
				PointSymbolizer : function (e) {
					var t = this.createElementNSPlus("sld:PointSymbolizer");
					return this.writeNode("Graphic", e, t),
					t
				},
				Graphic : function (e) {
					var t = this.createElementNSPlus("sld:Graphic");
					return void 0 != e.externalGraphic ? this.writeNode("ExternalGraphic", e, t) : this.writeNode("Mark", e, t),
					void 0 != e.graphicOpacity && this.writeNode("Opacity", e.graphicOpacity, t),
					void 0 != e.pointRadius ? this.writeNode("Size", 2 * e.pointRadius, t) : void 0 != e.graphicWidth && this.writeNode("Size", e.graphicWidth, t),
					void 0 != e.rotation && this.writeNode("Rotation", e.rotation, t),
					t
				},
				ExternalGraphic : function (e) {
					var t = this.createElementNSPlus("sld:ExternalGraphic");
					return this.writeNode("OnlineResource", e.externalGraphic, t),
					this.writeNode("Format", e.graphicFormat || this.getGraphicFormat(e.externalGraphic), t),
					t
				},
				Mark : function (e) {
					var t = this.createElementNSPlus("sld:Mark");
					return e.graphicName && this.writeNode("WellKnownName", e.graphicName, t),
					!1 !== e.fill && this.writeNode("Fill", e, t),
					!1 !== e.stroke && this.writeNode("Stroke", e, t),
					t
				},
				WellKnownName : function (e) {
					return this.createElementNSPlus("sld:WellKnownName", {
						value : e
					})
				},
				Opacity : function (e) {
					return this.createElementNSPlus("sld:Opacity", {
						value : e
					})
				},
				Size : function (e) {
					return this.writers.sld._OGCExpression.call(this, "sld:Size", e)
				},
				Rotation : function (e) {
					return this.createElementNSPlus("sld:Rotation", {
						value : e
					})
				},
				OnlineResource : function (e) {
					return this.createElementNSPlus("sld:OnlineResource", {
						attributes : {
							"xlink:type" : "simple",
							"xlink:href" : e
						}
					})
				},
				Format : function (e) {
					return this.createElementNSPlus("sld:Format", {
						value : e
					})
				}
			}
		}, OpenLayers.Format.Filter.v1_0_0.prototype.writers),
		CLASS_NAME : "OpenLayers.Format.SLD.v1"
	}), OpenLayers.Layer.WMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
		DEFAULT_PARAMS : {
			service : "WMS",
			version : "1.1.1",
			request : "GetMap",
			styles : "",
			format : "image/jpeg"
		},
		isBaseLayer : !0,
		encodeBBOX : !1,
		noMagic : !1,
		yx : {},
		initialize : function (e, t, n, r) {
			var i = [],
			n = OpenLayers.Util.upperCaseObject(n);
			1.3 <= parseFloat(n.VERSION) && !n.EXCEPTIONS && (n.EXCEPTIONS = "INIMAGE"),
			i.push(e, t, n, r),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, i),
			OpenLayers.Util.applyDefaults(this.params, OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));
			if (!this.noMagic && this.params.TRANSPARENT && "true" == this.params.TRANSPARENT.toString().toLowerCase()) {
				if (null == r || !r.isBaseLayer)
					this.isBaseLayer = !1;
				"image/jpeg" == this.params.FORMAT && (this.params.FORMAT = OpenLayers.Util.alphaHack() ? "image/gif" : "image/png")
			}
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.WMS(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		reverseAxisOrder : function () {
			var e = this.projection.getCode();
			return 1.3 <= parseFloat(this.params.VERSION) && (!!this.yx[e] || !!OpenLayers.Projection.defaults[e].yx)
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.getImageSize(),
			n = {},
			r = this.reverseAxisOrder();
			return n.BBOX = this.encodeBBOX ? e.toBBOX(null, r) : e.toArray(r),
			n.WIDTH = t.w,
			n.HEIGHT = t.h,
			this.getFullRequestString(n)
		},
		mergeNewParams : function (e) {
			return e = [OpenLayers.Util.upperCaseObject(e)],
			OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, e)
		},
		getFullRequestString : function (e, t) {
			var n = this.map.getProjectionObject(),
			n = this.projection && this.projection.equals(n) ? this.projection.getCode() : n.getCode(),
			n = "none" == n ? null : n;
			return 1.3 <= parseFloat(this.params.VERSION) ? this.params.CRS = n : this.params.SRS = n,
			"boolean" == typeof this.params.TRANSPARENT && (e.TRANSPARENT = this.params.TRANSPARENT ? "TRUE" : "FALSE"),
			OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Layer.WMS"
	}), OpenLayers.Format.WMC.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WMC.v1, {
		VERSION : "1.1.0",
		schemaLocation : "http://www.opengis.net/context http://schemas.opengis.net/context/1.1.0/context.xsd",
		initialize : function (e) {
			OpenLayers.Format.WMC.v1.prototype.initialize.apply(this, [e])
		},
		read_sld_MinScaleDenominator : function (e, t) {
			var n = parseFloat(this.getChildValue(t));
			0 < n && (e.maxScale = n)
		},
		read_sld_MaxScaleDenominator : function (e, t) {
			e.minScale = parseFloat(this.getChildValue(t))
		},
		read_wmc_SRS : function (e, t) {
			"srs" in e || (e.srs = {}),
			e.srs[this.getChildValue(t)] = !0
		},
		write_wmc_Layer : function (e) {
			var t = OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this, [e]);
			if (e.maxScale) {
				var n = this.createElementNS(this.namespaces.sld, "sld:MinScaleDenominator");
				n.appendChild(this.createTextNode(e.maxScale.toPrecision(16))),
				t.appendChild(n)
			}
			e.minScale && (n = this.createElementNS(this.namespaces.sld, "sld:MaxScaleDenominator"), n.appendChild(this.createTextNode(e.minScale.toPrecision(16))), t.appendChild(n));
			if (e.srs)
				for (var r in e.srs)
					t.appendChild(this.createElementDefaultNS("SRS", r));
			return t.appendChild(this.write_wmc_FormatList(e)),
			t.appendChild(this.write_wmc_StyleList(e)),
			e.dimensions && t.appendChild(this.write_wmc_DimensionList(e)),
			t.appendChild(this.write_wmc_LayerExtension(e)),
			t
		},
		CLASS_NAME : "OpenLayers.Format.WMC.v1_1_0"
	}), OpenLayers.Format.XLS = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.1.0",
		stringifyOutput : !0,
		CLASS_NAME : "OpenLayers.Format.XLS"
	}), OpenLayers.Format.XLS.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			xls : "http://www.opengis.net/xls",
			gml : "http://www.opengis.net/gml",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		xy : !0,
		defaultPrefix : "xls",
		schemaLocation : null,
		read : function (e, t) {
			OpenLayers.Util.applyDefaults(t, this.options);
			var n = {};
			return this.readChildNodes(e, n),
			n
		},
		readers : {
			xls : {
				XLS : function (e, t) {
					t.version = e.getAttribute("version"),
					this.readChildNodes(e, t)
				},
				Response : function (e, t) {
					this.readChildNodes(e, t)
				},
				GeocodeResponse : function (e, t) {
					t.responseLists = [],
					this.readChildNodes(e, t)
				},
				GeocodeResponseList : function (e, t) {
					var n = {
						features : [],
						numberOfGeocodedAddresses : parseInt(e.getAttribute("numberOfGeocodedAddresses"))
					};
					t.responseLists.push(n),
					this.readChildNodes(e, n)
				},
				GeocodedAddress : function (e, t) {
					var n = new OpenLayers.Feature.Vector;
					t.features.push(n),
					this.readChildNodes(e, n),
					n.geometry = n.components[0]
				},
				GeocodeMatchCode : function (e, t) {
					t.attributes.matchCode = {
						accuracy : parseFloat(e.getAttribute("accuracy")),
						matchType : e.getAttribute("matchType")
					}
				},
				Address : function (e, t) {
					var n = {
						countryCode : e.getAttribute("countryCode"),
						addressee : e.getAttribute("addressee"),
						street : [],
						place : []
					};
					t.attributes.address = n,
					this.readChildNodes(e, n)
				},
				freeFormAddress : function (e, t) {
					t.freeFormAddress = this.getChildValue(e)
				},
				StreetAddress : function (e, t) {
					this.readChildNodes(e, t)
				},
				Building : function (e, t) {
					t.building = {
						number : e.getAttribute("number"),
						subdivision : e.getAttribute("subdivision"),
						buildingName : e.getAttribute("buildingName")
					}
				},
				Street : function (e, t) {
					t.street.push(this.getChildValue(e))
				},
				Place : function (e, t) {
					t.place[e.getAttribute("type")] = this.getChildValue(e)
				},
				PostalCode : function (e, t) {
					t.postalCode = this.getChildValue(e)
				}
			},
			gml : OpenLayers.Format.GML.v3.prototype.readers.gml
		},
		write : function (e) {
			return this.writers.xls.XLS.apply(this, [e])
		},
		writers : {
			xls : {
				XLS : function (e) {
					var t = this.createElementNSPlus("xls:XLS", {
							attributes : {
								version : this.VERSION,
								"xsi:schemaLocation" : this.schemaLocation
							}
						});
					return this.writeNode("RequestHeader", e.header, t),
					this.writeNode("Request", e, t),
					t
				},
				RequestHeader : function () {
					return this.createElementNSPlus("xls:RequestHeader")
				},
				Request : function (e) {
					var t = this.createElementNSPlus("xls:Request", {
							attributes : {
								methodName : "GeocodeRequest",
								requestID : e.requestID || "",
								version : this.VERSION
							}
						});
					return this.writeNode("GeocodeRequest", e.addresses, t),
					t
				},
				GeocodeRequest : function (e) {
					for (var t = this.createElementNSPlus("xls:GeocodeRequest"), n = 0, r = e.length; n < r; n++)
						this.writeNode("Address", e[n], t);
					return t
				},
				Address : function (e) {
					var t = this.createElementNSPlus("xls:Address", {
							attributes : {
								countryCode : e.countryCode
							}
						});
					return e.freeFormAddress ? this.writeNode("freeFormAddress", e.freeFormAddress, t) : (e.street && this.writeNode("StreetAddress", e, t), e.municipality && this.writeNode("Municipality", e.municipality, t), e.countrySubdivision && this.writeNode("CountrySubdivision", e.countrySubdivision, t), e.postalCode && this.writeNode("PostalCode", e.postalCode, t)),
					t
				},
				freeFormAddress : function (e) {
					return this.createElementNSPlus("freeFormAddress", {
						value : e
					})
				},
				StreetAddress : function (e) {
					var t = this.createElementNSPlus("xls:StreetAddress");
					e.building && this.writeNode(t, "Building", e.building),
					e = e.street,
					OpenLayers.Util.isArray(e) || (e = [e]);
					for (var n = 0, r = e.length; n < r; n++)
						this.writeNode("Street", e[n], t);
					return t
				},
				Building : function (e) {
					return this.createElementNSPlus("xls:Building", {
						attributes : {
							number : e.number,
							subdivision : e.subdivision,
							buildingName : e.buildingName
						}
					})
				},
				Street : function (e) {
					return this.createElementNSPlus("xls:Street", {
						value : e
					})
				},
				Municipality : function (e) {
					return this.createElementNSPlus("xls:Place", {
						attributes : {
							type : "Municipality"
						},
						value : e
					})
				},
				CountrySubdivision : function (e) {
					return this.createElementNSPlus("xls:Place", {
						attributes : {
							type : "CountrySubdivision"
						},
						value : e
					})
				},
				PostalCode : function (e) {
					return this.createElementNSPlus("xls:PostalCode", {
						value : e
					})
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.XLS.v1"
	}), OpenLayers.Format.XLS.v1_1_0 = OpenLayers.Class(OpenLayers.Format.XLS.v1, {
		VERSION : "1.1",
		schemaLocation : "http://www.opengis.net/xls http://schemas.opengis.net/ols/1.1.0/LocationUtilityService.xsd",
		CLASS_NAME : "OpenLayers.Format.XLS.v1_1_0"
	}), OpenLayers.Format.XLS.v1_1 = OpenLayers.Format.XLS.v1_1_0, OpenLayers.Renderer.SVG = OpenLayers.Class(OpenLayers.Renderer.Elements, {
		xmlns : "http://www.w3.org/2000/svg",
		xlinkns : "http://www.w3.org/1999/xlink",
		MAX_PIXEL : 15e3,
		translationParameters : null,
		symbolMetrics : null,
		initialize : function (e) {
			this.supported() && (OpenLayers.Renderer.Elements.prototype.initialize.apply(this, arguments), this.translationParameters = {
					x : 0,
					y : 0
				}, this.symbolMetrics = {})
		},
		supported : function () {
			return document.implementation && (document.implementation.hasFeature("org.w3c.svg", "1.0") || document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#SVG", "1.1") || document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"))
		},
		inValidRange : function (e, t, n) {
			return e += n ? 0 : this.translationParameters.x,
			t += n ? 0 : this.translationParameters.y,
			e >= -this.MAX_PIXEL && e <= this.MAX_PIXEL && t >= -this.MAX_PIXEL && t <= this.MAX_PIXEL
		},
		setExtent : function (e, t) {
			var n = OpenLayers.Renderer.Elements.prototype.setExtent.apply(this, arguments),
			r = this.getResolution(),
			i = -e.left / r,
			r = e.top / r;
			return t ? (this.left = i, this.top = r, this.rendererRoot.setAttributeNS(null, "viewBox", "0 0 " + this.size.w + " " + this.size.h), this.translate(this.xOffset, 0), !0) : ((i = this.translate(i - this.left + this.xOffset, r - this.top)) || this.setExtent(e, !0), n && i)
		},
		translate : function (e, t) {
			if (this.inValidRange(e, t, !0)) {
				var n = "";
				if (e || t)
					n = "translate(" + e + "," + t + ")";
				return this.root.setAttributeNS(null, "transform", n),
				this.translationParameters = {
					x : e,
					y : t
				},
				!0
			}
			return !1
		},
		setSize : function (e) {
			OpenLayers.Renderer.prototype.setSize.apply(this, arguments),
			this.rendererRoot.setAttributeNS(null, "width", this.size.w),
			this.rendererRoot.setAttributeNS(null, "height", this.size.h)
		},
		getNodeType : function (e, t) {
			var n = null;
			switch (e.CLASS_NAME) {
			case "OpenLayers.Geometry.Point":
				n = t.externalGraphic ? "image" : this.isComplexSymbol(t.graphicName) ? "svg" : "circle";
				break;
			case "OpenLayers.Geometry.Rectangle":
				n = "rect";
				break;
			case "OpenLayers.Geometry.LineString":
				n = "polyline";
				break;
			case "OpenLayers.Geometry.LinearRing":
				n = "polygon";
				break;
			case "OpenLayers.Geometry.Polygon":
			case "OpenLayers.Geometry.Curve":
				n = "path"
			}
			return n
		},
		setStyle : function (e, t, n) {
			var t = t || e._style,
			n = n || e._options,
			r = parseFloat(e.getAttributeNS(null, "r")),
			i = 1,
			s;
			if ("OpenLayers.Geometry.Point" == e._geometryClass && r) {
				e.style.visibility = "";
				if (!1 === t.graphic)
					e.style.visibility = "hidden";
				else if (t.externalGraphic) {
					s = this.getPosition(e),
					t.graphicTitle && (e.setAttributeNS(null, "title", t.graphicTitle), r = e.getElementsByTagName("title"), 0 < r.length ? r[0].firstChild.textContent = t.graphicTitle : (r = this.nodeFactory(null, "title"), r.textContent = t.graphicTitle, e.appendChild(r))),
					t.graphicWidth && t.graphicHeight && e.setAttributeNS(null, "preserveAspectRatio", "none");
					var r = t.graphicWidth || t.graphicHeight,
					o = t.graphicHeight || t.graphicWidth,
					r = r ? r : 2 * t.pointRadius,
					o = o ? o : 2 * t.pointRadius,
					u = void 0 != t.graphicYOffset ? t.graphicYOffset :  - (.5 * o),
					a = t.graphicOpacity || t.fillOpacity;
					e.setAttributeNS(null, "x", (s.x + (void 0 != t.graphicXOffset ? t.graphicXOffset :  - (.5 * r))).toFixed()),
					e.setAttributeNS(null, "y", (s.y + u).toFixed()),
					e.setAttributeNS(null, "width", r),
					e.setAttributeNS(null, "height", o),
					e.setAttributeNS(this.xlinkns, "href", t.externalGraphic),
					e.setAttributeNS(null, "style", "opacity: " + a),
					e.onclick = OpenLayers.Renderer.SVG.preventDefault
				} else if (this.isComplexSymbol(t.graphicName)) {
					var r = 3 * t.pointRadius,
					o = 2 * r,
					f = this.importSymbol(t.graphicName);
					s = this.getPosition(e),
					i = 3 * this.symbolMetrics[f.id][0] / o,
					u = e.parentNode,
					a = e.nextSibling,
					u && u.removeChild(e),
					e.firstChild && e.removeChild(e.firstChild),
					e.appendChild(f.firstChild.cloneNode(!0)),
					e.setAttributeNS(null, "viewBox", f.getAttributeNS(null, "viewBox")),
					e.setAttributeNS(null, "width", o),
					e.setAttributeNS(null, "height", o),
					e.setAttributeNS(null, "x", s.x - r),
					e.setAttributeNS(null, "y", s.y - r),
					a ? u.insertBefore(e, a) : u && u.appendChild(e)
				} else
					e.setAttributeNS(null, "r", t.pointRadius);
				r = t.rotation,
				(void 0 !== r || void 0 !== e._rotation) && s && (e._rotation = r, r |= 0, "svg" !== e.nodeName ? e.setAttributeNS(null, "transform", "rotate(" + r + " " + s.x + " " + s.y + ")") : (s = this.symbolMetrics[f.id], e.firstChild.setAttributeNS(null, "transform", "rotate(" + r + " " + s[1] + " " + s[2] + ")")))
			}
			return n.isFilled ? (e.setAttributeNS(null, "fill", t.fillColor), e.setAttributeNS(null, "fill-opacity", t.fillOpacity)) : e.setAttributeNS(null, "fill", "none"),
			n.isStroked ? (e.setAttributeNS(null, "stroke", t.strokeColor), e.setAttributeNS(null, "stroke-opacity", t.strokeOpacity), e.setAttributeNS(null, "stroke-width", t.strokeWidth * i), e.setAttributeNS(null, "stroke-linecap", t.strokeLinecap || "round"), e.setAttributeNS(null, "stroke-linejoin", "round"), t.strokeDashstyle && e.setAttributeNS(null, "stroke-dasharray", this.dashStyle(t, i))) : e.setAttributeNS(null, "stroke", "none"),
			t.pointerEvents && e.setAttributeNS(null, "pointer-events", t.pointerEvents),
			null != t.cursor && e.setAttributeNS(null, "cursor", t.cursor),
			e
		},
		dashStyle : function (e, t) {
			var n = e.strokeWidth * t,
			r = e.strokeDashstyle;
			switch (r) {
			case "solid":
				return "none";
			case "dot":
				return [1, 4 * n].join();
			case "dash":
				return [4 * n, 4 * n].join();
			case "dashdot":
				return [4 * n, 4 * n, 1, 4 * n].join();
			case "longdash":
				return [8 * n, 4 * n].join();
			case "longdashdot":
				return [8 * n, 4 * n, 1, 4 * n].join();
			default:
				return OpenLayers.String.trim(r).replace(/\s+/g, ",")
			}
		},
		createNode : function (e, t) {
			var n = document.createElementNS(this.xmlns, e);
			return t && n.setAttributeNS(null, "id", t),
			n
		},
		nodeTypeCompare : function (e, t) {
			return t == e.nodeName
		},
		createRenderRoot : function () {
			var e = this.nodeFactory(this.container.id + "_svgRoot", "svg");
			return e.style.display = "block",
			e
		},
		createRoot : function (e) {
			return this.nodeFactory(this.container.id + e, "g")
		},
		createDefs : function () {
			var e = this.nodeFactory(this.container.id + "_defs", "defs");
			return this.rendererRoot.appendChild(e),
			e
		},
		drawPoint : function (e, t) {
			return this.drawCircle(e, t, 1)
		},
		drawCircle : function (e, t, n) {
			var r = this.getResolution(),
			i = (t.x - this.featureDx) / r + this.left,
			t = this.top - t.y / r;
			return this.inValidRange(i, t) ? (e.setAttributeNS(null, "cx", i), e.setAttributeNS(null, "cy", t), e.setAttributeNS(null, "r", n), e) : !1
		},
		drawLineString : function (e, t) {
			var n = this.getComponentsString(t.components);
			return n.path ? (e.setAttributeNS(null, "points", n.path), n.complete ? e : null) : !1
		},
		drawLinearRing : function (e, t) {
			var n = this.getComponentsString(t.components);
			return n.path ? (e.setAttributeNS(null, "points", n.path), n.complete ? e : null) : !1
		},
		drawPolygon : function (e, t) {
			for (var n = "", r = !0, i = !0, s, o, u = 0, a = t.components.length; u < a; u++)
				n += " M", s = this.getComponentsString(t.components[u].components, " "), (o = s.path) ? (n += " " + o, i = s.complete && i) : r = !1;
			return r ? (e.setAttributeNS(null, "d", n + " z"), e.setAttributeNS(null, "fill-rule", "evenodd"), i ? e : null) : !1
		},
		drawRectangle : function (e, t) {
			var n = this.getResolution(),
			r = (t.x - this.featureDx) / n + this.left,
			i = this.top - t.y / n;
			return this.inValidRange(r, i) ? (e.setAttributeNS(null, "x", r), e.setAttributeNS(null, "y", i), e.setAttributeNS(null, "width", t.width / n), e.setAttributeNS(null, "height", t.height / n), e) : !1
		},
		drawText : function (e, t, n) {
			var r = !!t.labelOutlineWidth;
			if (r) {
				var i = OpenLayers.Util.extend({}, t);
				i.fontColor = i.labelOutlineColor,
				i.fontStrokeColor = i.labelOutlineColor,
				i.fontStrokeWidth = t.labelOutlineWidth,
				delete i.labelOutlineWidth,
				this.drawText(e, i, n)
			}
			var s = this.getResolution(),
			i = (n.x - this.featureDx) / s + this.left,
			o = n.y / s - this.top,
			r = r ? this.LABEL_OUTLINE_SUFFIX : this.LABEL_ID_SUFFIX,
			s = this.nodeFactory(e + r, "text");
			s.setAttributeNS(null, "x", i),
			s.setAttributeNS(null, "y", -o),
			t.fontColor && s.setAttributeNS(null, "fill", t.fontColor),
			t.fontStrokeColor && s.setAttributeNS(null, "stroke", t.fontStrokeColor),
			t.fontStrokeWidth && s.setAttributeNS(null, "stroke-width", t.fontStrokeWidth),
			t.fontOpacity && s.setAttributeNS(null, "opacity", t.fontOpacity),
			t.fontFamily && s.setAttributeNS(null, "font-family", t.fontFamily),
			t.fontSize && s.setAttributeNS(null, "font-size", t.fontSize),
			t.fontWeight && s.setAttributeNS(null, "font-weight", t.fontWeight),
			t.fontStyle && s.setAttributeNS(null, "font-style", t.fontStyle),
			!0 === t.labelSelect ? (s.setAttributeNS(null, "pointer-events", "visible"), s._featureId = e) : s.setAttributeNS(null, "pointer-events", "none"),
			o = t.labelAlign || OpenLayers.Renderer.defaultSymbolizer.labelAlign,
			s.setAttributeNS(null, "text-anchor", OpenLayers.Renderer.SVG.LABEL_ALIGN[o[0]] || "middle"),
			!0 === OpenLayers.IS_GECKO && s.setAttributeNS(null, "dominant-baseline", OpenLayers.Renderer.SVG.LABEL_ALIGN[o[1]] || "central");
			for (var u = t.label.split("\n"), a = u.length; s.childNodes.length > a; )
				s.removeChild(s.lastChild);
			for (var f = 0; f < a; f++) {
				var l = this.nodeFactory(e + r + "_tspan_" + f, "tspan");
				!0 === t.labelSelect && (l._featureId = e, l._geometry = n, l._geometryClass = n.CLASS_NAME),
				!1 === OpenLayers.IS_GECKO && l.setAttributeNS(null, "baseline-shift", OpenLayers.Renderer.SVG.LABEL_VSHIFT[o[1]] || "-35%"),
				l.setAttribute("x", i);
				if (0 == f) {
					var c = OpenLayers.Renderer.SVG.LABEL_VFACTOR[o[1]];
					null == c && (c = -0.5),
					l.setAttribute("dy", c * (a - 1) + "em")
				} else
					l.setAttribute("dy", "1em");
				l.textContent = "" === u[f] ? " " : u[f],
				l.parentNode || s.appendChild(l)
			}
			s.parentNode || this.textRoot.appendChild(s)
		},
		getComponentsString : function (e, t) {
			for (var n = [], r = !0, i = e.length, s = [], o, u = 0; u < i; u++)
				o = e[u], n.push(o), (o = this.getShortString(o)) ? s.push(o) : (0 < u && this.getShortString(e[u - 1]) && s.push(this.clipLine(e[u], e[u - 1])), u < i - 1 && this.getShortString(e[u + 1]) && s.push(this.clipLine(e[u], e[u + 1])), r = !1);
			return {
				path : s.join(t || ","),
				complete : r
			}
		},
		clipLine : function (e, t) {
			if (t.equals(e))
				return "";
			var n = this.getResolution(),
			r = this.MAX_PIXEL - this.translationParameters.x,
			i = this.MAX_PIXEL - this.translationParameters.y,
			s = (t.x - this.featureDx) / n + this.left,
			o = this.top - t.y / n,
			u = (e.x - this.featureDx) / n + this.left,
			n = this.top - e.y / n,
			a;
			if (u < -r || u > r)
				a = (n - o) / (u - s), u = 0 > u ? -r : r, n = o + (u - s) * a;
			if (n < -i || n > i)
				a = (u - s) / (n - o), n = 0 > n ? -i : i, u = s + (n - o) * a;
			return u + "," + n
		},
		getShortString : function (e) {
			var t = this.getResolution(),
			n = (e.x - this.featureDx) / t + this.left,
			e = this.top - e.y / t;
			return this.inValidRange(n, e) ? n + "," + e : !1
		},
		getPosition : function (e) {
			return {
				x : parseFloat(e.getAttributeNS(null, "cx")),
				y : parseFloat(e.getAttributeNS(null, "cy"))
			}
		},
		importSymbol : function (e) {
			this.defs || (this.defs = this.createDefs());
			var t = this.container.id + "-" + e,
			n = document.getElementById(t);
			if (null != n)
				return n;
			var r = OpenLayers.Renderer.symbol[e];
			if (!r)
				throw Error(e + " is not a valid symbol name");
			var e = this.nodeFactory(t, "symbol"),
			i = this.nodeFactory(null, "polygon");
			e.appendChild(i);
			for (var n = new OpenLayers.Bounds(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0), s = [], o, u, a = 0; a < r.length; a += 2)
				o = r[a], u = r[a + 1], n.left = Math.min(n.left, o), n.bottom = Math.min(n.bottom, u), n.right = Math.max(n.right, o), n.top = Math.max(n.top, u), s.push(o, ",", u);
			return i.setAttributeNS(null, "points", s.join(" ")),
			r = n.getWidth(),
			i = n.getHeight(),
			e.setAttributeNS(null, "viewBox", [n.left - r, n.bottom - i, 3 * r, 3 * i].join(" ")),
			this.symbolMetrics[t] = [Math.max(r, i), n.getCenterLonLat().lon, n.getCenterLonLat().lat],
			this.defs.appendChild(e),
			e
		},
		getFeatureIdFromEvent : function (e) {
			var t = OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this, arguments);
			return t || (t = e.target, t = t.parentNode && t != this.rendererRoot ? t.parentNode._featureId : void 0),
			t
		},
		CLASS_NAME : "OpenLayers.Renderer.SVG"
	}), OpenLayers.Renderer.SVG.LABEL_ALIGN = {
	l : "start",
	r : "end",
	b : "bottom",
	t : "hanging"
}, OpenLayers.Renderer.SVG.LABEL_VSHIFT = {
	t : "-70%",
	b : "0"
}, OpenLayers.Renderer.SVG.LABEL_VFACTOR = {
	t : 0,
	b : -1
}, OpenLayers.Renderer.SVG.preventDefault = function (e) {
	e.preventDefault && e.preventDefault()
}, OpenLayers.Format.SLD.v1_0_0 = OpenLayers.Class(OpenLayers.Format.SLD.v1, {
		VERSION : "1.0.0",
		schemaLocation : "http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd",
		CLASS_NAME : "OpenLayers.Format.SLD.v1_0_0"
	}), OpenLayers.Format.OWSContext = OpenLayers.Class(OpenLayers.Format.Context, {
		defaultVersion : "0.3.1",
		getVersion : function (e, t) {
			var n = OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this, arguments);
			return "0.3.0" === n && (n = this.defaultVersion),
			n
		},
		toContext : function (e) {
			var t = {};
			return "OpenLayers.Map" == e.CLASS_NAME && (t.bounds = e.getExtent(), t.maxExtent = e.maxExtent, t.projection = e.projection, t.size = e.getSize(), t.layers = e.layers),
			t
		},
		CLASS_NAME : "OpenLayers.Format.OWSContext"
	}), OpenLayers.Format.OWSContext.v0_3_1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			owc : "http://www.opengis.net/ows-context",
			gml : "http://www.opengis.net/gml",
			kml : "http://www.opengis.net/kml/2.2",
			ogc : "http://www.opengis.net/ogc",
			ows : "http://www.opengis.net/ows",
			sld : "http://www.opengis.net/sld",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		VERSION : "0.3.1",
		schemaLocation : "http://www.opengis.net/ows-context http://www.ogcnetwork.net/schemas/owc/0.3.1/owsContext.xsd",
		defaultPrefix : "owc",
		extractAttributes : !0,
		xy : !0,
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		featureNS : "http://mapserver.gis.umn.edu/mapserver",
		featureType : "vector",
		geometryName : "geometry",
		nestingLayerLookup : null,
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e]),
			OpenLayers.Format.GML.v2.prototype.setGeometryTypes.call(this)
		},
		setNestingPath : function (e) {
			if (e.layersContext)
				for (var t = 0, n = e.layersContext.length; t < n; t++) {
					var r = e.layersContext[t],
					i = [],
					s = e.title || "";
					e.metadata && e.metadata.nestingPath && (i = e.metadata.nestingPath.slice()),
					"" != s && i.push(s),
					r.metadata.nestingPath = i,
					r.layersContext && this.setNestingPath(r)
				}
		},
		decomposeNestingPath : function (e) {
			var t = [];
			if (OpenLayers.Util.isArray(e)) {
				for (e = e.slice(); 0 < e.length; )
					t.push(e.slice()), e.pop();
				t.reverse()
			}
			return t
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			this.setNestingPath({
				layersContext : t.layersContext
			}),
			e = [],
			this.processLayer(e, t),
			delete t.layersContext,
			t.layersContext = e,
			t
		},
		processLayer : function (e, t) {
			if (t.layersContext)
				for (var n = 0, r = t.layersContext.length; n < r; n++) {
					var i = t.layersContext[n];
					e.push(i),
					i.layersContext && this.processLayer(e, i)
				}
		},
		write : function (e, t) {
			this.nestingLayerLookup = {},
			t = t || {},
			OpenLayers.Util.applyDefaults(t, e);
			var n = this.writeNode("OWSContext", t);
			return this.nestingLayerLookup = null,
			this.setAttributeNS(n, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [n])
		},
		readers : {
			kml : {
				Document : function (e, t) {
					t.features = (new OpenLayers.Format.KML({
							kmlns : this.namespaces.kml,
							extractStyles : !0
						})).read(e)
				}
			},
			owc : {
				OWSContext : function (e, t) {
					this.readChildNodes(e, t)
				},
				General : function (e, t) {
					this.readChildNodes(e, t)
				},
				ResourceList : function (e, t) {
					this.readChildNodes(e, t)
				},
				Layer : function (e, t) {
					var n = {
						metadata : {},
						visibility : "1" != e.getAttribute("hidden"),
						queryable : "1" == e.getAttribute("queryable"),
						opacity : null != e.getAttribute("opacity") ? parseFloat(e.getAttribute("opacity")) : null,
						name : e.getAttribute("name"),
						categoryLayer : null == e.getAttribute("name"),
						formats : [],
						styles : []
					};
					t.layersContext || (t.layersContext = []),
					t.layersContext.push(n),
					this.readChildNodes(e, n)
				},
				InlineGeometry : function (e, t) {
					t.features = [];
					var n = this.getElementsByTagNameNS(e, this.namespaces.gml, "featureMember"),
					r;
					1 <= n.length && (r = n[0]),
					r && r.firstChild && (n = r.firstChild.nextSibling ? r.firstChild.nextSibling : r.firstChild, this.setNamespace("feature", n.namespaceURI), this.featureType = n.localName || n.nodeName.split(":").pop(), this.readChildNodes(e, t))
				},
				Server : function (e, t) {
					if (!t.service && !t.version || t.service != OpenLayers.Format.Context.serviceTypes.WMS)
						t.service = e.getAttribute("service"), t.version = e.getAttribute("version"), this.readChildNodes(e, t)
				},
				Name : function (e, t) {
					t.name = this.getChildValue(e),
					this.readChildNodes(e, t)
				},
				Title : function (e, t) {
					t.title = this.getChildValue(e),
					this.readChildNodes(e, t)
				},
				StyleList : function (e, t) {
					this.readChildNodes(e, t.styles)
				},
				Style : function (e, t) {
					var n = {};
					t.push(n),
					this.readChildNodes(e, n)
				},
				LegendURL : function (e, t) {
					var n = {};
					t.legend = n,
					this.readChildNodes(e, n)
				},
				OnlineResource : function (e, t) {
					t.url = this.getAttributeNS(e, this.namespaces.xlink, "href"),
					this.readChildNodes(e, t)
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows,
			gml : OpenLayers.Format.GML.v2.prototype.readers.gml,
			sld : OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld,
			feature : OpenLayers.Format.GML.v2.prototype.readers.feature
		},
		writers : {
			owc : {
				OWSContext : function (e) {
					var t = this.createElementNSPlus("OWSContext", {
							attributes : {
								version : this.VERSION,
								id : e.id || OpenLayers.Util.createUniqueID("OpenLayers_OWSContext_")
							}
						});
					return this.writeNode("General", e, t),
					this.writeNode("ResourceList", e, t),
					t
				},
				General : function (e) {
					var t = this.createElementNSPlus("General");
					return this.writeNode("ows:BoundingBox", e, t),
					this.writeNode("ows:Title", e.title || "OpenLayers OWSContext", t),
					t
				},
				ResourceList : function (e) {
					for (var t = this.createElementNSPlus("ResourceList"), n = 0, r = e.layers.length; n < r; n++) {
						var i = e.layers[n],
						s = this.decomposeNestingPath(i.metadata.nestingPath);
						this.writeNode("_Layer", {
							layer : i,
							subPaths : s
						}, t)
					}
					return t
				},
				Server : function (e) {
					var t = this.createElementNSPlus("Server", {
							attributes : {
								version : e.version,
								service : e.service
							}
						});
					return this.writeNode("OnlineResource", e, t),
					t
				},
				OnlineResource : function (e) {
					return this.createElementNSPlus("OnlineResource", {
						attributes : {
							"xlink:href" : e.url
						}
					})
				},
				InlineGeometry : function (e) {
					var t = this.createElementNSPlus("InlineGeometry");
					this.writeNode("gml:boundedBy", e.getDataExtent(), t);
					for (var n = 0, r = e.features.length; n < r; n++)
						this.writeNode("gml:featureMember", e.features[n], t);
					return t
				},
				StyleList : function (e) {
					for (var t = this.createElementNSPlus("StyleList"), n = 0, r = e.length; n < r; n++)
						this.writeNode("Style", e[n], t);
					return t
				},
				Style : function (e) {
					var t = this.createElementNSPlus("Style");
					return this.writeNode("Name", e, t),
					this.writeNode("Title", e, t),
					e.legend && this.writeNode("LegendURL", e, t),
					t
				},
				Name : function (e) {
					return this.createElementNSPlus("Name", {
						value : e.name
					})
				},
				Title : function (e) {
					return this.createElementNSPlus("Title", {
						value : e.title
					})
				},
				LegendURL : function (e) {
					var t = this.createElementNSPlus("LegendURL");
					return this.writeNode("OnlineResource", e.legend, t),
					t
				},
				_WMS : function (e) {
					var t = this.createElementNSPlus("Layer", {
							attributes : {
								name : e.params.LAYERS,
								queryable : e.queryable ? "1" : "0",
								hidden : e.visibility ? "0" : "1",
								opacity : e.hasOwnProperty("opacity") ? e.opacity : null
							}
						});
					return this.writeNode("ows:Title", e.name, t),
					this.writeNode("ows:OutputFormat", e.params.FORMAT, t),
					this.writeNode("Server", {
						service : OpenLayers.Format.Context.serviceTypes.WMS,
						version : e.params.VERSION,
						url : e.url
					}, t),
					e.metadata.styles && 0 < e.metadata.styles.length && this.writeNode("StyleList", e.metadata.styles, t),
					t
				},
				_Layer : function (e) {
					var t,
					n,
					r;
					return t = e.layer,
					n = e.subPaths,
					r = null,
					0 < n.length ? (t = n[0].join("/"), n = t.lastIndexOf("/"), r = this.nestingLayerLookup[t], n = 0 < n ? t.substring(n + 1, t.length) : t, r || (r = this.createElementNSPlus("Layer"), this.writeNode("ows:Title", n, r), this.nestingLayerLookup[t] = r), e.subPaths.shift(), this.writeNode("_Layer", e, r)) : (t instanceof OpenLayers.Layer.WMS ? r = this.writeNode("_WMS", t) : t instanceof OpenLayers.Layer.Vector && (t.protocol instanceof OpenLayers.Protocol.WFS.v1 ? r = this.writeNode("_WFS", t) : t.protocol instanceof OpenLayers.Protocol.HTTP ? t.protocol.format instanceof OpenLayers.Format.GML ? (t.protocol.format.version = "2.1.2", r = this.writeNode("_GML", t)) : t.protocol.format instanceof OpenLayers.Format.KML && (t.protocol.format.version = "2.2", r = this.writeNode("_KML", t)) : (this.setNamespace("feature", this.featureNS), r = this.writeNode("_InlineGeometry", t))), t.options.maxScale && this.writeNode("sld:MinScaleDenominator", t.options.maxScale, r), t.options.minScale && this.writeNode("sld:MaxScaleDenominator", t.options.minScale, r), this.nestingLayerLookup[t.name] = r),
					r
				},
				_WFS : function (e) {
					var t = this.createElementNSPlus("Layer", {
							attributes : {
								name : e.protocol.featurePrefix + ":" + e.protocol.featureType,
								hidden : e.visibility ? "0" : "1"
							}
						});
					return this.writeNode("ows:Title", e.name, t),
					this.writeNode("Server", {
						service : OpenLayers.Format.Context.serviceTypes.WFS,
						version : e.protocol.version,
						url : e.protocol.url
					}, t),
					t
				},
				_InlineGeometry : function (e) {
					var t = this.createElementNSPlus("Layer", {
							attributes : {
								name : this.featureType,
								hidden : e.visibility ? "0" : "1"
							}
						});
					return this.writeNode("ows:Title", e.name, t),
					this.writeNode("InlineGeometry", e, t),
					t
				},
				_GML : function (e) {
					var t = this.createElementNSPlus("Layer");
					return this.writeNode("ows:Title", e.name, t),
					this.writeNode("Server", {
						service : OpenLayers.Format.Context.serviceTypes.GML,
						url : e.protocol.url,
						version : e.protocol.format.version
					}, t),
					t
				},
				_KML : function (e) {
					var t = this.createElementNSPlus("Layer");
					return this.writeNode("ows:Title", e.name, t),
					this.writeNode("Server", {
						service : OpenLayers.Format.Context.serviceTypes.KML,
						version : e.protocol.format.version,
						url : e.protocol.url
					}, t),
					t
				}
			},
			gml : OpenLayers.Util.applyDefaults({
				boundedBy : function (e) {
					var t = this.createElementNSPlus("gml:boundedBy");
					return this.writeNode("gml:Box", e, t),
					t
				}
			}, OpenLayers.Format.GML.v2.prototype.writers.gml),
			ows : OpenLayers.Format.OWSCommon.v1_0_0.prototype.writers.ows,
			sld : OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld,
			feature : OpenLayers.Format.GML.v2.prototype.writers.feature
		},
		CLASS_NAME : "OpenLayers.Format.OWSContext.v0_3_1"
	}), OpenLayers.Control.ScaleLine = OpenLayers.Class(OpenLayers.Control, {
		maxWidth : 100,
		topOutUnits : "km",
		topInUnits : "m",
		bottomOutUnits : "mi",
		bottomInUnits : "ft",
		eTop : null,
		eBottom : null,
		geodesic : !1,
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.eTop || (this.eTop = document.createElement("div"), this.eTop.className = this.displayClass + "Top", this.div.appendChild(this.eTop), this.eTop.style.visibility = "" == this.topOutUnits || "" == this.topInUnits ? "hidden" : "visible", this.eBottom = document.createElement("div"), this.eBottom.className = this.displayClass + "Bottom", this.div.appendChild(this.eBottom), this.eBottom.style.visibility = "" == this.bottomOutUnits || "" == this.bottomInUnits ? "hidden" : "visible"),
			this.map.events.register("moveend", this, this.update),
			this.update(),
			this.div
		},
		getBarLen : function (e) {
			var t = parseInt(Math.log(e) / Math.log(10)),
			t = Math.pow(10, t),
			e = parseInt(e / t);
			return (5 < e ? 5 : 2 < e ? 2 : 1) * t
		},
		update : function () {
			var e = this.map.getResolution();
			if (e) {
				var t = this.map.getUnits(),
				n = OpenLayers.INCHES_PER_UNIT,
				r = this.maxWidth * e * n[t],
				i = 1;
				!0 === this.geodesic && (i = (this.map.getGeodesicPixelSize().w || 1e-6) * this.maxWidth / (r / n.km), r *= i);
				var s,
				o;
				1e5 < r ? (s = this.topOutUnits, o = this.bottomOutUnits) : (s = this.topInUnits, o = this.bottomInUnits);
				var u = r / n[s],
				a = r / n[o],
				r = this.getBarLen(u),
				f = this.getBarLen(a),
				u = r / n[t] * n[s],
				a = f / n[t] * n[o],
				t = u / e / i,
				e = a / e / i;
				"visible" == this.eBottom.style.visibility && (this.eBottom.style.width = Math.round(e) + "px", this.eBottom.innerHTML = f + " " + o),
				"visible" == this.eTop.style.visibility && (this.eTop.style.width = Math.round(t) + "px", this.eTop.innerHTML = r + " " + s)
			}
		},
		CLASS_NAME : "OpenLayers.Control.ScaleLine"
	}), OpenLayers.Icon = OpenLayers.Class({
		url : null,
		size : null,
		offset : null,
		calculateOffset : null,
		imageDiv : null,
		px : null,
		initialize : function (e, t, n, r) {
			this.url = e,
			this.size = t || {
				w : 20,
				h : 20
			},
			this.offset = n || {
				x :  - (this.size.w / 2),
				y :  - (this.size.h / 2)
			},
			this.calculateOffset = r,
			e = OpenLayers.Util.createUniqueID("OL_Icon_"),
			this.imageDiv = OpenLayers.Util.createAlphaImageDiv(e)
		},
		destroy : function () {
			this.erase(),
			OpenLayers.Event.stopObservingElement(this.imageDiv.firstChild),
			this.imageDiv.innerHTML = "",
			this.imageDiv = null
		},
		clone : function () {
			return new OpenLayers.Icon(this.url, this.size, this.offset, this.calculateOffset)
		},
		setSize : function (e) {
			null != e && (this.size = e),
			this.draw()
		},
		setUrl : function (e) {
			null != e && (this.url = e),
			this.draw()
		},
		draw : function (e) {
			return OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, null, this.size, this.url, "absolute"),
			this.moveTo(e),
			this.imageDiv
		},
		erase : function () {
			null != this.imageDiv && null != this.imageDiv.parentNode && OpenLayers.Element.remove(this.imageDiv)
		},
		setOpacity : function (e) {
			OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, null, null, null, null, null, null, e)
		},
		moveTo : function (e) {
			null != e && (this.px = e),
			null != this.imageDiv && (null == this.px ? this.display(!1) : (this.calculateOffset && (this.offset = this.calculateOffset(this.size)), OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, {
						x : this.px.x + this.offset.x,
						y : this.px.y + this.offset.y
					})))
		},
		display : function (e) {
			this.imageDiv.style.display = e ? "" : "none"
		},
		isDrawn : function () {
			return this.imageDiv && this.imageDiv.parentNode && 11 != this.imageDiv.parentNode.nodeType
		},
		CLASS_NAME : "OpenLayers.Icon"
	}), OpenLayers.Marker = OpenLayers.Class({
		icon : null,
		lonlat : null,
		events : null,
		map : null,
		initialize : function (e, t) {
			this.lonlat = e;
			var n = t ? t : OpenLayers.Marker.defaultIcon();
			null == this.icon ? this.icon = n : (this.icon.url = n.url, this.icon.size = n.size, this.icon.offset = n.offset, this.icon.calculateOffset = n.calculateOffset),
			this.events = new OpenLayers.Events(this, this.icon.imageDiv)
		},
		destroy : function () {
			this.erase(),
			this.map = null,
			this.events.destroy(),
			this.events = null,
			null != this.icon && (this.icon.destroy(), this.icon = null)
		},
		draw : function (e) {
			return this.icon.draw(e)
		},
		erase : function () {
			null != this.icon && this.icon.erase()
		},
		moveTo : function (e) {
			null != e && null != this.icon && this.icon.moveTo(e),
			this.lonlat = this.map.getLonLatFromLayerPx(e)
		},
		isDrawn : function () {
			return this.icon && this.icon.isDrawn()
		},
		onScreen : function () {
			var e = !1;
			return this.map && (e = this.map.getExtent().containsLonLat(this.lonlat)),
			e
		},
		inflate : function (e) {
			this.icon && this.icon.setSize({
				w : this.icon.size.w * e,
				h : this.icon.size.h * e
			})
		},
		setOpacity : function (e) {
			this.icon.setOpacity(e)
		},
		setUrl : function (e) {
			this.icon.setUrl(e)
		},
		display : function (e) {
			this.icon.display(e)
		},
		CLASS_NAME : "OpenLayers.Marker"
	}), OpenLayers.Marker.defaultIcon = function () {
	return new OpenLayers.Icon(OpenLayers.Util.getImageLocation("marker.png"), {
		w : 21,
		h : 25
	}, {
		x : -10.5,
		y : -25
	})
}, OpenLayers.Layer.TileCache = OpenLayers.Class(OpenLayers.Layer.Grid, {
		isBaseLayer : !0,
		format : "image/png",
		serverResolutions : null,
		initialize : function (e, t, n, r) {
			this.layername = n,
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e, t, {}, r]),
			this.extension = this.format.split("/")[1].toLowerCase(),
			this.extension = "jpg" == this.extension ? "jpeg" : this.extension
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.TileCache(this.name, this.url, this.layername, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			function t(e, t) {
				for (var e = "" + e, n = [], r = 0; r < t; ++r)
					n.push("0");
				return n.join("").substring(0, t - e.length) + e
			}
			var n = this.getServerResolution(),
			r = this.maxExtent,
			i = this.tileSize,
			s = Math.round((e.left - r.left) / (n * i.w)),
			e = Math.round((e.bottom - r.bottom) / (n * i.h)),
			n = null != this.serverResolutions ? OpenLayers.Util.indexOf(this.serverResolutions, n) : this.map.getZoom(),
			s = [this.layername, t(n, 2), t(parseInt(s / 1e6), 3), t(parseInt(s / 1e3) % 1e3, 3), t(parseInt(s) % 1e3, 3), t(parseInt(e / 1e6), 3), t(parseInt(e / 1e3) % 1e3, 3), t(parseInt(e) % 1e3, 3) + "." + this.extension].join("/"),
			n = this.url;
			return OpenLayers.Util.isArray(n) && (n = this.selectUrl(s, n)),
			n = "/" == n.charAt(n.length - 1) ? n : n + "/",
			n + s
		},
		CLASS_NAME : "OpenLayers.Layer.TileCache"
	}), OpenLayers.Layer.KaMap = OpenLayers.Class(OpenLayers.Layer.Grid, {
		isBaseLayer : !0,
		DEFAULT_PARAMS : {
			i : "jpeg",
			map : ""
		},
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments),
			this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS)
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.map.getResolution(),
			n = Math.round(1e4 * this.map.getScale()) / 1e4,
			r = Math.round(e.left / t);
			return this.getFullRequestString({
				t : -Math.round(e.top / t),
				l : r,
				s : n
			})
		},
		calculateGridLayout : function (e, t, n) {
			var t = n * this.tileSize.w,
			n = n * this.tileSize.h,
			r = e.left,
			i = Math.floor(r / t) - this.buffer,
			r =  - (r / t - i) * this.tileSize.w,
			i = i * t,
			e = e.top,
			s = Math.ceil(e / n) + this.buffer;
			return {
				tilelon : t,
				tilelat : n,
				tileoffsetlon : i,
				tileoffsetlat : s * n,
				tileoffsetx : r,
				tileoffsety :  - (s - e / n + 1) * this.tileSize.h
			}
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.KaMap(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e]),
			null != this.tileSize && (e.tileSize = this.tileSize.clone()),
			e.grid = [],
			e
		},
		getTileBounds : function (e) {
			var t = this.getResolution(),
			n = t * this.tileSize.w,
			t = t * this.tileSize.h,
			r = this.getLonLatFromViewPortPx(e),
			e = n * Math.floor(r.lon / n),
			r = t * Math.floor(r.lat / t);
			return new OpenLayers.Bounds(e, r, e + n, r + t)
		},
		CLASS_NAME : "OpenLayers.Layer.KaMap"
	}), OpenLayers.Control.TransformFeature = OpenLayers.Class(OpenLayers.Control, {
		geometryTypes : null,
		layer : null,
		preserveAspectRatio : !1,
		rotate : !0,
		feature : null,
		renderIntent : "temporary",
		rotationHandleSymbolizer : null,
		box : null,
		center : null,
		scale : 1,
		ratio : 1,
		rotation : 0,
		handles : null,
		rotationHandles : null,
		dragControl : null,
		irregular : !1,
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			this.layer = e,
			this.rotationHandleSymbolizer || (this.rotationHandleSymbolizer = {
					stroke : !1,
					pointRadius : 10,
					fillOpacity : 0,
					cursor : "pointer"
				}),
			this.createBox(),
			this.createControl()
		},
		activate : function () {
			var e = !1;
			return OpenLayers.Control.prototype.activate.apply(this, arguments) && (this.dragControl.activate(), this.layer.addFeatures([this.box]), this.rotate && this.layer.addFeatures(this.rotationHandles), this.layer.addFeatures(this.handles), e = !0),
			e
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Control.prototype.deactivate.apply(this, arguments) && (this.layer.removeFeatures(this.handles), this.rotate && this.layer.removeFeatures(this.rotationHandles), this.layer.removeFeatures([this.box]), this.dragControl.deactivate(), e = !0),
			e
		},
		setMap : function (e) {
			this.dragControl.setMap(e),
			OpenLayers.Control.prototype.setMap.apply(this, arguments)
		},
		setFeature : function (e, t) {
			var t = OpenLayers.Util.applyDefaults(t, {
					rotation : 0,
					scale : 1,
					ratio : 1
				}),
			n = this.rotation,
			r = this.center;
			OpenLayers.Util.extend(this, t);
			if (!1 !== this.events.triggerEvent("beforesetfeature", {
					feature : e
				})) {
				this.feature = e,
				this.activate(),
				this._setfeature = !0;
				var i = this.feature.geometry.getBounds();
				this.box.move(i.getCenterLonLat()),
				this.box.geometry.rotate(-n, r),
				this._angle = 0,
				this.rotation ? (n = e.geometry.clone(), n.rotate(-this.rotation, this.center), n = new OpenLayers.Feature.Vector(n.getBounds().toGeometry()), n.geometry.rotate(this.rotation, this.center), this.box.geometry.rotate(this.rotation, this.center), this.box.move(n.geometry.getBounds().getCenterLonLat()), n = n.geometry.components[0].components[0].getBounds().getCenterLonLat()) : n = new OpenLayers.LonLat(i.left, i.bottom),
				this.handles[0].move(n),
				delete this._setfeature,
				this.events.triggerEvent("setfeature", {
					feature : e
				})
			}
		},
		unsetFeature : function () {
			this.active ? this.deactivate() : (this.feature = null, this.rotation = 0, this.ratio = this.scale = 1)
		},
		createBox : function () {
			var e = this;
			this.center = new OpenLayers.Geometry.Point(0, 0),
			this.box = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([new OpenLayers.Geometry.Point(-1, -1), new OpenLayers.Geometry.Point(0, -1), new OpenLayers.Geometry.Point(1, -1), new OpenLayers.Geometry.Point(1, 0), new OpenLayers.Geometry.Point(1, 1), new OpenLayers.Geometry.Point(0, 1), new OpenLayers.Geometry.Point(-1, 1), new OpenLayers.Geometry.Point(-1, 0), new OpenLayers.Geometry.Point(-1, -1)]), null, "string" == typeof this.renderIntent ? null : this.renderIntent),
			this.box.geometry.move = function (t, n) {
				e._moving = !0,
				OpenLayers.Geometry.LineString.prototype.move.apply(this, arguments),
				e.center.move(t, n),
				delete e._moving
			};
			for (var t = function (e, t) {
				OpenLayers.Geometry.Point.prototype.move.apply(this, arguments),
				this._rotationHandle && this._rotationHandle.geometry.move(e, t),
				this._handle.geometry.move(e, t)
			}, n = function (e, t, n) {
				OpenLayers.Geometry.Point.prototype.resize.apply(this, arguments),
				this._rotationHandle && this._rotationHandle.geometry.resize(e, t, n),
				this._handle.geometry.resize(e, t, n)
			}, r = function (e, t) {
				OpenLayers.Geometry.Point.prototype.rotate.apply(this, arguments),
				this._rotationHandle && this._rotationHandle.geometry.rotate(e, t),
				this._handle.geometry.rotate(e, t)
			}, i = function (t, n) {
				var r = this.x,
				i = this.y;
				OpenLayers.Geometry.Point.prototype.move.call(this, t, n);
				if (!e._moving) {
					var s = e.dragControl.handlers.drag.evt,
					o = (!!e._setfeature || !e.preserveAspectRatio) && (!s || !s.shiftKey),
					u = new OpenLayers.Geometry.Point(r, i),
					s = e.center;
					this.rotate(-e.rotation, s),
					u.rotate(-e.rotation, s);
					var a = this.x - s.x,
					f = this.y - s.y,
					l = a - (this.x - u.x),
					c = f - (this.y - u.y);
					e.irregular && !e._setfeature && (a -= (this.x - u.x) / 2, f -= (this.y - u.y) / 2),
					this.x = r,
					this.y = i,
					u = 1,
					o ? (f = 1e-5 > Math.abs(c) ? 1 : f / c, u = (1e-5 > Math.abs(l) ? 1 : a / l) / f) : (l = Math.sqrt(l * l + c * c), f = Math.sqrt(a * a + f * f) / l),
					e._moving = !0,
					e.box.geometry.rotate(-e.rotation, s),
					delete e._moving,
					e.box.geometry.resize(f, s, u),
					e.box.geometry.rotate(e.rotation, s),
					e.transformFeature({
						scale : f,
						ratio : u
					}),
					e.irregular && !e._setfeature && (a = s.clone(), a.x += 1e-5 > Math.abs(r - s.x) ? 0 : this.x - r, a.y += 1e-5 > Math.abs(i - s.y) ? 0 : this.y - i, e.box.geometry.move(this.x - r, this.y - i), e.transformFeature({
							center : a
						}))
				}
			}, s = function (t, n) {
				var r = this.x,
				i = this.y;
				OpenLayers.Geometry.Point.prototype.move.call(this, t, n);
				if (!e._moving) {
					var s = e.dragControl.handlers.drag.evt,
					s = s && s.shiftKey ? 45 : 1,
					o = e.center,
					u = this.x - o.x,
					a = this.y - o.y;
					this.x = r,
					this.y = i,
					r = Math.atan2(a - n, u - t),
					r = Math.atan2(a, u) - r,
					r *= 180 / Math.PI,
					e._angle = (e._angle + r) % 360,
					r = e.rotation % s;
					if (Math.abs(e._angle) >= s || 0 !== r)
						r = Math.round(e._angle / s) * s - r, e._angle = 0, e.box.geometry.rotate(r, o) , e.transformFeature({
								rotation : r
							})
					}
				}, o = Array(8), u = Array(4), a, f, l, c = "sw s se e ne n nw w".split(" "), h = 0; 8 > h; ++h)a = this.box.geometry.components[h], f = new OpenLayers.Feature.Vector(a.clone(), {
						role : c[h] + "-resize"
					}, "string" == typeof this.renderIntent ? null : this.renderIntent), 0 == h % 2 && (l = new OpenLayers.Feature.Vector(a.clone(), {
							role : c[h] + "-rotate"
						}, "string" == typeof this.rotationHandleSymbolizer ? null : this.rotationHandleSymbolizer), l.geometry.move = s, a._rotationHandle = l, u[h / 2] = l), a.move = t, a.resize = n, a.rotate = r, f.geometry.move = i, a._handle = f, o[h] = f;
			this.rotationHandles = u,
			this.handles = o
		},
		createControl : function () {
			var e = this;
			this.dragControl = new OpenLayers.Control.DragFeature(this.layer, {
					documentDrag : !0,
					moveFeature : function (t) {
						this.feature === e.feature && (this.feature = e.box),
						OpenLayers.Control.DragFeature.prototype.moveFeature.apply(this, arguments)
					},
					onDrag : function (t) {
						t === e.box && e.transformFeature({
							center : e.center
						})
					},
					onStart : function (t) {
						var n = !e.geometryTypes || -1 !== OpenLayers.Util.indexOf(e.geometryTypes, t.geometry.CLASS_NAME),
						r = OpenLayers.Util.indexOf(e.handles, t),
						r = r + OpenLayers.Util.indexOf(e.rotationHandles, t);
						t !== e.feature && t !== e.box && -2 == r && n && e.setFeature(t)
					},
					onComplete : function () {
						e.events.triggerEvent("transformcomplete", {
							feature : e.feature
						})
					}
				})
		},
		drawHandles : function () {
			for (var e = this.layer, t = 0; 8 > t; ++t)
				this.rotate && 0 === t % 2 && e.drawFeature(this.rotationHandles[t / 2], this.rotationHandleSymbolizer), e.drawFeature(this.handles[t], this.renderIntent)
		},
		transformFeature : function (e) {
			if (!this._setfeature) {
				this.scale *= e.scale || 1,
				this.ratio *= e.ratio || 1;
				var t = this.rotation;
				this.rotation = (this.rotation + (e.rotation || 0)) % 360;
				if (!1 !== this.events.triggerEvent("beforetransform", e)) {
					var n = this.feature,
					r = n.geometry,
					i = this.center;
					r.rotate(-t, i),
					e.scale || e.ratio ? r.resize(e.scale, i, e.ratio) : e.center && n.move(e.center.getBounds().getCenterLonLat()),
					r.rotate(this.rotation, i),
					this.layer.drawFeature(n),
					n.toState(OpenLayers.State.UPDATE),
					this.events.triggerEvent("transform", e)
				}
			}
			this.layer.drawFeature(this.box, this.renderIntent),
			this.drawHandles()
		},
		destroy : function () {
			for (var e, t = 0; 8 > t; ++t)
				e = this.box.geometry.components[t], e._handle.destroy(), e._handle = null, e._rotationHandle && e._rotationHandle.destroy(), e._rotationHandle = null;
			this.rotationHandles = this.rotationHandleSymbolizer = this.handles = this.feature = this.center = null,
			this.box.destroy(),
			this.layer = this.box = null,
			this.dragControl.destroy(),
			this.dragControl = null,
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Control.TransformFeature"
	}), OpenLayers.Handler.Box = OpenLayers.Class(OpenLayers.Handler, {
		dragHandler : null,
		boxDivClassName : "olHandlerBoxZoomBox",
		boxOffsets : null,
		initialize : function (e, t, n) {
			OpenLayers.Handler.prototype.initialize.apply(this, arguments),
			this.dragHandler = new OpenLayers.Handler.Drag(this, {
					down : this.startBox,
					move : this.moveBox,
					out : this.removeBox,
					up : this.endBox
				}, {
					keyMask : this.keyMask
				})
		},
		destroy : function () {
			OpenLayers.Handler.prototype.destroy.apply(this, arguments),
			this.dragHandler && (this.dragHandler.destroy(), this.dragHandler = null)
		},
		setMap : function (e) {
			OpenLayers.Handler.prototype.setMap.apply(this, arguments),
			this.dragHandler && this.dragHandler.setMap(e)
		},
		startBox : function () {
			this.callback("start", []),
			this.zoomBox = OpenLayers.Util.createDiv("zoomBox", {
					x : -9999,
					y : -9999
				}),
			this.zoomBox.className = this.boxDivClassName,
			this.zoomBox.style.zIndex = this.map.Z_INDEX_BASE.Popup - 1,
			this.map.viewPortDiv.appendChild(this.zoomBox),
			OpenLayers.Element.addClass(this.map.viewPortDiv, "olDrawBox")
		},
		moveBox : function (e) {
			var t = this.dragHandler.start.x,
			n = this.dragHandler.start.y,
			r = Math.abs(t - e.x),
			i = Math.abs(n - e.y),
			s = this.getBoxOffsets();
			this.zoomBox.style.width = r + s.width + 1 + "px",
			this.zoomBox.style.height = i + s.height + 1 + "px",
			this.zoomBox.style.left = (e.x < t ? t - r - s.left : t - s.left) + "px",
			this.zoomBox.style.top = (e.y < n ? n - i - s.top : n - s.top) + "px"
		},
		endBox : function (e) {
			var t;
			if (5 < Math.abs(this.dragHandler.start.x - e.x) || 5 < Math.abs(this.dragHandler.start.y - e.y)) {
				var n = this.dragHandler.start;
				t = Math.min(n.y, e.y);
				var r = Math.max(n.y, e.y),
				i = Math.min(n.x, e.x),
				e = Math.max(n.x, e.x);
				t = new OpenLayers.Bounds(i, r, e, t)
			} else
				t = this.dragHandler.start.clone();
			this.removeBox(),
			this.callback("done", [t])
		},
		removeBox : function () {
			this.map.viewPortDiv.removeChild(this.zoomBox),
			this.boxOffsets = this.zoomBox = null,
			OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDrawBox")
		},
		activate : function () {
			return OpenLayers.Handler.prototype.activate.apply(this, arguments) ? (this.dragHandler.activate(), !0) : !1
		},
		deactivate : function () {
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) ? (this.dragHandler.deactivate() && this.zoomBox && this.removeBox(), !0) : !1
		},
		getBoxOffsets : function () {
			if (!this.boxOffsets) {
				var e = document.createElement("div");
				e.style.position = "absolute",
				e.style.border = "1px solid black",
				e.style.width = "3px",
				document.body.appendChild(e);
				var t = 3 == e.clientWidth;
				document.body.removeChild(e);
				var e = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-left-width")),
				n = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-right-width")),
				r = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-top-width")),
				i = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-bottom-width"));
				this.boxOffsets = {
					left : e,
					right : n,
					top : r,
					bottom : i,
					width : !1 === t ? e + n : 0,
					height : !1 === t ? r + i : 0
				}
			}
			return this.boxOffsets
		},
		CLASS_NAME : "OpenLayers.Handler.Box"
	}), OpenLayers.Control.ZoomBox = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_TOOL,
		out : !1,
		keyMask : null,
		alwaysZoom : !1,
		draw : function () {
			this.handler = new OpenLayers.Handler.Box(this, {
					done : this.zoomBox
				}, {
					keyMask : this.keyMask
				})
		},
		zoomBox : function (e) {
			if (e instanceof OpenLayers.Bounds) {
				var t;
				if (this.out) {
					t = Math.abs(e.right - e.left);
					var n = Math.abs(e.top - e.bottom);
					t = Math.min(this.map.size.h / n, this.map.size.w / t);
					var n = this.map.getExtent(),
					r = this.map.getLonLatFromPixel(e.getCenterPixel()),
					e = r.lon - n.getWidth() / 2 * t,
					i = r.lon + n.getWidth() / 2 * t,
					s = r.lat - n.getHeight() / 2 * t;
					t = r.lat + n.getHeight() / 2 * t,
					t = new OpenLayers.Bounds(e, s, i, t)
				} else
					t = this.map.getLonLatFromPixel({
							x : e.left,
							y : e.bottom
						}), n = this.map.getLonLatFromPixel({
							x : e.right,
							y : e.top
						}), t = new OpenLayers.Bounds(t.lon, t.lat, n.lon, n.lat);
				n = this.map.getZoom(),
				this.map.zoomToExtent(t),
				n == this.map.getZoom() && 1 == this.alwaysZoom && this.map.zoomTo(n + (this.out ? -1 : 1))
			} else
				this.out ? this.map.setCenter(this.map.getLonLatFromPixel(e), this.map.getZoom() - 1) : this.map.setCenter(this.map.getLonLatFromPixel(e), this.map.getZoom() + 1)
		},
		CLASS_NAME : "OpenLayers.Control.ZoomBox"
	}), OpenLayers.Control.DragPan = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_TOOL,
		panned : !1,
		interval : 1,
		documentDrag : !1,
		kinetic : null,
		enableKinetic : !1,
		kineticInterval : 10,
		draw : function () {
			if (this.enableKinetic) {
				var e = {
					interval : this.kineticInterval
				};
				"object" == typeof this.enableKinetic && (e = OpenLayers.Util.extend(e, this.enableKinetic)),
				this.kinetic = new OpenLayers.Kinetic(e)
			}
			this.handler = new OpenLayers.Handler.Drag(this, {
					move : this.panMap,
					done : this.panMapDone,
					down : this.panMapStart
				}, {
					interval : this.interval,
					documentDrag : this.documentDrag
				})
		},
		panMapStart : function () {
			this.kinetic && this.kinetic.begin()
		},
		panMap : function (e) {
			this.kinetic && this.kinetic.update(e),
			this.panned = !0,
			this.map.pan(this.handler.last.x - e.x, this.handler.last.y - e.y, {
				dragging : !0,
				animate : !1
			})
		},
		panMapDone : function (e) {
			if (this.panned) {
				var t = null;
				this.kinetic && (t = this.kinetic.end(e)),
				this.map.pan(this.handler.last.x - e.x, this.handler.last.y - e.y, {
					dragging : !!t,
					animate : !1
				});
				if (t) {
					var n = this;
					this.kinetic.move(t, function (e, t, r) {
						n.map.pan(e, t, {
							dragging : !r,
							animate : !1
						})
					})
				}
				this.panned = !1
			}
		},
		CLASS_NAME : "OpenLayers.Control.DragPan"
	}), OpenLayers.Handler.Click = OpenLayers.Class(OpenLayers.Handler, {
		delay : 300,
		single : !0,
		"double" : !1,
		pixelTolerance : 0,
		dblclickTolerance : 13,
		stopSingle : !1,
		stopDouble : !1,
		timerId : null,
		touch : !1,
		down : null,
		last : null,
		first : null,
		rightclickTimerId : null,
		touchstart : function (e) {
			return this.touch || (this.unregisterMouseListeners(), this.touch = !0),
			this.down = this.getEventInfo(e),
			this.last = this.getEventInfo(e),
			!0
		},
		touchmove : function (e) {
			return this.last = this.getEventInfo(e),
			!0
		},
		touchend : function (e) {
			return this.down && (e.xy = this.last.xy, e.lastTouches = this.last.touches, this.handleSingle(e), this.down = null),
			!0
		},
		unregisterMouseListeners : function () {
			this.map.events.un({
				mousedown : this.mousedown,
				mouseup : this.mouseup,
				click : this.click,
				dblclick : this.dblclick,
				scope : this
			})
		},
		mousedown : function (e) {
			return this.down = this.getEventInfo(e),
			this.last = this.getEventInfo(e),
			!0
		},
		mouseup : function (e) {
			var t = !0;
			return this.checkModifiers(e) && this.control.handleRightClicks && OpenLayers.Event.isRightClick(e) && (t = this.rightclick(e)),
			t
		},
		rightclick : function (e) {
			if (this.passesTolerance(e)) {
				if (null != this.rightclickTimerId)
					return this.clearTimer(), this.callback("dblrightclick", [e]), !this.stopDouble;
				e = this["double"] ? OpenLayers.Util.extend({}, e) : this.callback("rightclick", [e]),
				e = OpenLayers.Function.bind(this.delayedRightCall, this, e),
				this.rightclickTimerId = window.setTimeout(e, this.delay)
			}
			return !this.stopSingle
		},
		delayedRightCall : function (e) {
			this.rightclickTimerId = null,
			e && this.callback("rightclick", [e])
		},
		click : function (e) {
			return this.last || (this.last = this.getEventInfo(e)),
			this.handleSingle(e),
			!this.stopSingle
		},
		dblclick : function (e) {
			return this.handleDouble(e),
			!this.stopDouble
		},
		handleDouble : function (e) {
			this.passesDblclickTolerance(e) && (this["double"] && this.callback("dblclick", [e]), this.clearTimer())
		},
		handleSingle : function (e) {
			this.passesTolerance(e) && (null != this.timerId ? (this.last.touches && 1 === this.last.touches.length && (this["double"] && OpenLayers.Event.stop(e), this.handleDouble(e)), (!this.last.touches || 2 !== this.last.touches.length) && this.clearTimer()) : (this.first = this.getEventInfo(e), this.queuePotentialClick(this.single ? OpenLayers.Util.extend({}, e) : null)))
		},
		queuePotentialClick : function (e) {
			this.timerId = window.setTimeout(OpenLayers.Function.bind(this.delayedCall, this, e), this.delay)
		},
		passesTolerance : function (e) {
			var t = !0;
			if (null != this.pixelTolerance && this.down && this.down.xy && (t = this.pixelTolerance >= this.down.xy.distanceTo(e.xy)) && this.touch && this.down.touches.length === this.last.touches.length)
				for (var e = 0, n = this.down.touches.length; e < n; ++e)
					if (this.getTouchDistance(this.down.touches[e], this.last.touches[e]) > this.pixelTolerance) {
						t = !1;
						break
					}
			return t
		},
		getTouchDistance : function (e, t) {
			return Math.sqrt(Math.pow(e.clientX - t.clientX, 2) + Math.pow(e.clientY - t.clientY, 2))
		},
		passesDblclickTolerance : function () {
			var e = !0;
			return this.down && this.first && (e = this.down.xy.distanceTo(this.first.xy) <= this.dblclickTolerance),
			e
		},
		clearTimer : function () {
			null != this.timerId && (window.clearTimeout(this.timerId), this.timerId = null),
			null != this.rightclickTimerId && (window.clearTimeout(this.rightclickTimerId), this.rightclickTimerId = null)
		},
		delayedCall : function (e) {
			this.timerId = null,
			e && this.callback("click", [e])
		},
		getEventInfo : function (e) {
			var t;
			if (e.touches) {
				var n = e.touches.length;
				t = Array(n);
				for (var r, i = 0; i < n; i++)
					r = e.touches[i], t[i] = {
						clientX : r.clientX,
						clientY : r.clientY
					}
			}
			return {
				xy : e.xy,
				touches : t
			}
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.clearTimer(), this.last = this.first = this.down = null, this.touch = !1, e = !0),
			e
		},
		CLASS_NAME : "OpenLayers.Handler.Click"
	}), OpenLayers.Control.Navigation = OpenLayers.Class(OpenLayers.Control, {
		dragPan : null,
		dragPanOptions : null,
		pinchZoom : null,
		pinchZoomOptions : null,
		documentDrag : !1,
		zoomBox : null,
		zoomBoxEnabled : !0,
		zoomWheelEnabled : !0,
		mouseWheelOptions : null,
		handleRightClicks : !1,
		zoomBoxKeyMask : OpenLayers.Handler.MOD_SHIFT,
		autoActivate : !0,
		initialize : function (e) {
			this.handlers = {},
			OpenLayers.Control.prototype.initialize.apply(this, arguments)
		},
		destroy : function () {
			this.deactivate(),
			this.dragPan && this.dragPan.destroy(),
			this.dragPan = null,
			this.zoomBox && this.zoomBox.destroy(),
			this.zoomBox = null,
			this.pinchZoom && this.pinchZoom.destroy(),
			this.pinchZoom = null,
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		activate : function () {
			return this.dragPan.activate(),
			this.zoomWheelEnabled && this.handlers.wheel.activate(),
			this.handlers.click.activate(),
			this.zoomBoxEnabled && this.zoomBox.activate(),
			this.pinchZoom && this.pinchZoom.activate(),
			OpenLayers.Control.prototype.activate.apply(this, arguments)
		},
		deactivate : function () {
			return this.pinchZoom && this.pinchZoom.deactivate(),
			this.zoomBox.deactivate(),
			this.dragPan.deactivate(),
			this.handlers.click.deactivate(),
			this.handlers.wheel.deactivate(),
			OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		draw : function () {
			this.handleRightClicks && (this.map.viewPortDiv.oncontextmenu = OpenLayers.Function.False),
			this.handlers.click = new OpenLayers.Handler.Click(this, {
					click : this.defaultClick,
					dblclick : this.defaultDblClick,
					dblrightclick : this.defaultDblRightClick
				}, {
					"double" : !0,
					stopDouble : !0
				}),
			this.dragPan = new OpenLayers.Control.DragPan(OpenLayers.Util.extend({
						map : this.map,
						documentDrag : this.documentDrag
					}, this.dragPanOptions)),
			this.zoomBox = new OpenLayers.Control.ZoomBox({
					map : this.map,
					keyMask : this.zoomBoxKeyMask
				}),
			this.dragPan.draw(),
			this.zoomBox.draw(),
			this.handlers.wheel = new OpenLayers.Handler.MouseWheel(this, {
					up : this.wheelUp,
					down : this.wheelDown
				}, this.mouseWheelOptions),
			OpenLayers.Control.PinchZoom && (this.pinchZoom = new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({
							map : this.map
						}, this.pinchZoomOptions)))
		},
		defaultClick : function (e) {
			e.lastTouches && 2 == e.lastTouches.length && this.map.zoomOut()
		},
		defaultDblClick : function (e) {
			this.map.setCenter(this.map.getLonLatFromViewPortPx(e.xy), this.map.zoom + 1)
		},
		defaultDblRightClick : function (e) {
			this.map.setCenter(this.map.getLonLatFromViewPortPx(e.xy), this.map.zoom - 1)
		},
		wheelChange : function (e, t) {
			var n = this.map.getZoom(),
			r = this.map.getZoom() + Math.round(t),
			r = Math.max(r, 0),
			r = Math.min(r, this.map.getNumZoomLevels());
			if (r !== n) {
				var i = this.map.getSize(),
				n = i.w / 2 - e.xy.x,
				i = e.xy.y - i.h / 2,
				s = this.map.baseLayer.getResolutionForZoom(r),
				o = this.map.getLonLatFromPixel(e.xy);
				this.map.setCenter(new OpenLayers.LonLat(o.lon + n * s, o.lat + i * s), r)
			}
		},
		wheelUp : function (e, t) {
			this.wheelChange(e, t || 1)
		},
		wheelDown : function (e, t) {
			this.wheelChange(e, t || -1)
		},
		disableZoomBox : function () {
			this.zoomBoxEnabled = !1,
			this.zoomBox.deactivate()
		},
		enableZoomBox : function () {
			this.zoomBoxEnabled = !0,
			this.active && this.zoomBox.activate()
		},
		disableZoomWheel : function () {
			this.zoomWheelEnabled = !1,
			this.handlers.wheel.deactivate()
		},
		enableZoomWheel : function () {
			this.zoomWheelEnabled = !0,
			this.active && this.handlers.wheel.activate()
		},
		CLASS_NAME : "OpenLayers.Control.Navigation"
	}), OpenLayers.Control.DrawFeature = OpenLayers.Class(OpenLayers.Control, {
		layer : null,
		callbacks : null,
		multi : !1,
		featureAdded : function () {},
		handlerOptions : null,
		initialize : function (e, t, n) {
			OpenLayers.Control.prototype.initialize.apply(this, [n]),
			this.callbacks = OpenLayers.Util.extend({
					done : this.drawFeature,
					modify : function (e, t) {
						this.layer.events.triggerEvent("sketchmodified", {
							vertex : e,
							feature : t
						})
					},
					create : function (e, t) {
						this.layer.events.triggerEvent("sketchstarted", {
							vertex : e,
							feature : t
						})
					}
				}, this.callbacks),
			this.layer = e,
			this.handlerOptions = this.handlerOptions || {},
			this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
					renderers : e.renderers,
					rendererOptions : e.rendererOptions
				}),
			"multi" in this.handlerOptions || (this.handlerOptions.multi = this.multi);
			if (e = this.layer.styleMap && this.layer.styleMap.styles.temporary)
				this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
						styleMap : new OpenLayers.StyleMap({
							"default" : e
						})
					});
			this.handler = new t(this, this.callbacks, this.handlerOptions)
		},
		drawFeature : function (e) {
			e = new OpenLayers.Feature.Vector(e),
			!1 !== this.layer.events.triggerEvent("sketchcomplete", {
				feature : e
			}) && (e.state = OpenLayers.State.INSERT, this.layer.addFeatures([e]), this.featureAdded(e), this.events.triggerEvent("featureadded", {
					feature : e
				}))
		},
		insertXY : function (e, t) {
			this.handler && this.handler.line && this.handler.insertXY(e, t)
		},
		insertDeltaXY : function (e, t) {
			this.handler && this.handler.line && this.handler.insertDeltaXY(e, t)
		},
		insertDirectionLength : function (e, t) {
			this.handler && this.handler.line && this.handler.insertDirectionLength(e, t)
		},
		insertDeflectionLength : function (e, t) {
			this.handler && this.handler.line && this.handler.insertDeflectionLength(e, t)
		},
		undo : function () {
			return this.handler.undo && this.handler.undo()
		},
		redo : function () {
			return this.handler.redo && this.handler.redo()
		},
		finishSketch : function () {
			this.handler.finishGeometry()
		},
		cancel : function () {
			this.handler.cancel()
		},
		CLASS_NAME : "OpenLayers.Control.DrawFeature"
	}), OpenLayers.Handler.Polygon = OpenLayers.Class(OpenLayers.Handler.Path, {
		holeModifier : null,
		drawingHole : !1,
		polygon : null,
		createFeature : function (e) {
			e = this.layer.getLonLatFromViewPortPx(e),
			e = new OpenLayers.Geometry.Point(e.lon, e.lat),
			this.point = new OpenLayers.Feature.Vector(e),
			this.line = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LinearRing([this.point.geometry])),
			this.polygon = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([this.line.geometry])),
			this.callback("create", [this.point.geometry, this.getSketch()]),
			this.point.geometry.clearBounds(),
			this.layer.addFeatures([this.polygon, this.point], {
				silent : !0
			})
		},
		addPoint : function (e) {
			if (!this.drawingHole && this.holeModifier && this.evt && this.evt[this.holeModifier])
				for (var t = this.point.geometry, n = this.control.layer.features, r, i = n.length - 1; 0 <= i; --i)
					if (r = n[i].geometry, (r instanceof OpenLayers.Geometry.Polygon || r instanceof OpenLayers.Geometry.MultiPolygon) && r.intersects(t)) {
						t = n[i],
						this.control.layer.removeFeatures([t], {
							silent : !0
						}),
						this.control.layer.events.registerPriority("sketchcomplete", this, this.finalizeInteriorRing),
						this.control.layer.events.registerPriority("sketchmodified", this, this.enforceTopology),
						t.geometry.addComponent(this.line.geometry),
						this.polygon = t,
						this.drawingHole = !0;
						break
					}
			OpenLayers.Handler.Path.prototype.addPoint.apply(this, arguments)
		},
		getCurrentPointIndex : function () {
			return this.line.geometry.components.length - 2
		},
		enforceTopology : function (e) {
			var e = e.vertex,
			t = this.line.geometry.components;
			this.polygon.geometry.intersects(e) || (t = t[t.length - 3], e.x = t.x, e.y = t.y)
		},
		finishGeometry : function () {
			this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length - 2]),
			this.removePoint(),
			this.finalize()
		},
		finalizeInteriorRing : function () {
			var e = this.line.geometry,
			t = 0 !== e.getArea();
			if (t) {
				for (var n = this.polygon.geometry.components, r = n.length - 2; 0 <= r; --r)
					if (e.intersects(n[r])) {
						t = !1;
						break
					}
				if (t) {
					r = n.length - 2;
					e : for (; 0 < r; --r)
						for (var i = n[r].components, s = 0, o = i.length; s < o; ++s)
							if (e.containsPoint(i[s])) {
								t = !1;
								break e
							}
				}
			}
			return t ? this.polygon.state !== OpenLayers.State.INSERT && (this.polygon.state = OpenLayers.State.UPDATE) : this.polygon.geometry.removeComponent(e),
			this.restoreFeature(),
			!1
		},
		cancel : function () {
			return this.drawingHole && (this.polygon.geometry.removeComponent(this.line.geometry), this.restoreFeature(!0)),
			OpenLayers.Handler.Path.prototype.cancel.apply(this, arguments)
		},
		restoreFeature : function (e) {
			this.control.layer.events.unregister("sketchcomplete", this, this.finalizeInteriorRing),
			this.control.layer.events.unregister("sketchmodified", this, this.enforceTopology),
			this.layer.removeFeatures([this.polygon], {
				silent : !0
			}),
			this.control.layer.addFeatures([this.polygon], {
				silent : !0
			}),
			this.drawingHole = !1,
			e || this.control.layer.events.triggerEvent("sketchcomplete", {
				feature : this.polygon
			})
		},
		destroyFeature : function (e) {
			OpenLayers.Handler.Path.prototype.destroyFeature.call(this, e),
			this.polygon = null
		},
		drawFeature : function () {
			this.layer.drawFeature(this.polygon, this.style),
			this.layer.drawFeature(this.point, this.style)
		},
		getSketch : function () {
			return this.polygon
		},
		getGeometry : function () {
			var e = this.polygon && this.polygon.geometry;
			return e && this.multi && (e = new OpenLayers.Geometry.MultiPolygon([e])),
			e
		},
		CLASS_NAME : "OpenLayers.Handler.Polygon"
	}), OpenLayers.Control.EditingToolbar = OpenLayers.Class(OpenLayers.Control.Panel, {
		citeCompliant : !1,
		initialize : function (e, t) {
			OpenLayers.Control.Panel.prototype.initialize.apply(this, [t]),
			this.addControls([new OpenLayers.Control.Navigation]),
			this.addControls([new OpenLayers.Control.DrawFeature(e, OpenLayers.Handler.Point, {
						displayClass : "olControlDrawFeaturePoint",
						handlerOptions : {
							citeCompliant : this.citeCompliant
						}
					}), new OpenLayers.Control.DrawFeature(e, OpenLayers.Handler.Path, {
						displayClass : "olControlDrawFeaturePath",
						handlerOptions : {
							citeCompliant : this.citeCompliant
						}
					}), new OpenLayers.Control.DrawFeature(e, OpenLayers.Handler.Polygon, {
						displayClass : "olControlDrawFeaturePolygon",
						handlerOptions : {
							citeCompliant : this.citeCompliant
						}
					})])
		},
		draw : function () {
			var e = OpenLayers.Control.Panel.prototype.draw.apply(this, arguments);
			return null === this.defaultControl && (this.defaultControl = this.controls[0]),
			e
		},
		CLASS_NAME : "OpenLayers.Control.EditingToolbar"
	}), OpenLayers.Strategy.BBOX = OpenLayers.Class(OpenLayers.Strategy, {
		bounds : null,
		resolution : null,
		ratio : 2,
		resFactor : null,
		response : null,
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.call(this);
			return e && (this.layer.events.on({
					moveend : this.update,
					refresh : this.update,
					visibilitychanged : this.update,
					scope : this
				}), this.update()),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && this.layer.events.un({
				moveend : this.update,
				refresh : this.update,
				visibilitychanged : this.update,
				scope : this
			}),
			e
		},
		update : function (e) {
			var t = this.getMapBounds();
			null !== t && (e && e.force || this.layer.visibility && this.layer.calculateInRange() && this.invalidBounds(t)) && (this.calculateBounds(t), this.resolution = this.layer.map.getResolution(), this.triggerRead(e))
		},
		getMapBounds : function () {
			if (null === this.layer.map)
				return null;
			var e = this.layer.map.getExtent();
			return e && !this.layer.projection.equals(this.layer.map.getProjectionObject()) && (e = e.clone().transform(this.layer.map.getProjectionObject(), this.layer.projection)),
			e
		},
		invalidBounds : function (e) {
			return e || (e = this.getMapBounds()),
			e = !this.bounds || !this.bounds.containsBounds(e),
			!e && this.resFactor && (e = this.resolution / this.layer.map.getResolution(), e = e >= this.resFactor || e <= 1 / this.resFactor),
			e
		},
		calculateBounds : function (e) {
			e || (e = this.getMapBounds());
			var t = e.getCenterLonLat(),
			n = e.getWidth() * this.ratio,
			e = e.getHeight() * this.ratio;
			this.bounds = new OpenLayers.Bounds(t.lon - n / 2, t.lat - e / 2, t.lon + n / 2, t.lat + e / 2)
		},
		triggerRead : function (e) {
			this.response && (!e || !0 !== e.noAbort) && (this.layer.protocol.abort(this.response), this.layer.events.triggerEvent("loadend")),
			this.layer.events.triggerEvent("loadstart"),
			this.response = this.layer.protocol.read(OpenLayers.Util.applyDefaults({
						filter : this.createFilter(),
						callback : this.merge,
						scope : this
					}, e))
		},
		createFilter : function () {
			var e = new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.BBOX,
					value : this.bounds,
					projection : this.layer.projection
				});
			return this.layer.filter && (e = new OpenLayers.Filter.Logical({
						type : OpenLayers.Filter.Logical.AND,
						filters : [this.layer.filter, e]
					})),
			e
		},
		merge : function (e) {
			this.layer.destroyFeatures();
			if ((e = e.features) && 0 < e.length) {
				var t = this.layer.projection,
				n = this.layer.map.getProjectionObject();
				if (!n.equals(t))
					for (var r, i = 0, s = e.length; i < s; ++i)
						(r = e[i].geometry) && r.transform(t, n);
				this.layer.addFeatures(e)
			}
			this.response = null,
			this.layer.events.triggerEvent("loadend")
		},
		CLASS_NAME : "OpenLayers.Strategy.BBOX"
	}), OpenLayers.Layer.WorldWind = OpenLayers.Class(OpenLayers.Layer.Grid, {
		DEFAULT_PARAMS : {},
		isBaseLayer : !0,
		lzd : null,
		zoomLevels : null,
		initialize : function (e, t, n, r, i, s) {
			this.lzd = n,
			this.zoomLevels = r,
			n = [],
			n.push(e, t, i, s),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, n),
			this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS)
		},
		getZoom : function () {
			var e = this.map.getZoom();
			return this.map.getMaxExtent(),
			e -= Math.log(this.maxResolution / (this.lzd / 512)) / Math.log(2)
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.getZoom(),
			n = this.map.getMaxExtent(),
			r = this.lzd / Math.pow(2, this.getZoom()),
			i = Math.floor((e.left - n.left) / r),
			e = Math.floor((e.bottom - n.bottom) / r);
			return this.map.getResolution() <= this.lzd / 512 && this.getZoom() <= this.zoomLevels ? this.getFullRequestString({
				L : t,
				X : i,
				Y : e
			}) : OpenLayers.Util.getImageLocation("blank.gif")
		},
		CLASS_NAME : "OpenLayers.Layer.WorldWind"
	}), OpenLayers.Protocol.CSW = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Protocol.CSW.DEFAULTS),
	t = OpenLayers.Protocol.CSW["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported CSW version: " + e.version;
	return new t(e)
}, OpenLayers.Protocol.CSW.DEFAULTS = {
	version : "2.0.2"
}, OpenLayers.Format.WMTSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.0.0",
		yx : {
			"urn:ogc:def:crs:EPSG::4326" : !0
		},
		createLayer : function (e, t) {
			var n,
			r = {
				layer : !0,
				matrixSet : !0
			},
			i;
			for (i in r)
				if (!(i in t))
					throw Error("Missing property '" + i + "' in layer configuration.");
			r = e.contents,
			i = r.tileMatrixSets[t.matrixSet];
			for (var s, o = 0, u = r.layers.length; o < u; ++o)
				if (r.layers[o].identifier === t.layer) {
					s = r.layers[o];
					break
				}
			if (s && i) {
				for (var a, o = 0, u = s.styles.length; o < u && (a = s.styles[o], !a.isDefault); ++o);
				n = new OpenLayers.Layer.WMTS(OpenLayers.Util.applyDefaults(t, {
							url : "REST" === t.requestEncoding && s.resourceUrl ? s.resourceUrl.tile.template : e.operationsMetadata.GetTile.dcp.http.get[0].url,
							name : s.title,
							style : a.identifier,
							matrixIds : i.matrixIds,
							tileFullExtent : i.bounds
						}))
			}
			return n
		},
		CLASS_NAME : "OpenLayers.Format.WMTSCapabilities"
	}), OpenLayers.Layer.Google.v3 = {
	DEFAULTS : {
		sphericalMercator : !0,
		projection : "EPSG:900913"
	},
	animationEnabled : !0,
	loadMapObject : function () {
		this.type || (this.type = google.maps.MapTypeId.ROADMAP);
		var e,
		t = OpenLayers.Layer.Google.cache[this.map.id];
		t ? (e = t.mapObject, ++t.count) : (t = this.map.viewPortDiv, e = document.createElement("div"), e.id = this.map.id + "_GMapContainer", e.style.position = "absolute", e.style.width = "100%", e.style.height = "100%", t.appendChild(e), t = this.map.getCenter(), e = new google.maps.Map(e, {
					center : t ? new google.maps.LatLng(t.lat, t.lon) : new google.maps.LatLng(0, 0),
					zoom : this.map.getZoom() || 0,
					mapTypeId : this.type,
					disableDefaultUI : !0,
					keyboardShortcuts : !1,
					draggable : !1,
					disableDoubleClickZoom : !0,
					scrollwheel : !1,
					streetViewControl : !1
				}), t = {
				mapObject : e,
				count : 1
			}, OpenLayers.Layer.Google.cache[this.map.id] = t, this.repositionListener = google.maps.event.addListenerOnce(e, "center_changed", OpenLayers.Function.bind(this.repositionMapElements, this))),
		this.mapObject = e,
		this.setGMapVisibility(this.visibility)
	},
	repositionMapElements : function () {
		google.maps.event.trigger(this.mapObject, "resize");
		var e = this.mapObject.getDiv().firstChild;
		if (!e || 3 > e.childNodes.length)
			return this.repositionTimer = window.setTimeout(OpenLayers.Function.bind(this.repositionMapElements, this), 250), !1;
		for (var t = OpenLayers.Layer.Google.cache[this.map.id], n = this.map.viewPortDiv, r = e.children.length - 1; 0 <= r; --r) {
			if (1000001 == e.children[r].style.zIndex) {
				var i = e.children[r];
				n.appendChild(i),
				i.style.zIndex = "1100",
				i.style.bottom = "",
				i.className = "olLayerGoogleCopyright olLayerGoogleV3",
				i.style.display = "",
				t.termsOfUse = i
			}
			1e6 == e.children[r].style.zIndex && (i = e.children[r], n.appendChild(i), i.style.zIndex = "1100", i.style.bottom = "", i.className = "olLayerGooglePoweredBy olLayerGoogleV3 gmnoprint", i.style.display = "", t.poweredBy = i),
			10000002 == e.children[r].style.zIndex && n.appendChild(e.children[r])
		}
		this.setGMapVisibility(this.visibility)
	},
	onMapResize : function () {
		if (this.visibility)
			google.maps.event.trigger(this.mapObject, "resize");
		else {
			var e = OpenLayers.Layer.Google.cache[this.map.id];
			if (!e.resized) {
				var t = this;
				google.maps.event.addListenerOnce(this.mapObject, "tilesloaded", function () {
					google.maps.event.trigger(t.mapObject, "resize"),
					t.moveTo(t.map.getCenter(), t.map.getZoom()),
					delete e.resized
				})
			}
			e.resized = !0
		}
	},
	setGMapVisibility : function (e) {
		var t = OpenLayers.Layer.Google.cache[this.map.id];
		if (t) {
			for (var n = this.type, r = this.map.layers, i, s = r.length - 1; 0 <= s; --s)
				if (i = r[s], i instanceof OpenLayers.Layer.Google && !0 === i.visibility && !0 === i.inRange) {
					n = i.type,
					e = !0;
					break
				}
			r = this.mapObject.getDiv(),
			!0 === e ? (this.mapObject.setMapTypeId(n), r.style.left = "", t.termsOfUse && t.termsOfUse.style && (t.termsOfUse.style.left = "", t.termsOfUse.style.display = "", t.poweredBy.style.display = ""), t.displayed = this.id) : (delete t.displayed, r.style.left = "-9999px", t.termsOfUse && t.termsOfUse.style && (t.termsOfUse.style.display = "none", t.termsOfUse.style.left = "-9999px", t.poweredBy.style.display = "none"))
		}
	},
	getMapContainer : function () {
		return this.mapObject.getDiv()
	},
	getMapObjectBoundsFromOLBounds : function (e) {
		var t = null;
		return null != e && (t = this.sphericalMercator ? this.inverseMercator(e.bottom, e.left) : new OpenLayers.LonLat(e.bottom, e.left), e = this.sphericalMercator ? this.inverseMercator(e.top, e.right) : new OpenLayers.LonLat(e.top, e.right), t = new google.maps.LatLngBounds(new google.maps.LatLng(t.lat, t.lon), new google.maps.LatLng(e.lat, e.lon))),
		t
	},
	getMapObjectLonLatFromMapObjectPixel : function (e) {
		var t = this.map.getSize(),
		n = this.getLongitudeFromMapObjectLonLat(this.mapObject.center),
		r = this.getLatitudeFromMapObjectLonLat(this.mapObject.center),
		i = this.map.getResolution(),
		e = new OpenLayers.LonLat(n + (e.x - t.w / 2) * i, r - (e.y - t.h / 2) * i);
		return this.wrapDateLine && (e = e.wrapDateLine(this.maxExtent)),
		this.getMapObjectLonLatFromLonLat(e.lon, e.lat)
	},
	getMapObjectPixelFromMapObjectLonLat : function (e) {
		var t = this.getLongitudeFromMapObjectLonLat(e),
		e = this.getLatitudeFromMapObjectLonLat(e),
		n = this.map.getResolution(),
		r = this.map.getExtent();
		return this.getMapObjectPixelFromXY(1 / n * (t - r.left), 1 / n * (r.top - e))
	},
	setMapObjectCenter : function (e, t) {
		if (!1 === this.animationEnabled && t != this.mapObject.zoom) {
			var n = this.getMapContainer();
			google.maps.event.addListenerOnce(this.mapObject, "idle", function () {
				n.style.visibility = ""
			}),
			n.style.visibility = "hidden"
		}
		this.mapObject.setOptions({
			center : e,
			zoom : t
		})
	},
	getMapObjectZoomFromMapObjectBounds : function (e) {
		return this.mapObject.getBoundsZoomLevel(e)
	},
	getMapObjectLonLatFromLonLat : function (e, t) {
		var n;
		return this.sphericalMercator ? (n = this.inverseMercator(e, t), n = new google.maps.LatLng(n.lat, n.lon)) : n = new google.maps.LatLng(t, e),
		n
	},
	getMapObjectPixelFromXY : function (e, t) {
		return new google.maps.Point(e, t)
	},
	destroy : function () {
		this.repositionListener && google.maps.event.removeListener(this.repositionListener),
		this.repositionTimer && window.clearTimeout(this.repositionTimer),
		OpenLayers.Layer.Google.prototype.destroy.apply(this, arguments)
	}
}, OpenLayers.Format.WPSDescribeProcess = OpenLayers.Class(OpenLayers.Format.XML, {
		VERSION : "1.0.0",
		namespaces : {
			wps : "http://www.opengis.net/wps/1.0.0",
			ows : "http://www.opengis.net/ows/1.1",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		schemaLocation : "http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",
		defaultPrefix : "wps",
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			wps : {
				ProcessDescriptions : function (e, t) {
					t.processDescriptions = {},
					this.readChildNodes(e, t.processDescriptions)
				},
				ProcessDescription : function (e, t) {
					var n = {
						processVersion : this.getAttributeNS(e, this.namespaces.wps, "processVersion"),
						statusSupported : "true" === e.getAttribute("statusSupported"),
						storeSupported : "true" === e.getAttribute("storeSupported")
					};
					this.readChildNodes(e, n),
					t[n.identifier] = n
				},
				DataInputs : function (e, t) {
					t.dataInputs = [],
					this.readChildNodes(e, t.dataInputs)
				},
				ProcessOutputs : function (e, t) {
					t.processOutputs = [],
					this.readChildNodes(e, t.processOutputs)
				},
				Output : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.push(n)
				},
				ComplexOutput : function (e, t) {
					t.complexOutput = {},
					this.readChildNodes(e, t.complexOutput)
				},
				Input : function (e, t) {
					var n = {
						maxOccurs : parseInt(e.getAttribute("maxOccurs")),
						minOccurs : parseInt(e.getAttribute("minOccurs"))
					};
					this.readChildNodes(e, n),
					t.push(n)
				},
				BoundingBoxData : function (e, t) {
					t.boundingBoxData = {},
					this.readChildNodes(e, t.boundingBoxData)
				},
				CRS : function (e, t) {
					t.CRSs || (t.CRSs = {}),
					t.CRSs[this.getChildValue(e)] = !0
				},
				LiteralData : function (e, t) {
					t.literalData = {},
					this.readChildNodes(e, t.literalData)
				},
				ComplexData : function (e, t) {
					t.complexData = {},
					this.readChildNodes(e, t.complexData)
				},
				Default : function (e, t) {
					t["default"] = {},
					this.readChildNodes(e, t["default"])
				},
				Supported : function (e, t) {
					t.supported = {},
					this.readChildNodes(e, t.supported)
				},
				Format : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.formats || (t.formats = {}),
					t.formats[n.mimeType] = !0
				},
				MimeType : function (e, t) {
					t.mimeType = this.getChildValue(e)
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WPSDescribeProcess"
	}), OpenLayers.Format.CSWGetRecords.v2_0_2 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			csw : "http://www.opengis.net/cat/csw/2.0.2",
			dc : "http://purl.org/dc/elements/1.1/",
			dct : "http://purl.org/dc/terms/",
			gmd : "http://www.isotc211.org/2005/gmd",
			geonet : "http://www.fao.org/geonetwork",
			ogc : "http://www.opengis.net/ogc",
			ows : "http://www.opengis.net/ows",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		defaultPrefix : "csw",
		version : "2.0.2",
		schemaLocation : "http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",
		requestId : null,
		resultType : null,
		outputFormat : null,
		outputSchema : null,
		startPosition : null,
		maxRecords : null,
		DistributedSearch : null,
		ResponseHandler : null,
		Query : null,
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			csw : {
				GetRecordsResponse : function (e, t) {
					t.records = [],
					this.readChildNodes(e, t);
					var n = this.getAttributeNS(e, "", "version");
					"" != n && (t.version = n)
				},
				RequestId : function (e, t) {
					t.RequestId = this.getChildValue(e)
				},
				SearchStatus : function (e, t) {
					t.SearchStatus = {};
					var n = this.getAttributeNS(e, "", "timestamp");
					"" != n && (t.SearchStatus.timestamp = n)
				},
				SearchResults : function (e, t) {
					this.readChildNodes(e, t);
					for (var n = e.attributes, r = {}, i = 0, s = n.length; i < s; ++i)
						r[n[i].name] = "numberOfRecordsMatched" == n[i].name || "numberOfRecordsReturned" == n[i].name || "nextRecord" == n[i].name ? parseInt(n[i].nodeValue) : n[i].nodeValue;
					t.SearchResults = r
				},
				SummaryRecord : function (e, t) {
					var n = {
						type : "SummaryRecord"
					};
					this.readChildNodes(e, n),
					t.records.push(n)
				},
				BriefRecord : function (e, t) {
					var n = {
						type : "BriefRecord"
					};
					this.readChildNodes(e, n),
					t.records.push(n)
				},
				DCMIRecord : function (e, t) {
					var n = {
						type : "DCMIRecord"
					};
					this.readChildNodes(e, n),
					t.records.push(n)
				},
				Record : function (e, t) {
					var n = {
						type : "Record"
					};
					this.readChildNodes(e, n),
					t.records.push(n)
				},
				"*" : function (e, t) {
					var n = e.localName || e.nodeName.split(":").pop();
					t[n] = this.getChildValue(e)
				}
			},
			geonet : {
				info : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.gninfo = n
				}
			},
			dc : {
				"*" : function (e, t) {
					var n = e.localName || e.nodeName.split(":").pop();
					OpenLayers.Util.isArray(t[n]) || (t[n] = []);
					for (var r = {}, i = e.attributes, s = 0, o = i.length; s < o; ++s)
						r[i[s].name] = i[s].nodeValue;
					r.value = this.getChildValue(e),
					"" != r.value && t[n].push(r)
				}
			},
			dct : {
				"*" : function (e, t) {
					var n = e.localName || e.nodeName.split(":").pop();
					OpenLayers.Util.isArray(t[n]) || (t[n] = []),
					t[n].push(this.getChildValue(e))
				}
			},
			ows : OpenLayers.Util.applyDefaults({
				BoundingBox : function (e, t) {
					t.bounds && (t.BoundingBox = [{
								crs : t.projection,
								value : [t.bounds.left, t.bounds.bottom, t.bounds.right, t.bounds.top]
							}
						], delete t.projection, delete t.bounds),
					OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows.BoundingBox.apply(this, arguments)
				}
			}, OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows)
		},
		write : function (e) {
			return e = this.writeNode("csw:GetRecords", e),
			e.setAttribute("xmlns:gmd", this.namespaces.gmd),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		writers : {
			csw : {
				GetRecords : function (e) {
					e || (e = {});
					var t = this.createElementNSPlus("csw:GetRecords", {
							attributes : {
								service : "CSW",
								version : this.version,
								requestId : e.requestId || this.requestId,
								resultType : e.resultType || this.resultType,
								outputFormat : e.outputFormat || this.outputFormat,
								outputSchema : e.outputSchema || this.outputSchema,
								startPosition : e.startPosition || this.startPosition,
								maxRecords : e.maxRecords || this.maxRecords
							}
						});
					(e.DistributedSearch || this.DistributedSearch) && this.writeNode("csw:DistributedSearch", e.DistributedSearch || this.DistributedSearch, t);
					var n = e.ResponseHandler || this.ResponseHandler;
					if (OpenLayers.Util.isArray(n) && 0 < n.length)
						for (var r = 0, i = n.length; r < i; r++)
							this.writeNode("csw:ResponseHandler", n[r], t);
					return this.writeNode("Query", e.Query || this.Query, t),
					t
				},
				DistributedSearch : function (e) {
					return this.createElementNSPlus("csw:DistributedSearch", {
						attributes : {
							hopCount : e.hopCount
						}
					})
				},
				ResponseHandler : function (e) {
					return this.createElementNSPlus("csw:ResponseHandler", {
						value : e.value
					})
				},
				Query : function (e) {
					e || (e = {});
					var t = this.createElementNSPlus("csw:Query", {
							attributes : {
								typeNames : e.typeNames || "csw:Record"
							}
						}),
					n = e.ElementName;
					if (OpenLayers.Util.isArray(n) && 0 < n.length)
						for (var r = 0, i = n.length; r < i; r++)
							this.writeNode("csw:ElementName", n[r], t);
					else
						this.writeNode("csw:ElementSetName", e.ElementSetName || {
							value : "summary"
						}, t);
					return e.Constraint && this.writeNode("csw:Constraint", e.Constraint, t),
					e.SortBy && this.writeNode("ogc:SortBy", e.SortBy, t),
					t
				},
				ElementName : function (e) {
					return this.createElementNSPlus("csw:ElementName", {
						value : e.value
					})
				},
				ElementSetName : function (e) {
					return this.createElementNSPlus("csw:ElementSetName", {
						attributes : {
							typeNames : e.typeNames
						},
						value : e.value
					})
				},
				Constraint : function (e) {
					var t = this.createElementNSPlus("csw:Constraint", {
							attributes : {
								version : e.version
							}
						});
					if (e.Filter) {
						var n = new OpenLayers.Format.Filter({
								version : e.version
							});
						t.appendChild(n.write(e.Filter))
					} else
						e.CqlText && (e = this.createElementNSPlus("CqlText", {
									value : e.CqlText.value
								}), t.appendChild(e));
					return t
				}
			},
			ogc : OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc
		},
		CLASS_NAME : "OpenLayers.Format.CSWGetRecords.v2_0_2"
	}), OpenLayers.Marker.Box = OpenLayers.Class(OpenLayers.Marker, {
		bounds : null,
		div : null,
		initialize : function (e, t, n) {
			this.bounds = e,
			this.div = OpenLayers.Util.createDiv(),
			this.div.style.overflow = "hidden",
			this.events = new OpenLayers.Events(this, this.div),
			this.setBorder(t, n)
		},
		destroy : function () {
			this.div = this.bounds = null,
			OpenLayers.Marker.prototype.destroy.apply(this, arguments)
		},
		setBorder : function (e, t) {
			e || (e = "red"),
			t || (t = 2),
			this.div.style.border = t + "px solid " + e
		},
		draw : function (e, t) {
			return OpenLayers.Util.modifyDOMElement(this.div, null, e, t),
			this.div
		},
		onScreen : function () {
			var e = !1;
			return this.map && (e = this.map.getExtent().containsBounds(this.bounds, !0, !0)),
			e
		},
		display : function (e) {
			this.div.style.display = e ? "" : "none"
		},
		CLASS_NAME : "OpenLayers.Marker.Box"
	}), OpenLayers.Format.Text = OpenLayers.Class(OpenLayers.Format, {
		defaultStyle : null,
		extractStyles : !0,
		initialize : function (e) {
			e = e || {},
			!1 !== e.extractStyles && (e.defaultStyle = {
					externalGraphic : OpenLayers.Util.getImageLocation("marker.png"),
					graphicWidth : 21,
					graphicHeight : 25,
					graphicXOffset : -10.5,
					graphicYOffset : -12.5
				}),
			OpenLayers.Format.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			for (var e = e.split("\n"), t, n = [], r = 0; r < e.length - 1; r++) {
				var i = e[r].replace(/^\s*/, "").replace(/\s*$/, "");
				if ("#" != i.charAt(0))
					if (t) {
						for (var i = i.split("	"), s = new OpenLayers.Geometry.Point(0, 0), o = {}, u = this.defaultStyle ? OpenLayers.Util.applyDefaults({}, this.defaultStyle) : null, a = !1, f = 0; f < i.length; f++)
							if (i[f])
								if ("point" == t[f])
									a = i[f].split(","), s.y = parseFloat(a[0]), s.x = parseFloat(a[1]), a = !0;
								else if ("lat" == t[f])
									s.y = parseFloat(i[f]), a = !0;
								else if ("lon" == t[f])
									s.x = parseFloat(i[f]), a = !0;
								else if ("title" == t[f])
									o.title = i[f];
								else if ("image" == t[f] || "icon" == t[f] && u)
									u.externalGraphic = i[f];
								else if ("iconSize" == t[f] && u) {
									var l = i[f].split(",");
									u.graphicWidth = parseFloat(l[0]),
									u.graphicHeight = parseFloat(l[1])
								} else
									"iconOffset" == t[f] && u ? (l = i[f].split(","), u.graphicXOffset = parseFloat(l[0]), u.graphicYOffset = parseFloat(l[1])) : "description" == t[f] ? o.description = i[f] : "overflow" == t[f] ? o.overflow = i[f] : o[t[f]] = i[f];
						a && (this.internalProjection && this.externalProjection && s.transform(this.externalProjection, this.internalProjection), i = new OpenLayers.Feature.Vector(s, o, u), n.push(i))
					} else
						t = i.split("	")
			}
			return n
		},
		CLASS_NAME : "OpenLayers.Format.Text"
	}), OpenLayers.Layer.Text = OpenLayers.Class(OpenLayers.Layer.Markers, {
		location : null,
		features : null,
		formatOptions : null,
		selectedFeature : null,
		initialize : function (e, t) {
			OpenLayers.Layer.Markers.prototype.initialize.apply(this, arguments),
			this.features = []
		},
		destroy : function () {
			OpenLayers.Layer.Markers.prototype.destroy.apply(this, arguments),
			this.clearFeatures(),
			this.features = null
		},
		loadText : function () {
			!this.loaded && null != this.location && (this.events.triggerEvent("loadstart"), OpenLayers.Request.GET({
					url : this.location,
					success : this.parseData,
					failure : function () {
						this.events.triggerEvent("loadend")
					},
					scope : this
				}), this.loaded = !0)
		},
		moveTo : function (e, t, n) {
			OpenLayers.Layer.Markers.prototype.moveTo.apply(this, arguments),
			this.visibility && !this.loaded && this.loadText()
		},
		parseData : function (e) {
			var e = e.responseText,
			t = {};
			OpenLayers.Util.extend(t, this.formatOptions),
			this.map && !this.projection.equals(this.map.getProjectionObject()) && (t.externalProjection = this.projection, t.internalProjection = this.map.getProjectionObject());
			for (var e = (new OpenLayers.Format.Text(t)).read(e), t = 0, n = e.length; t < n; t++) {
				var r = {},
				i = e[t],
				s,
				o,
				u;
				s = new OpenLayers.LonLat(i.geometry.x, i.geometry.y),
				i.style.graphicWidth && i.style.graphicHeight && (o = new OpenLayers.Size(i.style.graphicWidth, i.style.graphicHeight)),
				void 0 !== i.style.graphicXOffset && void 0 !== i.style.graphicYOffset && (u = new OpenLayers.Pixel(i.style.graphicXOffset, i.style.graphicYOffset)),
				null != i.style.externalGraphic ? r.icon = new OpenLayers.Icon(i.style.externalGraphic, o, u) : (r.icon = OpenLayers.Marker.defaultIcon(), null != o && r.icon.setSize(o)),
				null != i.attributes.title && null != i.attributes.description && (r.popupContentHTML = "<h2>" + i.attributes.title + "</h2><p>" + i.attributes.description + "</p>"),
				r.overflow = i.attributes.overflow || "auto",
				r = new OpenLayers.Feature(this, s, r),
				this.features.push(r),
				s = r.createMarker(),
				null != i.attributes.title && null != i.attributes.description && s.events.register("click", r, this.markerClick),
				this.addMarker(s)
			}
			this.events.triggerEvent("loadend")
		},
		markerClick : function (e) {
			var t = this == this.layer.selectedFeature;
			this.layer.selectedFeature = t ? null : this;
			for (var n = 0, r = this.layer.map.popups.length; n < r; n++)
				this.layer.map.removePopup(this.layer.map.popups[n]);
			t || this.layer.map.addPopup(this.createPopup()),
			OpenLayers.Event.stop(e)
		},
		clearFeatures : function () {
			if (null != this.features)
				for (; 0 < this.features.length; ) {
					var e = this.features[0];
					OpenLayers.Util.removeItem(this.features, e),
					e.destroy()
				}
		},
		CLASS_NAME : "OpenLayers.Layer.Text"
	}), OpenLayers.Handler.RegularPolygon = OpenLayers.Class(OpenLayers.Handler.Drag, {
		sides : 4,
		radius : null,
		snapAngle : null,
		snapToggle : "shiftKey",
		layerOptions : null,
		persist : !1,
		irregular : !1,
		citeCompliant : !1,
		angle : null,
		fixedRadius : !1,
		feature : null,
		layer : null,
		origin : null,
		initialize : function (e, t, n) {
			if (!n || !n.layerOptions || !n.layerOptions.styleMap)
				this.style = OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"], {});
			OpenLayers.Handler.Drag.prototype.initialize.apply(this, [e, t, n]),
			this.options = n ? n : {}

		},
		setOptions : function (e) {
			OpenLayers.Util.extend(this.options, e),
			OpenLayers.Util.extend(this, e)
		},
		activate : function () {
			var e = !1;
			return OpenLayers.Handler.Drag.prototype.activate.apply(this, arguments) && (e = OpenLayers.Util.extend({
						displayInLayerSwitcher : !1,
						calculateInRange : OpenLayers.Function.True,
						wrapDateLine : this.citeCompliant
					}, this.layerOptions), this.layer = new OpenLayers.Layer.Vector(this.CLASS_NAME, e), this.map.addLayer(this.layer), e = !0),
			e
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.Drag.prototype.deactivate.apply(this, arguments) && (this.dragging && this.cancel(), null != this.layer.map && (this.layer.destroy(!1), this.feature && this.feature.destroy()), this.feature = this.layer = null, e = !0),
			e
		},
		down : function (e) {
			this.fixedRadius = !!this.radius,
			e = this.layer.getLonLatFromViewPortPx(e.xy),
			this.origin = new OpenLayers.Geometry.Point(e.lon, e.lat);
			if (!this.fixedRadius || this.irregular)
				this.radius = this.map.getResolution();
			this.persist && this.clear(),
			this.feature = new OpenLayers.Feature.Vector,
			this.createGeometry(),
			this.callback("create", [this.origin, this.feature]),
			this.layer.addFeatures([this.feature], {
				silent : !0
			}),
			this.layer.drawFeature(this.feature, this.style)
		},
		move : function (e) {
			var t = this.layer.getLonLatFromViewPortPx(e.xy),
			t = new OpenLayers.Geometry.Point(t.lon, t.lat);
			this.irregular ? (e = Math.sqrt(2) * Math.abs(t.y - this.origin.y) / 2, this.radius = Math.max(this.map.getResolution() / 2, e)) : this.fixedRadius ? this.origin = t : (this.calculateAngle(t, e), this.radius = Math.max(this.map.getResolution() / 2, t.distanceTo(this.origin))),
			this.modifyGeometry(),
			this.irregular && (e = t.x - this.origin.x, t = t.y - this.origin.y, this.feature.geometry.resize(1, this.origin, 0 == t ? e / (this.radius * Math.sqrt(2)) : e / t), this.feature.geometry.move(e / 2, t / 2)),
			this.layer.drawFeature(this.feature, this.style)
		},
		up : function (e) {
			this.finalize(),
			this.start == this.last && this.callback("done", [e.xy])
		},
		out : function () {
			this.finalize()
		},
		createGeometry : function () {
			this.angle = Math.PI * (1 / this.sides - .5),
			this.snapAngle && (this.angle += this.snapAngle * (Math.PI / 180)),
			this.feature.geometry = OpenLayers.Geometry.Polygon.createRegularPolygon(this.origin, this.radius, this.sides, this.snapAngle)
		},
		modifyGeometry : function () {
			var e,
			t,
			n = this.feature.geometry.components[0];
			n.components.length != this.sides + 1 && (this.createGeometry(), n = this.feature.geometry.components[0]);
			for (var r = 0; r < this.sides; ++r)
				t = n.components[r], e = this.angle + 2 * r * Math.PI / this.sides, t.x = this.origin.x + this.radius * Math.cos(e), t.y = this.origin.y + this.radius * Math.sin(e), t.clearBounds()
		},
		calculateAngle : function (e, t) {
			var n = Math.atan2(e.y - this.origin.y, e.x - this.origin.x);
			if (this.snapAngle && this.snapToggle && !t[this.snapToggle]) {
				var r = Math.PI / 180 * this.snapAngle;
				this.angle = Math.round(n / r) * r
			} else
				this.angle = n
		},
		cancel : function () {
			this.callback("cancel", null),
			this.finalize()
		},
		finalize : function () {
			this.origin = null,
			this.radius = this.options.radius
		},
		clear : function () {
			this.layer && (this.layer.renderer.clear(), this.layer.destroyFeatures())
		},
		callback : function (e) {
			this.callbacks[e] && this.callbacks[e].apply(this.control, [this.feature.geometry.clone()]),
			!this.persist && ("done" == e || "cancel" == e) && this.clear()
		},
		CLASS_NAME : "OpenLayers.Handler.RegularPolygon"
	}), OpenLayers.Control.SLDSelect = OpenLayers.Class(OpenLayers.Control, {
		clearOnDeactivate : !1,
		layers : null,
		callbacks : null,
		selectionSymbolizer : {
			Polygon : {
				fillColor : "#FF0000",
				stroke : !1
			},
			Line : {
				strokeColor : "#FF0000",
				strokeWidth : 2
			},
			Point : {
				graphicName : "square",
				fillColor : "#FF0000",
				pointRadius : 5
			}
		},
		layerOptions : null,
		handlerOptions : null,
		sketchStyle : null,
		wfsCache : {},
		layerCache : {},
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			this.callbacks = OpenLayers.Util.extend({
					done : this.select,
					click : this.select
				}, this.callbacks),
			this.handlerOptions = this.handlerOptions || {},
			this.layerOptions = OpenLayers.Util.applyDefaults(this.layerOptions, {
					displayInLayerSwitcher : !1,
					tileOptions : {
						maxGetUrlLength : 2048
					}
				}),
			this.sketchStyle && (this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
						styleMap : new OpenLayers.StyleMap({
							"default" : this.sketchStyle
						})
					})),
			this.handler = new e(this, this.callbacks, this.handlerOptions)
		},
		destroy : function () {
			for (var e in this.layerCache)
				delete this.layerCache[e];
			for (e in this.wfsCache)
				delete this.wfsCache[e];
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		coupleLayerVisiblity : function (e) {
			this.setVisibility(e.object.getVisibility())
		},
		createSelectionLayer : function (e) {
			var t;
			return this.layerCache[e.id] ? t = this.layerCache[e.id] : (t = new OpenLayers.Layer.WMS(e.name, e.url, e.params, OpenLayers.Util.applyDefaults(this.layerOptions, e.getOptions())), this.layerCache[e.id] = t, !1 === this.layerOptions.displayInLayerSwitcher && e.events.on({
						visibilitychanged : this.coupleLayerVisiblity,
						scope : t
					}), this.map.addLayer(t)),
			t
		},
		createSLD : function (e, t, n) {
			for (var r = {
					version : "1.0.0",
					namedLayers : {}

				}, i = ("" + e.params.LAYERS).split(","), s = 0, o = i.length; s < o; s++) {
				var u = i[s];
				r.namedLayers[u] = {
					name : u,
					userStyles : []
				};
				var a = this.selectionSymbolizer,
				f = n[s];
				0 <= f.type.indexOf("Polygon") ? a = {
					Polygon : this.selectionSymbolizer.Polygon
				}
				 : 0 <= f.type.indexOf("LineString") ? a = {
					Line : this.selectionSymbolizer.Line
				}
				 : 0 <= f.type.indexOf("Point") && (a = {
						Point : this.selectionSymbolizer.Point
					}),
				r.namedLayers[u].userStyles.push({
					name : "default",
					rules : [new OpenLayers.Rule({
							symbolizer : a,
							filter : t[s],
							maxScaleDenominator : e.options.minScale
						})]
				})
			}
			return (new OpenLayers.Format.SLD({
					srsName : this.map.getProjection()
				})).write(r)
		},
		parseDescribeLayer : function (e) {
			var t = new OpenLayers.Format.WMSDescribeLayer,
			n = e.responseXML;
			if (!n || !n.documentElement)
				n = e.responseText;
			for (var e = t.read(n), t = [], n = null, r = 0, i = e.length; r < i; r++)
				"WFS" == e[r].owsType && (t.push(e[r].typeName), n = e[r].owsURL);
			OpenLayers.Request.GET({
				url : n,
				params : {
					SERVICE : "WFS",
					TYPENAME : t.toString(),
					REQUEST : "DescribeFeatureType",
					VERSION : "1.0.0"
				},
				callback : function (e) {
					var t = new OpenLayers.Format.WFSDescribeFeatureType,
					n = e.responseXML;
					if (!n || !n.documentElement)
						n = e.responseText;
					this.control.wfsCache[this.layer.id] = t.read(n),
					this.control._queue && this.control.applySelection()
				},
				scope : this
			})
		},
		getGeometryAttributes : function (e) {
			for (var t = [], e = this.wfsCache[e.id], n = 0, r = e.featureTypes.length; n < r; n++)
				for (var i = e.featureTypes[n].properties, s = 0, o = i.length; s < o; s++) {
					var u = i[s],
					a = u.type;
					(0 <= a.indexOf("LineString") || 0 <= a.indexOf("GeometryAssociationType") || 0 <= a.indexOf("GeometryPropertyType") || 0 <= a.indexOf("Point") || 0 <= a.indexOf("Polygon")) && t.push(u)
				}
			return t
		},
		activate : function () {
			var e = OpenLayers.Control.prototype.activate.call(this);
			if (e)
				for (var t = 0, n = this.layers.length; t < n; t++) {
					var r = this.layers[t];
					r && !this.wfsCache[r.id] && OpenLayers.Request.GET({
						url : r.url,
						params : {
							SERVICE : "WMS",
							VERSION : r.params.VERSION,
							LAYERS : r.params.LAYERS,
							REQUEST : "DescribeLayer"
						},
						callback : this.parseDescribeLayer,
						scope : {
							layer : r,
							control : this
						}
					})
				}
			return e
		},
		deactivate : function () {
			var e = OpenLayers.Control.prototype.deactivate.call(this);
			if (e)
				for (var t = 0, n = this.layers.length; t < n; t++) {
					var r = this.layers[t];
					if (r && !0 === this.clearOnDeactivate) {
						var i = this.layerCache,
						s = i[r.id];
						s && (r.events.un({
								visibilitychanged : this.coupleLayerVisiblity,
								scope : s
							}), s.destroy(), delete i[r.id])
					}
				}
			return e
		},
		setLayers : function (e) {
			this.active ? (this.deactivate(), this.layers = e, this.activate()) : this.layers = e
		},
		createFilter : function (e, t) {
			var n = null;
			return this.handler instanceof OpenLayers.Handler.RegularPolygon ? n = !0 === this.handler.irregular ? new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.BBOX,
					property : e.name,
					value : t.getBounds()
				}) : new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.INTERSECTS,
					property : e.name,
					value : t
				}) : this.handler instanceof OpenLayers.Handler.Polygon ? n = new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.INTERSECTS,
					property : e.name,
					value : t
				}) : this.handler instanceof OpenLayers.Handler.Path ? n = 0 <= e.type.indexOf("Point") ? new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.DWITHIN,
					property : e.name,
					distance : .01 * this.map.getExtent().getWidth(),
					distanceUnits : this.map.getUnits(),
					value : t
				}) : new OpenLayers.Filter.Spatial({
					type : OpenLayers.Filter.Spatial.INTERSECTS,
					property : e.name,
					value : t
				}) : this.handler instanceof OpenLayers.Handler.Click && (n = 0 <= e.type.indexOf("Polygon") ? new OpenLayers.Filter.Spatial({
							type : OpenLayers.Filter.Spatial.INTERSECTS,
							property : e.name,
							value : t
						}) : new OpenLayers.Filter.Spatial({
							type : OpenLayers.Filter.Spatial.DWITHIN,
							property : e.name,
							distance : .01 * this.map.getExtent().getWidth(),
							distanceUnits : this.map.getUnits(),
							value : t
						})),
			n
		},
		select : function (e) {
			this._queue = function () {
				for (var t = 0, n = this.layers.length; t < n; t++) {
					for (var r = this.layers[t], i = this.getGeometryAttributes(r), s = [], o = 0, u = i.length; o < u; o++) {
						var f = i[o];
						if (null !== f) {
							if (!(e instanceof OpenLayers.Geometry)) {
								var l = this.map.getLonLatFromPixel(e.xy);
								e = new OpenLayers.Geometry.Point(l.lon, l.lat)
							}
							f = this.createFilter(f, e),
							null !== f && s.push(f)
						}
					}
					o = this.createSelectionLayer(r),
					i = this.createSLD(r, s, i),
					this.events.triggerEvent("selected", {
						layer : r,
						filters : s
					}),
					o.mergeNewParams({
						SLD_BODY : i
					}),
					delete this._queue
				}
			},
			this.applySelection()
		},
		applySelection : function () {
			for (var e = !0, t = 0, n = this.layers.length; t < n; t++)
				if (!this.wfsCache[this.layers[t].id]) {
					e = !1;
					break
				}
			e && this._queue.call(this)
		},
		CLASS_NAME : "OpenLayers.Control.SLDSelect"
	}), OpenLayers.Control.Scale = OpenLayers.Class(OpenLayers.Control, {
		element : null,
		geodesic : !1,
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]),
			this.element = OpenLayers.Util.getElement(e)
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.element || (this.element = document.createElement("div"), this.div.appendChild(this.element)),
			this.map.events.register("moveend", this, this.updateScale),
			this.updateScale(),
			this.div
		},
		updateScale : function () {
			var e;
			if (!0 === this.geodesic) {
				if (!this.map.getUnits())
					return;
				e = OpenLayers.INCHES_PER_UNIT,
				e = (this.map.getGeodesicPixelSize().w || 1e-6) * e.km * OpenLayers.DOTS_PER_INCH
			} else
				e = this.map.getScale();
			e && (e = 9500 <= e && 95e4 >= e ? Math.round(e / 1e3) + "K" : 95e4 <= e ? Math.round(e / 1e6) + "M" : Math.round(e), this.element.innerHTML = OpenLayers.i18n("Scale = 1 : ${scaleDenom}", {
						scaleDenom : e
					}))
		},
		CLASS_NAME : "OpenLayers.Control.Scale"
	}), OpenLayers.Control.Button = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_BUTTON,
		trigger : function () {},
		CLASS_NAME : "OpenLayers.Control.Button"
	}), OpenLayers.Layer.MapGuide = OpenLayers.Class(OpenLayers.Layer.Grid, {
		isBaseLayer : !0,
		useHttpTile : !1,
		singleTile : !1,
		useOverlay : !1,
		useAsyncOverlay : !0,
		TILE_PARAMS : {
			operation : "GETTILEIMAGE",
			version : "1.2.0"
		},
		SINGLE_TILE_PARAMS : {
			operation : "GETMAPIMAGE",
			format : "PNG",
			locale : "en",
			clip : "1",
			version : "1.0.0"
		},
		OVERLAY_PARAMS : {
			operation : "GETDYNAMICMAPOVERLAYIMAGE",
			format : "PNG",
			locale : "en",
			clip : "1",
			version : "2.0.0"
		},
		FOLDER_PARAMS : {
			tileColumnsPerFolder : 30,
			tileRowsPerFolder : 30,
			format : "png",
			querystring : null
		},
		defaultSize : new OpenLayers.Size(300, 300),
		tileOriginCorner : "tl",
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments);
			if (null == r || null == r.isBaseLayer)
				this.isBaseLayer = "true" != this.transparent && 1 != this.transparent;
			r && null != r.useOverlay && (this.useOverlay = r.useOverlay),
			this.singleTile ? this.useOverlay ? (OpenLayers.Util.applyDefaults(this.params, this.OVERLAY_PARAMS), this.useAsyncOverlay || (this.params.version = "1.0.0")) : OpenLayers.Util.applyDefaults(this.params, this.SINGLE_TILE_PARAMS) : (this.useHttpTile ? OpenLayers.Util.applyDefaults(this.params, this.FOLDER_PARAMS) : OpenLayers.Util.applyDefaults(this.params, this.TILE_PARAMS), this.setTileSize(this.defaultSize))
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.MapGuide(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var t;
			t = e.getCenterLonLat();
			var n = this.map.getSize();
			return this.singleTile ? (e = {
					setdisplaydpi : OpenLayers.DOTS_PER_INCH,
					setdisplayheight : n.h * this.ratio,
					setdisplaywidth : n.w * this.ratio,
					setviewcenterx : t.lon,
					setviewcentery : t.lat,
					setviewscale : this.map.getScale()
				}, this.useOverlay && !this.useAsyncOverlay && (t = {}, t = OpenLayers.Util.extend(t, e), t.operation = "GETVISIBLEMAPEXTENT", t.version = "1.0.0", t.session = this.params.session, t.mapName = this.params.mapName, t.format = "text/xml", t = this.getFullRequestString(t), OpenLayers.Request.GET({
						url : t,
						async : !1
					})), t = this.getFullRequestString(e)) : (n = this.map.getResolution(), t = Math.floor((e.left - this.maxExtent.left) / n), t = Math.round(t / this.tileSize.w), e = Math.floor((this.maxExtent.top - e.top) / n), e = Math.round(e / this.tileSize.h), t = this.useHttpTile ? this.getImageFilePath({
						tilecol : t,
						tilerow : e,
						scaleindex : this.resolutions.length - this.map.zoom - 1
					}) : this.getFullRequestString({
						tilecol : t,
						tilerow : e,
						scaleindex : this.resolutions.length - this.map.zoom - 1
					})),
			t
		},
		getFullRequestString : function (e, t) {
			var n = null == t ? this.url : t;
			"object" == typeof n && (n = n[Math.floor(Math.random() * n.length)]);
			var r = n,
			i = OpenLayers.Util.extend({}, this.params),
			i = OpenLayers.Util.extend(i, e),
			s = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(n)),
			o;
			for (o in i)
				o.toUpperCase()in s && delete i[o];
			return i = OpenLayers.Util.getParameterString(i),
			i = i.replace(/,/g, "+"),
			"" != i && (s = n.charAt(n.length - 1), r = "&" == s || "?" == s ? r + i : -1 == n.indexOf("?") ? r + ("?" + i) : r + ("&" + i)),
			r
		},
		getImageFilePath : function (e, t) {
			var n = null == t ? this.url : t;
			"object" == typeof n && (n = n[Math.floor(Math.random() * n.length)]);
			var r = "",
			i = "";
			return 0 > e.tilerow && (r = "-"),
			r = 0 == e.tilerow ? r + "0" : r + Math.floor(Math.abs(e.tilerow / this.params.tileRowsPerFolder)) * this.params.tileRowsPerFolder,
			0 > e.tilecol && (i = "-"),
			i = 0 == e.tilecol ? i + "0" : i + Math.floor(Math.abs(e.tilecol / this.params.tileColumnsPerFolder)) * this.params.tileColumnsPerFolder,
			r = "/S" + Math.floor(e.scaleindex) + "/" + this.params.basemaplayergroupname + "/R" + r + "/C" + i + "/" + e.tilerow % this.params.tileRowsPerFolder + "_" + e.tilecol % this.params.tileColumnsPerFolder + "." + this.params.format,
			this.params.querystring && (r += "?" + this.params.querystring),
			n + r
		},
		calculateGridLayout : function (e, t, n) {
			var r = n * this.tileSize.w,
			n = n * this.tileSize.h,
			i = e.left - t.lon,
			s = Math.floor(i / r) - this.buffer,
			e = t.lat - e.top + n,
			o = Math.floor(e / n) - this.buffer;
			return {
				tilelon : r,
				tilelat : n,
				tileoffsetlon : t.lon + s * r,
				tileoffsetlat : t.lat - n * o,
				tileoffsetx :  - (i / r - s) * this.tileSize.w,
				tileoffsety : (o - e / n) * this.tileSize.h
			}
		},
		CLASS_NAME : "OpenLayers.Layer.MapGuide"
	}), OpenLayers.Control.Measure = OpenLayers.Class(OpenLayers.Control, {
		handlerOptions : null,
		callbacks : null,
		displaySystem : "metric",
		geodesic : !1,
		displaySystemUnits : {
			geographic : ["dd"],
			english : ["mi", "ft", "in"],
			metric : ["km", "m"]
		},
		partialDelay : 300,
		delayedTrigger : null,
		persist : !1,
		immediate : !1,
		initialize : function (e, t) {
			OpenLayers.Control.prototype.initialize.apply(this, [t]);
			var n = {
				done : this.measureComplete,
				point : this.measurePartial
			};
			this.immediate && (n.modify = this.measureImmediate),
			this.callbacks = OpenLayers.Util.extend(n, this.callbacks),
			this.handlerOptions = OpenLayers.Util.extend({
					persist : this.persist
				}, this.handlerOptions),
			this.handler = new e(this, this.callbacks, this.handlerOptions)
		},
		deactivate : function () {
			return this.cancelDelay(),
			OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		cancel : function () {
			this.cancelDelay(),
			this.handler.cancel()
		},
		setImmediate : function (e) {
			(this.immediate = e) ? this.callbacks.modify = this.measureImmediate : delete this.callbacks.modify
		},
		updateHandler : function (e, t) {
			var n = this.active;
			n && this.deactivate(),
			this.handler = new e(this, this.callbacks, t),
			n && this.activate()
		},
		measureComplete : function (e) {
			this.cancelDelay(),
			this.measure(e, "measure")
		},
		measurePartial : function (e, t) {
			this.cancelDelay(),
			t = t.clone(),
			this.handler.freehandMode(this.handler.evt) ? this.measure(t, "measurepartial") : this.delayedTrigger = window.setTimeout(OpenLayers.Function.bind(function () {
						this.delayedTrigger = null,
						this.measure(t, "measurepartial")
					}, this), this.partialDelay)
		},
		measureImmediate : function (e, t, n) {
			n && !this.handler.freehandMode(this.handler.evt) && (this.cancelDelay(), this.measure(t.geometry, "measurepartial"))
		},
		cancelDelay : function () {
			null !== this.delayedTrigger && (window.clearTimeout(this.delayedTrigger), this.delayedTrigger = null)
		},
		measure : function (e, t) {
			var n,
			r;
			-1 < e.CLASS_NAME.indexOf("LineString") ? (n = this.getBestLength(e), r = 1) : (n = this.getBestArea(e), r = 2),
			this.events.triggerEvent(t, {
				measure : n[0],
				units : n[1],
				order : r,
				geometry : e
			})
		},
		getBestArea : function (e) {
			for (var t = this.displaySystemUnits[this.displaySystem], n, r, i = 0, s = t.length; i < s && !(n = t[i], r = this.getArea(e, n), 1 < r); ++i);
			return [r, n]
		},
		getArea : function (e, t) {
			var n,
			r;
			this.geodesic ? (n = e.getGeodesicArea(this.map.getProjectionObject()), r = "m") : (n = e.getArea(), r = this.map.getUnits());
			var i = OpenLayers.INCHES_PER_UNIT[t];
			return i && (n *= Math.pow(OpenLayers.INCHES_PER_UNIT[r] / i, 2)),
			n
		},
		getBestLength : function (e) {
			for (var t = this.displaySystemUnits[this.displaySystem], n, r, i = 0, s = t.length; i < s && !(n = t[i], r = this.getLength(e, n), 1 < r); ++i);
			return [r, n]
		},
		getLength : function (e, t) {
			var n,
			r;
			this.geodesic ? (n = e.getGeodesicLength(this.map.getProjectionObject()), r = "m") : (n = e.getLength(), r = this.map.getUnits());
			var i = OpenLayers.INCHES_PER_UNIT[t];
			return i && (n *= OpenLayers.INCHES_PER_UNIT[r] / i),
			n
		},
		CLASS_NAME : "OpenLayers.Control.Measure"
	}), OpenLayers.Format.WMC.v1_0_0 = OpenLayers.Class(OpenLayers.Format.WMC.v1, {
		VERSION : "1.0.0",
		schemaLocation : "http://www.opengis.net/context http://schemas.opengis.net/context/1.0.0/context.xsd",
		initialize : function (e) {
			OpenLayers.Format.WMC.v1.prototype.initialize.apply(this, [e])
		},
		read_wmc_SRS : function (e, t) {
			var n = this.getChildValue(t);
			"object" != typeof e.projections && (e.projections = {});
			for (var n = n.split(/ +/), r = 0, i = n.length; r < i; r++)
				e.projections[n[r]] = !0
		},
		write_wmc_Layer : function (e) {
			var t = OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this, [e]);
			if (e.srs) {
				var n = [],
				r;
				for (r in e.srs)
					n.push(r);
				t.appendChild(this.createElementDefaultNS("SRS", n.join(" ")))
			}
			t.appendChild(this.write_wmc_FormatList(e)),
			t.appendChild(this.write_wmc_StyleList(e)),
			e.dimensions && t.appendChild(this.write_wmc_DimensionList(e)),
			t.appendChild(this.write_wmc_LayerExtension(e))
		},
		CLASS_NAME : "OpenLayers.Format.WMC.v1_0_0"
	}), OpenLayers.Popup.Framed = OpenLayers.Class(OpenLayers.Popup.Anchored, {
		imageSrc : null,
		imageSize : null,
		isAlphaImage : !1,
		positionBlocks : null,
		blocks : null,
		fixedRelativePosition : !1,
		initialize : function (e, t, n, r, i, s, o) {
			OpenLayers.Popup.Anchored.prototype.initialize.apply(this, arguments),
			this.fixedRelativePosition && (this.updateRelativePosition(), this.calculateRelativePosition = function () {
				return this.relativePosition
			}),
			this.contentDiv.style.position = "absolute",
			this.contentDiv.style.zIndex = 1,
			s && (this.closeDiv.style.zIndex = 1),
			this.groupDiv.style.position = "absolute",
			this.groupDiv.style.top = "0px",
			this.groupDiv.style.left = "0px",
			this.groupDiv.style.height = "100%",
			this.groupDiv.style.width = "100%"
		},
		destroy : function () {
			this.isAlphaImage = this.imageSize = this.imageSrc = null,
			this.fixedRelativePosition = !1,
			this.positionBlocks = null;
			for (var e = 0; e < this.blocks.length; e++) {
				var t = this.blocks[e];
				t.image && t.div.removeChild(t.image),
				t.image = null,
				t.div && this.groupDiv.removeChild(t.div),
				t.div = null
			}
			this.blocks = null,
			OpenLayers.Popup.Anchored.prototype.destroy.apply(this, arguments)
		},
		setBackgroundColor : function () {},
		setBorder : function () {},
		setOpacity : function () {},
		setSize : function (e) {
			OpenLayers.Popup.Anchored.prototype.setSize.apply(this, arguments),
			this.updateBlocks()
		},
		updateRelativePosition : function () {
			this.padding = this.positionBlocks[this.relativePosition].padding;
			if (this.closeDiv) {
				var e = this.getContentDivPadding();
				this.closeDiv.style.right = e.right + this.padding.right + "px",
				this.closeDiv.style.top = e.top + this.padding.top + "px"
			}
			this.updateBlocks()
		},
		calculateNewPx : function (e) {
			var t = OpenLayers.Popup.Anchored.prototype.calculateNewPx.apply(this, arguments);
			return t = t.offset(this.positionBlocks[this.relativePosition].offset)
		},
		createBlocks : function () {
			this.blocks = [];
			var e = null,
			t;
			for (t in this.positionBlocks) {
				e = t;
				break
			}
			e = this.positionBlocks[e];
			for (t = 0; t < e.blocks.length; t++) {
				var n = {};
				this.blocks.push(n),
				n.div = OpenLayers.Util.createDiv(this.id + "_FrameDecorationDiv_" + t, null, null, null, "absolute", null, "hidden", null),
				n.image = (this.isAlphaImage ? OpenLayers.Util.createAlphaImageDiv : OpenLayers.Util.createImage)(this.id + "_FrameDecorationImg_" + t, null, this.imageSize, this.imageSrc, "absolute", null, null, null),
				n.div.appendChild(n.image),
				this.groupDiv.appendChild(n.div)
			}
		},
		updateBlocks : function () {
			this.blocks || this.createBlocks();
			if (this.size && this.relativePosition) {
				for (var e = this.positionBlocks[this.relativePosition], t = 0; t < e.blocks.length; t++) {
					var n = e.blocks[t],
					r = this.blocks[t],
					i = n.anchor.left,
					s = n.anchor.bottom,
					o = n.anchor.right,
					u = n.anchor.top,
					a = isNaN(n.size.w) ? this.size.w - (o + i) : n.size.w,
					f = isNaN(n.size.h) ? this.size.h - (s + u) : n.size.h;
					r.div.style.width = (0 > a ? 0 : a) + "px",
					r.div.style.height = (0 > f ? 0 : f) + "px",
					r.div.style.left = null != i ? i + "px" : "",
					r.div.style.bottom = null != s ? s + "px" : "",
					r.div.style.right = null != o ? o + "px" : "",
					r.div.style.top = null != u ? u + "px" : "",
					r.image.style.left = n.position.x + "px",
					r.image.style.top = n.position.y + "px"
				}
				this.contentDiv.style.left = this.padding.left + "px",
				this.contentDiv.style.top = this.padding.top + "px"
			}
		},
		CLASS_NAME : "OpenLayers.Popup.Framed"
	}), OpenLayers.Popup.FramedCloud = OpenLayers.Class(OpenLayers.Popup.Framed, {
		contentDisplayClass : "olFramedCloudPopupContent",
		autoSize : !0,
		panMapIfOutOfView : !0,
		imageSize : new OpenLayers.Size(1276, 736),
		isAlphaImage : !1,
		fixedRelativePosition : !1,
		positionBlocks : {
			tl : {
				offset : new OpenLayers.Pixel(44, 0),
				padding : new OpenLayers.Bounds(8, 40, 8, 9),
				blocks : [{
						size : new OpenLayers.Size("auto", "auto"),
						anchor : new OpenLayers.Bounds(0, 51, 22, 0),
						position : new OpenLayers.Pixel(0, 0)
					}, {
						size : new OpenLayers.Size(22, "auto"),
						anchor : new OpenLayers.Bounds(null, 50, 0, 0),
						position : new OpenLayers.Pixel(-1238, 0)
					}, {
						size : new OpenLayers.Size("auto", 19),
						anchor : new OpenLayers.Bounds(0, 32, 22, null),
						position : new OpenLayers.Pixel(0, -631)
					}, {
						size : new OpenLayers.Size(22, 18),
						anchor : new OpenLayers.Bounds(null, 32, 0, null),
						position : new OpenLayers.Pixel(-1238, -632)
					}, {
						size : new OpenLayers.Size(81, 35),
						anchor : new OpenLayers.Bounds(null, 0, 0, null),
						position : new OpenLayers.Pixel(0, -688)
					}
				]
			},
			tr : {
				offset : new OpenLayers.Pixel(-45, 0),
				padding : new OpenLayers.Bounds(8, 40, 8, 9),
				blocks : [{
						size : new OpenLayers.Size("auto", "auto"),
						anchor : new OpenLayers.Bounds(0, 51, 22, 0),
						position : new OpenLayers.Pixel(0, 0)
					}, {
						size : new OpenLayers.Size(22, "auto"),
						anchor : new OpenLayers.Bounds(null, 50, 0, 0),
						position : new OpenLayers.Pixel(-1238, 0)
					}, {
						size : new OpenLayers.Size("auto", 19),
						anchor : new OpenLayers.Bounds(0, 32, 22, null),
						position : new OpenLayers.Pixel(0, -631)
					}, {
						size : new OpenLayers.Size(22, 19),
						anchor : new OpenLayers.Bounds(null, 32, 0, null),
						position : new OpenLayers.Pixel(-1238, -631)
					}, {
						size : new OpenLayers.Size(81, 35),
						anchor : new OpenLayers.Bounds(0, 0, null, null),
						position : new OpenLayers.Pixel(-215, -687)
					}
				]
			},
			bl : {
				offset : new OpenLayers.Pixel(45, 0),
				padding : new OpenLayers.Bounds(8, 9, 8, 40),
				blocks : [{
						size : new OpenLayers.Size("auto", "auto"),
						anchor : new OpenLayers.Bounds(0, 21, 22, 32),
						position : new OpenLayers.Pixel(0, 0)
					}, {
						size : new OpenLayers.Size(22, "auto"),
						anchor : new OpenLayers.Bounds(null, 21, 0, 32),
						position : new OpenLayers.Pixel(-1238, 0)
					}, {
						size : new OpenLayers.Size("auto", 21),
						anchor : new OpenLayers.Bounds(0, 0, 22, null),
						position : new OpenLayers.Pixel(0, -629)
					}, {
						size : new OpenLayers.Size(22, 21),
						anchor : new OpenLayers.Bounds(null, 0, 0, null),
						position : new OpenLayers.Pixel(-1238, -629)
					}, {
						size : new OpenLayers.Size(81, 33),
						anchor : new OpenLayers.Bounds(null, null, 0, 0),
						position : new OpenLayers.Pixel(-101, -674)
					}
				]
			},
			br : {
				offset : new OpenLayers.Pixel(-44, 0),
				padding : new OpenLayers.Bounds(8, 9, 8, 40),
				blocks : [{
						size : new OpenLayers.Size("auto", "auto"),
						anchor : new OpenLayers.Bounds(0, 21, 22, 32),
						position : new OpenLayers.Pixel(0, 0)
					}, {
						size : new OpenLayers.Size(22, "auto"),
						anchor : new OpenLayers.Bounds(null, 21, 0, 32),
						position : new OpenLayers.Pixel(-1238, 0)
					}, {
						size : new OpenLayers.Size("auto", 21),
						anchor : new OpenLayers.Bounds(0, 0, 22, null),
						position : new OpenLayers.Pixel(0, -629)
					}, {
						size : new OpenLayers.Size(22, 21),
						anchor : new OpenLayers.Bounds(null, 0, 0, null),
						position : new OpenLayers.Pixel(-1238, -629)
					}, {
						size : new OpenLayers.Size(81, 33),
						anchor : new OpenLayers.Bounds(0, null, null, 0),
						position : new OpenLayers.Pixel(-311, -674)
					}
				]
			}
		},
		minSize : new OpenLayers.Size(105, 10),
		maxSize : new OpenLayers.Size(1200, 660),
		initialize : function (e, t, n, r, i, s, o) {
			this.imageSrc = OpenLayers.Util.getImageLocation("cloud-popup-relative.png"),
			OpenLayers.Popup.Framed.prototype.initialize.apply(this, arguments),
			this.contentDiv.className = this.contentDisplayClass
		},
		CLASS_NAME : "OpenLayers.Popup.FramedCloud"
	}), OpenLayers.Tile.Image.IFrame = {
	useIFrame : null,
	draw : function () {
		if (OpenLayers.Tile.Image.prototype.shouldDraw.call(this)) {
			var e = this.layer.getURL(this.bounds),
			t = this.useIFrame;
			this.useIFrame = null !== this.maxGetUrlLength && !this.layer.async && e.length > this.maxGetUrlLength,
			e = t && !this.useIFrame,
			t = !t && this.useIFrame;
			if (e || t)
				this.imgDiv && this.imgDiv.parentNode === this.frame && this.frame.removeChild(this.imgDiv), this.imgDiv = null, e ? (this.blankImageUrl = this._blankImageUrl, this.frame.removeChild(this.frame.firstChild)) : (this._blankImageUrl = this.blankImageUrl, this.blankImageUrl = "about:blank")
		}
		return OpenLayers.Tile.Image.prototype.draw.apply(this, arguments)
	},
	getImage : function () {
		if (!0 === this.useIFrame) {
			if (!this.frame.childNodes.length) {
				var e = document.createElement("div"),
				t = e.style;
				t.position = "absolute",
				t.width = "100%",
				t.height = "100%",
				t.zIndex = 1,
				t.backgroundImage = "url(" + this._blankImageUrl + ")",
				this.frame.appendChild(e)
			}
			return e = this.id + "_iFrame",
			9 > parseFloat(navigator.appVersion.split("MSIE")[1]) ? (t = document.createElement('<iframe name="' + e + '">'), t.style.backgroundColor = "#FFFFFF", t.style.filter = "chroma(color=#FFFFFF)") : (t = document.createElement("iframe"), t.style.backgroundColor = "transparent", t.name = e),
			t.scrolling = "no",
			t.marginWidth = "0px",
			t.marginHeight = "0px",
			t.frameBorder = "0",
			t.style.position = "absolute",
			t.style.width = "100%",
			t.style.height = "100%",
			1 > this.layer.opacity && OpenLayers.Util.modifyDOMElement(t, null, null, null, null, null, null, this.layer.opacity),
			this.frame.appendChild(t),
			this.imgDiv = t
		}
		return OpenLayers.Tile.Image.prototype.getImage.apply(this, arguments)
	},
	createRequestForm : function () {
		var e = document.createElement("form");
		e.method = "POST";
		var t = this.layer.params._OLSALT,
		t = (t ? t + "_" : "") + this.bounds.toBBOX();
		e.action = OpenLayers.Util.urlAppend(this.layer.url, t),
		e.target = this.id + "_iFrame",
		this.layer.getImageSize();
		var t = OpenLayers.Util.getParameters(this.url),
		n,
		r;
		for (r in t)
			n = document.createElement("input"), n.type = "hidden", n.name = r, n.value = t[r], e.appendChild(n);
		return e
	},
	setImgSrc : function (e) {
		if (!0 === this.useIFrame)
			if (e) {
				var t = this.createRequestForm();
				this.frame.appendChild(t),
				t.submit(),
				this.frame.removeChild(t)
			} else
				this.imgDiv.parentNode === this.frame && (this.frame.removeChild(this.imgDiv), this.imgDiv = null);
		else
			OpenLayers.Tile.Image.prototype.setImgSrc.apply(this, arguments)
	},
	onImageLoad : function () {
		OpenLayers.Tile.Image.prototype.onImageLoad.apply(this, arguments),
		!0 === this.useIFrame && (this.imgDiv.style.opacity = 1, this.frame.style.opacity = this.layer.opacity)
	},
	createBackBuffer : function () {
		var e;
		return !1 === this.useIFrame && (e = OpenLayers.Tile.Image.prototype.createBackBuffer.call(this)),
		e
	}
}, OpenLayers.Format.SOSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.0.0",
		CLASS_NAME : "OpenLayers.Format.SOSCapabilities"
	}), OpenLayers.Format.SOSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.SOSCapabilities, {
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			sos : "http://www.opengis.net/sos/1.0",
			gml : "http://www.opengis.net/gml",
			xlink : "http://www.w3.org/1999/xlink"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e]),
			this.options = e
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			gml : OpenLayers.Util.applyDefaults({
				name : function (e, t) {
					t.name = this.getChildValue(e)
				},
				TimePeriod : function (e, t) {
					t.timePeriod = {},
					this.readChildNodes(e, t.timePeriod)
				},
				beginPosition : function (e, t) {
					t.beginPosition = this.getChildValue(e)
				},
				endPosition : function (e, t) {
					t.endPosition = this.getChildValue(e)
				}
			}, OpenLayers.Format.GML.v3.prototype.readers.gml),
			sos : {
				Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				Contents : function (e, t) {
					t.contents = {},
					this.readChildNodes(e, t.contents)
				},
				ObservationOfferingList : function (e, t) {
					t.offeringList = {},
					this.readChildNodes(e, t.offeringList)
				},
				ObservationOffering : function (e, t) {
					var n = this.getAttributeNS(e, this.namespaces.gml, "id");
					t[n] = {
						procedures : [],
						observedProperties : [],
						featureOfInterestIds : [],
						responseFormats : [],
						resultModels : [],
						responseModes : []
					},
					this.readChildNodes(e, t[n])
				},
				time : function (e, t) {
					t.time = {},
					this.readChildNodes(e, t.time)
				},
				procedure : function (e, t) {
					t.procedures.push(this.getAttributeNS(e, this.namespaces.xlink, "href"))
				},
				observedProperty : function (e, t) {
					t.observedProperties.push(this.getAttributeNS(e, this.namespaces.xlink, "href"))
				},
				featureOfInterest : function (e, t) {
					t.featureOfInterestIds.push(this.getAttributeNS(e, this.namespaces.xlink, "href"))
				},
				responseFormat : function (e, t) {
					t.responseFormats.push(this.getChildValue(e))
				},
				resultModel : function (e, t) {
					t.resultModels.push(this.getChildValue(e))
				},
				responseMode : function (e, t) {
					t.responseModes.push(this.getChildValue(e))
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
		},
		CLASS_NAME : "OpenLayers.Format.SOSCapabilities.v1_0_0"
	}), OpenLayers.Handler.Pinch = OpenLayers.Class(OpenLayers.Handler, {
		started : !1,
		stopDown : !1,
		pinching : !1,
		last : null,
		start : null,
		touchstart : function (e) {
			var t = !0;
			return this.pinching = !1,
			OpenLayers.Event.isMultiTouch(e) ? (this.started = !0, this.last = this.start = {
					distance : this.getDistance(e.touches),
					delta : 0,
					scale : 1
				}, this.callback("start", [e, this.start]), t = !this.stopDown) : (this.started = !1, this.last = this.start = null),
			OpenLayers.Event.stop(e),
			t
		},
		touchmove : function (e) {
			if (this.started && OpenLayers.Event.isMultiTouch(e)) {
				this.pinching = !0;
				var t = this.getPinchData(e);
				this.callback("move", [e, t]),
				this.last = t,
				OpenLayers.Event.stop(e)
			}
			return !0
		},
		touchend : function (e) {
			return this.started && (this.pinching = this.started = !1, this.callback("done", [e, this.start, this.last]), this.last = this.start = null),
			!0
		},
		activate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.pinching = !1, e = !0),
			e
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.pinching = this.started = !1, this.last = this.start = null, e = !0),
			e
		},
		getDistance : function (e) {
			var t = e[0],
			e = e[1];
			return Math.sqrt(Math.pow(t.clientX - e.clientX, 2) + Math.pow(t.clientY - e.clientY, 2))
		},
		getPinchData : function (e) {
			return e = this.getDistance(e.touches), {
				distance : e,
				delta : this.last.distance - e,
				scale : e / this.start.distance
			}
		},
		CLASS_NAME : "OpenLayers.Handler.Pinch"
	}), OpenLayers.Control.NavToolbar = OpenLayers.Class(OpenLayers.Control.Panel, {
		initialize : function (e) {
			OpenLayers.Control.Panel.prototype.initialize.apply(this, [e]),
			this.addControls([new OpenLayers.Control.Navigation, new OpenLayers.Control.ZoomBox])
		},
		draw : function () {
			var e = OpenLayers.Control.Panel.prototype.draw.apply(this, arguments);
			return null === this.defaultControl && (this.defaultControl = this.controls[0]),
			e
		},
		CLASS_NAME : "OpenLayers.Control.NavToolbar"
	}), OpenLayers.Strategy.Refresh = OpenLayers.Class(OpenLayers.Strategy, {
		force : !1,
		interval : 0,
		timer : null,
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.call(this);
			return e && (!0 === this.layer.visibility && this.start(), this.layer.events.on({
					visibilitychanged : this.reset,
					scope : this
				})),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && this.stop(),
			e
		},
		reset : function () {
			!0 === this.layer.visibility ? this.start() : this.stop()
		},
		start : function () {
			this.interval && "number" == typeof this.interval && 0 < this.interval && (this.timer = window.setInterval(OpenLayers.Function.bind(this.refresh, this), this.interval))
		},
		refresh : function () {
			this.layer && this.layer.refresh && "function" == typeof this.layer.refresh && this.layer.refresh({
				force : this.force
			})
		},
		stop : function () {
			null !== this.timer && (window.clearInterval(this.timer), this.timer = null)
		},
		CLASS_NAME : "OpenLayers.Strategy.Refresh"
	}), OpenLayers.Layer.ArcGIS93Rest = OpenLayers.Class(OpenLayers.Layer.Grid, {
		DEFAULT_PARAMS : {
			format : "png"
		},
		isBaseLayer : !0,
		initialize : function (e, t, n, r) {
			var i = [],
			n = OpenLayers.Util.upperCaseObject(n);
			i.push(e, t, n, r),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, i),
			OpenLayers.Util.applyDefaults(this.params, OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));
			if (this.params.TRANSPARENT && "true" == this.params.TRANSPARENT.toString().toLowerCase()) {
				if (null == r || !r.isBaseLayer)
					this.isBaseLayer = !1;
				"jpg" == this.params.FORMAT && (this.params.FORMAT = OpenLayers.Util.alphaHack() ? "gif" : "png")
			}
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.ArcGIS93Rest(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.projection.getCode().split(":"),
			t = t[t.length - 1],
			n = this.getImageSize(),
			e = {
				BBOX : e.toBBOX(),
				SIZE : n.w + "," + n.h,
				F : "image",
				BBOXSR : t,
				IMAGESR : t
			};
			if (this.layerDefs) {
				var t = [],
				r;
				for (r in this.layerDefs)
					this.layerDefs.hasOwnProperty(r) && this.layerDefs[r] && (t.push(r), t.push(":"), t.push(this.layerDefs[r]), t.push(";"));
				0 < t.length && (e.LAYERDEFS = t.join(""))
			}
			return this.getFullRequestString(e)
		},
		setLayerFilter : function (e, t) {
			this.layerDefs || (this.layerDefs = {}),
			t ? this.layerDefs[e] = t : delete this.layerDefs[e]
		},
		clearLayerFilter : function (e) {
			e ? delete this.layerDefs[e] : delete this.layerDefs
		},
		mergeNewParams : function (e) {
			return e = [OpenLayers.Util.upperCaseObject(e)],
			OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, e)
		},
		CLASS_NAME : "OpenLayers.Layer.ArcGIS93Rest"
	}), OpenLayers.Format.WKT = OpenLayers.Class(OpenLayers.Format, {
		initialize : function (e) {
			this.regExes = {
				typeStr : /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,
				spaces : /\s+/,
				parenComma : /\)\s*,\s*\(/,
				doubleParenComma : /\)\s*\)\s*,\s*\(\s*\(/,
				trimParens : /^\s*\(?(.*?)\)?\s*$/
			},
			OpenLayers.Format.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			var t,
			n,
			e = e.replace(/[\n\r]/g, " ");
			if (n = this.regExes.typeStr.exec(e))
				if (e = n[1].toLowerCase(), n = n[2], this.parse[e] && (t = this.parse[e].apply(this, [n])), this.internalProjection && this.externalProjection)
					if (t && "OpenLayers.Feature.Vector" == t.CLASS_NAME)
						t.geometry.transform(this.externalProjection, this.internalProjection);
					else if (t && "geometrycollection" != e && "object" == typeof t) {
						e = 0;
						for (n = t.length; e < n; e++)
							t[e].geometry.transform(this.externalProjection, this.internalProjection)
					}
			return t
		},
		write : function (e) {
			var t,
			n;
			e.constructor == Array ? n = !0 : (e = [e], n = !1);
			var r = [];
			n && r.push("GEOMETRYCOLLECTION(");
			for (var i = 0, s = e.length; i < s; ++i)
				n && 0 < i && r.push(","), t = e[i].geometry, r.push(this.extractGeometry(t));
			return n && r.push(")"),
			r.join("")
		},
		extractGeometry : function (e) {
			var t = e.CLASS_NAME.split(".")[2].toLowerCase();
			return this.extract[t] ? (this.internalProjection && this.externalProjection && (e = e.clone(), e.transform(this.internalProjection, this.externalProjection)), ("collection" == t ? "GEOMETRYCOLLECTION" : t.toUpperCase()) + "(" + this.extract[t].apply(this, [e]) + ")") : null
		},
		extract : {
			point : function (e) {
				return e.x + " " + e.y
			},
			multipoint : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push("(" + this.extract.point.apply(this, [e.components[n]]) + ")");
				return t.join(",")
			},
			linestring : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extract.point.apply(this, [e.components[n]]));
				return t.join(",")
			},
			multilinestring : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push("(" + this.extract.linestring.apply(this, [e.components[n]]) + ")");
				return t.join(",")
			},
			polygon : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push("(" + this.extract.linestring.apply(this, [e.components[n]]) + ")");
				return t.join(",")
			},
			multipolygon : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push("(" + this.extract.polygon.apply(this, [e.components[n]]) + ")");
				return t.join(",")
			},
			collection : function (e) {
				for (var t = [], n = 0, r = e.components.length; n < r; ++n)
					t.push(this.extractGeometry.apply(this, [e.components[n]]));
				return t.join(",")
			}
		},
		parse : {
			point : function (e) {
				return e = OpenLayers.String.trim(e).split(this.regExes.spaces),
				new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(e[0], e[1]))
			},
			multipoint : function (e) {
				for (var t = OpenLayers.String.trim(e).split(","), n = [], r = 0, i = t.length; r < i; ++r)
					e = t[r].replace(this.regExes.trimParens, "$1"), n.push(this.parse.point.apply(this, [e]).geometry);
				return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPoint(n))
			},
			linestring : function (e) {
				for (var e = OpenLayers.String.trim(e).split(","), t = [], n = 0, r = e.length; n < r; ++n)
					t.push(this.parse.point.apply(this, [e[n]]).geometry);
				return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString(t))
			},
			multilinestring : function (e) {
				for (var t = OpenLayers.String.trim(e).split(this.regExes.parenComma), n = [], r = 0, i = t.length; r < i; ++r)
					e = t[r].replace(this.regExes.trimParens, "$1"), n.push(this.parse.linestring.apply(this, [e]).geometry);
				return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiLineString(n))
			},
			polygon : function (e) {
				for (var t, e = OpenLayers.String.trim(e).split(this.regExes.parenComma), n = [], r = 0, i = e.length; r < i; ++r)
					t = e[r].replace(this.regExes.trimParens, "$1"), t = this.parse.linestring.apply(this, [t]).geometry, t = new OpenLayers.Geometry.LinearRing(t.components), n.push(t);
				return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon(n))
			},
			multipolygon : function (e) {
				for (var t = OpenLayers.String.trim(e).split(this.regExes.doubleParenComma), n = [], r = 0, i = t.length; r < i; ++r)
					e = t[r].replace(this.regExes.trimParens, "$1"), n.push(this.parse.polygon.apply(this, [e]).geometry);
				return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPolygon(n))
			},
			geometrycollection : function (e) {
				for (var e = e.replace(/,\s*([A-Za-z])/g, "|$1"), e = OpenLayers.String.trim(e).split("|"), t = [], n = 0, r = e.length; n < r; ++n)
					t.push(OpenLayers.Format.WKT.prototype.read.apply(this, [e[n]]));
				return t
			}
		},
		CLASS_NAME : "OpenLayers.Format.WKT"
	}), OpenLayers.Handler.Hover = OpenLayers.Class(OpenLayers.Handler, {
		delay : 500,
		pixelTolerance : null,
		stopMove : !1,
		px : null,
		timerId : null,
		mousemove : function (e) {
			return this.passesTolerance(e.xy) && (this.clearTimer(), this.callback("move", [e]), this.px = e.xy, e = OpenLayers.Util.extend({}, e), this.timerId = window.setTimeout(OpenLayers.Function.bind(this.delayedCall, this, e), this.delay)),
			!this.stopMove
		},
		mouseout : function (e) {
			return OpenLayers.Util.mouseLeft(e, this.map.viewPortDiv) && (this.clearTimer(), this.callback("move", [e])),
			!0
		},
		passesTolerance : function (e) {
			var t = !0;
			return this.pixelTolerance && this.px && Math.sqrt(Math.pow(this.px.x - e.x, 2) + Math.pow(this.px.y - e.y, 2)) < this.pixelTolerance && (t = !1),
			t
		},
		clearTimer : function () {
			null != this.timerId && (window.clearTimeout(this.timerId), this.timerId = null)
		},
		delayedCall : function (e) {
			this.callback("pause", [e])
		},
		deactivate : function () {
			var e = !1;
			return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.clearTimer(), e = !0),
			e
		},
		CLASS_NAME : "OpenLayers.Handler.Hover"
	}), OpenLayers.Control.GetFeature = OpenLayers.Class(OpenLayers.Control, {
		protocol : null,
		multipleKey : null,
		toggleKey : null,
		modifiers : null,
		multiple : !1,
		click : !0,
		single : !0,
		clickout : !0,
		toggle : !1,
		clickTolerance : 5,
		hover : !1,
		box : !1,
		maxFeatures : 10,
		features : null,
		hoverFeature : null,
		handlerOptions : null,
		handlers : null,
		hoverResponse : null,
		filterType : OpenLayers.Filter.Spatial.BBOX,
		initialize : function (e) {
			e.handlerOptions = e.handlerOptions || {},
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.features = {},
			this.handlers = {},
			this.click && (this.handlers.click = new OpenLayers.Handler.Click(this, {
						click : this.selectClick
					}, this.handlerOptions.click || {})),
			this.box && (this.handlers.box = new OpenLayers.Handler.Box(this, {
						done : this.selectBox
					}, OpenLayers.Util.extend(this.handlerOptions.box, {
							boxDivClassName : "olHandlerBoxSelectFeature"
						}))),
			this.hover && (this.handlers.hover = new OpenLayers.Handler.Hover(this, {
						move : this.cancelHover,
						pause : this.selectHover
					}, OpenLayers.Util.extend(this.handlerOptions.hover, {
							delay : 250,
							pixelTolerance : 2
						})))
		},
		activate : function () {
			if (!this.active)
				for (var e in this.handlers)
					this.handlers[e].activate();
			return OpenLayers.Control.prototype.activate.apply(this, arguments)
		},
		deactivate : function () {
			if (this.active)
				for (var e in this.handlers)
					this.handlers[e].deactivate();
			return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		selectClick : function (e) {
			var t = this.pixelToBounds(e.xy);
			this.setModifiers(e),
			this.request(t, {
				single : this.single
			})
		},
		selectBox : function (e) {
			var t;
			if (e instanceof OpenLayers.Bounds)
				t = this.map.getLonLatFromPixel({
						x : e.left,
						y : e.bottom
					}), e = this.map.getLonLatFromPixel({
						x : e.right,
						y : e.top
					}), t = new OpenLayers.Bounds(t.lon, t.lat, e.lon, e.lat);
			else {
				if (this.click)
					return;
				t = this.pixelToBounds(e)
			}
			this.setModifiers(this.handlers.box.dragHandler.evt),
			this.request(t)
		},
		selectHover : function (e) {
			this.request(this.pixelToBounds(e.xy), {
				single : !0,
				hover : !0
			})
		},
		cancelHover : function () {
			this.hoverResponse && (this.protocol.abort(this.hoverResponse), this.hoverResponse = null, OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"))
		},
		request : function (e, t) {
			var t = t || {},
			n = new OpenLayers.Filter.Spatial({
					type : this.filterType,
					value : e
				});
			OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait"),
			n = this.protocol.read({
					maxFeatures : 1 == t.single ? this.maxFeatures : void 0,
					filter : n,
					callback : function (n) {
						n.success() && (n.features.length ? 1 == t.single ? this.selectBestFeature(n.features, e.getCenterLonLat(), t) : this.select(n.features) : t.hover ? this.hoverSelect() : (this.events.triggerEvent("clickout"), this.clickout && this.unselectAll())),
						OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait")
					},
					scope : this
				}),
			1 == t.hover && (this.hoverResponse = n)
		},
		selectBestFeature : function (e, t, n) {
			n = n || {};
			if (e.length) {
				for (var t = new OpenLayers.Geometry.Point(t.lon, t.lat), r, i, s, o = Number.MAX_VALUE, u = 0; u < e.length && !(r = e[u], r.geometry && (s = t.distanceTo(r.geometry, {
									edge : !1
								}), s < o && (o = s, i = r, 0 == o))); ++u);
				1 == n.hover ? this.hoverSelect(i) : this.select(i || e)
			}
		},
		setModifiers : function (e) {
			this.modifiers = {
				multiple : this.multiple || this.multipleKey && e[this.multipleKey],
				toggle : this.toggle || this.toggleKey && e[this.toggleKey]
			}
		},
		select : function (e) {
			!this.modifiers.multiple && !this.modifiers.toggle && this.unselectAll(),
			OpenLayers.Util.isArray(e) || (e = [e]);
			var t = this.events.triggerEvent("beforefeaturesselected", {
					features : e
				});
			if (!1 !== t) {
				for (var n = [], r, i = 0, s = e.length; i < s; ++i)
					r = e[i], this.features[r.fid || r.id] ? this.modifiers.toggle && this.unselect(this.features[r.fid || r.id]) : (t = this.events.triggerEvent("beforefeatureselected", {
								feature : r
							}), !1 !== t && (this.features[r.fid || r.id] = r, n.push(r), this.events.triggerEvent("featureselected", {
								feature : r
							})));
				this.events.triggerEvent("featuresselected", {
					features : n
				})
			}
		},
		hoverSelect : function (e) {
			var t = e ? e.fid || e.id : null,
			n = this.hoverFeature ? this.hoverFeature.fid || this.hoverFeature.id : null;
			n && n != t && (this.events.triggerEvent("outfeature", {
					feature : this.hoverFeature
				}), this.hoverFeature = null),
			t && t != n && (this.events.triggerEvent("hoverfeature", {
					feature : e
				}), this.hoverFeature = e)
		},
		unselect : function (e) {
			delete this.features[e.fid || e.id],
			this.events.triggerEvent("featureunselected", {
				feature : e
			})
		},
		unselectAll : function () {
			for (var e in this.features)
				this.unselect(this.features[e])
		},
		setMap : function (e) {
			for (var t in this.handlers)
				this.handlers[t].setMap(e);
			OpenLayers.Control.prototype.setMap.apply(this, arguments)
		},
		pixelToBounds : function (e) {
			var t = e.add(-this.clickTolerance / 2, this.clickTolerance / 2),
			e = e.add(this.clickTolerance / 2, -this.clickTolerance / 2),
			t = this.map.getLonLatFromPixel(t),
			e = this.map.getLonLatFromPixel(e);
			return new OpenLayers.Bounds(t.lon, t.lat, e.lon, e.lat)
		},
		CLASS_NAME : "OpenLayers.Control.GetFeature"
	}), OpenLayers.Format.QueryStringFilter = function () {
	function e(e) {
		return e = e.replace(/%/g, "\\%"),
		e = e.replace(/\\\\\.(\*)?/g, function (e, t) {
				return t ? e : "\\\\_"
			}),
		e = e.replace(/\\\\\.\*/g, "\\\\%"),
		e = e.replace(/(\\)?\.(\*)?/g, function (e, t, n) {
				return t || n ? e : "_"
			}),
		e = e.replace(/(\\)?\.\*/g, function (e, t) {
				return t ? e : "%"
			}),
		e = e.replace(/\\\./g, "."),
		e = e.replace(/(\\)?\\\*/g, function (e, t) {
				return t ? e : "*"
			})
	}
	var t = {};
	return t[OpenLayers.Filter.Comparison.EQUAL_TO] = "eq",
	t[OpenLayers.Filter.Comparison.NOT_EQUAL_TO] = "ne",
	t[OpenLayers.Filter.Comparison.LESS_THAN] = "lt",
	t[OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO] = "lte",
	t[OpenLayers.Filter.Comparison.GREATER_THAN] = "gt",
	t[OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO] = "gte",
	t[OpenLayers.Filter.Comparison.LIKE] = "ilike",
	OpenLayers.Class(OpenLayers.Format, {
		wildcarded : !1,
		srsInBBOX : !1,
		write : function (n, r) {
			var r = r || {},
			i = n.CLASS_NAME,
			i = i.substring(i.lastIndexOf(".") + 1);
			switch (i) {
			case "Spatial":
				switch (n.type) {
				case OpenLayers.Filter.Spatial.BBOX:
					r.bbox = n.value.toArray(),
					this.srsInBBOX && n.projection && r.bbox.push(n.projection.getCode());
					break;
				case OpenLayers.Filter.Spatial.DWITHIN:
					r.tolerance = n.distance;
				case OpenLayers.Filter.Spatial.WITHIN:
					r.lon = n.value.x,
					r.lat = n.value.y;
					break;
				default:
					OpenLayers.Console.warn("Unknown spatial filter type " + n.type)
				}
				break;
			case "Comparison":
				i = t[n.type];
				if (void 0 !== i) {
					var s = n.value;
					n.type == OpenLayers.Filter.Comparison.LIKE && (s = e(s), this.wildcarded && (s = "%" + s + "%")),
					r[n.property + "__" + i] = s,
					r.queryable = r.queryable || [],
					r.queryable.push(n.property)
				} else
					OpenLayers.Console.warn("Unknown comparison filter type " + n.type);
				break;
			case "Logical":
				if (n.type === OpenLayers.Filter.Logical.AND) {
					i = 0;
					for (s = n.filters.length; i < s; i++)
						r = this.write(n.filters[i], r)
				} else
					OpenLayers.Console.warn("Unsupported logical filter type " + n.type);
				break;
			default:
				OpenLayers.Console.warn("Unknown filter type " + i)
			}
			return r
		},
		CLASS_NAME : "OpenLayers.Format.QueryStringFilter"
	})
}
(), OpenLayers.Control.MousePosition = OpenLayers.Class(OpenLayers.Control, {
		autoActivate : !0,
		element : null,
		prefix : "",
		separator : ", ",
		suffix : "",
		numDigits : 5,
		granularity : 10,
		emptyString : null,
		lastXy : null,
		displayProjection : null,
		destroy : function () {
			this.deactivate(),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		activate : function () {
			return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.map.events.register("mousemove", this, this.redraw), this.map.events.register("mouseout", this, this.reset), this.redraw(), !0) : !1
		},
		deactivate : function () {
			return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (this.map.events.unregister("mousemove", this, this.redraw), this.map.events.unregister("mouseout", this, this.reset), this.element.innerHTML = "", !0) : !1
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.element || (this.div.left = "", this.div.top = "", this.element = this.div),
			this.div
		},
		redraw : function (e) {
			var t;
			if (null == e)
				this.reset();
			else if (null == this.lastXy || Math.abs(e.xy.x - this.lastXy.x) > this.granularity || Math.abs(e.xy.y - this.lastXy.y) > this.granularity)
				this.lastXy = e.xy;
			else if (t = this.map.getLonLatFromPixel(e.xy))
				this.displayProjection && t.transform(this.map.getProjectionObject(), this.displayProjection), this.lastXy = e.xy, e = this.formatOutput(t), e != this.element.innerHTML && (this.element.innerHTML = e)
		},
		reset : function () {
			null != this.emptyString && (this.element.innerHTML = this.emptyString)
		},
		formatOutput : function (e) {
			var t = parseInt(this.numDigits);
			return this.prefix + e.lon.toFixed(t) + this.separator + e.lat.toFixed(t) + this.suffix
		},
		CLASS_NAME : "OpenLayers.Control.MousePosition"
	}), OpenLayers.Control.Geolocate = OpenLayers.Class(OpenLayers.Control, {
		geolocation : navigator.geolocation,
		bind : !0,
		watch : !1,
		geolocationOptions : null,
		destroy : function () {
			this.deactivate(),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		activate : function () {
			return this.geolocation ? OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.watch ? this.watchId = this.geolocation.watchPosition(OpenLayers.Function.bind(this.geolocate, this), OpenLayers.Function.bind(this.failure, this), this.geolocationOptions) : this.getCurrentLocation(), !0) : !1 : (this.events.triggerEvent("locationuncapable"), !1)
		},
		deactivate : function () {
			return this.active && null !== this.watchId && this.geolocation.clearWatch(this.watchId),
			OpenLayers.Control.prototype.deactivate.apply(this, arguments)
		},
		geolocate : function (e) {
			var t = (new OpenLayers.LonLat(e.coords.longitude, e.coords.latitude)).transform(new OpenLayers.Projection("EPSG:4326"), this.map.getProjectionObject());
			this.bind && this.map.setCenter(t),
			this.events.triggerEvent("locationupdated", {
				position : e,
				point : new OpenLayers.Geometry.Point(t.lon, t.lat)
			})
		},
		getCurrentLocation : function () {
			return !this.active || this.watch ? !1 : (this.geolocation.getCurrentPosition(OpenLayers.Function.bind(this.geolocate, this), OpenLayers.Function.bind(this.failure, this), this.geolocationOptions), !0)
		},
		failure : function (e) {
			this.events.triggerEvent("locationfailed", {
				error : e
			})
		},
		CLASS_NAME : "OpenLayers.Control.Geolocate"
	}), OpenLayers.Tile.UTFGrid = OpenLayers.Class(OpenLayers.Tile, {
		url : null,
		utfgridResolution : 2,
		json : null,
		format : null,
		destroy : function () {
			this.clear(),
			OpenLayers.Tile.prototype.destroy.apply(this, arguments)
		},
		draw : function () {
			var e = OpenLayers.Tile.prototype.draw.apply(this, arguments);
			if (e)
				if (this.isLoading ? (this.abortLoading(), this.events.triggerEvent("reload")) : (this.isLoading = !0, this.events.triggerEvent("loadstart")), this.url = this.layer.getURL(this.bounds), this.layer.useJSONP) {
					var t = new OpenLayers.Protocol.Script({
							url : this.url,
							callback : function (e) {
								this.isLoading = !1,
								this.events.triggerEvent("loadend"),
								this.json = e.data
							},
							scope : this
						});
					t.read(),
					this.request = t
				} else
					this.request = OpenLayers.Request.GET({
							url : this.url,
							callback : function (e) {
								this.isLoading = !1,
								this.events.triggerEvent("loadend"),
								e.status === 200 && this.parseData(e.responseText)
							},
							scope : this
						});
			else
				this.unload();
			return e
		},
		abortLoading : function () {
			this.request && (this.request.abort(), delete this.request),
			this.isLoading = !1
		},
		getFeatureInfo : function (e, t) {
			var n = null;
			if (this.json) {
				var r = this.getFeatureId(e, t);
				null !== r && (n = {
						id : r,
						data : this.json.data[r]
					})
			}
			return n
		},
		getFeatureId : function (e, t) {
			var n = null;
			if (this.json) {
				var r = this.utfgridResolution,
				r = this.indexFromCharCode(this.json.grid[Math.floor(t / r)].charCodeAt(Math.floor(e / r))),
				i = this.json.keys;
				!isNaN(r) && r in i && (n = i[r])
			}
			return n
		},
		indexFromCharCode : function (e) {
			return 93 <= e && e--,
			35 <= e && e--,
			e - 32
		},
		parseData : function (e) {
			this.format || (this.format = new OpenLayers.Format.JSON),
			this.json = this.format.read(e)
		},
		clear : function () {
			this.json = null
		},
		CLASS_NAME : "OpenLayers.Tile.UTFGrid"
	}), OpenLayers.Control.NavigationHistory = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_TOGGLE,
		previous : null,
		previousOptions : null,
		next : null,
		nextOptions : null,
		limit : 50,
		autoActivate : !0,
		clearOnDeactivate : !1,
		registry : null,
		nextStack : null,
		previousStack : null,
		listeners : null,
		restoring : !1,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.registry = OpenLayers.Util.extend({
					moveend : this.getState
				}, this.registry),
			e = {
				trigger : OpenLayers.Function.bind(this.previousTrigger, this),
				displayClass : this.displayClass + " " + this.displayClass + "Previous"
			},
			OpenLayers.Util.extend(e, this.previousOptions),
			this.previous = new OpenLayers.Control.Button(e),
			e = {
				trigger : OpenLayers.Function.bind(this.nextTrigger, this),
				displayClass : this.displayClass + " " + this.displayClass + "Next"
			},
			OpenLayers.Util.extend(e, this.nextOptions),
			this.next = new OpenLayers.Control.Button(e),
			this.clear()
		},
		onPreviousChange : function (e) {
			e && !this.previous.active ? this.previous.activate() : !e && this.previous.active && this.previous.deactivate()
		},
		onNextChange : function (e) {
			e && !this.next.active ? this.next.activate() : !e && this.next.active && this.next.deactivate()
		},
		destroy : function () {
			OpenLayers.Control.prototype.destroy.apply(this),
			this.previous.destroy(),
			this.next.destroy(),
			this.deactivate();
			for (var e in this)
				this[e] = null
		},
		setMap : function (e) {
			this.map = e,
			this.next.setMap(e),
			this.previous.setMap(e)
		},
		draw : function () {
			OpenLayers.Control.prototype.draw.apply(this, arguments),
			this.next.draw(),
			this.previous.draw()
		},
		previousTrigger : function () {
			var e = this.previousStack.shift(),
			t = this.previousStack.shift();
			return void 0 != t ? (this.nextStack.unshift(e), this.previousStack.unshift(t), this.restoring = !0, this.restore(t), this.restoring = !1, this.onNextChange(this.nextStack[0], this.nextStack.length), this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1)) : this.previousStack.unshift(e),
			t
		},
		nextTrigger : function () {
			var e = this.nextStack.shift();
			return void 0 != e && (this.previousStack.unshift(e), this.restoring = !0, this.restore(e), this.restoring = !1, this.onNextChange(this.nextStack[0], this.nextStack.length), this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1)),
			e
		},
		clear : function () {
			this.previousStack = [],
			this.previous.deactivate(),
			this.nextStack = [],
			this.next.deactivate()
		},
		getState : function () {
			return {
				center : this.map.getCenter(),
				resolution : this.map.getResolution(),
				projection : this.map.getProjectionObject(),
				units : this.map.getProjectionObject().getUnits() || this.map.units || this.map.baseLayer.units
			}
		},
		restore : function (e) {
			var t,
			n;
			if (this.map.getProjectionObject() == e.projection)
				n = this.map.getZoomForResolution(e.resolution), t = e.center;
			else {
				t = e.center.clone(),
				t.transform(e.projection, this.map.getProjectionObject()),
				n = e.units;
				var r = this.map.getProjectionObject().getUnits() || this.map.units || this.map.baseLayer.units;
				n = this.map.getZoomForResolution((n && r ? OpenLayers.INCHES_PER_UNIT[n] / OpenLayers.INCHES_PER_UNIT[r] : 1) * e.resolution)
			}
			this.map.setCenter(t, n)
		},
		setListeners : function () {
			this.listeners = {};
			for (var e in this.registry)
				this.listeners[e] = OpenLayers.Function.bind(function () {
						return this.restoring || (this.previousStack.unshift(this.registry[e].apply(this, arguments)), 1 < this.previousStack.length && this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1), this.previousStack.length > this.limit + 1 && this.previousStack.pop(), 0 < this.nextStack.length && (this.nextStack = [], this.onNextChange(null, 0))),
						!0
					}, this)
		},
		activate : function () {
			var e = !1;
			if (this.map && OpenLayers.Control.prototype.activate.apply(this)) {
				null == this.listeners && this.setListeners();
				for (var t in this.listeners)
					this.map.events.register(t, this, this.listeners[t]);
				e = !0,
				0 == this.previousStack.length && this.initStack()
			}
			return e
		},
		initStack : function () {
			this.map.getCenter() && this.listeners.moveend()
		},
		deactivate : function () {
			var e = !1;
			if (this.map && OpenLayers.Control.prototype.deactivate.apply(this)) {
				for (var t in this.listeners)
					this.map.events.unregister(t, this, this.listeners[t]);
				this.clearOnDeactivate && this.clear(),
				e = !0
			}
			return e
		},
		CLASS_NAME : "OpenLayers.Control.NavigationHistory"
	}), OpenLayers.Protocol.HTTP = OpenLayers.Class(OpenLayers.Protocol, {
		url : null,
		headers : null,
		params : null,
		callback : null,
		scope : null,
		readWithPOST : !1,
		updateWithPOST : !1,
		deleteWithPOST : !1,
		wildcarded : !1,
		srsInBBOX : !1,
		initialize : function (e) {
			e = e || {},
			this.params = {},
			this.headers = {},
			OpenLayers.Protocol.prototype.initialize.apply(this, arguments);
			if (!this.filterToParams && OpenLayers.Format.QueryStringFilter) {
				var t = new OpenLayers.Format.QueryStringFilter({
						wildcarded : this.wildcarded,
						srsInBBOX : this.srsInBBOX
					});
				this.filterToParams = function (e, n) {
					return t.write(e, n)
				}
			}
		},
		destroy : function () {
			this.headers = this.params = null,
			OpenLayers.Protocol.prototype.destroy.apply(this)
		},
		read : function (e) {
			OpenLayers.Protocol.prototype.read.apply(this, arguments),
			e = e || {},
			e.params = OpenLayers.Util.applyDefaults(e.params, this.options.params),
			e = OpenLayers.Util.applyDefaults(e, this.options),
			e.filter && this.filterToParams && (e.params = this.filterToParams(e.filter, e.params));
			var t = void 0 !== e.readWithPOST ? e.readWithPOST : this.readWithPOST,
			n = new OpenLayers.Protocol.Response({
					requestType : "read"
				});
			return t ? (t = e.headers || {}, t["Content-Type"] = "application/x-www-form-urlencoded", n.priv = OpenLayers.Request.POST({
						url : e.url,
						callback : this.createCallback(this.handleRead, n, e),
						data : OpenLayers.Util.getParameterString(e.params),
						headers : t
					})) : n.priv = OpenLayers.Request.GET({
					url : e.url,
					callback : this.createCallback(this.handleRead, n, e),
					params : e.params,
					headers : e.headers
				}),
			n
		},
		handleRead : function (e, t) {
			this.handleResponse(e, t)
		},
		create : function (e, t) {
			var t = OpenLayers.Util.applyDefaults(t, this.options),
			n = new OpenLayers.Protocol.Response({
					reqFeatures : e,
					requestType : "create"
				});
			return n.priv = OpenLayers.Request.POST({
					url : t.url,
					callback : this.createCallback(this.handleCreate, n, t),
					headers : t.headers,
					data : this.format.write(e)
				}),
			n
		},
		handleCreate : function (e, t) {
			this.handleResponse(e, t)
		},
		update : function (e, t) {
			var t = t || {},
			n = t.url || e.url || this.options.url + "/" + e.fid,
			t = OpenLayers.Util.applyDefaults(t, this.options),
			r = new OpenLayers.Protocol.Response({
					reqFeatures : e,
					requestType : "update"
				});
			return r.priv = OpenLayers.Request[this.updateWithPOST ? "POST" : "PUT"]({
					url : n,
					callback : this.createCallback(this.handleUpdate, r, t),
					headers : t.headers,
					data : this.format.write(e)
				}),
			r
		},
		handleUpdate : function (e, t) {
			this.handleResponse(e, t)
		},
		"delete" : function (e, t) {
			var t = t || {},
			n = t.url || e.url || this.options.url + "/" + e.fid,
			t = OpenLayers.Util.applyDefaults(t, this.options),
			r = new OpenLayers.Protocol.Response({
					reqFeatures : e,
					requestType : "delete"
				}),
			i = this.deleteWithPOST ? "POST" : "DELETE",
			n = {
				url : n,
				callback : this.createCallback(this.handleDelete, r, t),
				headers : t.headers
			};
			return this.deleteWithPOST && (n.data = this.format.write(e)),
			r.priv = OpenLayers.Request[i](n),
			r
		},
		handleDelete : function (e, t) {
			this.handleResponse(e, t)
		},
		handleResponse : function (e, t) {
			var n = e.priv;
			t.callback && (200 <= n.status && 300 > n.status ? ("delete" != e.requestType && (e.features = this.parseFeatures(n)), e.code = OpenLayers.Protocol.Response.SUCCESS) : e.code = OpenLayers.Protocol.Response.FAILURE, t.callback.call(t.scope, e))
		},
		parseFeatures : function (e) {
			var t = e.responseXML;
			if (!t || !t.documentElement)
				t = e.responseText;
			return !t || 0 >= t.length ? null : this.format.read(t)
		},
		commit : function (e, t) {
			function n(e) {
				for (var t = e.features ? e.features.length : 0, n = Array(t), i = 0; i < t; ++i)
					n[i] = e.features[i].fid;
				d.insertIds = n,
				r.apply(this, [e])
			}
			function r(e) {
				this.callUserCallback(e, t),
				p = p && e.success(),
				s++,
				s >= h && t.callback && (d.code = p ? OpenLayers.Protocol.Response.SUCCESS : OpenLayers.Protocol.Response.FAILURE, t.callback.apply(t.scope, [d]))
			}
			var t = OpenLayers.Util.applyDefaults(t, this.options),
			i = [],
			s = 0,
			o = {};
			o[OpenLayers.State.INSERT] = [],
			o[OpenLayers.State.UPDATE] = [],
			o[OpenLayers.State.DELETE] = [];
			for (var u, a, f = [], l = 0, c = e.length; l < c; ++l)
				if (u = e[l], a = o[u.state])
					a.push(u), f.push(u);
			var h = (0 < o[OpenLayers.State.INSERT].length ? 1 : 0) + o[OpenLayers.State.UPDATE].length + o[OpenLayers.State.DELETE].length,
			p = !0,
			d = new OpenLayers.Protocol.Response({
					reqFeatures : f
				});
			u = o[OpenLayers.State.INSERT],
			0 < u.length && i.push(this.create(u, OpenLayers.Util.applyDefaults({
						callback : n,
						scope : this
					}, t.create))),
			u = o[OpenLayers.State.UPDATE];
			for (l = u.length - 1; 0 <= l; --l)
				i.push(this.update(u[l], OpenLayers.Util.applyDefaults({
							callback : r,
							scope : this
						}, t.update)));
			u = o[OpenLayers.State.DELETE];
			for (l = u.length - 1; 0 <= l; --l)
				i.push(this["delete"](u[l], OpenLayers.Util.applyDefaults({
							callback : r,
							scope : this
						}, t["delete"])));
			return i
		},
		abort : function (e) {
			e && e.priv.abort()
		},
		callUserCallback : function (e, t) {
			var n = t[e.requestType];
			n && n.callback && n.callback.call(n.scope, e)
		},
		CLASS_NAME : "OpenLayers.Protocol.HTTP"
	}), OpenLayers.Strategy.Cluster = OpenLayers.Class(OpenLayers.Strategy, {
		distance : 20,
		threshold : null,
		features : null,
		clusters : null,
		clustering : !1,
		resolution : null,
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.call(this);
			return e && this.layer.events.on({
				beforefeaturesadded : this.cacheFeatures,
				moveend : this.cluster,
				scope : this
			}),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && (this.clearCache(), this.layer.events.un({
					beforefeaturesadded : this.cacheFeatures,
					moveend : this.cluster,
					scope : this
				})),
			e
		},
		cacheFeatures : function (e) {
			var t = !0;
			return this.clustering || (this.clearCache(), this.features = e.features, this.cluster(), t = !1),
			t
		},
		clearCache : function () {
			this.features = null
		},
		cluster : function (e) {
			if ((!e || e.zoomChanged) && this.features)
				if (e = this.layer.map.getResolution(), e != this.resolution || !this.clustersExist()) {
					this.resolution = e;
					for (var e = [], t, n, r, i = 0; i < this.features.length; ++i)
						if (t = this.features[i], t.geometry) {
							n = !1;
							for (var s = e.length - 1; 0 <= s; --s)
								if (r = e[s], this.shouldCluster(r, t)) {
									this.addToCluster(r, t),
									n = !0;
									break
								}
							n || e.push(this.createCluster(this.features[i]))
						}
					this.layer.removeAllFeatures();
					if (0 < e.length) {
						if (1 < this.threshold) {
							t = e.slice(),
							e = [],
							i = 0;
							for (r = t.length; i < r; ++i)
								n = t[i], n.attributes.count < this.threshold ? Array.prototype.push.apply(e, n.cluster) : e.push(n)
						}
						this.clustering = !0,
						this.layer.addFeatures(e),
						this.clustering = !1
					}
					this.clusters = e
				}
		},
		clustersExist : function () {
			var e = !1;
			if (this.clusters && 0 < this.clusters.length && this.clusters.length == this.layer.features.length)
				for (var e = !0, t = 0; t < this.clusters.length; ++t)
					if (this.clusters[t] != this.layer.features[t]) {
						e = !1;
						break
					}
			return e
		},
		shouldCluster : function (e, t) {
			var n = e.geometry.getBounds().getCenterLonLat(),
			r = t.geometry.getBounds().getCenterLonLat();
			return Math.sqrt(Math.pow(n.lon - r.lon, 2) + Math.pow(n.lat - r.lat, 2)) / this.resolution <= this.distance
		},
		addToCluster : function (e, t) {
			e.cluster.push(t),
			e.attributes.count += 1
		},
		createCluster : function (e) {
			var t = e.geometry.getBounds().getCenterLonLat(),
			t = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(t.lon, t.lat), {
					count : 1
				});
			return t.cluster = [e],
			t
		},
		CLASS_NAME : "OpenLayers.Strategy.Cluster"
	}), OpenLayers.Strategy.Filter = OpenLayers.Class(OpenLayers.Strategy, {
		filter : null,
		cache : null,
		caching : !1,
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.apply(this, arguments);
			return e && (this.cache = [], this.layer.events.on({
					beforefeaturesadded : this.handleAdd,
					beforefeaturesremoved : this.handleRemove,
					scope : this
				})),
			e
		},
		deactivate : function () {
			return this.cache = null,
			this.layer && this.layer.events && this.layer.events.un({
				beforefeaturesadded : this.handleAdd,
				beforefeaturesremoved : this.handleRemove,
				scope : this
			}),
			OpenLayers.Strategy.prototype.deactivate.apply(this, arguments)
		},
		handleAdd : function (e) {
			if (!this.caching && this.filter) {
				var t = e.features;
				e.features = [];
				for (var n, r = 0, i = t.length; r < i; ++r)
					n = t[r], this.filter.evaluate(n) ? e.features.push(n) : this.cache.push(n)
			}
		},
		handleRemove : function () {
			this.caching || (this.cache = [])
		},
		setFilter : function (e) {
			this.filter = e,
			e = this.cache,
			this.cache = [],
			this.handleAdd({
				features : this.layer.features
			}),
			0 < this.cache.length && (this.caching = !0, this.layer.removeFeatures(this.cache.slice()), this.caching = !1),
			0 < e.length && (e = {
					features : e
				}, this.handleAdd(e), 0 < e.features.length && (this.caching = !0, this.layer.addFeatures(e.features), this.caching = !1))
		},
		CLASS_NAME : "OpenLayers.Strategy.Filter"
	}), OpenLayers.Protocol.SOS = function (e) {
	var e = OpenLayers.Util.applyDefaults(e, OpenLayers.Protocol.SOS.DEFAULTS),
	t = OpenLayers.Protocol.SOS["v" + e.version.replace(/\./g, "_")];
	if (!t)
		throw "Unsupported SOS version: " + e.version;
	return new t(e)
}, OpenLayers.Protocol.SOS.DEFAULTS = {
	version : "1.0.0"
}, OpenLayers.Format.WFSDescribeFeatureType = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			xsd : "http://www.w3.org/2001/XMLSchema"
		},
		readers : {
			xsd : {
				schema : function (e, t) {
					var n = [],
					r = {};
					this.readChildNodes(e, {
						complexTypes : n,
						customTypes : r
					});
					for (var i = e.attributes, s, o, u = 0, a = i.length; u < a; ++u)
						s = i[u], o = s.name, 0 == o.indexOf("xmlns") ? this.setNamespace(o.split(":")[1] || "", s.value) : t[o] = s.value;
					t.featureTypes = n,
					t.targetPrefix = this.namespaceAlias[t.targetNamespace],
					u = 0;
					for (a = n.length; u < a; ++u)
						i = n[u], s = r[i.typeName], r[i.typeName] && (i.typeName = s.name)
				},
				complexType : function (e, t) {
					var n = {
						typeName : e.getAttribute("name")
					};
					this.readChildNodes(e, n),
					t.complexTypes.push(n)
				},
				complexContent : function (e, t) {
					this.readChildNodes(e, t)
				},
				extension : function (e, t) {
					this.readChildNodes(e, t)
				},
				sequence : function (e, t) {
					var n = {
						elements : []
					};
					this.readChildNodes(e, n),
					t.properties = n.elements
				},
				element : function (e, t) {
					if (t.elements) {
						for (var n = {}, r = e.attributes, i, s = 0, o = r.length; s < o; ++s)
							i = r[s], n[i.name] = i.value;
						r = n.type,
						r || (r = {}, this.readChildNodes(e, r), n.restriction = r, n.type = r.base),
						n.localType = (r.base || r).split(":").pop(),
						t.elements.push(n)
					}
					t.complexTypes && (r = e.getAttribute("type"), n = r.split(":").pop(), t.customTypes[n] = {
							name : e.getAttribute("name"),
							type : r
						})
				},
				simpleType : function (e, t) {
					this.readChildNodes(e, t)
				},
				restriction : function (e, t) {
					t.base = e.getAttribute("base"),
					this.readRestriction(e, t)
				}
			}
		},
		readRestriction : function (e, t) {
			for (var n = e.childNodes, r, i, s = 0, o = n.length; s < o; ++s)
				r = n[s], 1 == r.nodeType && (i = r.nodeName.split(":").pop(), r = r.getAttribute("value"), t[i] ? ("string" == typeof t[i] && (t[i] = [t[i]]), t[i].push(r)) : t[i] = r)
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		CLASS_NAME : "OpenLayers.Format.WFSDescribeFeatureType"
	}), OpenLayers.Format.GeoRSS = OpenLayers.Class(OpenLayers.Format.XML, {
		rssns : "http://backend.userland.com/rss2",
		featureNS : "http://mapserver.gis.umn.edu/mapserver",
		georssns : "http://www.georss.org/georss",
		geons : "http://www.w3.org/2003/01/geo/wgs84_pos#",
		featureTitle : "Untitled",
		featureDescription : "No Description",
		gmlParser : null,
		xy : !1,
		createGeometryFromItem : function (e) {
			var t = this.getElementsByTagNameNS(e, this.georssns, "point"),
			n = this.getElementsByTagNameNS(e, this.geons, "lat"),
			r = this.getElementsByTagNameNS(e, this.geons, "long"),
			i = this.getElementsByTagNameNS(e, this.georssns, "line"),
			s = this.getElementsByTagNameNS(e, this.georssns, "polygon"),
			o = this.getElementsByTagNameNS(e, this.georssns, "where"),
			e = this.getElementsByTagNameNS(e, this.georssns, "box");
			if (0 < t.length || 0 < n.length && 0 < r.length) {
				0 < t.length ? (n = OpenLayers.String.trim(t[0].firstChild.nodeValue).split(/\s+/), 2 != n.length && (n = OpenLayers.String.trim(t[0].firstChild.nodeValue).split(/\s*,\s*/))) : n = [parseFloat(n[0].firstChild.nodeValue), parseFloat(r[0].firstChild.nodeValue)];
				var u = new OpenLayers.Geometry.Point(n[1], n[0])
			} else if (0 < i.length) {
				n = OpenLayers.String.trim(this.getChildValue(i[0])).split(/\s+/),
				r = [],
				i = 0;
				for (s = n.length; i < s; i += 2)
					t = new OpenLayers.Geometry.Point(n[i + 1], n[i]), r.push(t);
				u = new OpenLayers.Geometry.LineString(r)
			} else if (0 < s.length) {
				n = OpenLayers.String.trim(this.getChildValue(s[0])).split(/\s+/),
				r = [],
				i = 0;
				for (s = n.length; i < s; i += 2)
					t = new OpenLayers.Geometry.Point(n[i + 1], n[i]), r.push(t);
				u = new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(r)])
			} else
				0 < o.length ? (this.gmlParser || (this.gmlParser = new OpenLayers.Format.GML({
								xy : this.xy
							})), u = this.gmlParser.parseFeature(o[0]).geometry) : 0 < e.length && (n = OpenLayers.String.trim(e[0].firstChild.nodeValue).split(/\s+/), r = [], 3 < n.length && (t = new OpenLayers.Geometry.Point(n[1], n[0]), r.push(t), t = new OpenLayers.Geometry.Point(n[1], n[2]), r.push(t), t = new OpenLayers.Geometry.Point(n[3], n[2]), r.push(t), t = new OpenLayers.Geometry.Point(n[3], n[0]), r.push(t), t = new OpenLayers.Geometry.Point(n[1], n[0]), r.push(t)), u = new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(r)]));
			return u && this.internalProjection && this.externalProjection && u.transform(this.externalProjection, this.internalProjection),
			u
		},
		createFeatureFromItem : function (e) {
			var t = this.createGeometryFromItem(e),
			n = this._getChildValue(e, "*", "title", this.featureTitle),
			r = this._getChildValue(e, "*", "description", this._getChildValue(e, "*", "content", this._getChildValue(e, "*", "summary", this.featureDescription))),
			i = this._getChildValue(e, "*", "link");
			if (!i)
				try {
					i = this.getElementsByTagNameNS(e, "*", "link")[0].getAttribute("href")
				} catch (s) {
					i = null
				}
			return e = this._getChildValue(e, "*", "id", null),
			t = new OpenLayers.Feature.Vector(t, {
					title : n,
					description : r,
					link : i
				}),
			t.fid = e,
			t
		},
		_getChildValue : function (e, t, n, r) {
			return (e = this.getElementsByTagNameNS(e, t, n)) && e[0] && e[0].firstChild && e[0].firstChild.nodeValue ? this.getChildValue(e[0]) : void 0 == r ? "" : r
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = null,
			t = this.getElementsByTagNameNS(e, "*", "item");
			0 == t.length && (t = this.getElementsByTagNameNS(e, "*", "entry"));
			for (var e = t.length, n = Array(e), r = 0; r < e; r++)
				n[r] = this.createFeatureFromItem(t[r]);
			return n
		},
		write : function (e) {
			var t;
			if (OpenLayers.Util.isArray(e)) {
				t = this.createElementNS(this.rssns, "rss");
				for (var n = 0, r = e.length; n < r; n++)
					t.appendChild(this.createFeatureXML(e[n]))
			} else
				t = this.createFeatureXML(e);
			return OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		createFeatureXML : function (e) {
			var t = this.buildGeometryNode(e.geometry),
			n = this.createElementNS(this.rssns, "item"),
			r = this.createElementNS(this.rssns, "title");
			r.appendChild(this.createTextNode(e.attributes.title ? e.attributes.title : ""));
			var i = this.createElementNS(this.rssns, "description");
			i.appendChild(this.createTextNode(e.attributes.description ? e.attributes.description : "")),
			n.appendChild(r),
			n.appendChild(i),
			e.attributes.link && (r = this.createElementNS(this.rssns, "link"), r.appendChild(this.createTextNode(e.attributes.link)), n.appendChild(r));
			for (var s in e.attributes)
				"link" == s || "title" == s || "description" == s || (r = this.createTextNode(e.attributes[s]), i = s, -1 != s.search(":") && (i = s.split(":")[1]), i = this.createElementNS(this.featureNS, "feature:" + i), i.appendChild(r), n.appendChild(i));
			return n.appendChild(t),
			n
		},
		buildGeometryNode : function (e) {
			this.internalProjection && this.externalProjection && (e = e.clone(), e.transform(this.internalProjection, this.externalProjection));
			var t;
			if ("OpenLayers.Geometry.Polygon" == e.CLASS_NAME)
				t = this.createElementNS(this.georssns, "georss:polygon"), t.appendChild(this.buildCoordinatesNode(e.components[0]));
			else if ("OpenLayers.Geometry.LineString" == e.CLASS_NAME)
				t = this.createElementNS(this.georssns, "georss:line"), t.appendChild(this.buildCoordinatesNode(e));
			else {
				if ("OpenLayers.Geometry.Point" != e.CLASS_NAME)
					throw "Couldn't parse " + e.CLASS_NAME;
				t = this.createElementNS(this.georssns, "georss:point"),
				t.appendChild(this.buildCoordinatesNode(e))
			}
			return t
		},
		buildCoordinatesNode : function (e) {
			var t = null;
			e.components && (t = e.components);
			if (t) {
				for (var e = t.length, n = Array(e), r = 0; r < e; r++)
					n[r] = t[r].y + " " + t[r].x;
				t = n.join(" ")
			} else
				t = e.y + " " + e.x;
			return this.createTextNode(t)
		},
		CLASS_NAME : "OpenLayers.Format.GeoRSS"
	}), OpenLayers.Format.WPSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.0.0",
		CLASS_NAME : "OpenLayers.Format.WPSCapabilities"
	}), OpenLayers.Format.WPSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			wps : "http://www.opengis.net/wps/1.0.0",
			xlink : "http://www.w3.org/1999/xlink"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e])
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t
		},
		readers : {
			wps : {
				Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				ProcessOfferings : function (e, t) {
					t.processOfferings = {},
					this.readChildNodes(e, t.processOfferings)
				},
				Process : function (e, t) {
					var n = {
						processVersion : this.getAttributeNS(e, this.namespaces.wps, "processVersion")
					};
					this.readChildNodes(e, n),
					t[n.identifier] = n
				},
				Languages : function (e, t) {
					t.languages = [],
					this.readChildNodes(e, t.languages)
				},
				Default : function (e, t) {
					var n = {
						isDefault : !0
					};
					this.readChildNodes(e, n),
					t.push(n)
				},
				Supported : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.push(n)
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WPSCapabilities.v1_0_0"
	}), OpenLayers.Control.PinchZoom = OpenLayers.Class(OpenLayers.Control, {
		type : OpenLayers.Control.TYPE_TOOL,
		containerCenter : null,
		pinchOrigin : null,
		currentCenter : null,
		autoActivate : !0,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, arguments),
			this.handler = new OpenLayers.Handler.Pinch(this, {
					start : this.pinchStart,
					move : this.pinchMove,
					done : this.pinchDone
				}, this.handlerOptions)
		},
		activate : function () {
			var e = OpenLayers.Control.prototype.activate.apply(this, arguments);
			return e && (this.map.events.on({
					moveend : this.updateContainerCenter,
					scope : this
				}), this.updateContainerCenter()),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Control.prototype.deactivate.apply(this, arguments);
			return this.map && this.map.events && this.map.events.un({
				moveend : this.updateContainerCenter,
				scope : this
			}),
			e
		},
		updateContainerCenter : function () {
			var e = this.map.layerContainerDiv;
			this.containerCenter = {
				x : parseInt(e.style.left, 10) + 50,
				y : parseInt(e.style.top, 10) + 50
			}
		},
		pinchStart : function (e) {
			this.currentCenter = this.pinchOrigin = e.xy
		},
		pinchMove : function (e, t) {
			var n = t.scale,
			r = this.containerCenter,
			i = this.pinchOrigin,
			s = e.xy,
			o = Math.round(s.x - i.x + (n - 1) * (r.x - i.x)),
			r = Math.round(s.y - i.y + (n - 1) * (r.y - i.y));
			this.applyTransform("translate(" + o + "px, " + r + "px) scale(" + n + ")"),
			this.currentCenter = s
		},
		applyTransform : function (e) {
			var t = this.map.layerContainerDiv.style;
			t["-webkit-transform"] = e,
			t["-moz-transform"] = e
		},
		pinchDone : function (e, t, n) {
			this.applyTransform(""),
			e = this.map.getZoomForResolution(this.map.getResolution() / n.scale, !0);
			if (e !== this.map.getZoom() || !this.currentCenter.equals(this.pinchOrigin)) {
				var t = this.map.getResolutionForZoom(e),
				n = this.map.getLonLatFromPixel(this.pinchOrigin),
				r = this.currentCenter,
				i = this.map.getSize();
				n.lon += t * (i.w / 2 - r.x),
				n.lat -= t * (i.h / 2 - r.y),
				this.map.div.clientWidth = this.map.div.clientWidth,
				this.map.setCenter(n, e)
			}
		},
		CLASS_NAME : "OpenLayers.Control.PinchZoom"
	}), OpenLayers.Control.TouchNavigation = OpenLayers.Class(OpenLayers.Control, {
		dragPan : null,
		dragPanOptions : null,
		pinchZoom : null,
		pinchZoomOptions : null,
		clickHandlerOptions : null,
		documentDrag : !1,
		autoActivate : !0,
		initialize : function (e) {
			this.handlers = {},
			OpenLayers.Control.prototype.initialize.apply(this, arguments)
		},
		destroy : function () {
			this.deactivate(),
			this.dragPan && this.dragPan.destroy(),
			this.dragPan = null,
			this.pinchZoom && (this.pinchZoom.destroy(), delete this.pinchZoom),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		activate : function () {
			return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.dragPan.activate(), this.handlers.click.activate(), this.pinchZoom.activate(), !0) : !1
		},
		deactivate : function () {
			return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (this.dragPan.deactivate(), this.handlers.click.deactivate(), this.pinchZoom.deactivate(), !0) : !1
		},
		draw : function () {
			var e = {
				click : this.defaultClick,
				dblclick : this.defaultDblClick
			},
			t = OpenLayers.Util.extend({
					"double" : !0,
					stopDouble : !0,
					pixelTolerance : 2
				}, this.clickHandlerOptions);
			this.handlers.click = new OpenLayers.Handler.Click(this, e, t),
			this.dragPan = new OpenLayers.Control.DragPan(OpenLayers.Util.extend({
						map : this.map,
						documentDrag : this.documentDrag
					}, this.dragPanOptions)),
			this.dragPan.draw(),
			this.pinchZoom = new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({
						map : this.map
					}, this.pinchZoomOptions))
		},
		defaultClick : function (e) {
			e.lastTouches && 2 == e.lastTouches.length && this.map.zoomOut()
		},
		defaultDblClick : function (e) {
			this.map.setCenter(this.map.getLonLatFromViewPortPx(e.xy), this.map.zoom + 1)
		},
		CLASS_NAME : "OpenLayers.Control.TouchNavigation"
	}), OpenLayers.Style2 = OpenLayers.Class({
		id : null,
		name : null,
		title : null,
		description : null,
		layerName : null,
		isDefault : !1,
		rules : null,
		initialize : function (e) {
			OpenLayers.Util.extend(this, e),
			this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
		},
		destroy : function () {
			for (var e = 0, t = this.rules.length; e < t; e++)
				this.rules[e].destroy();
			delete this.rules
		},
		clone : function () {
			var e = OpenLayers.Util.extend({}, this);
			if (this.rules) {
				e.rules = [];
				for (var t = 0, n = this.rules.length; t < n; ++t)
					e.rules.push(this.rules[t].clone())
			}
			return new OpenLayers.Style2(e)
		},
		CLASS_NAME : "OpenLayers.Style2"
	}), OpenLayers.Format.WFS = OpenLayers.Class(OpenLayers.Format.GML, {
		layer : null,
		wfsns : "http://www.opengis.net/wfs",
		ogcns : "http://www.opengis.net/ogc",
		initialize : function (e, t) {
			OpenLayers.Format.GML.prototype.initialize.apply(this, [e]),
			this.layer = t,
			this.layer.featureNS && (this.featureNS = this.layer.featureNS),
			this.layer.options.geometry_column && (this.geometryName = this.layer.options.geometry_column),
			this.layer.options.typename && (this.featureName = this.layer.options.typename)
		},
		write : function (e) {
			var t = this.createElementNS(this.wfsns, "wfs:Transaction");
			t.setAttribute("version", "1.0.0"),
			t.setAttribute("service", "WFS");
			for (var n = 0; n < e.length; n++)
				switch (e[n].state) {
				case OpenLayers.State.INSERT:
					t.appendChild(this.insert(e[n]));
					break;
				case OpenLayers.State.UPDATE:
					t.appendChild(this.update(e[n]));
					break;
				case OpenLayers.State.DELETE:
					t.appendChild(this.remove(e[n]))
				}
			return OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		createFeatureXML : function (e) {
			var t = this.buildGeometryNode(e.geometry),
			n = this.createElementNS(this.featureNS, "feature:" + this.geometryName);
			n.appendChild(t),
			t = this.createElementNS(this.featureNS, "feature:" + this.featureName),
			t.appendChild(n);
			for (var r in e.attributes) {
				var n = this.createTextNode(e.attributes[r]),
				i = r;
				-1 != r.search(":") && (i = r.split(":")[1]),
				i = this.createElementNS(this.featureNS, "feature:" + i),
				i.appendChild(n),
				t.appendChild(i)
			}
			return t
		},
		insert : function (e) {
			var t = this.createElementNS(this.wfsns, "wfs:Insert");
			return t.appendChild(this.createFeatureXML(e)),
			t
		},
		update : function (e) {
			e.fid || OpenLayers.Console.userError(OpenLayers.i18n("noFID"));
			var t = this.createElementNS(this.wfsns, "wfs:Update");
			t.setAttribute("typeName", this.featurePrefix + ":" + this.featureName),
			t.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
			var n = this.createElementNS(this.wfsns, "wfs:Property"),
			r = this.createElementNS(this.wfsns, "wfs:Name"),
			i = this.createTextNode(this.geometryName);
			r.appendChild(i),
			n.appendChild(r),
			r = this.createElementNS(this.wfsns, "wfs:Value"),
			i = this.buildGeometryNode(e.geometry),
			e.layer && i.setAttribute("srsName", e.layer.projection.getCode()),
			r.appendChild(i),
			n.appendChild(r),
			t.appendChild(n);
			for (var s in e.attributes)
				n = this.createElementNS(this.wfsns, "wfs:Property"), r = this.createElementNS(this.wfsns, "wfs:Name"), r.appendChild(this.createTextNode(s)), n.appendChild(r), r = this.createElementNS(this.wfsns, "wfs:Value"), r.appendChild(this.createTextNode(e.attributes[s])), n.appendChild(r), t.appendChild(n);
			return n = this.createElementNS(this.ogcns, "ogc:Filter"),
			s = this.createElementNS(this.ogcns, "ogc:FeatureId"),
			s.setAttribute("fid", e.fid),
			n.appendChild(s),
			t.appendChild(n),
			t
		},
		remove : function (e) {
			if (!e.fid)
				return OpenLayers.Console.userError(OpenLayers.i18n("noFID")), !1;
			var t = this.createElementNS(this.wfsns, "wfs:Delete");
			t.setAttribute("typeName", this.featurePrefix + ":" + this.featureName),
			t.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
			var n = this.createElementNS(this.ogcns, "ogc:Filter"),
			r = this.createElementNS(this.ogcns, "ogc:FeatureId");
			return r.setAttribute("fid", e.fid),
			n.appendChild(r),
			t.appendChild(n),
			t
		},
		destroy : function () {
			this.layer = null
		},
		CLASS_NAME : "OpenLayers.Format.WFS"
	}), OpenLayers.Format.SLD.v1_0_0_GeoServer = OpenLayers.Class(OpenLayers.Format.SLD.v1_0_0, {
		version : "1.0.0",
		profile : "GeoServer",
		readers : OpenLayers.Util.applyDefaults({
			sld : OpenLayers.Util.applyDefaults({
				Priority : function (e, t) {
					var n = this.readers.ogc._expression.call(this, e);
					n && (t.priority = n)
				},
				VendorOption : function (e, t) {
					t.vendorOptions || (t.vendorOptions = {}),
					t.vendorOptions[e.getAttribute("name")] = this.getChildValue(e)
				}
			}, OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld)
		}, OpenLayers.Format.SLD.v1_0_0.prototype.readers),
		writers : OpenLayers.Util.applyDefaults({
			sld : OpenLayers.Util.applyDefaults({
				Priority : function (e) {
					return this.writers.sld._OGCExpression.call(this, "sld:Priority", e)
				},
				VendorOption : function (e) {
					return this.createElementNSPlus("sld:VendorOption", {
						attributes : {
							name : e.name
						},
						value : e.value
					})
				},
				TextSymbolizer : function (e) {
					var t = OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.TextSymbolizer.apply(this, arguments);
					return !1 !== e.graphic && (e.externalGraphic || e.graphicName) && this.writeNode("Graphic", e, t),
					"priority" in e && this.writeNode("Priority", e.priority, t),
					this.addVendorOptions(t, e)
				},
				PointSymbolizer : function (e) {
					return this.addVendorOptions(OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PointSymbolizer.apply(this, arguments), e)
				},
				LineSymbolizer : function (e) {
					return this.addVendorOptions(OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.LineSymbolizer.apply(this, arguments), e)
				},
				PolygonSymbolizer : function (e) {
					return this.addVendorOptions(OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PolygonSymbolizer.apply(this, arguments), e)
				}
			}, OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld)
		}, OpenLayers.Format.SLD.v1_0_0.prototype.writers),
		addVendorOptions : function (e, t) {
			if (t.vendorOptions)
				for (var n in t.vendorOptions)
					this.writeNode("VendorOption", {
						name : n,
						value : t.vendorOptions[n]
					}, e);
			return e
		},
		CLASS_NAME : "OpenLayers.Format.SLD.v1_0_0_GeoServer"
	}), OpenLayers.Layer.Boxes = OpenLayers.Class(OpenLayers.Layer.Markers, {
		drawMarker : function (e) {
			var t = this.map.getLayerPxFromLonLat({
					lon : e.bounds.left,
					lat : e.bounds.top
				}),
			n = this.map.getLayerPxFromLonLat({
					lon : e.bounds.right,
					lat : e.bounds.bottom
				});
			null == n || null == t ? e.display(!1) : (t = e.draw(t, {
						w : Math.max(1, n.x - t.x),
						h : Math.max(1, n.y - t.y)
					}), e.drawn || (this.div.appendChild(t), e.drawn = !0))
		},
		removeMarker : function (e) {
			OpenLayers.Util.removeItem(this.markers, e),
			null != e.div && e.div.parentNode == this.div && this.div.removeChild(e.div)
		},
		CLASS_NAME : "OpenLayers.Layer.Boxes"
	}), OpenLayers.Format.WFSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1, {
		readers : {
			wfs : OpenLayers.Util.applyDefaults({
				Service : function (e, t) {
					t.service = {},
					this.readChildNodes(e, t.service)
				},
				Fees : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.fees = n)
				},
				AccessConstraints : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.accessConstraints = n)
				},
				OnlineResource : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.onlineResource = n)
				},
				Keywords : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.keywords = n.split(", "))
				},
				Capability : function (e, t) {
					t.capability = {},
					this.readChildNodes(e, t.capability)
				},
				Request : function (e, t) {
					t.request = {},
					this.readChildNodes(e, t.request)
				},
				GetFeature : function (e, t) {
					t.getfeature = {
						href : {},
						formats : []
					},
					this.readChildNodes(e, t.getfeature)
				},
				ResultFormat : function (e, t) {
					for (var n = e.childNodes, r, i = 0; i < n.length; i++)
						r = n[i], 1 == r.nodeType && t.formats.push(r.nodeName)
				},
				DCPType : function (e, t) {
					this.readChildNodes(e, t)
				},
				HTTP : function (e, t) {
					this.readChildNodes(e, t.href)
				},
				Get : function (e, t) {
					t.get = e.getAttribute("onlineResource")
				},
				Post : function (e, t) {
					t.post = e.getAttribute("onlineResource")
				},
				SRS : function (e, t) {
					var n = this.getChildValue(e);
					n && (t.srs = n)
				}
			}, OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs)
		},
		CLASS_NAME : "OpenLayers.Format.WFSCapabilities.v1_0_0"
	}), OpenLayers.Format.WMSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
		defaultVersion : "1.1.1",
		profile : null,
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities"
	}), OpenLayers.Format.WMSCapabilities.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			wms : "http://www.opengis.net/wms",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		defaultPrefix : "wms",
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = e;
			e && 9 == e.nodeType && (e = e.documentElement);
			var n = {};
			return this.readNode(e, n),
			void 0 === n.service && (e = new OpenLayers.Format.OGCExceptionReport, n.error = e.read(t)),
			n
		},
		readers : {
			wms : {
				Service : function (e, t) {
					t.service = {},
					this.readChildNodes(e, t.service)
				},
				Name : function (e, t) {
					t.name = this.getChildValue(e)
				},
				Title : function (e, t) {
					t.title = this.getChildValue(e)
				},
				Abstract : function (e, t) {
					t["abstract"] = this.getChildValue(e)
				},
				BoundingBox : function (e) {
					var t = {};
					t.bbox = [parseFloat(e.getAttribute("minx")), parseFloat(e.getAttribute("miny")), parseFloat(e.getAttribute("maxx")), parseFloat(e.getAttribute("maxy"))],
					e = {
						x : parseFloat(e.getAttribute("resx")),
						y : parseFloat(e.getAttribute("resy"))
					};
					if (!isNaN(e.x) || !isNaN(e.y))
						t.res = e;
					return t
				},
				OnlineResource : function (e, t) {
					t.href = this.getAttributeNS(e, this.namespaces.xlink, "href")
				},
				ContactInformation : function (e, t) {
					t.contactInformation = {},
					this.readChildNodes(e, t.contactInformation)
				},
				ContactPersonPrimary : function (e, t) {
					t.personPrimary = {},
					this.readChildNodes(e, t.personPrimary)
				},
				ContactPerson : function (e, t) {
					t.person = this.getChildValue(e)
				},
				ContactOrganization : function (e, t) {
					t.organization = this.getChildValue(e)
				},
				ContactPosition : function (e, t) {
					t.position = this.getChildValue(e)
				},
				ContactAddress : function (e, t) {
					t.contactAddress = {},
					this.readChildNodes(e, t.contactAddress)
				},
				AddressType : function (e, t) {
					t.type = this.getChildValue(e)
				},
				Address : function (e, t) {
					t.address = this.getChildValue(e)
				},
				City : function (e, t) {
					t.city = this.getChildValue(e)
				},
				StateOrProvince : function (e, t) {
					t.stateOrProvince = this.getChildValue(e)
				},
				PostCode : function (e, t) {
					t.postcode = this.getChildValue(e)
				},
				Country : function (e, t) {
					t.country = this.getChildValue(e)
				},
				ContactVoiceTelephone : function (e, t) {
					t.phone = this.getChildValue(e)
				},
				ContactFacsimileTelephone : function (e, t) {
					t.fax = this.getChildValue(e)
				},
				ContactElectronicMailAddress : function (e, t) {
					t.email = this.getChildValue(e)
				},
				Fees : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.fees = n)
				},
				AccessConstraints : function (e, t) {
					var n = this.getChildValue(e);
					n && "none" != n.toLowerCase() && (t.accessConstraints = n)
				},
				Capability : function (e, t) {
					t.capability = {
						nestedLayers : [],
						layers : []
					},
					this.readChildNodes(e, t.capability)
				},
				Request : function (e, t) {
					t.request = {},
					this.readChildNodes(e, t.request)
				},
				GetCapabilities : function (e, t) {
					t.getcapabilities = {
						formats : []
					},
					this.readChildNodes(e, t.getcapabilities)
				},
				Format : function (e, t) {
					OpenLayers.Util.isArray(t.formats) ? t.formats.push(this.getChildValue(e)) : t.format = this.getChildValue(e)
				},
				DCPType : function (e, t) {
					this.readChildNodes(e, t)
				},
				HTTP : function (e, t) {
					this.readChildNodes(e, t)
				},
				Get : function (e, t) {
					t.get = {},
					this.readChildNodes(e, t.get),
					t.href || (t.href = t.get.href)
				},
				Post : function (e, t) {
					t.post = {},
					this.readChildNodes(e, t.post),
					t.href || (t.href = t.get.href)
				},
				GetMap : function (e, t) {
					t.getmap = {
						formats : []
					},
					this.readChildNodes(e, t.getmap)
				},
				GetFeatureInfo : function (e, t) {
					t.getfeatureinfo = {
						formats : []
					},
					this.readChildNodes(e, t.getfeatureinfo)
				},
				Exception : function (e, t) {
					t.exception = {
						formats : []
					},
					this.readChildNodes(e, t.exception)
				},
				Layer : function (e, t) {
					var n,
					r;
					t.capability ? (r = t.capability, n = t) : r = t;
					var i = e.getAttributeNode("queryable"),
					s = i && i.specified ? e.getAttribute("queryable") : null,
					o = (i = e.getAttributeNode("cascaded")) && i.specified ? e.getAttribute("cascaded") : null,
					i = (i = e.getAttributeNode("opaque")) && i.specified ? e.getAttribute("opaque") : null,
					u = e.getAttribute("noSubsets"),
					a = e.getAttribute("fixedWidth"),
					f = e.getAttribute("fixedHeight"),
					l = n || {},
					c = OpenLayers.Util.extend;
					n = {
						nestedLayers : [],
						styles : n ? [].concat(n.styles) : [],
						srs : n ? c({}, l.srs) : {},
						metadataURLs : [],
						bbox : n ? c({}, l.bbox) : {},
						llbbox : l.llbbox,
						dimensions : n ? c({}, l.dimensions) : {},
						authorityURLs : n ? c({}, l.authorityURLs) : {},
						identifiers : {},
						keywords : [],
						queryable : s && "" !== s ? "1" === s || "true" === s : l.queryable || !1,
						cascaded : null !== o ? parseInt(o) : l.cascaded || 0,
						opaque : i ? "1" === i || "true" === i : l.opaque || !1,
						noSubsets : null !== u ? "1" === u || "true" === u : l.noSubsets || !1,
						fixedWidth : null != a ? parseInt(a) : l.fixedWidth || 0,
						fixedHeight : null != f ? parseInt(f) : l.fixedHeight || 0,
						minScale : l.minScale,
						maxScale : l.maxScale,
						attribution : l.attribution
					},
					t.nestedLayers.push(n),
					n.capability = r,
					this.readChildNodes(e, n),
					delete n.capability,
					n.name && (s = n.name.split(":"), o = r.request, i = o.getfeatureinfo, 0 < s.length && (n.prefix = s[0]), r.layers.push(n), void 0 === n.formats && (n.formats = o.getmap.formats), void 0 === n.infoFormats && i) && (n.infoFormats = i.formats)
				},
				Attribution : function (e, t) {
					t.attribution = {},
					this.readChildNodes(e, t.attribution)
				},
				LogoURL : function (e, t) {
					t.logo = {
						width : e.getAttribute("width"),
						height : e.getAttribute("height")
					},
					this.readChildNodes(e, t.logo)
				},
				Style : function (e, t) {
					var n = {};
					t.styles.push(n),
					this.readChildNodes(e, n)
				},
				LegendURL : function (e, t) {
					var n = {
						width : e.getAttribute("width"),
						height : e.getAttribute("height")
					};
					t.legend = n,
					this.readChildNodes(e, n)
				},
				MetadataURL : function (e, t) {
					var n = {
						type : e.getAttribute("type")
					};
					t.metadataURLs.push(n),
					this.readChildNodes(e, n)
				},
				DataURL : function (e, t) {
					t.dataURL = {},
					this.readChildNodes(e, t.dataURL)
				},
				FeatureListURL : function (e, t) {
					t.featureListURL = {},
					this.readChildNodes(e, t.featureListURL)
				},
				AuthorityURL : function (e, t) {
					var n = e.getAttribute("name"),
					r = {};
					this.readChildNodes(e, r),
					t.authorityURLs[n] = r.href
				},
				Identifier : function (e, t) {
					var n = e.getAttribute("authority");
					t.identifiers[n] = this.getChildValue(e)
				},
				KeywordList : function (e, t) {
					this.readChildNodes(e, t)
				},
				SRS : function (e, t) {
					t.srs[this.getChildValue(e)] = !0
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1"
	}), OpenLayers.Format.WMSCapabilities.v1_3 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1, {
		readers : {
			wms : OpenLayers.Util.applyDefaults({
				WMS_Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				LayerLimit : function (e, t) {
					t.layerLimit = parseInt(this.getChildValue(e))
				},
				MaxWidth : function (e, t) {
					t.maxWidth = parseInt(this.getChildValue(e))
				},
				MaxHeight : function (e, t) {
					t.maxHeight = parseInt(this.getChildValue(e))
				},
				BoundingBox : function (e, t) {
					var n = OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this, [e, t]);
					n.srs = e.getAttribute("CRS"),
					t.bbox[n.srs] = n
				},
				CRS : function (e, t) {
					this.readers.wms.SRS.apply(this, [e, t])
				},
				EX_GeographicBoundingBox : function (e, t) {
					t.llbbox = [],
					this.readChildNodes(e, t.llbbox)
				},
				westBoundLongitude : function (e, t) {
					t[0] = this.getChildValue(e)
				},
				eastBoundLongitude : function (e, t) {
					t[2] = this.getChildValue(e)
				},
				southBoundLatitude : function (e, t) {
					t[1] = this.getChildValue(e)
				},
				northBoundLatitude : function (e, t) {
					t[3] = this.getChildValue(e)
				},
				MinScaleDenominator : function (e, t) {
					t.maxScale = parseFloat(this.getChildValue(e)).toPrecision(16)
				},
				MaxScaleDenominator : function (e, t) {
					t.minScale = parseFloat(this.getChildValue(e)).toPrecision(16)
				},
				Dimension : function (e, t) {
					var n = {
						name : e.getAttribute("name").toLowerCase(),
						units : e.getAttribute("units"),
						unitsymbol : e.getAttribute("unitSymbol"),
						nearestVal : "1" === e.getAttribute("nearestValue"),
						multipleVal : "1" === e.getAttribute("multipleValues"),
						"default" : e.getAttribute("default") || "",
						current : "1" === e.getAttribute("current"),
						values : this.getChildValue(e).split(",")
					};
					t.dimensions[n.name] = n
				},
				Keyword : function (e, t) {
					var n = {
						value : this.getChildValue(e),
						vocabulary : e.getAttribute("vocabulary")
					};
					t.keywords && t.keywords.push(n)
				}
			}, OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms),
			sld : {
				UserDefinedSymbolization : function (e, t) {
					this.readers.wms.UserDefinedSymbolization.apply(this, [e, t]),
					t.userSymbols.inlineFeature = 1 == parseInt(e.getAttribute("InlineFeature")),
					t.userSymbols.remoteWCS = 1 == parseInt(e.getAttribute("RemoteWCS"))
				},
				DescribeLayer : function (e, t) {
					this.readers.wms.DescribeLayer.apply(this, [e, t])
				},
				GetLegendGraphic : function (e, t) {
					this.readers.wms.GetLegendGraphic.apply(this, [e, t])
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_3"
	}), OpenLayers.Layer.Zoomify = OpenLayers.Class(OpenLayers.Layer.Grid, {
		size : null,
		isBaseLayer : !0,
		standardTileSize : 256,
		tileOriginCorner : "tl",
		numberOfTiers : 0,
		tileCountUpToTier : null,
		tierSizeInTiles : null,
		tierImageSize : null,
		initialize : function (e, t, n, r) {
			this.initializeZoomify(n),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e, t, n, {}, r])
		},
		initializeZoomify : function (e) {
			var e = e.clone(),
			t = new OpenLayers.Size(Math.ceil(e.w / this.standardTileSize), Math.ceil(e.h / this.standardTileSize));
			this.tierSizeInTiles = [t];
			for (this.tierImageSize = [e]; e.w > this.standardTileSize || e.h > this.standardTileSize; )
				e = new OpenLayers.Size(Math.floor(e.w / 2), Math.floor(e.h / 2)), t = new OpenLayers.Size(Math.ceil(e.w / this.standardTileSize), Math.ceil(e.h / this.standardTileSize)), this.tierSizeInTiles.push(t), this.tierImageSize.push(e);
			this.tierSizeInTiles.reverse(),
			this.tierImageSize.reverse(),
			this.numberOfTiers = this.tierSizeInTiles.length,
			this.tileCountUpToTier = [0];
			for (e = 1; e < this.numberOfTiers; e++)
				this.tileCountUpToTier.push(this.tierSizeInTiles[e - 1].w * this.tierSizeInTiles[e - 1].h + this.tileCountUpToTier[e - 1])
		},
		destroy : function () {
			OpenLayers.Layer.Grid.prototype.destroy.apply(this, arguments),
			this.tileCountUpToTier.length = 0,
			this.tierSizeInTiles.length = 0,
			this.tierImageSize.length = 0
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.Zoomify(this.name, this.url, this.size, this.options)),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.map.getResolution(),
			n = Math.round((e.left - this.tileOrigin.lon) / (t * this.tileSize.w)),
			e = Math.round((this.tileOrigin.lat - e.top) / (t * this.tileSize.h)),
			t = this.map.getZoom(),
			n = "TileGroup" + Math.floor((n + e * this.tierSizeInTiles[t].w + this.tileCountUpToTier[t]) / 256) + "/" + t + "-" + n + "-" + e + ".jpg",
			e = this.url;
			return OpenLayers.Util.isArray(e) && (e = this.selectUrl(n, e)),
			e + n
		},
		getImageSize : function () {
			if (0 < arguments.length) {
				var e = this.adjustBounds(arguments[0]),
				t = this.map.getResolution(),
				n = Math.round((e.left - this.tileOrigin.lon) / (t * this.tileSize.w)),
				e = Math.round((this.tileOrigin.lat - e.top) / (t * this.tileSize.h)),
				t = this.map.getZoom(),
				r = this.standardTileSize,
				i = this.standardTileSize;
				return n == this.tierSizeInTiles[t].w - 1 && (r = this.tierImageSize[t].w % this.standardTileSize),
				e == this.tierSizeInTiles[t].h - 1 && (i = this.tierImageSize[t].h % this.standardTileSize),
				new OpenLayers.Size(r, i)
			}
			return this.tileSize
		},
		setMap : function (e) {
			OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments),
			this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left, this.map.maxExtent.top)
		},
		calculateGridLayout : function (e, t, n) {
			var r = n * this.tileSize.w,
			n = n * this.tileSize.h,
			i = e.left - t.lon,
			s = Math.floor(i / r) - this.buffer,
			e = t.lat - e.top + n,
			o = Math.floor(e / n) - this.buffer;
			return {
				tilelon : r,
				tilelat : n,
				tileoffsetlon : t.lon + s * r,
				tileoffsetlat : t.lat - n * o,
				tileoffsetx :  - (i / r - s) * this.tileSize.w,
				tileoffsety : (o - e / n) * this.tileSize.h
			}
		},
		CLASS_NAME : "OpenLayers.Layer.Zoomify"
	}), OpenLayers.Layer.MapServer = OpenLayers.Class(OpenLayers.Layer.Grid, {
		DEFAULT_PARAMS : {
			mode : "map",
			map_imagetype : "png"
		},
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments),
			this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS);
			if (null == r || null == r.isBaseLayer)
				this.isBaseLayer = "true" != this.params.transparent && 1 != this.params.transparent
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.MapServer(this.name, this.url, this.params, this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			e = [e.left, e.bottom, e.right, e.top],
			t = this.getImageSize();
			return this.getFullRequestString({
				mapext : e,
				imgext : e,
				map_size : [t.w, t.h],
				imgx : t.w / 2,
				imgy : t.h / 2,
				imgxy : [t.w, t.h]
			})
		},
		getFullRequestString : function (e, t) {
			var n = null == t ? this.url : t,
			r = OpenLayers.Util.extend({}, this.params),
			r = OpenLayers.Util.extend(r, e),
			i = OpenLayers.Util.getParameterString(r);
			OpenLayers.Util.isArray(n) && (n = this.selectUrl(i, n));
			var i = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(n)),
			s;
			for (s in r)
				s.toUpperCase()in i && delete r[s];
			return i = OpenLayers.Util.getParameterString(r),
			r = n,
			i = i.replace(/,/g, "+"),
			"" != i && (s = n.charAt(n.length - 1), r = "&" == s || "?" == s ? r + i : -1 == n.indexOf("?") ? r + ("?" + i) : r + ("&" + i)),
			r
		},
		CLASS_NAME : "OpenLayers.Layer.MapServer"
	}), OpenLayers.Renderer.VML = OpenLayers.Class(OpenLayers.Renderer.Elements, {
		xmlns : "urn:schemas-microsoft-com:vml",
		symbolCache : {},
		offset : null,
		initialize : function (e) {
			if (this.supported()) {
				if (!document.namespaces.olv) {
					document.namespaces.add("olv", this.xmlns);
					for (var t = document.createStyleSheet(), n = "shape rect oval fill stroke imagedata group textbox".split(" "), r = 0, i = n.length; r < i; r++)
						t.addRule("olv\\:" + n[r], "behavior: url(#default#VML); position: absolute; display: inline-block;")
				}
				OpenLayers.Renderer.Elements.prototype.initialize.apply(this, arguments)
			}
		},
		supported : function () {
			return !!document.namespaces
		},
		setExtent : function (e, t) {
			var n = OpenLayers.Renderer.Elements.prototype.setExtent.apply(this, arguments),
			r = this.getResolution(),
			i = e.left / r | 0,
			r = e.top / r - this.size.h | 0;
			t || !this.offset ? (this.offset = {
					x : i,
					y : r
				}, r = i = 0) : (i -= this.offset.x, r -= this.offset.y),
			this.root.coordorigin = i - this.xOffset + " " + r;
			for (var i = [this.root, this.vectorRoot, this.textRoot], s = 0, o = i.length; s < o; ++s)
				r = i[s], r.coordsize = this.size.w + " " + this.size.h;
			return this.root.style.flip = "y",
			n
		},
		setSize : function (e) {
			OpenLayers.Renderer.prototype.setSize.apply(this, arguments);
			for (var t = [this.rendererRoot, this.root, this.vectorRoot, this.textRoot], n = this.size.w + "px", r = this.size.h + "px", i, s = 0, o = t.length; s < o; ++s)
				i = t[s], i.style.width = n, i.style.height = r
		},
		getNodeType : function (e, t) {
			var n = null;
			switch (e.CLASS_NAME) {
			case "OpenLayers.Geometry.Point":
				n = t.externalGraphic ? "olv:rect" : this.isComplexSymbol(t.graphicName) ? "olv:shape" : "olv:oval";
				break;
			case "OpenLayers.Geometry.Rectangle":
				n = "olv:rect";
				break;
			case "OpenLayers.Geometry.LineString":
			case "OpenLayers.Geometry.LinearRing":
			case "OpenLayers.Geometry.Polygon":
			case "OpenLayers.Geometry.Curve":
				n = "olv:shape"
			}
			return n
		},
		setStyle : function (e, t, n, r) {
			var t = t || e._style,
			n = n || e._options,
			i = t.fillColor;
			if ("OpenLayers.Geometry.Point" === e._geometryClass)
				if (t.externalGraphic) {
					n.isFilled = !0,
					t.graphicTitle && (e.title = t.graphicTitle);
					var i = t.graphicWidth || t.graphicHeight,
					s = t.graphicHeight || t.graphicWidth,
					i = i ? i : 2 * t.pointRadius,
					s = s ? s : 2 * t.pointRadius,
					o = this.getResolution(),
					u = void 0 != t.graphicXOffset ? t.graphicXOffset :  - (.5 * i),
					a = void 0 != t.graphicYOffset ? t.graphicYOffset :  - (.5 * s);
					e.style.left = ((r.x - this.featureDx) / o - this.offset.x + u | 0) + "px",
					e.style.top = (r.y / o - this.offset.y - (a + s) | 0) + "px",
					e.style.width = i + "px",
					e.style.height = s + "px",
					e.style.flip = "y",
					i = "none",
					n.isStroked = !1
				} else
					this.isComplexSymbol(t.graphicName) ? (s = this.importSymbol(t.graphicName), e.path = s.path, e.coordorigin = s.left + "," + s.bottom, s = s.size, e.coordsize = s + "," + s, this.drawCircle(e, r, t.pointRadius), e.style.flip = "y") : this.drawCircle(e, r, t.pointRadius);
			n.isFilled ? e.fillcolor = i : e.filled = "false",
			r = e.getElementsByTagName("fill"),
			r = 0 == r.length ? null : r[0],
			n.isFilled ? (r || (r = this.createNode("olv:fill", e.id + "_fill")), r.opacity = t.fillOpacity, "OpenLayers.Geometry.Point" === e._geometryClass && t.externalGraphic && (t.graphicOpacity && (r.opacity = t.graphicOpacity), r.src = t.externalGraphic, r.type = "frame", !t.graphicWidth || !t.graphicHeight) && (r.aspect = "atmost"), r.parentNode != e && e.appendChild(r)) : r && e.removeChild(r),
			i = t.rotation;
			if (void 0 !== i || void 0 !== e._rotation)
				e._rotation = i, t.externalGraphic ? (this.graphicRotate(e, u, a, t), r.opacity = 0) : "OpenLayers.Geometry.Point" === e._geometryClass && (e.style.rotation = i || 0);
			u = e.getElementsByTagName("stroke"),
			u = 0 == u.length ? null : u[0];
			if (n.isStroked) {
				if (u || (u = this.createNode("olv:stroke", e.id + "_stroke"), e.appendChild(u)), u.on = !0, u.color = t.strokeColor, u.weight = t.strokeWidth + "px", u.opacity = t.strokeOpacity, u.endcap = "butt" == t.strokeLinecap ? "flat" : t.strokeLinecap || "round", t.strokeDashstyle)
					u.dashstyle = this.dashStyle(t)
			} else
				e.stroked = !1, u && (u.on = !1);
			return "inherit" != t.cursor && null != t.cursor && (e.style.cursor = t.cursor),
			e
		},
		graphicRotate : function (e, t, n, r) {
			var r = r || e._style,
			i = r.rotation || 0,
			s,
			o;
			if (!r.graphicWidth || !r.graphicHeight) {
				var u = new Image;
				u.onreadystatechange = OpenLayers.Function.bind(function () {
						if ("complete" == u.readyState || "interactive" == u.readyState)
							s = u.width / u.height, o = Math.max(2 * r.pointRadius, r.graphicWidth || 0, r.graphicHeight || 0), t *= s, r.graphicWidth = o * s, r.graphicHeight = o, this.graphicRotate(e, t, n, r)
					}, this),
				u.src = r.externalGraphic
			} else {
				o = Math.max(r.graphicWidth, r.graphicHeight),
				s = r.graphicWidth / r.graphicHeight;
				var a = Math.round(r.graphicWidth || o * s),
				f = Math.round(r.graphicHeight || o);
				e.style.width = a + "px",
				e.style.height = f + "px";
				var l = document.getElementById(e.id + "_image");
				l || (l = this.createNode("olv:imagedata", e.id + "_image"), e.appendChild(l)),
				l.style.width = a + "px",
				l.style.height = f + "px",
				l.src = r.externalGraphic,
				l.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='', sizingMethod='scale')",
				l = i * Math.PI / 180,
				i = Math.sin(l),
				l = Math.cos(l),
				i = "progid:DXImageTransform.Microsoft.Matrix(M11=" + l + ",M12=" + -i + ",M21=" + i + ",M22=" + l + ",SizingMethod='auto expand')\n",
				(l = r.graphicOpacity || r.fillOpacity) && 1 != l && (i += "progid:DXImageTransform.Microsoft.BasicImage(opacity=" + l + ")\n"),
				e.style.filter = i,
				i = new OpenLayers.Geometry.Point(-t, -n),
				a = (new OpenLayers.Bounds(0, 0, a, f)).toGeometry(),
				a.rotate(r.rotation, i),
				a = a.getBounds(),
				e.style.left = Math.round(parseInt(e.style.left) + a.left) + "px",
				e.style.top = Math.round(parseInt(e.style.top) - a.bottom) + "px"
			}
		},
		postDraw : function (e) {
			e.style.visibility = "visible";
			var t = e._style.fillColor,
			n = e._style.strokeColor;
			"none" == t && e.fillcolor != t && (e.fillcolor = t),
			"none" == n && e.strokecolor != n && (e.strokecolor = n)
		},
		setNodeDimension : function (e, t) {
			var n = t.getBounds();
			if (n) {
				var r = this.getResolution(),
				n = new OpenLayers.Bounds((n.left - this.featureDx) / r - this.offset.x | 0, n.bottom / r - this.offset.y | 0, (n.right - this.featureDx) / r - this.offset.x | 0, n.top / r - this.offset.y | 0);
				e.style.left = n.left + "px",
				e.style.top = n.top + "px",
				e.style.width = n.getWidth() + "px",
				e.style.height = n.getHeight() + "px",
				e.coordorigin = n.left + " " + n.top,
				e.coordsize = n.getWidth() + " " + n.getHeight()
			}
		},
		dashStyle : function (e) {
			e = e.strokeDashstyle;
			switch (e) {
			case "solid":
			case "dot":
			case "dash":
			case "dashdot":
			case "longdash":
			case "longdashdot":
				return e;
			default:
				return e = e.split(/[ ,]/),
				2 == e.length ? 1 * e[0] >= 2 * e[1] ? "longdash" : 1 == e[0] || 1 == e[1] ? "dot" : "dash" : 4 == e.length ? 1 * e[0] >= 2 * e[1] ? "longdashdot" : "dashdot" : "solid"
			}
		},
		createNode : function (e, t) {
			var n = document.createElement(e);
			return t && (n.id = t),
			n.unselectable = "on",
			n.onselectstart = OpenLayers.Function.False,
			n
		},
		nodeTypeCompare : function (e, t) {
			var n = t,
			r = n.indexOf(":");
			-1 != r && (n = n.substr(r + 1));
			var i = e.nodeName,
			r = i.indexOf(":");
			return -1 != r && (i = i.substr(r + 1)),
			n == i
		},
		createRenderRoot : function () {
			return this.nodeFactory(this.container.id + "_vmlRoot", "div")
		},
		createRoot : function (e) {
			return this.nodeFactory(this.container.id + e, "olv:group")
		},
		drawPoint : function (e, t) {
			return this.drawCircle(e, t, 1)
		},
		drawCircle : function (e, t, n) {
			if (!isNaN(t.x) && !isNaN(t.y)) {
				var r = this.getResolution();
				return e.style.left = ((t.x - this.featureDx) / r - this.offset.x | 0) - n + "px",
				e.style.top = (t.y / r - this.offset.y | 0) - n + "px",
				t = 2 * n,
				e.style.width = t + "px",
				e.style.height = t + "px",
				e
			}
			return !1
		},
		drawLineString : function (e, t) {
			return this.drawLine(e, t, !1)
		},
		drawLinearRing : function (e, t) {
			return this.drawLine(e, t, !0)
		},
		drawLine : function (e, t, n) {
			this.setNodeDimension(e, t);
			for (var r = this.getResolution(), i = t.components.length, s = Array(i), o, u, a = 0; a < i; a++)
				o = t.components[a], u = (o.x - this.featureDx) / r - this.offset.x | 0, o = o.y / r - this.offset.y | 0, s[a] = " " + u + "," + o + " l ";
			return e.path = "m" + s.join("") + (n ? " x e" : " e"),
			e
		},
		drawPolygon : function (e, t) {
			this.setNodeDimension(e, t);
			var n = this.getResolution(),
			r = [],
			i,
			s,
			o,
			u,
			a,
			f,
			l,
			c,
			h,
			p;
			i = 0;
			for (s = t.components.length; i < s; i++) {
				r.push("m"),
				o = t.components[i].components,
				u = 0 === i,
				f = a = null,
				l = 0;
				for (c = o.length; l < c; l++)
					h = o[l], p = (h.x - this.featureDx) / n - this.offset.x | 0, h = h.y / n - this.offset.y | 0, p = " " + p + "," + h, r.push(p), 0 == l && r.push(" l"), u || (a ? a != p && (f ? f != p && (u = !0) : f = p) : a = p);
				r.push(u ? " x " : " ")
			}
			return r.push("e"),
			e.path = r.join(""),
			e
		},
		drawRectangle : function (e, t) {
			var n = this.getResolution();
			return e.style.left = ((t.x - this.featureDx) / n - this.offset.x | 0) + "px",
			e.style.top = (t.y / n - this.offset.y | 0) + "px",
			e.style.width = (t.width / n | 0) + "px",
			e.style.height = (t.height / n | 0) + "px",
			e
		},
		drawText : function (e, t, n) {
			var r = this.nodeFactory(e + this.LABEL_ID_SUFFIX, "olv:rect"),
			i = this.nodeFactory(e + this.LABEL_ID_SUFFIX + "_textbox", "olv:textbox"),
			s = this.getResolution();
			r.style.left = ((n.x - this.featureDx) / s - this.offset.x | 0) + "px",
			r.style.top = (n.y / s - this.offset.y | 0) + "px",
			r.style.flip = "y",
			i.innerText = t.label,
			"inherit" != t.cursor && null != t.cursor && (i.style.cursor = t.cursor),
			t.fontColor && (i.style.color = t.fontColor),
			t.fontOpacity && (i.style.filter = "alpha(opacity=" + 100 * t.fontOpacity + ")"),
			t.fontFamily && (i.style.fontFamily = t.fontFamily),
			t.fontSize && (i.style.fontSize = t.fontSize),
			t.fontWeight && (i.style.fontWeight = t.fontWeight),
			t.fontStyle && (i.style.fontStyle = t.fontStyle),
			!0 === t.labelSelect && (r._featureId = e, i._featureId = e, i._geometry = n, i._geometryClass = n.CLASS_NAME),
			i.style.whiteSpace = "nowrap",
			i.inset = "1px,0px,0px,0px",
			r.parentNode || (r.appendChild(i), this.textRoot.appendChild(r)),
			t = t.labelAlign || "cm",
			1 == t.length && (t += "m"),
			e = i.clientWidth * OpenLayers.Renderer.VML.LABEL_SHIFT[t.substr(0, 1)],
			i = i.clientHeight * OpenLayers.Renderer.VML.LABEL_SHIFT[t.substr(1, 1)],
			r.style.left = parseInt(r.style.left) - e - 1 + "px",
			r.style.top = parseInt(r.style.top) + i + "px"
		},
		moveRoot : function (e) {
			var t = this.map.getLayer(e.container.id);
			t instanceof OpenLayers.Layer.Vector.RootContainer && (t = this.map.getLayer(this.container.id)),
			t && t.renderer.clear(),
			OpenLayers.Renderer.Elements.prototype.moveRoot.apply(this, arguments),
			t && t.redraw()
		},
		importSymbol : function (e) {
			var t = this.container.id + "-" + e,
			n = this.symbolCache[t];
			if (n)
				return n;
			n = OpenLayers.Renderer.symbol[e];
			if (!n)
				throw Error(e + " is not a valid symbol name");
			for (var e = new OpenLayers.Bounds(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0), r = ["m"], i = 0; i < n.length; i += 2) {
				var s = n[i],
				o = n[i + 1];
				e.left = Math.min(e.left, s),
				e.bottom = Math.min(e.bottom, o),
				e.right = Math.max(e.right, s),
				e.top = Math.max(e.top, o),
				r.push(s),
				r.push(o),
				0 == i && r.push("l")
			}
			return r.push("x e"),
			n = r.join(" "),
			r = (e.getWidth() - e.getHeight()) / 2,
			0 < r ? (e.bottom -= r, e.top += r) : (e.left += r, e.right -= r),
			n = {
				path : n,
				size : e.getWidth(),
				left : e.left,
				bottom : e.bottom
			},
			this.symbolCache[t] = n
		},
		CLASS_NAME : "OpenLayers.Renderer.VML"
	}), OpenLayers.Renderer.VML.LABEL_SHIFT = {
	l : 0,
	c : .5,
	r : 1,
	t : 0,
	m : .5,
	b : 1
}, OpenLayers.Control.CacheRead = OpenLayers.Class(OpenLayers.Control, {
		fetchEvent : "tileloadstart",
		layers : null,
		autoActivate : !0,
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments);
			var t,
			n = this.layers || e.layers;
			for (t = n.length - 1; 0 <= t; --t)
				this.addLayer({
					layer : n[t]
				});
			this.layers || e.events.on({
				addlayer : this.addLayer,
				removeLayer : this.removeLayer,
				scope : this
			})
		},
		addLayer : function (e) {
			e.layer.events.register(this.fetchEvent, this, this.fetch)
		},
		removeLayer : function (e) {
			e.layer.events.unregister(this.fetchEvent, this, this.fetch)
		},
		fetch : function (e) {
			if (this.active && window.localStorage && e.tile instanceof OpenLayers.Tile.Image) {
				var t = e.tile,
				n = t.url;
				!t.layer.crossOriginKeyword && OpenLayers.ProxyHost && 0 === n.indexOf(OpenLayers.ProxyHost) && (n = OpenLayers.Control.CacheWrite.urlMap[n]);
				if (n = window.localStorage.getItem("olCache_" + n))
					t.url = n, "tileerror" === e.type && t.setImgSrc(n)
			}
		},
		destroy : function () {
			if (this.layers || this.map) {
				var e,
				t = this.layers || this.map.layers;
				for (e = t.length - 1; 0 <= e; --e)
					this.removeLayer({
						layer : t[e]
					})
			}
			this.map && this.map.events.un({
				addlayer : this.addLayer,
				removeLayer : this.removeLayer,
				scope : this
			}),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		CLASS_NAME : "OpenLayers.Control.CacheRead"
	}), OpenLayers.Protocol.WFS.v1_0_0 = OpenLayers.Class(OpenLayers.Protocol.WFS.v1, {
		version : "1.0.0",
		CLASS_NAME : "OpenLayers.Protocol.WFS.v1_0_0"
	}), OpenLayers.Format.WMSGetFeatureInfo = OpenLayers.Class(OpenLayers.Format.XML, {
		layerIdentifier : "_layer",
		featureIdentifier : "_feature",
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		gmlFormat : null,
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e]));
			var t = e.documentElement;
			if (t)
				var n = this["read_" + t.nodeName], e = n ? n.call(this, t) : (new OpenLayers.Format.GML(this.options ? this.options : {})).read(e);
			return e
		},
		read_msGMLOutput : function (e) {
			var t = [];
			if (e = this.getSiblingNodesByTagCriteria(e, this.layerIdentifier))
				for (var n = 0, r = e.length; n < r; ++n) {
					var i = e[n],
					s = i.nodeName;
					i.prefix && (s = s.split(":")[1]),
					s = s.replace(this.layerIdentifier, "");
					if (i = this.getSiblingNodesByTagCriteria(i, this.featureIdentifier))
						for (var o = 0; o < i.length; o++) {
							var u = i[o],
							a = this.parseGeometry(u),
							u = this.parseAttributes(u),
							u = new OpenLayers.Feature.Vector(a.geometry, u, null);
							u.bounds = a.bounds,
							u.type = s,
							t.push(u)
						}
				}
			return t
		},
		read_FeatureInfoResponse : function (e) {
			for (var t = [], e = this.getElementsByTagNameNS(e, "*", "FIELDS"), n = 0, r = e.length; n < r; n++) {
				var i = e[n],
				s = {},
				o,
				u = i.attributes.length;
				if (0 < u)
					for (o = 0; o < u; o++) {
						var a = i.attributes[o];
						s[a.nodeName] = a.nodeValue
					}
				else {
					i = i.childNodes,
					o = 0;
					for (u = i.length; o < u; ++o)
						a = i[o], 3 != a.nodeType && (s[a.getAttribute("name")] = a.getAttribute("value"))
				}
				t.push(new OpenLayers.Feature.Vector(null, s, null))
			}
			return t
		},
		getSiblingNodesByTagCriteria : function (e, t) {
			var n = [],
			r,
			i,
			s,
			o;
			if (e && e.hasChildNodes()) {
				r = e.childNodes,
				s = r.length;
				for (var u = 0; u < s; u++) {
					for (o = r[u]; o && 1 != o.nodeType; )
						o = o.nextSibling, u++;
					i = o ? o.nodeName : "",
					0 < i.length && -1 < i.indexOf(t) ? n.push(o) : (i = this.getSiblingNodesByTagCriteria(o, t), 0 < i.length && (0 == n.length ? n = i : n.push(i)))
				}
			}
			return n
		},
		parseAttributes : function (e) {
			var t = {};
			if (1 == e.nodeType)
				for (var e = e.childNodes, n = e.length, r = 0; r < n; ++r) {
					var i = e[r];
					if (1 == i.nodeType) {
						var s = i.childNodes,
						i = i.prefix ? i.nodeName.split(":")[1] : i.nodeName;
						0 == s.length ? t[i] = null : 1 == s.length && (s = s[0], 3 == s.nodeType || 4 == s.nodeType) && (s = s.nodeValue.replace(this.regExes.trimSpace, ""), t[i] = s)
					}
				}
			return t
		},
		parseGeometry : function (e) {
			this.gmlFormat || (this.gmlFormat = new OpenLayers.Format.GML);
			var e = this.gmlFormat.parseFeature(e),
			t,
			n = null;
			return e && (t = e.geometry && e.geometry.clone(), n = e.bounds && e.bounds.clone(), e.destroy()), {
				geometry : t,
				bounds : n
			}
		},
		CLASS_NAME : "OpenLayers.Format.WMSGetFeatureInfo"
	}), OpenLayers.Control.WMTSGetFeatureInfo = OpenLayers.Class(OpenLayers.Control, {
		hover : !1,
		requestEncoding : "KVP",
		drillDown : !1,
		maxFeatures : 10,
		clickCallback : "click",
		layers : null,
		queryVisible : !0,
		infoFormat : "text/html",
		vendorParams : {},
		format : null,
		formatOptions : null,
		handlerOptions : null,
		handler : null,
		hoverRequest : null,
		pending : 0,
		initialize : function (e) {
			e = e || {},
			e.handlerOptions = e.handlerOptions || {},
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.format || (this.format = new OpenLayers.Format.WMSGetFeatureInfo(e.formatOptions)),
			!0 === this.drillDown && (this.hover = !1),
			this.hover ? this.handler = new OpenLayers.Handler.Hover(this, {
					move : this.cancelHover,
					pause : this.getInfoForHover
				}, OpenLayers.Util.extend(this.handlerOptions.hover || {}, {
						delay : 250
					})) : (e = {}, e[this.clickCallback] = this.getInfoForClick, this.handler = new OpenLayers.Handler.Click(this, e, this.handlerOptions.click || {}))
		},
		getInfoForClick : function (e) {
			this.request(e.xy, {})
		},
		getInfoForHover : function (e) {
			this.request(e.xy, {
				hover : !0
			})
		},
		cancelHover : function () {
			this.hoverRequest && (--this.pending, 0 >= this.pending && (OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"), this.pending = 0), this.hoverRequest.abort(), this.hoverRequest = null)
		},
		findLayers : function () {
			for (var e = this.layers || this.map.layers, t = [], n, r = e.length - 1; 0 <= r; --r)
				if (n = e[r], n instanceof OpenLayers.Layer.WMTS && n.requestEncoding === this.requestEncoding && (!this.queryVisible || n.getVisibility()))
					if (t.push(n), !this.drillDown || this.hover)
						break;
			return t
		},
		buildRequestOptions : function (e, t) {
			var n = this.map.getLonLatFromPixel(t),
			r = e.getURL(new OpenLayers.Bounds(n.lon, n.lat, n.lon, n.lat)),
			r = OpenLayers.Util.getParameters(r),
			n = e.getTileInfo(n);
			return OpenLayers.Util.extend(r, {
				service : "WMTS",
				version : e.version,
				request : "GetFeatureInfo",
				infoFormat : this.infoFormat,
				i : n.i,
				j : n.j
			}),
			OpenLayers.Util.applyDefaults(r, this.vendorParams), {
				url : OpenLayers.Util.isArray(e.url) ? e.url[0] : e.url,
				params : OpenLayers.Util.upperCaseObject(r),
				callback : function (n) {
					this.handleResponse(t, n, e)
				},
				scope : this
			}
		},
		request : function (e, t) {
			var t = t || {},
			n = this.findLayers();
			if (0 < n.length) {
				for (var r, i, s = 0, o = n.length; s < o; s++)
					i = n[s], r = this.events.triggerEvent("beforegetfeatureinfo", {
							xy : e,
							layer : i
						}), !1 !== r && (++this.pending, r = this.buildRequestOptions(i, e), r = OpenLayers.Request.GET(r), !0 === t.hover && (this.hoverRequest = r));
				0 < this.pending && OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait")
			}
		},
		handleResponse : function (e, t, n) {
			--this.pending,
			0 >= this.pending && (OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"), this.pending = 0);
			if (t.status && (200 > t.status || 300 <= t.status))
				this.events.triggerEvent("exception", {
					xy : e,
					request : t,
					layer : n
				});
			else {
				var r = t.responseXML;
				if (!r || !r.documentElement)
					r = t.responseText;
				var i,
				s;
				try {
					i = this.format.read(r)
				} catch (o) {
					s = !0,
					this.events.triggerEvent("exception", {
						xy : e,
						request : t,
						error : o,
						layer : n
					})
				}
				s || this.events.triggerEvent("getfeatureinfo", {
					text : t.responseText,
					features : i,
					request : t,
					xy : e,
					layer : n
				})
			}
		},
		CLASS_NAME : "OpenLayers.Control.WMTSGetFeatureInfo"
	}), OpenLayers.Strategy.Paging = OpenLayers.Class(OpenLayers.Strategy, {
		features : null,
		length : 10,
		num : null,
		paging : !1,
		activate : function () {
			var e = OpenLayers.Strategy.prototype.activate.call(this);
			return e && this.layer.events.on({
				beforefeaturesadded : this.cacheFeatures,
				scope : this
			}),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Strategy.prototype.deactivate.call(this);
			return e && (this.clearCache(), this.layer.events.un({
					beforefeaturesadded : this.cacheFeatures,
					scope : this
				})),
			e
		},
		cacheFeatures : function (e) {
			this.paging || (this.clearCache(), this.features = e.features, this.pageNext(e))
		},
		clearCache : function () {
			if (this.features)
				for (var e = 0; e < this.features.length; ++e)
					this.features[e].destroy();
			this.num = this.features = null
		},
		pageCount : function () {
			return Math.ceil((this.features ? this.features.length : 0) / this.length)
		},
		pageNum : function () {
			return this.num
		},
		pageLength : function (e) {
			return e && 0 < e && (this.length = e),
			this.length
		},
		pageNext : function (e) {
			var t = !1;
			return this.features && (null === this.num && (this.num = -1), t = this.page((this.num + 1) * this.length, e)),
			t
		},
		pagePrevious : function () {
			var e = !1;
			return this.features && (null === this.num && (this.num = this.pageCount()), e = this.page((this.num - 1) * this.length)),
			e
		},
		page : function (e, t) {
			var n = !1;
			if (this.features && 0 <= e && e < this.features.length) {
				var r = Math.floor(e / this.length);
				r != this.num && (this.paging = !0, n = this.features.slice(e, e + this.length), this.layer.removeFeatures(this.layer.features), this.num = r, t && t.features ? t.features = n : this.layer.addFeatures(n), this.paging = !1, n = !0)
			}
			return n
		},
		CLASS_NAME : "OpenLayers.Strategy.Paging"
	}), OpenLayers.Protocol.CSW.v2_0_2 = OpenLayers.Class(OpenLayers.Protocol, {
		formatOptions : null,
		initialize : function (e) {
			OpenLayers.Protocol.prototype.initialize.apply(this, [e]),
			e.format || (this.format = new OpenLayers.Format.CSWGetRecords.v2_0_2(OpenLayers.Util.extend({}, this.formatOptions)))
		},
		destroy : function () {
			this.options && !this.options.format && this.format.destroy(),
			this.format = null,
			OpenLayers.Protocol.prototype.destroy.apply(this)
		},
		read : function (e) {
			e = OpenLayers.Util.extend({}, e),
			OpenLayers.Util.applyDefaults(e, this.options || {});
			var t = new OpenLayers.Protocol.Response({
					requestType : "read"
				}),
			n = this.format.write(e.params);
			return t.priv = OpenLayers.Request.POST({
					url : e.url,
					callback : this.createCallback(this.handleRead, t, e),
					params : e.params,
					headers : e.headers,
					data : n
				}),
			t
		},
		handleRead : function (e, t) {
			if (t.callback) {
				var n = e.priv;
				200 <= n.status && 300 > n.status ? (e.data = this.parseData(n), e.code = OpenLayers.Protocol.Response.SUCCESS) : e.code = OpenLayers.Protocol.Response.FAILURE,
				t.callback.call(t.scope, e)
			}
		},
		parseData : function (e) {
			var t = e.responseXML;
			if (!t || !t.documentElement)
				t = e.responseText;
			return !t || 0 >= t.length ? null : this.format.read(t)
		},
		CLASS_NAME : "OpenLayers.Protocol.CSW.v2_0_2"
	}), OpenLayers.Format.WMSCapabilities.v1_1 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1, {
		readers : {
			wms : OpenLayers.Util.applyDefaults({
				WMT_MS_Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				Keyword : function (e, t) {
					t.keywords && t.keywords.push(this.getChildValue(e))
				},
				DescribeLayer : function (e, t) {
					t.describelayer = {
						formats : []
					},
					this.readChildNodes(e, t.describelayer)
				},
				GetLegendGraphic : function (e, t) {
					t.getlegendgraphic = {
						formats : []
					},
					this.readChildNodes(e, t.getlegendgraphic)
				},
				GetStyles : function (e, t) {
					t.getstyles = {
						formats : []
					},
					this.readChildNodes(e, t.getstyles)
				},
				PutStyles : function (e, t) {
					t.putstyles = {
						formats : []
					},
					this.readChildNodes(e, t.putstyles)
				},
				UserDefinedSymbolization : function (e, t) {
					var n = {
						supportSLD : 1 == parseInt(e.getAttribute("SupportSLD")),
						userLayer : 1 == parseInt(e.getAttribute("UserLayer")),
						userStyle : 1 == parseInt(e.getAttribute("UserStyle")),
						remoteWFS : 1 == parseInt(e.getAttribute("RemoteWFS"))
					};
					t.userSymbols = n
				},
				LatLonBoundingBox : function (e, t) {
					t.llbbox = [parseFloat(e.getAttribute("minx")), parseFloat(e.getAttribute("miny")), parseFloat(e.getAttribute("maxx")), parseFloat(e.getAttribute("maxy"))]
				},
				BoundingBox : function (e, t) {
					var n = OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this, [e, t]);
					n.srs = e.getAttribute("SRS"),
					t.bbox[n.srs] = n
				},
				ScaleHint : function (e, t) {
					var n = e.getAttribute("min"),
					r = e.getAttribute("max"),
					i = Math.pow(2, .5),
					s = OpenLayers.INCHES_PER_UNIT.m;
					t.maxScale = parseFloat((n / i * s * OpenLayers.DOTS_PER_INCH).toPrecision(13)),
					t.minScale = parseFloat((r / i * s * OpenLayers.DOTS_PER_INCH).toPrecision(13))
				},
				Dimension : function (e, t) {
					var n = {
						name : e.getAttribute("name").toLowerCase(),
						units : e.getAttribute("units"),
						unitsymbol : e.getAttribute("unitSymbol")
					};
					t.dimensions[n.name] = n
				},
				Extent : function (e, t) {
					var n = e.getAttribute("name").toLowerCase();
					if (n in t.dimensions) {
						n = t.dimensions[n],
						n.nearestVal = "1" === e.getAttribute("nearestValue"),
						n.multipleVal = "1" === e.getAttribute("multipleValues"),
						n.current = "1" === e.getAttribute("current"),
						n["default"] = e.getAttribute("default") || "";
						var r = this.getChildValue(e);
						n.values = r.split(",")
					}
				}
			}, OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms)
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_1"
	}), OpenLayers.Control.Graticule = OpenLayers.Class(OpenLayers.Control, {
		autoActivate : !0,
		intervals : [45, 30, 20, 10, 5, 2, 1, .5, .2, .1, .05, .01, .005, .002, .001],
		displayInLayerSwitcher : !0,
		visible : !0,
		numPoints : 50,
		targetSize : 200,
		layerName : null,
		labelled : !0,
		labelFormat : "dm",
		lineSymbolizer : {
			strokeColor : "#333",
			strokeWidth : 1,
			strokeOpacity : .5
		},
		labelSymbolizer : {},
		gratLayer : null,
		initialize : function (e) {
			e = e || {},
			e.layerName = e.layerName || OpenLayers.i18n("Graticule"),
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.labelSymbolizer.stroke = !1,
			this.labelSymbolizer.fill = !1,
			this.labelSymbolizer.label = "${label}",
			this.labelSymbolizer.labelAlign = "${labelAlign}",
			this.labelSymbolizer.labelXOffset = "${xOffset}",
			this.labelSymbolizer.labelYOffset = "${yOffset}"
		},
		destroy : function () {
			this.deactivate(),
			OpenLayers.Control.prototype.destroy.apply(this, arguments),
			this.gratLayer && (this.gratLayer.destroy(), this.gratLayer = null)
		},
		draw : function () {
			OpenLayers.Control.prototype.draw.apply(this, arguments);
			if (!this.gratLayer) {
				var e = new OpenLayers.Style({}, {
						rules : [new OpenLayers.Rule({
								symbolizer : {
									Point : this.labelSymbolizer,
									Line : this.lineSymbolizer
								}
							})]
					});
				this.gratLayer = new OpenLayers.Layer.Vector(this.layerName, {
						styleMap : new OpenLayers.StyleMap({
							"default" : e
						}),
						visibility : this.visible,
						displayInLayerSwitcher : this.displayInLayerSwitcher
					})
			}
			return this.div
		},
		activate : function () {
			return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.map.addLayer(this.gratLayer), this.map.events.register("moveend", this, this.update), this.update(), !0) : !1
		},
		deactivate : function () {
			return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (this.map.events.unregister("moveend", this, this.update), this.map.removeLayer(this.gratLayer), !0) : !1
		},
		update : function () {
			var e = this.map.getExtent();
			if (e) {
				this.gratLayer.destroyFeatures();
				var t = new OpenLayers.Projection("EPSG:4326"),
				n = this.map.getProjectionObject(),
				r = this.map.getResolution();
				n.proj && "longlat" == n.proj.projName && (this.numPoints = 1);
				var i = this.map.getCenter(),
				s = new OpenLayers.Pixel(i.lon, i.lat);
				OpenLayers.Projection.transform(s, n, t);
				for (var i = this.targetSize * r, i = i * i, o, r = 0; r < this.intervals.length; ++r) {
					o = this.intervals[r];
					var u = o / 2,
					a = s.offset({
							x : -u,
							y : -u
						}),
					u = s.offset({
							x : u,
							y : u
						});
					OpenLayers.Projection.transform(a, t, n),
					OpenLayers.Projection.transform(u, t, n);
					if ((a.x - u.x) * (a.x - u.x) + (a.y - u.y) * (a.y - u.y) <= i)
						break
				}
				s.x = Math.floor(s.x / o) * o,
				s.y = Math.floor(s.y / o) * o;
				var r = 0,
				i = [s.clone()],
				u = s.clone(),
				f;
				do
					u = u.offset({
							x : 0,
							y : o
						}), f = OpenLayers.Projection.transform(u.clone(), t, n), i.unshift(u);
				while (e.containsPixel(f) && 1e3 > ++r);
				u = s.clone();
				do
					u = u.offset({
							x : 0,
							y : -o
						}), f = OpenLayers.Projection.transform(u.clone(), t, n), i.push(u);
				while (e.containsPixel(f) && 1e3 > ++r);
				r = 0,
				a = [s.clone()],
				u = s.clone();
				do
					u = u.offset({
							x : -o,
							y : 0
						}), f = OpenLayers.Projection.transform(u.clone(), t, n), a.unshift(u);
				while (e.containsPixel(f) && 1e3 > ++r);
				u = s.clone();
				do
					u = u.offset({
							x : o,
							y : 0
						}), f = OpenLayers.Projection.transform(u.clone(), t, n), a.push(u);
				while (e.containsPixel(f) && 1e3 > ++r);
				o = [];
				for (r = 0; r < a.length; ++r) {
					f = a[r].x;
					for (var s = [], l = null, c = Math.min(i[0].y, 90), u = Math.max(i[i.length - 1].y, -90), h = (c - u) / this.numPoints, c = u, u = 0; u <= this.numPoints; ++u) {
						var p = new OpenLayers.Geometry.Point(f, c);
						p.transform(t, n),
						s.push(p),
						c += h,
						p.y >= e.bottom && !l && (l = p)
					}
					this.labelled && (l = new OpenLayers.Geometry.Point(l.x, e.bottom), f = {
							value : f,
							label : this.labelled ? OpenLayers.Util.getFormattedLonLat(f, "lon", this.labelFormat) : "",
							labelAlign : "cb",
							xOffset : 0,
							yOffset : 2
						}, this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(l, f))),
					s = new OpenLayers.Geometry.LineString(s),
					o.push(new OpenLayers.Feature.Vector(s))
				}
				for (u = 0; u < i.length; ++u)
					if (c = i[u].y, !(-90 > c || 90 < c)) {
						s = [],
						r = a[0].x,
						h = (a[a.length - 1].x - r) / this.numPoints,
						f = r,
						l = null;
						for (r = 0; r <= this.numPoints; ++r)
							p = new OpenLayers.Geometry.Point(f, c), p.transform(t, n), s.push(p), f += h, p.x < e.right && (l = p);
						this.labelled && (l = new OpenLayers.Geometry.Point(e.right, l.y), f = {
								value : c,
								label : this.labelled ? OpenLayers.Util.getFormattedLonLat(c, "lat", this.labelFormat) : "",
								labelAlign : "rb",
								xOffset : -2,
								yOffset : 2
							}, this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(l, f))),
						s = new OpenLayers.Geometry.LineString(s),
						o.push(new OpenLayers.Feature.Vector(s))
					}
				this.gratLayer.addFeatures(o)
			}
		},
		CLASS_NAME : "OpenLayers.Control.Graticule"
	}), OpenLayers.Layer.UTFGrid = OpenLayers.Class(OpenLayers.Layer.XYZ, {
		isBaseLayer : !1,
		projection : new OpenLayers.Projection("EPSG:900913"),
		useJSONP : !1,
		tileClass : OpenLayers.Tile.UTFGrid,
		initialize : function (e) {
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e.name, e.url, {}, e]),
			this.tileOptions = OpenLayers.Util.extend({
					utfgridResolution : this.utfgridResolution
				}, this.tileOptions)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.UTFGrid(this.getOptions())),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getFeatureInfo : function (e) {
			var t = null,
			e = this.getTileData(e);
			return e.tile && (t = e.tile.getFeatureInfo(e.i, e.j)),
			t
		},
		getFeatureId : function (e) {
			var t = null,
			e = this.getTileData(e);
			return e.tile && (t = e.tile.getFeatureId(e.i, e.j)),
			t
		},
		CLASS_NAME : "OpenLayers.Layer.UTFGrid"
	}), OpenLayers.Layer.ArcGISCache = OpenLayers.Class(OpenLayers.Layer.XYZ, {
		url : null,
		tileOrigin : null,
		tileSize : new OpenLayers.Size(256, 256),
		useArcGISServer : !0,
		type : "png",
		useScales : !1,
		overrideDPI : !1,
		initialize : function (e, t, n) {
			OpenLayers.Layer.XYZ.prototype.initialize.apply(this, arguments),
			this.resolutions && (this.serverResolutions = this.resolutions, this.maxExtent = this.getMaxExtentForResolution(this.resolutions[0]));
			if (this.layerInfo) {
				var r = this.layerInfo,
				i = new OpenLayers.Bounds(r.fullExtent.xmin, r.fullExtent.ymin, r.fullExtent.xmax, r.fullExtent.ymax);
				this.projection = "EPSG:" + r.spatialReference.wkid,
				this.sphericalMercator = 102100 == r.spatialReference.wkid,
				this.units = "esriFeet" == r.units ? "ft" : "m";
				if (r.tileInfo) {
					this.tileSize = new OpenLayers.Size(r.tileInfo.width || r.tileInfo.cols, r.tileInfo.height || r.tileInfo.rows),
					this.tileOrigin = new OpenLayers.LonLat(r.tileInfo.origin.x, r.tileInfo.origin.y);
					var s = new OpenLayers.Geometry.Point(i.left, i.top),
					i = new OpenLayers.Geometry.Point(i.right, i.bottom);
					this.useScales ? this.scales = [] : this.resolutions = [],
					this.lods = [];
					for (var o in r.tileInfo.lods)
						if (r.tileInfo.lods.hasOwnProperty(o)) {
							var u = r.tileInfo.lods[o];
							this.useScales ? this.scales.push(u.scale) : this.resolutions.push(u.resolution);
							var a = this.getContainingTileCoords(s, u.resolution);
							u.startTileCol = a.x,
							u.startTileRow = a.y,
							a = this.getContainingTileCoords(i, u.resolution),
							u.endTileCol = a.x,
							u.endTileRow = a.y,
							this.lods.push(u)
						}
					this.maxExtent = this.calculateMaxExtentWithLOD(this.lods[0]),
					this.serverResolutions = this.resolutions,
					this.overrideDPI && r.tileInfo.dpi && (OpenLayers.DOTS_PER_INCH = r.tileInfo.dpi)
				}
			}
		},
		getContainingTileCoords : function (e, t) {
			return new OpenLayers.Pixel(Math.max(Math.floor((e.x - this.tileOrigin.lon) / (this.tileSize.w * t)), 0), Math.max(Math.floor((this.tileOrigin.lat - e.y) / (this.tileSize.h * t)), 0))
		},
		calculateMaxExtentWithLOD : function (e) {
			var t = this.tileOrigin.lon + e.startTileCol * this.tileSize.w * e.resolution,
			n = this.tileOrigin.lat - e.startTileRow * this.tileSize.h * e.resolution;
			return new OpenLayers.Bounds(t, n - (e.endTileRow - e.startTileRow + 1) * this.tileSize.h * e.resolution, t + (e.endTileCol - e.startTileCol + 1) * this.tileSize.w * e.resolution, n)
		},
		calculateMaxExtentWithExtent : function (e, t) {
			var n = new OpenLayers.Geometry.Point(e.left, e.top),
			r = new OpenLayers.Geometry.Point(e.right, e.bottom),
			n = this.getContainingTileCoords(n, t),
			r = this.getContainingTileCoords(r, t);
			return this.calculateMaxExtentWithLOD({
				resolution : t,
				startTileCol : n.x,
				startTileRow : n.y,
				endTileCol : r.x,
				endTileRow : r.y
			})
		},
		getUpperLeftTileCoord : function (e) {
			return this.getContainingTileCoords(new OpenLayers.Geometry.Point(this.maxExtent.left, this.maxExtent.top), e)
		},
		getLowerRightTileCoord : function (e) {
			return this.getContainingTileCoords(new OpenLayers.Geometry.Point(this.maxExtent.right, this.maxExtent.bottom), e)
		},
		getMaxExtentForResolution : function (e) {
			var t = this.getUpperLeftTileCoord(e),
			n = this.getLowerRightTileCoord(e),
			r = this.tileOrigin.lon + t.x * this.tileSize.w * e,
			i = this.tileOrigin.lat - t.y * this.tileSize.h * e;
			return new OpenLayers.Bounds(r, i - (n.y - t.y + 1) * this.tileSize.h * e, r + (n.x - t.x + 1) * this.tileSize.w * e, i)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.ArcGISCache(this.name, this.url, this.options)),
			OpenLayers.Layer.XYZ.prototype.clone.apply(this, [e])
		},
		getMaxExtent : function () {
			return this.maxExtent = this.getMaxExtentForResolution(this.map.getResolution())
		},
		getTileOrigin : function () {
			var e = this.getMaxExtent();
			return new OpenLayers.LonLat(e.left, e.bottom)
		},
		getURL : function (e) {
			var t = this.getResolution(),
			n = this.tileOrigin.lon + t * this.tileSize.w / 2,
			r = this.tileOrigin.lat - t * this.tileSize.h / 2,
			e = e.getCenterLonLat(),
			n = Math.round(Math.abs((e.lon - n) / (t * this.tileSize.w))),
			r = Math.round(Math.abs((r - e.lat) / (t * this.tileSize.h))),
			e = this.map.getZoom();
			if (this.lods) {
				if (t = this.lods[this.map.getZoom()], n < t.startTileCol || n > t.endTileCol || r < t.startTileRow || r > t.endTileRow)
					return null
			} else {
				var i = this.getUpperLeftTileCoord(t),
				t = this.getLowerRightTileCoord(t);
				if (n < i.x || n >= t.x || r < i.y || r >= t.y)
					return null
			}
			return t = this.url,
			i = "" + n + r + e,
			OpenLayers.Util.isArray(t) && (t = this.selectUrl(i, t)),
			this.useArcGISServer ? t += "/tile/${z}/${y}/${x}" : (n = "C" + this.zeroPad(n, 8, 16), r = "R" + this.zeroPad(r, 8, 16), e = "L" + this.zeroPad(e, 2, 16), t = t + "/${z}/${y}/${x}." + this.type),
			t = OpenLayers.String.format(t, {
					x : n,
					y : r,
					z : e
				}),
			OpenLayers.Util.urlAppend(t, OpenLayers.Util.getParameterString(this.params))
		},
		zeroPad : function (e, t, n) {
			for (e = e.toString(n || 10); e.length < t; )
				e = "0" + e;
			return e
		},
		CLASS_NAME : "OpenLayers.Layer.ArcGISCache"
	}), OpenLayers.Control.WMSGetFeatureInfo = OpenLayers.Class(OpenLayers.Control, {
		hover : !1,
		drillDown : !1,
		maxFeatures : 10,
		clickCallback : "click",
		output : "features",
		layers : null,
		queryVisible : !1,
		url : null,
		layerUrls : null,
		infoFormat : "text/html",
		vendorParams : {},
		format : null,
		formatOptions : null,
		handlerOptions : null,
		handler : null,
		hoverRequest : null,
		initialize : function (e) {
			e = e || {},
			e.handlerOptions = e.handlerOptions || {},
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.format || (this.format = new OpenLayers.Format.WMSGetFeatureInfo(e.formatOptions)),
			!0 === this.drillDown && (this.hover = !1),
			this.hover ? this.handler = new OpenLayers.Handler.Hover(this, {
					move : this.cancelHover,
					pause : this.getInfoForHover
				}, OpenLayers.Util.extend(this.handlerOptions.hover || {}, {
						delay : 250
					})) : (e = {}, e[this.clickCallback] = this.getInfoForClick, this.handler = new OpenLayers.Handler.Click(this, e, this.handlerOptions.click || {}))
		},
		getInfoForClick : function (e) {
			this.events.triggerEvent("beforegetfeatureinfo", {
				xy : e.xy
			}),
			OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait"),
			this.request(e.xy, {})
		},
		getInfoForHover : function (e) {
			this.events.triggerEvent("beforegetfeatureinfo", {
				xy : e.xy
			}),
			this.request(e.xy, {
				hover : !0
			})
		},
		cancelHover : function () {
			this.hoverRequest && (this.hoverRequest.abort(), this.hoverRequest = null)
		},
		findLayers : function () {
			for (var e = this.layers || this.map.layers, t = [], n, r, i = e.length - 1; 0 <= i; --i)
				if (n = e[i], n instanceof OpenLayers.Layer.WMS && (!this.queryVisible || n.getVisibility()))
					r = OpenLayers.Util.isArray(n.url) ? n.url[0] : n.url, !1 === this.drillDown && !this.url && (this.url = r), (!0 === this.drillDown || this.urlMatches(r)) && t.push(n);
			return t
		},
		urlMatches : function (e) {
			var t = OpenLayers.Util.isEquivalentUrl(this.url, e);
			if (!t && this.layerUrls)
				for (var n = 0, r = this.layerUrls.length; n < r; ++n)
					if (OpenLayers.Util.isEquivalentUrl(this.layerUrls[n], e)) {
						t = !0;
						break
					}
			return t
		},
		buildWMSOptions : function (e, t, n, r) {
			for (var i = [], s = [], o = 0, u = t.length; o < u; o++)
				null != t[o].params.LAYERS && (i = i.concat(t[o].params.LAYERS), s = s.concat(this.getStyleNames(t[o])));
			return t = t[0],
			o = this.map.getProjection(),
			(u = t.projection) && u.equals(this.map.getProjectionObject()) && (o = u.getCode()),
			r = OpenLayers.Util.extend({
					service : "WMS",
					version : t.params.VERSION,
					request : "GetFeatureInfo",
					exceptions : t.params.EXCEPTIONS,
					bbox : this.map.getExtent().toBBOX(null, t.reverseAxisOrder()),
					feature_count : this.maxFeatures,
					height : this.map.getSize().h,
					width : this.map.getSize().w,
					format : r,
					info_format : t.params.INFO_FORMAT || this.infoFormat
				}, 1.3 <= parseFloat(t.params.VERSION) ? {
					crs : o,
					i : parseInt(n.x),
					j : parseInt(n.y)
				}
					 : {
					srs : o,
					x : parseInt(n.x),
					y : parseInt(n.y)
				}),
			0 != i.length && (r = OpenLayers.Util.extend({
						layers : i,
						query_layers : i,
						styles : s
					}, r)),
			OpenLayers.Util.applyDefaults(r, this.vendorParams), {
				url : e,
				params : OpenLayers.Util.upperCaseObject(r),
				callback : function (t) {
					this.handleResponse(n, t, e)
				},
				scope : this
			}
		},
		getStyleNames : function (e) {
			return e.params.STYLES ? e.params.STYLES : OpenLayers.Util.isArray(e.params.LAYERS) ? Array(e.params.LAYERS.length) : e.params.LAYERS.replace(/[^,]/g, "")
		},
		request : function (e, t) {
			var n = this.findLayers();
			if (0 == n.length)
				this.events.triggerEvent("nogetfeatureinfo"), OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait");
			else if (t = t || {}, !1 === this.drillDown) {
				var n = this.buildWMSOptions(this.url, n, e, n[0].params.FORMAT),
				r = OpenLayers.Request.GET(n);
				!0 === t.hover && (this.hoverRequest = r)
			} else {
				this._numRequests = this._requestCount = 0,
				this.features = [];
				for (var r = {}, i, s = 0, o = n.length; s < o; s++) {
					var u = n[s];
					i = OpenLayers.Util.isArray(u.url) ? u.url[0] : u.url,
					i in r ? r[i].push(u) : (this._numRequests++, r[i] = [u])
				}
				for (i in r)
					n = r[i], n = this.buildWMSOptions(i, n, e, n[0].params.FORMAT), OpenLayers.Request.GET(n)
			}
		},
		triggerGetFeatureInfo : function (e, t, n) {
			this.events.triggerEvent("getfeatureinfo", {
				text : e.responseText,
				features : n,
				request : e,
				xy : t
			}),
			OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait")
		},
		handleResponse : function (e, t, n) {
			var r = t.responseXML;
			if (!r || !r.documentElement)
				r = t.responseText;
			r = this.format.read(r),
			!1 === this.drillDown ? this.triggerGetFeatureInfo(t, e, r) : (this._requestCount++, this._features = "object" === this.output ? (this._features || []).concat({
						url : n,
						features : r
					}) : (this._features || []).concat(r), this._requestCount === this._numRequests && (this.triggerGetFeatureInfo(t, e, this._features.concat()), delete this._features, delete this._requestCount, delete this._numRequests))
		},
		CLASS_NAME : "OpenLayers.Control.WMSGetFeatureInfo"
	}), OpenLayers.Format.WMSCapabilities.v1_3_0 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_3, {
		version : "1.3.0",
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_3_0"
	}), OpenLayers.Format.SOSGetFeatureOfInterest = OpenLayers.Class(OpenLayers.Format.XML, {
		VERSION : "1.0.0",
		namespaces : {
			sos : "http://www.opengis.net/sos/1.0",
			gml : "http://www.opengis.net/gml",
			sa : "http://www.opengis.net/sampling/1.0",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		schemaLocation : "http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosAll.xsd",
		defaultPrefix : "sos",
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {
				features : []
			};
			this.readNode(e, t);
			for (var e = [], n = 0, r = t.features.length; n < r; n++) {
				var i = t.features[n];
				this.internalProjection && this.externalProjection && i.components[0] && i.components[0].transform(this.externalProjection, this.internalProjection),
				i = new OpenLayers.Feature.Vector(i.components[0], i.attributes),
				e.push(i)
			}
			return e
		},
		readers : {
			sa : {
				SamplingPoint : function (e, t) {
					if (!t.attributes) {
						var n = {
							attributes : {}

						};
						t.features.push(n),
						t = n
					}
					t.attributes.id = this.getAttributeNS(e, this.namespaces.gml, "id"),
					this.readChildNodes(e, t)
				},
				position : function (e, t) {
					this.readChildNodes(e, t)
				}
			},
			gml : OpenLayers.Util.applyDefaults({
				FeatureCollection : function (e, t) {
					this.readChildNodes(e, t)
				},
				featureMember : function (e, t) {
					var n = {
						attributes : {}

					};
					t.features.push(n),
					this.readChildNodes(e, n)
				},
				name : function (e, t) {
					t.attributes.name = this.getChildValue(e)
				},
				pos : function (e, t) {
					this.externalProjection || (this.externalProjection = new OpenLayers.Projection(e.getAttribute("srsName"))),
					OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this, [e, t])
				}
			}, OpenLayers.Format.GML.v3.prototype.readers.gml)
		},
		writers : {
			sos : {
				GetFeatureOfInterest : function (e) {
					for (var t = this.createElementNSPlus("GetFeatureOfInterest", {
								attributes : {
									version : this.VERSION,
									service : "SOS",
									"xsi:schemaLocation" : this.schemaLocation
								}
							}), n = 0, r = e.fois.length; n < r; n++)
						this.writeNode("FeatureOfInterestId", {
							foi : e.fois[n]
						}, t);
					return t
				},
				FeatureOfInterestId : function (e) {
					return this.createElementNSPlus("FeatureOfInterestId", {
						value : e.foi
					})
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.SOSGetFeatureOfInterest"
	}), OpenLayers.Format.SOSGetObservation = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			ows : "http://www.opengis.net/ows",
			gml : "http://www.opengis.net/gml",
			sos : "http://www.opengis.net/sos/1.0",
			ogc : "http://www.opengis.net/ogc",
			om : "http://www.opengis.net/om/1.0",
			sa : "http://www.opengis.net/sampling/1.0",
			xlink : "http://www.w3.org/1999/xlink",
			xsi : "http://www.w3.org/2001/XMLSchema-instance"
		},
		regExes : {
			trimSpace : /^\s*|\s*$/g,
			removeSpace : /\s*/g,
			splitSpace : /\s+/,
			trimComma : /\s*,\s*/g
		},
		VERSION : "1.0.0",
		schemaLocation : "http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosGetObservation.xsd",
		defaultPrefix : "sos",
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {
				measurements : [],
				observations : []
			};
			return this.readNode(e, t),
			t
		},
		write : function (e) {
			return e = this.writeNode("sos:GetObservation", e),
			e.setAttribute("xmlns:om", this.namespaces.om),
			e.setAttribute("xmlns:ogc", this.namespaces.ogc),
			this.setAttributeNS(e, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation),
			OpenLayers.Format.XML.prototype.write.apply(this, [e])
		},
		readers : {
			om : {
				ObservationCollection : function (e, t) {
					t.id = this.getAttributeNS(e, this.namespaces.gml, "id"),
					this.readChildNodes(e, t)
				},
				member : function (e, t) {
					this.readChildNodes(e, t)
				},
				Measurement : function (e, t) {
					var n = {};
					t.measurements.push(n),
					this.readChildNodes(e, n)
				},
				Observation : function (e, t) {
					var n = {};
					t.observations.push(n),
					this.readChildNodes(e, n)
				},
				samplingTime : function (e, t) {
					var n = {};
					t.samplingTime = n,
					this.readChildNodes(e, n)
				},
				observedProperty : function (e, t) {
					t.observedProperty = this.getAttributeNS(e, this.namespaces.xlink, "href"),
					this.readChildNodes(e, t)
				},
				procedure : function (e, t) {
					t.procedure = this.getAttributeNS(e, this.namespaces.xlink, "href"),
					this.readChildNodes(e, t)
				},
				featureOfInterest : function (e, t) {
					var n = {
						features : []
					};
					t.fois = [],
					t.fois.push(n),
					this.readChildNodes(e, n);
					for (var r = [], i = 0, s = n.features.length; i < s; i++) {
						var o = n.features[i];
						r.push(new OpenLayers.Feature.Vector(o.components[0], o.attributes))
					}
					n.features = r
				},
				result : function (e, t) {
					var n = {};
					t.result = n,
					"" !== this.getChildValue(e) ? (n.value = this.getChildValue(e), n.uom = e.getAttribute("uom")) : this.readChildNodes(e, n)
				}
			},
			sa : OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.sa,
			gml : OpenLayers.Util.applyDefaults({
				TimeInstant : function (e, t) {
					var n = {};
					t.timeInstant = n,
					this.readChildNodes(e, n)
				},
				timePosition : function (e, t) {
					t.timePosition = this.getChildValue(e)
				}
			}, OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.gml)
		},
		writers : {
			sos : {
				GetObservation : function (e) {
					var t = this.createElementNSPlus("GetObservation", {
							attributes : {
								version : this.VERSION,
								service : "SOS"
							}
						});
					this.writeNode("offering", e, t),
					e.eventTime && this.writeNode("eventTime", e, t);
					for (var n in e.procedures)
						this.writeNode("procedure", e.procedures[n], t);
					for (var r in e.observedProperties)
						this.writeNode("observedProperty", e.observedProperties[r], t);
					return e.foi && this.writeNode("featureOfInterest", e.foi, t),
					this.writeNode("responseFormat", e, t),
					e.resultModel && this.writeNode("resultModel", e, t),
					e.responseMode && this.writeNode("responseMode", e, t),
					t
				},
				featureOfInterest : function (e) {
					var t = this.createElementNSPlus("featureOfInterest");
					return this.writeNode("ObjectID", e.objectId, t),
					t
				},
				ObjectID : function (e) {
					return this.createElementNSPlus("ObjectID", {
						value : e
					})
				},
				responseFormat : function (e) {
					return this.createElementNSPlus("responseFormat", {
						value : e.responseFormat
					})
				},
				procedure : function (e) {
					return this.createElementNSPlus("procedure", {
						value : e
					})
				},
				offering : function (e) {
					return this.createElementNSPlus("offering", {
						value : e.offering
					})
				},
				observedProperty : function (e) {
					return this.createElementNSPlus("observedProperty", {
						value : e
					})
				},
				eventTime : function (e) {
					var t = this.createElementNSPlus("eventTime");
					return "latest" === e.eventTime && this.writeNode("ogc:TM_Equals", e, t),
					t
				},
				resultModel : function (e) {
					return this.createElementNSPlus("resultModel", {
						value : e.resultModel
					})
				},
				responseMode : function (e) {
					return this.createElementNSPlus("responseMode", {
						value : e.responseMode
					})
				}
			},
			ogc : {
				TM_Equals : function (e) {
					var t = this.createElementNSPlus("ogc:TM_Equals");
					return this.writeNode("ogc:PropertyName", {
						property : "urn:ogc:data:time:iso8601"
					}, t),
					"latest" === e.eventTime && this.writeNode("gml:TimeInstant", {
						value : "latest"
					}, t),
					t
				},
				PropertyName : function (e) {
					return this.createElementNSPlus("ogc:PropertyName", {
						value : e.property
					})
				}
			},
			gml : {
				TimeInstant : function (e) {
					var t = this.createElementNSPlus("gml:TimeInstant");
					return this.writeNode("gml:timePosition", e, t),
					t
				},
				timePosition : function (e) {
					return this.createElementNSPlus("gml:timePosition", {
						value : e.value
					})
				}
			}
		},
		CLASS_NAME : "OpenLayers.Format.SOSGetObservation"
	}), OpenLayers.Control.UTFGrid = OpenLayers.Class(OpenLayers.Control, {
		autoActivate : !0,
		layers : null,
		defaultHandlerOptions : {
			delay : 300,
			pixelTolerance : 4,
			stopMove : !1,
			single : !0,
			"double" : !1,
			stopSingle : !1,
			stopDouble : !1
		},
		handlerMode : "click",
		setHandler : function (e) {
			this.handlerMode = e,
			this.resetHandler()
		},
		resetHandler : function () {
			return this.handler && (this.handler.deactivate(), this.handler.destroy(), this.handler = null),
			"hover" == this.handlerMode ? this.handler = new OpenLayers.Handler.Hover(this, {
					pause : this.handleEvent,
					move : this.reset
				}, this.handlerOptions) : "click" == this.handlerMode ? this.handler = new OpenLayers.Handler.Click(this, {
					click : this.handleEvent
				}, this.handlerOptions) : "move" == this.handlerMode && (this.handler = new OpenLayers.Handler.Hover(this, {
							pause : this.handleEvent,
							move : this.handleEvent
						}, this.handlerOptions)),
			this.handler ? !0 : !1
		},
		initialize : function (e) {
			e = e || {},
			e.handlerOptions = e.handlerOptions || this.defaultHandlerOptions,
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.resetHandler()
		},
		handleEvent : function (e) {
			if (null == e)
				this.reset();
			else {
				var t = this.map.getLonLatFromPixel(e.xy);
				if (t) {
					var n = this.findLayers();
					if (0 < n.length) {
						for (var r = {}, i, s, o = 0, u = n.length; o < u; o++)
							i = n[o], s = OpenLayers.Util.indexOf(this.map.layers, i), r[s] = i.getFeatureInfo(t);
						this.callback(r, t, e.xy)
					}
				}
			}
		},
		callback : function () {},
		reset : function () {
			this.callback(null)
		},
		findLayers : function () {
			for (var e = this.layers || this.map.layers, t = [], n, r = e.length - 1; 0 <= r; --r)
				n = e[r], n instanceof OpenLayers.Layer.UTFGrid && t.push(n);
			return t
		},
		CLASS_NAME : "OpenLayers.Control.UTFGrid"
	}), OpenLayers.Format.CQL = function () {
	function e(e) {
		function t() {
			var e = i.pop();
			switch (e.type) {
			case "LOGICAL":
				var n = t(),
				o = t();
				return new OpenLayers.Filter.Logical({
					filters : [o, n],
					type : s[e.text.toUpperCase()]
				});
			case "NOT":
				return n = t(),
				new OpenLayers.Filter.Logical({
					filters : [n],
					type : OpenLayers.Filter.Logical.NOT
				});
			case "BETWEEN":
				return i.pop(),
				o = t(),
				e = t(),
				n = t(),
				new OpenLayers.Filter.Comparison({
					property : n,
					lowerBoundary : e,
					upperBoundary : o,
					type : OpenLayers.Filter.Comparison.BETWEEN
				});
			case "COMPARISON":
				return o = t(),
				n = t(),
				new OpenLayers.Filter.Comparison({
					property : n,
					value : o,
					type : r[e.text.toUpperCase()]
				});
			case "VALUE":
				return /^'.*'$/.test(e.text) ? e.text.substr(1, e.text.length - 2) : Number(e.text);
			case "SPATIAL":
				switch (e.text.toUpperCase()) {
				case "BBOX":
					var n = t(),
					e = t(),
					o = t(),
					u = t(),
					a = t();
					return new OpenLayers.Filter.Spatial({
						type : OpenLayers.Filter.Spatial.BBOX,
						property : a,
						value : OpenLayers.Bounds.fromArray([u, o, e, n])
					});
				case "INTERSECTS":
					return o = t(),
					n = t(),
					new OpenLayers.Filter.Spatial({
						type : OpenLayers.Filter.Spatial.INTERSECTS,
						property : n,
						value : o
					});
				case "WITHIN":
					return o = t(),
					n = t(),
					new OpenLayers.Filter.Spatial({
						type : OpenLayers.Filter.Spatial.WITHIN,
						property : n,
						value : o
					});
				case "CONTAINS":
					return o = t(),
					n = t(),
					new OpenLayers.Filter.Spatial({
						type : OpenLayers.Filter.Spatial.CONTAINS,
						property : n,
						value : o
					});
				case "DWITHIN":
					return e = t(),
					o = t(),
					n = t(),
					new OpenLayers.Filter.Spatial({
						type : OpenLayers.Filter.Spatial.DWITHIN,
						value : o,
						property : n,
						distance : Number(e)
					})
				};
			case "GEOMETRY":
				return OpenLayers.Geometry.fromWKT(e.text);
			default:
				return e.text
			}
		}
		for (var n = [], i = []; e.length; ) {
			var o = e.shift();
			switch (o.type) {
			case "PROPERTY":
			case "GEOMETRY":
			case "VALUE":
				i.push(o);
				break;
			case "COMPARISON":
			case "BETWEEN":
			case "LOGICAL":
				for (var a = u[o.type]; 0 < n.length && u[n[n.length - 1].type] <= a; )
					i.push(n.pop());
				n.push(o);
				break;
			case "SPATIAL":
			case "NOT":
			case "LPAREN":
				n.push(o);
				break;
			case "RPAREN":
				for (; 0 < n.length && "LPAREN" != n[n.length - 1].type; )
					i.push(n.pop());
				n.pop(),
				0 < n.length && "SPATIAL" == n[n.length - 1].type && i.push(n.pop());
			case "COMMA":
			case "END":
				break;
			default:
				throw Error("Unknown token type " + o.type)
			}
		}
		for (; 0 < n.length; )
			i.push(n.pop());
		e = t();
		if (0 < i.length) {
			e = "Remaining tokens after building AST: \n";
			for (n = i.length - 1; 0 <= n; n--)
				e += i[n].type + ": " + i[n].text + "\n";
			throw Error(e)
		}
		return e
	}
	var t = {
		PROPERTY : /^[_a-zA-Z]\w*/,
		COMPARISON : /^(=|<>|<=|<|>=|>|LIKE)/i,
		COMMA : /^,/,
		LOGICAL : /^(AND|OR)/i,
		VALUE : /^('\w+'|\d+(\.\d*)?|\.\d+)/,
		LPAREN : /^\(/,
		RPAREN : /^\)/,
		SPATIAL : /^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,
		NOT : /^NOT/i,
		BETWEEN : /^BETWEEN/i,
		GEOMETRY : function (e) {
			var t = /^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);
			if (t) {
				var n = e.length,
				t = e.indexOf("(", t[0].length);
				if (-1 < t)
					for (var r = 1; t < n && 0 < r; )
						switch (t++, e.charAt(t)) {
						case "(":
							r++;
							break;
						case ")":
							r--
						}
				return [e.substr(0, t + 1)]
			}
		},
		END : /^$/
	},
	n = {
		LPAREN : ["GEOMETRY", "SPATIAL", "PROPERTY", "VALUE", "LPAREN"],
		RPAREN : ["NOT", "LOGICAL", "END", "RPAREN"],
		PROPERTY : ["COMPARISON", "BETWEEN", "COMMA"],
		BETWEEN : ["VALUE"],
		COMPARISON : ["VALUE"],
		COMMA : ["GEOMETRY", "VALUE", "PROPERTY"],
		VALUE : ["LOGICAL", "COMMA", "RPAREN", "END"],
		SPATIAL : ["LPAREN"],
		LOGICAL : ["NOT", "VALUE", "SPATIAL", "PROPERTY", "LPAREN"],
		NOT : ["PROPERTY", "LPAREN"],
		GEOMETRY : ["COMMA", "RPAREN"]
	},
	r = {
		"=" : OpenLayers.Filter.Comparison.EQUAL_TO,
		"<>" : OpenLayers.Filter.Comparison.NOT_EQUAL_TO,
		"<" : OpenLayers.Filter.Comparison.LESS_THAN,
		"<=" : OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO,
		">" : OpenLayers.Filter.Comparison.GREATER_THAN,
		">=" : OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,
		LIKE : OpenLayers.Filter.Comparison.LIKE,
		BETWEEN : OpenLayers.Filter.Comparison.BETWEEN
	},
	i = {},
	s = {
		AND : OpenLayers.Filter.Logical.AND,
		OR : OpenLayers.Filter.Logical.OR
	},
	o = {},
	u = {
		RPAREN : 3,
		LOGICAL : 2,
		COMPARISON : 1
	},
	a;
	for (a in r)
		r.hasOwnProperty(a) && (i[r[a]] = a);
	for (a in s)
		s.hasOwnProperty(a) && (o[s[a]] = a);
	return OpenLayers.Class(OpenLayers.Format, {
		read : function (r) {
			var i = r,
			r = [],
			s,
			o = ["NOT", "GEOMETRY", "SPATIAL", "PROPERTY", "LPAREN"];
			do {
				e : {
					s = o;
					for (var u = void 0, o = void 0, a = s.length, u = 0; u < a; u++) {
						var o = s[u],
						f = t[o]instanceof RegExp ? t[o].exec(i) : (0, t[o])(i);
						if (f) {
							s = f[0],
							i = i.substr(s.length).replace(/^\s*/, ""),
							s = {
								type : o,
								text : s,
								remainder : i
							};
							break e
						}
					}
					r = "ERROR: In parsing: [" + i + "], expected one of: ";
					for (u = 0; u < a; u++)
						o = s[u], r += "\n    " + o + ": " + t[o];
					throw Error(r)
				}
				i = s.remainder,
				o = n[s.type];
				if ("END" != s.type && !o)
					throw Error("No follows list for " + s.type);
				r.push(s)
			} while ("END" != s.type);
			return r = e(r),
			this.keepData && (this.data = r),
			r
		},
		write : function (e) {
			if (e instanceof OpenLayers.Geometry)
				return e.toString();
			switch (e.CLASS_NAME) {
			case "OpenLayers.Filter.Spatial":
				switch (e.type) {
				case OpenLayers.Filter.Spatial.BBOX:
					return "BBOX(" + e.property + "," + e.value.toBBOX() + ")";
				case OpenLayers.Filter.Spatial.DWITHIN:
					return "DWITHIN(" + e.property + ", " + this.write(e.value) + ", " + e.distance + ")";
				case OpenLayers.Filter.Spatial.WITHIN:
					return "WITHIN(" + e.property + ", " + this.write(e.value) + ")";
				case OpenLayers.Filter.Spatial.INTERSECTS:
					return "INTERSECTS(" + e.property + ", " + this.write(e.value) + ")";
				case OpenLayers.Filter.Spatial.CONTAINS:
					return "CONTAINS(" + e.property + ", " + this.write(e.value) + ")";
				default:
					throw Error("Unknown spatial filter type: " + e.type)
				};
			case "OpenLayers.Filter.Logical":
				if (e.type == OpenLayers.Filter.Logical.NOT)
					return "NOT (" + this.write(e.filters[0]) + ")";
				for (var t = "(", n = !0, r = 0; r < e.filters.length; r++)
					n ? n = !1 : t += ") " + o[e.type] + " (", t += this.write(e.filters[r]);
				return t + ")";
			case "OpenLayers.Filter.Comparison":
				return e.type == OpenLayers.Filter.Comparison.BETWEEN ? e.property + " BETWEEN " + this.write(e.lowerBoundary) + " AND " + this.write(e.upperBoundary) : e.property + " " + i[e.type] + " " + this.write(e.value);
			case void 0:
				if ("string" == typeof e)
					return "'" + e + "'";
				if ("number" == typeof e)
					return "" + e;
			default:
				throw Error("Can't encode: " + e.CLASS_NAME + " " + e)
			}
		},
		CLASS_NAME : "OpenLayers.Format.CQL"
	})
}
(), OpenLayers.Control.Split = OpenLayers.Class(OpenLayers.Control, {
		layer : null,
		source : null,
		sourceOptions : null,
		tolerance : null,
		edge : !0,
		deferDelete : !1,
		mutual : !0,
		targetFilter : null,
		sourceFilter : null,
		handler : null,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, [e]),
			this.options = e || {},
			this.options.source && this.setSource(this.options.source)
		},
		setSource : function (e) {
			this.active ? (this.deactivate(), this.handler && (this.handler.destroy(), delete this.handler), this.source = e, this.activate()) : this.source = e
		},
		activate : function () {
			var e = OpenLayers.Control.prototype.activate.call(this);
			return e && (this.source ? this.source.events && this.source.events.on({
					sketchcomplete : this.onSketchComplete,
					afterfeaturemodified : this.afterFeatureModified,
					scope : this
				}) : (this.handler || (this.handler = new OpenLayers.Handler.Path(this, {
								done : function (e) {
									this.onSketchComplete({
										feature : new OpenLayers.Feature.Vector(e)
									})
								}
							}, {
								layerOptions : this.sourceOptions
							})), this.handler.activate())),
			e
		},
		deactivate : function () {
			var e = OpenLayers.Control.prototype.deactivate.call(this);
			return e && this.source && this.source.events && this.layer.events.un({
				sketchcomplete : this.onSketchComplete,
				afterfeaturemodified : this.afterFeatureModified,
				scope : this
			}),
			e
		},
		onSketchComplete : function (e) {
			return this.feature = null,
			!this.considerSplit(e.feature)
		},
		afterFeatureModified : function (e) {
			e.modified && "function" == typeof e.feature.geometry.split && (this.feature = e.feature, this.considerSplit(e.feature))
		},
		removeByGeometry : function (e, t) {
			for (var n = 0, r = e.length; n < r; ++n)
				if (e[n].geometry === t) {
					e.splice(n, 1);
					break
				}
		},
		isEligible : function (e) {
			return e.geometry ? e.state !== OpenLayers.State.DELETE && "function" == typeof e.geometry.split && this.feature !== e && (!this.targetFilter || this.targetFilter.evaluate(e.attributes)) : !1
		},
		considerSplit : function (e) {
			var t = !1,
			n = !1;
			if (!this.sourceFilter || this.sourceFilter.evaluate(e.attributes)) {
				for (var r = this.layer && this.layer.features || [], i, s, o = [], u = [], a = this.layer === this.source && this.mutual, f = {
						edge : this.edge,
						tolerance : this.tolerance,
						mutual : a
					}, l = [e.geometry], c, h, p, d = 0, v = r.length; d < v; ++d)
					if (c = r[d], this.isEligible(c)) {
						h = [c.geometry];
						for (var m = 0; m < l.length; ++m) {
							p = l[m];
							for (var g = 0; g < h.length; ++g)
								if (i = h[g], p.getBounds().intersectsBounds(i.getBounds()) && (i = p.split(i, f)))
									if (s = this.events.triggerEvent("beforesplit", {
												source : e,
												target : c
											}), !1 !== s && (a && (s = i[0], 1 < s.length && (s.unshift(m, 1), Array.prototype.splice.apply(l, s), m += s.length - 3), i = i[1]), 1 < i.length))
										i.unshift(g, 1), Array.prototype.splice.apply(h, i), g += i.length - 3
						}
						h && 1 < h.length && (this.geomsToFeatures(c, h), this.events.triggerEvent("split", {
								original : c,
								features : h
							}), Array.prototype.push.apply(o, h), u.push(c), n = !0)
					}
				l && 1 < l.length && (this.geomsToFeatures(e, l), this.events.triggerEvent("split", {
						original : e,
						features : l
					}), Array.prototype.push.apply(o, l), u.push(e), t = !0);
				if (t || n) {
					if (this.deferDelete) {
						r = [],
						d = 0;
						for (v = u.length; d < v; ++d)
							n = u[d], n.state === OpenLayers.State.INSERT ? r.push(n) : (n.state = OpenLayers.State.DELETE, this.layer.drawFeature(n));
						this.layer.destroyFeatures(r, {
							silent : !0
						}),
						d = 0;
						for (v = o.length; d < v; ++d)
							o[d].state = OpenLayers.State.INSERT
					} else
						this.layer.destroyFeatures(u, {
							silent : !0
						});
					this.layer.addFeatures(o, {
						silent : !0
					}),
					this.events.triggerEvent("aftersplit", {
						source : e,
						features : o
					})
				}
			}
			return t
		},
		geomsToFeatures : function (e, t) {
			var n = e.clone();
			delete n.geometry;
			for (var r, i = 0, s = t.length; i < s; ++i)
				r = n.clone(), r.geometry = t[i], r.state = OpenLayers.State.INSERT, t[i] = r
		},
		destroy : function () {
			this.active && this.deactivate(),
			OpenLayers.Control.prototype.destroy.call(this)
		},
		CLASS_NAME : "OpenLayers.Control.Split"
	}), OpenLayers.Layer.WMTS = OpenLayers.Class(OpenLayers.Layer.Grid, {
		isBaseLayer : !0,
		version : "1.0.0",
		requestEncoding : "KVP",
		url : null,
		layer : null,
		matrixSet : null,
		style : null,
		format : "image/jpeg",
		tileOrigin : null,
		tileFullExtent : null,
		formatSuffix : null,
		matrixIds : null,
		dimensions : null,
		params : null,
		zoomOffset : 0,
		serverResolutions : null,
		formatSuffixMap : {
			"image/png" : "png",
			"image/png8" : "png",
			"image/png24" : "png",
			"image/png32" : "png",
			png : "png",
			"image/jpeg" : "jpg",
			"image/jpg" : "jpg",
			jpeg : "jpg",
			jpg : "jpg"
		},
		matrix : null,
		initialize : function (e) {
			var t = {
				url : !0,
				layer : !0,
				style : !0,
				matrixSet : !0
			},
			n;
			for (n in t)
				if (!(n in e))
					throw Error("Missing property '" + n + "' in layer configuration.");
			e.params = OpenLayers.Util.upperCaseObject(e.params),
			OpenLayers.Layer.Grid.prototype.initialize.apply(this, [e.name, e.url, e.params, e]),
			this.formatSuffix || (this.formatSuffix = this.formatSuffixMap[this.format] || this.format.split("/").pop());
			if (this.matrixIds && (e = this.matrixIds.length) && "string" == typeof this.matrixIds[0]) {
				t = this.matrixIds,
				this.matrixIds = Array(e);
				for (n = 0; n < e; ++n)
					this.matrixIds[n] = {
						identifier : t[n]
					}
			}
		},
		setMap : function () {
			OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments),
			this.updateMatrixProperties()
		},
		updateMatrixProperties : function () {
			if (this.matrix = this.getMatrix())
				if (this.matrix.topLeftCorner && (this.tileOrigin = this.matrix.topLeftCorner), this.matrix.tileWidth && this.matrix.tileHeight && (this.tileSize = new OpenLayers.Size(this.matrix.tileWidth, this.matrix.tileHeight)), this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.maxExtent.left, this.maxExtent.top)), !this.tileFullExtent)
					this.tileFullExtent = this.maxExtent
		},
		moveTo : function (e, t, n) {
			return (t || !this.matrix) && this.updateMatrixProperties(),
			OpenLayers.Layer.Grid.prototype.moveTo.apply(this, arguments)
		},
		clone : function (e) {
			return null == e && (e = new OpenLayers.Layer.WMTS(this.options)),
			e = OpenLayers.Layer.Grid.prototype.clone.apply(this, [e])
		},
		getIdentifier : function () {
			return this.getServerZoom()
		},
		getMatrix : function () {
			var e;
			if (!this.matrixIds || 0 === this.matrixIds.length)
				e = {
					identifier : this.getIdentifier()
				};
			else if ("scaleDenominator" in this.matrixIds[0])
				for (var t = OpenLayers.METERS_PER_INCH * OpenLayers.INCHES_PER_UNIT[this.units] * this.getServerResolution() / 28e-5, n = Number.POSITIVE_INFINITY, r, i = 0, s = this.matrixIds.length; i < s; ++i)
					r = Math.abs(1 - this.matrixIds[i].scaleDenominator / t), r < n && (n = r, e = this.matrixIds[i]);
			else
				e = this.matrixIds[this.getIdentifier()];
			return e
		},
		getTileInfo : function (e) {
			var t = this.getServerResolution(),
			n = (e.lon - this.tileOrigin.lon) / (t * this.tileSize.w),
			e = (this.tileOrigin.lat - e.lat) / (t * this.tileSize.h),
			t = Math.floor(n),
			r = Math.floor(e);
			return {
				col : t,
				row : r,
				i : Math.floor((n - t) * this.tileSize.w),
				j : Math.floor((e - r) * this.tileSize.h)
			}
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = "";
			if (!this.tileFullExtent || this.tileFullExtent.intersectsBounds(e)) {
				var n = this.getTileInfo(e.getCenterLonLat()),
				e = this.dimensions;
				if ("REST" === this.requestEncoding.toUpperCase())
					if (t = this.params, "string" == typeof this.url && -1 !== this.url.indexOf("{")) {
						var r = this.url.replace(/\{/g, "${"),
						n = {
							style : this.style,
							Style : this.style,
							TileMatrixSet : this.matrixSet,
							TileMatrix : this.matrix.identifier,
							TileRow : n.row,
							TileCol : n.col
						};
						if (e) {
							var i,
							s;
							for (s = e.length - 1; 0 <= s; --s)
								i = e[s], n[i] = t[i.toUpperCase()]
						}
						t = OpenLayers.String.format(r, n)
					} else {
						r = this.version + "/" + this.layer + "/" + this.style + "/";
						if (e)
							for (s = 0; s < e.length; s++)
								t[e[s]] && (r = r + t[e[s]] + "/");
						r = r + this.matrixSet + "/" + this.matrix.identifier + "/" + n.row + "/" + n.col + "." + this.formatSuffix,
						t = OpenLayers.Util.isArray(this.url) ? this.selectUrl(r, this.url) : this.url,
						t.match(/\/$/) || (t += "/"),
						t += r
					}
				else
					"KVP" === this.requestEncoding.toUpperCase() && (t = {
							SERVICE : "WMTS",
							REQUEST : "GetTile",
							VERSION : this.version,
							LAYER : this.layer,
							STYLE : this.style,
							TILEMATRIXSET : this.matrixSet,
							TILEMATRIX : this.matrix.identifier,
							TILEROW : n.row,
							TILECOL : n.col,
							FORMAT : this.format
						}, t = OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this, [t]))
			}
			return t
		},
		mergeNewParams : function (e) {
			if ("KVP" === this.requestEncoding.toUpperCase())
				return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, [OpenLayers.Util.upperCaseObject(e)])
		},
		CLASS_NAME : "OpenLayers.Layer.WMTS"
	}), OpenLayers.Protocol.SOS.v1_0_0 = OpenLayers.Class(OpenLayers.Protocol, {
		fois : null,
		formatOptions : null,
		initialize : function (e) {
			OpenLayers.Protocol.prototype.initialize.apply(this, [e]),
			e.format || (this.format = new OpenLayers.Format.SOSGetFeatureOfInterest(this.formatOptions))
		},
		destroy : function () {
			this.options && !this.options.format && this.format.destroy(),
			this.format = null,
			OpenLayers.Protocol.prototype.destroy.apply(this)
		},
		read : function (e) {
			e = OpenLayers.Util.extend({}, e),
			OpenLayers.Util.applyDefaults(e, this.options || {});
			var t = new OpenLayers.Protocol.Response({
					requestType : "read"
				}),
			n = this.format,
			n = OpenLayers.Format.XML.prototype.write.apply(n, [n.writeNode("sos:GetFeatureOfInterest", {
							fois : this.fois
						})]);
			return t.priv = OpenLayers.Request.POST({
					url : e.url,
					callback : this.createCallback(this.handleRead, t, e),
					data : n
				}),
			t
		},
		handleRead : function (e, t) {
			if (t.callback) {
				var n = e.priv;
				200 <= n.status && 300 > n.status ? (e.features = this.parseFeatures(n), e.code = OpenLayers.Protocol.Response.SUCCESS) : e.code = OpenLayers.Protocol.Response.FAILURE,
				t.callback.call(t.scope, e)
			}
		},
		parseFeatures : function (e) {
			var t = e.responseXML;
			if (!t || !t.documentElement)
				t = e.responseText;
			return !t || 0 >= t.length ? null : this.format.read(t)
		},
		CLASS_NAME : "OpenLayers.Protocol.SOS.v1_0_0"
	}), OpenLayers.Layer.KaMapCache = OpenLayers.Class(OpenLayers.Layer.KaMap, {
		IMAGE_EXTENSIONS : {
			jpeg : "jpg",
			gif : "gif",
			png : "png",
			png8 : "png",
			png24 : "png",
			dithered : "png"
		},
		DEFAULT_FORMAT : "jpeg",
		initialize : function (e, t, n, r) {
			OpenLayers.Layer.KaMap.prototype.initialize.apply(this, arguments),
			this.extension = this.IMAGE_EXTENSIONS[this.params.i.toLowerCase() || this.DEFAULT_FORMAT]
		},
		getURL : function (e) {
			var e = this.adjustBounds(e),
			t = this.map.getResolution(),
			n = Math.round(1e4 * this.map.getScale()) / 1e4,
			r = Math.round(e.left / t),
			e = -Math.round(e.top / t),
			t = Math.floor(r / this.tileSize.w / this.params.metaTileSize.w) * this.tileSize.w * this.params.metaTileSize.w,
			i = Math.floor(e / this.tileSize.h / this.params.metaTileSize.h) * this.tileSize.h * this.params.metaTileSize.h,
			n = ["/", this.params.map, "/", n, "/", this.params.g.replace(/\s/g, "_"), "/def/t", i, "/l", t, "/t", e, "l", r, ".", this.extension],
			r = this.url;
			return OpenLayers.Util.isArray(r) && (r = this.selectUrl(n.join(""), r)),
			r + n.join("")
		},
		CLASS_NAME : "OpenLayers.Layer.KaMapCache"
	}), OpenLayers.Protocol.WFS.v1_1_0 = OpenLayers.Class(OpenLayers.Protocol.WFS.v1, {
		version : "1.1.0",
		initialize : function (e) {
			OpenLayers.Protocol.WFS.v1.prototype.initialize.apply(this, arguments),
			this.outputFormat && !this.readFormat && ("gml2" == this.outputFormat.toLowerCase() ? this.readFormat = new OpenLayers.Format.GML.v2({
						featureType : this.featureType,
						featureNS : this.featureNS,
						geometryName : this.geometryName
					}) : "json" == this.outputFormat.toLowerCase() && (this.readFormat = new OpenLayers.Format.GeoJSON))
		},
		CLASS_NAME : "OpenLayers.Protocol.WFS.v1_1_0"
	}), OpenLayers.Format.WMSCapabilities.v1_1_1 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1, {
		version : "1.1.1",
		readers : {
			wms : OpenLayers.Util.applyDefaults({
				SRS : function (e, t) {
					t.srs[this.getChildValue(e)] = !0
				}
			}, OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_1_1"
	}), OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1_1, {
		version : "1.1.1",
		profile : "WMSC",
		readers : {
			wms : OpenLayers.Util.applyDefaults({
				VendorSpecificCapabilities : function (e, t) {
					t.vendorSpecific = {
						tileSets : []
					},
					this.readChildNodes(e, t.vendorSpecific)
				},
				TileSet : function (e, t) {
					var n = {
						srs : {},
						bbox : {},
						resolutions : []
					};
					this.readChildNodes(e, n),
					t.tileSets.push(n)
				},
				Resolutions : function (e, t) {
					for (var n = this.getChildValue(e).split(" "), r = 0, i = n.length; r < i; r++)
						"" != n[r] && t.resolutions.push(parseFloat(n[r]))
				},
				Width : function (e, t) {
					t.width = parseInt(this.getChildValue(e))
				},
				Height : function (e, t) {
					t.height = parseInt(this.getChildValue(e))
				},
				Layers : function (e, t) {
					t.layers = this.getChildValue(e)
				},
				Styles : function (e, t) {
					t.styles = this.getChildValue(e)
				}
			}, OpenLayers.Format.WMSCapabilities.v1_1_1.prototype.readers.wms)
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC"
	}), OpenLayers.Format.WMSCapabilities.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1, {
		version : "1.1.0",
		readers : {
			wms : OpenLayers.Util.applyDefaults({
				SRS : function (e, t) {
					for (var n = this.getChildValue(e).split(/ +/), r = 0, i = n.length; r < i; r++)
						t.srs[n[r]] = !0
				}
			}, OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)
		},
		CLASS_NAME : "OpenLayers.Format.WMSCapabilities.v1_1_0"
	}), OpenLayers.Control.LayerSwitcher = OpenLayers.Class(OpenLayers.Control, {
		roundedCorner : !1,
		roundedCornerColor : "darkblue",
		layerStates : null,
		layersDiv : null,
		baseLayersDiv : null,
		baseLayers : null,
		dataLbl : null,
		dataLayersDiv : null,
		dataLayers : null,
		minimizeDiv : null,
		maximizeDiv : null,
		ascending : !0,
		initialize : function (e) {
			OpenLayers.Control.prototype.initialize.apply(this, arguments),
			this.layerStates = [],
			this.roundedCorner && OpenLayers.Console.warn("roundedCorner option is deprecated")
		},
		destroy : function () {
			this.clearLayersArray("base"),
			this.clearLayersArray("data"),
			this.map.events.un({
				buttonclick : this.onButtonClick,
				addlayer : this.redraw,
				changelayer : this.redraw,
				removelayer : this.redraw,
				changebaselayer : this.redraw,
				scope : this
			}),
			this.events.unregister("buttonclick", this, this.onButtonClick),
			OpenLayers.Control.prototype.destroy.apply(this, arguments)
		},
		setMap : function (e) {
			OpenLayers.Control.prototype.setMap.apply(this, arguments),
			this.map.events.on({
				addlayer : this.redraw,
				changelayer : this.redraw,
				removelayer : this.redraw,
				changebaselayer : this.redraw,
				scope : this
			}),
			this.outsideViewport ? (this.events.attachToElement(this.div), this.events.register("buttonclick", this, this.onButtonClick)) : this.map.events.register("buttonclick", this, this.onButtonClick)
		},
		draw : function () {
			return OpenLayers.Control.prototype.draw.apply(this),
			this.loadContents(),
			this.outsideViewport || this.minimizeControl(),
			this.redraw(),
			this.div
		},
		onButtonClick : function (e) {
			e = e.buttonElement,
			e === this.minimizeDiv ? this.minimizeControl() : e === this.maximizeDiv ? this.maximizeControl() : e._layerSwitcher === this.id && (e["for"] && (e = document.getElementById(e["for"])), e.disabled || ("radio" == e.type ? (e.checked = !0, this.map.setBaseLayer(this.map.getLayer(e._layer))) : (e.checked = !e.checked, this.updateMap())))
		},
		clearLayersArray : function (e) {
			this[e + "LayersDiv"].innerHTML = "",
			this[e + "Layers"] = []
		},
		checkRedraw : function () {
			var e = !1;
			if (!this.layerStates.length || this.map.layers.length != this.layerStates.length)
				e = !0;
			else
				for (var t = 0, n = this.layerStates.length; t < n; t++) {
					var r = this.layerStates[t],
					i = this.map.layers[t];
					if (r.name != i.name || r.inRange != i.inRange || r.id != i.id || r.visibility != i.visibility) {
						e = !0;
						break
					}
				}
			return e
		},
		redraw : function () {
			if (!this.checkRedraw())
				return this.div;
			this.clearLayersArray("base"),
			this.clearLayersArray("data");
			var e = !1,
			t = !1,
			n = this.map.layers.length;
			this.layerStates = Array(n);
			for (var r = 0; r < n; r++) {
				var i = this.map.layers[r];
				this.layerStates[r] = {
					name : i.name,
					visibility : i.visibility,
					inRange : i.inRange,
					id : i.id
				}
			}
			var s = this.map.layers.slice();
			this.ascending || s.reverse(),
			r = 0;
			for (n = s.length; r < n; r++) {
				var i = s[r],
				o = i.isBaseLayer;
				if (i.displayInLayerSwitcher) {
					o ? t = !0 : e = !0;
					var u = o ? i == this.map.baseLayer : i.getVisibility(),
					a = document.createElement("input");
					a.id = this.id + "_input_" + i.name,
					a.name = o ? this.id + "_baseLayers" : i.name,
					a.type = o ? "radio" : "checkbox",
					a.value = i.name,
					a.checked = u,
					a.defaultChecked = u,
					a.className = "olButton",
					a._layer = i.id,
					a._layerSwitcher = this.id,
					!o && !i.inRange && (a.disabled = !0),
					u = document.createElement("label"),
					u["for"] = a.id,
					OpenLayers.Element.addClass(u, "labelSpan olButton"),
					u._layer = i.id,
					u._layerSwitcher = this.id,
					!o && !i.inRange && (u.style.color = "gray"),
					u.innerHTML = i.name,
					u.style.verticalAlign = o ? "bottom" : "baseline";
					var f = document.createElement("br");
					(o ? this.baseLayers : this.dataLayers).push({
						layer : i,
						inputElem : a,
						labelSpan : u
					}),
					i = o ? this.baseLayersDiv : this.dataLayersDiv,
					i.appendChild(a),
					i.appendChild(u),
					i.appendChild(f)
				}
			}
			return this.dataLbl.style.display = e ? "" : "none",
			this.baseLbl.style.display = t ? "" : "none",
			this.div
		},
		updateMap : function () {
			for (var e = 0, t = this.baseLayers.length; e < t; e++) {
				var n = this.baseLayers[e];
				n.inputElem.checked && this.map.setBaseLayer(n.layer, !1)
			}
			e = 0;
			for (t = this.dataLayers.length; e < t; e++)
				n = this.dataLayers[e], n.layer.setVisibility(n.inputElem.checked)
		},
		maximizeControl : function (e) {
			this.div.style.width = "",
			this.div.style.height = "",
			this.showControls(!1),
			null != e && OpenLayers.Event.stop(e)
		},
		minimizeControl : function (e) {
			this.div.style.width = "0px",
			this.div.style.height = "0px",
			this.showControls(!0),
			null != e && OpenLayers.Event.stop(e)
		},
		showControls : function (e) {
			this.maximizeDiv.style.display = e ? "" : "none",
			this.minimizeDiv.style.display = e ? "none" : "",
			this.layersDiv.style.display = e ? "none" : ""
		},
		loadContents : function () {
			this.layersDiv = document.createElement("div"),
			this.layersDiv.id = this.id + "_layersDiv",
			OpenLayers.Element.addClass(this.layersDiv, "layersDiv"),
			this.baseLbl = document.createElement("div"),
			this.baseLbl.innerHTML = OpenLayers.i18n("Base Layer"),
			OpenLayers.Element.addClass(this.baseLbl, "baseLbl"),
			this.baseLayersDiv = document.createElement("div"),
			OpenLayers.Element.addClass(this.baseLayersDiv, "baseLayersDiv"),
			this.dataLbl = document.createElement("div"),
			this.dataLbl.innerHTML = OpenLayers.i18n("Overlays"),
			OpenLayers.Element.addClass(this.dataLbl, "dataLbl"),
			this.dataLayersDiv = document.createElement("div"),
			OpenLayers.Element.addClass(this.dataLayersDiv, "dataLayersDiv"),
			this.ascending ? (this.layersDiv.appendChild(this.baseLbl), this.layersDiv.appendChild(this.baseLayersDiv), this.layersDiv.appendChild(this.dataLbl), this.layersDiv.appendChild(this.dataLayersDiv)) : (this.layersDiv.appendChild(this.dataLbl), this.layersDiv.appendChild(this.dataLayersDiv), this.layersDiv.appendChild(this.baseLbl), this.layersDiv.appendChild(this.baseLayersDiv)),
			this.div.appendChild(this.layersDiv),
			this.roundedCorner && (OpenLayers.Rico.Corner.round(this.div, {
					corners : "tl bl",
					bgColor : "transparent",
					color : this.roundedCornerColor,
					blend : !1
				}), OpenLayers.Rico.Corner.changeOpacity(this.layersDiv, .75));
			var e = OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");
			this.maximizeDiv = OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MaximizeDiv", null, null, e, "absolute"),
			OpenLayers.Element.addClass(this.maximizeDiv, "maximizeDiv olButton"),
			this.maximizeDiv.style.display = "none",
			this.div.appendChild(this.maximizeDiv),
			e = OpenLayers.Util.getImageLocation("layer-switcher-minimize.png"),
			this.minimizeDiv = OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MinimizeDiv", null, null, e, "absolute"),
			OpenLayers.Element.addClass(this.minimizeDiv, "minimizeDiv olButton"),
			this.minimizeDiv.style.display = "none",
			this.div.appendChild(this.minimizeDiv)
		},
		CLASS_NAME : "OpenLayers.Control.LayerSwitcher"
	}), OpenLayers.Format.Atom = OpenLayers.Class(OpenLayers.Format.XML, {
		namespaces : {
			atom : "http://www.w3.org/2005/Atom",
			georss : "http://www.georss.org/georss"
		},
		feedTitle : "untitled",
		defaultEntryTitle : "untitled",
		gmlParser : null,
		xy : !1,
		read : function (e) {
			return "string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			this.parseFeatures(e)
		},
		write : function (e) {
			var t;
			if (OpenLayers.Util.isArray(e)) {
				t = this.createElementNSPlus("atom:feed"),
				t.appendChild(this.createElementNSPlus("atom:title", {
						value : this.feedTitle
					}));
				for (var n = 0, r = e.length; n < r; n++)
					t.appendChild(this.buildEntryNode(e[n]))
			} else
				t = this.buildEntryNode(e);
			return OpenLayers.Format.XML.prototype.write.apply(this, [t])
		},
		buildContentNode : function (e) {
			var t = this.createElementNSPlus("atom:content", {
					attributes : {
						type : e.type || null
					}
				});
			if (e.src)
				t.setAttribute("src", e.src);
			else if ("text" == e.type || null == e.type)
				t.appendChild(this.createTextNode(e.value));
			else if ("html" == e.type) {
				if ("string" != typeof e.value)
					throw "HTML content must be in form of an escaped string";
				t.appendChild(this.createTextNode(e.value))
			} else
				"xhtml" == e.type ? t.appendChild(e.value) : "xhtml" == e.type || e.type.match(/(\+|\/)xml$/) ? t.appendChild(e.value) : t.appendChild(this.createTextNode(e.value));
			return t
		},
		buildEntryNode : function (e) {
			var t = e.attributes,
			n = t.atom || {},
			r = this.createElementNSPlus("atom:entry");
			if (n.authors)
				for (var i = OpenLayers.Util.isArray(n.authors) ? n.authors : [n.authors], s = 0, o = i.length; s < o; s++)
					r.appendChild(this.buildPersonConstructNode("author", i[s]));
			if (n.categories)
				for (var i = OpenLayers.Util.isArray(n.categories) ? n.categories : [n.categories], u, s = 0, o = i.length; s < o; s++)
					u = i[s], r.appendChild(this.createElementNSPlus("atom:category", {
							attributes : {
								term : u.term,
								scheme : u.scheme || null,
								label : u.label || null
							}
						}));
			n.content && r.appendChild(this.buildContentNode(n.content));
			if (n.contributors) {
				i = OpenLayers.Util.isArray(n.contributors) ? n.contributors : [n.contributors],
				s = 0;
				for (o = i.length; s < o; s++)
					r.appendChild(this.buildPersonConstructNode("contributor", i[s]))
			}
			e.fid && r.appendChild(this.createElementNSPlus("atom:id", {
					value : e.fid
				}));
			if (n.links) {
				i = OpenLayers.Util.isArray(n.links) ? n.links : [n.links],
				s = 0;
				for (o = i.length; s < o; s++)
					u = i[s], r.appendChild(this.createElementNSPlus("atom:link", {
							attributes : {
								href : u.href,
								rel : u.rel || null,
								type : u.type || null,
								hreflang : u.hreflang || null,
								title : u.title || null,
								length : u.length || null
							}
						}))
			}
			return n.published && r.appendChild(this.createElementNSPlus("atom:published", {
					value : n.published
				})),
			n.rights && r.appendChild(this.createElementNSPlus("atom:rights", {
					value : n.rights
				})),
			(n.summary || t.description) && r.appendChild(this.createElementNSPlus("atom:summary", {
					value : n.summary || t.description
				})),
			r.appendChild(this.createElementNSPlus("atom:title", {
					value : n.title || t.title || this.defaultEntryTitle
				})),
			n.updated && r.appendChild(this.createElementNSPlus("atom:updated", {
					value : n.updated
				})),
			e.geometry && (t = this.createElementNSPlus("georss:where"), t.appendChild(this.buildGeometryNode(e.geometry)), r.appendChild(t)),
			r
		},
		initGmlParser : function () {
			this.gmlParser = new OpenLayers.Format.GML.v3({
					xy : this.xy,
					featureNS : "http://example.com#feature",
					internalProjection : this.internalProjection,
					externalProjection : this.externalProjection
				})
		},
		buildGeometryNode : function (e) {
			return this.gmlParser || this.initGmlParser(),
			this.gmlParser.writeNode("feature:_geometry", e).firstChild
		},
		buildPersonConstructNode : function (e, t) {
			var n = ["uri", "email"],
			r = this.createElementNSPlus("atom:" + e);
			r.appendChild(this.createElementNSPlus("atom:name", {
					value : t.name
				}));
			for (var i = 0, s = n.length; i < s; i++)
				t[n[i]] && r.appendChild(this.createElementNSPlus("atom:" + n[i], {
						value : t[n[i]]
					}));
			return r
		},
		getFirstChildValue : function (e, t, n, r) {
			return (e = this.getElementsByTagNameNS(e, t, n)) && 0 < e.length ? this.getChildValue(e[0], r) : r
		},
		parseFeature : function (e) {
			var t = {},
			n = null,
			r = null,
			i = null,
			s = this.namespaces.atom;
			this.parsePersonConstructs(e, "author", t),
			r = this.getElementsByTagNameNS(e, s, "category"),
			0 < r.length && (t.categories = []);
			for (var o = 0, u = r.length; o < u; o++) {
				n = {},
				n.term = r[o].getAttribute("term");
				if (i = r[o].getAttribute("scheme"))
					n.scheme = i;
				if (i = r[o].getAttribute("label"))
					n.label = i;
				t.categories.push(n)
			}
			r = this.getElementsByTagNameNS(e, s, "content");
			if (0 < r.length) {
				n = {};
				if (i = r[0].getAttribute("type"))
					n.type = i;
				(i = r[0].getAttribute("src")) ? n.src = i : (n.value = "text" == n.type || "html" == n.type || null == n.type ? this.getFirstChildValue(e, s, "content", null) : "xhtml" == n.type || n.type.match(/(\+|\/)xml$/) ? this.getChildEl(r[0]) : this.getFirstChildValue(e, s, "content", null), t.content = n)
			}
			this.parsePersonConstructs(e, "contributor", t),
			t.id = this.getFirstChildValue(e, s, "id", null),
			r = this.getElementsByTagNameNS(e, s, "link"),
			0 < r.length && (t.links = Array(r.length));
			for (var a = ["rel", "type", "hreflang", "title", "length"], o = 0, u = r.length; o < u; o++) {
				n = {},
				n.href = r[o].getAttribute("href");
				for (var f = 0, l = a.length; f < l; f++)
					(i = r[o].getAttribute(a[f])) && (n[a[f]] = i);
				t.links[o] = n
			}
			if (n = this.getFirstChildValue(e, s, "published", null))
				t.published = n;
			if (n = this.getFirstChildValue(e, s, "rights", null))
				t.rights = n;
			if (n = this.getFirstChildValue(e, s, "summary", null))
				t.summary = n;
			return t.title = this.getFirstChildValue(e, s, "title", null),
			t.updated = this.getFirstChildValue(e, s, "updated", null),
			n = {
				title : t.title,
				description : t.summary,
				atom : t
			},
			e = this.parseLocations(e)[0],
			e = new OpenLayers.Feature.Vector(e, n),
			e.fid = t.id,
			e
		},
		parseFeatures : function (e) {
			var t = [],
			n = this.getElementsByTagNameNS(e, this.namespaces.atom, "entry");
			0 == n.length && (n = [e]);
			for (var e = 0, r = n.length; e < r; e++)
				t.push(this.parseFeature(n[e]));
			return t
		},
		parseLocations : function (e) {
			var t = this.namespaces.georss,
			n = {
				components : []
			},
			r = this.getElementsByTagNameNS(e, t, "where");
			if (r && 0 < r.length) {
				this.gmlParser || this.initGmlParser();
				for (var i = 0, s = r.length; i < s; i++)
					this.gmlParser.readChildNodes(r[i], n)
			}
			n = n.components;
			if ((r = this.getElementsByTagNameNS(e, t, "point")) && 0 < r.length) {
				i = 0;
				for (s = r.length; i < s; i++) {
					var o = OpenLayers.String.trim(r[i].firstChild.nodeValue).split(/\s+/);
					2 != o.length && (o = OpenLayers.String.trim(r[i].firstChild.nodeValue).split(/\s*,\s*/)),
					n.push(new OpenLayers.Geometry.Point(o[1], o[0]))
				}
			}
			var u = this.getElementsByTagNameNS(e, t, "line");
			if (u && 0 < u.length)
				for (var a, i = 0, s = u.length; i < s; i++) {
					r = OpenLayers.String.trim(u[i].firstChild.nodeValue).split(/\s+/),
					a = [];
					for (var f = 0, l = r.length; f < l; f += 2)
						o = new OpenLayers.Geometry.Point(r[f + 1], r[f]), a.push(o);
					n.push(new OpenLayers.Geometry.LineString(a))
				}
			if ((e = this.getElementsByTagNameNS(e, t, "polygon")) && 0 < e.length) {
				i = 0;
				for (s = e.length; i < s; i++) {
					r = OpenLayers.String.trim(e[i].firstChild.nodeValue).split(/\s+/),
					a = [],
					f = 0;
					for (l = r.length; f < l; f += 2)
						o = new OpenLayers.Geometry.Point(r[f + 1], r[f]), a.push(o);
					n.push(new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(n)]))
				}
			}
			if (this.internalProjection && this.externalProjection) {
				i = 0;
				for (s = n.length; i < s; i++)
					n[i] && n[i].transform(this.externalProjection, this.internalProjection)
			}
			return n
		},
		parsePersonConstructs : function (e, t, n) {
			for (var r = [], i = this.namespaces.atom, e = this.getElementsByTagNameNS(e, i, t), s = ["uri", "email"], o = 0, u = e.length; o < u; o++) {
				var a = {};
				a.name = this.getFirstChildValue(e[o], i, "name", null);
				for (var f = 0, l = s.length; f < l; f++) {
					var c = this.getFirstChildValue(e[o], i, s[f], null);
					c && (a[s[f]] = c)
				}
				r.push(a)
			}
			0 < r.length && (n[t + "s"] = r)
		},
		CLASS_NAME : "OpenLayers.Format.Atom"
	}), OpenLayers.Control.KeyboardDefaults = OpenLayers.Class(OpenLayers.Control, {
		autoActivate : !0,
		slideFactor : 75,
		observeElement : null,
		draw : function () {
			this.handler = new OpenLayers.Handler.Keyboard(this, {
					keydown : this.defaultKeyPress
				}, {
					observeElement : this.observeElement || document
				})
		},
		defaultKeyPress : function (e) {
			var t,
			n = !0;
			switch (e.keyCode) {
			case OpenLayers.Event.KEY_LEFT:
				this.map.pan(-this.slideFactor, 0);
				break;
			case OpenLayers.Event.KEY_RIGHT:
				this.map.pan(this.slideFactor, 0);
				break;
			case OpenLayers.Event.KEY_UP:
				this.map.pan(0, -this.slideFactor);
				break;
			case OpenLayers.Event.KEY_DOWN:
				this.map.pan(0, this.slideFactor);
				break;
			case 33:
				t = this.map.getSize(),
				this.map.pan(0, -0.75 * t.h);
				break;
			case 34:
				t = this.map.getSize(),
				this.map.pan(0, .75 * t.h);
				break;
			case 35:
				t = this.map.getSize(),
				this.map.pan(.75 * t.w, 0);
				break;
			case 36:
				t = this.map.getSize(),
				this.map.pan(-0.75 * t.w, 0);
				break;
			case 43:
			case 61:
			case 187:
			case 107:
				this.map.zoomIn();
				break;
			case 45:
			case 109:
			case 189:
			case 95:
				this.map.zoomOut();
				break;
			default:
				n = !1
			}
			n && OpenLayers.Event.stop(e)
		},
		CLASS_NAME : "OpenLayers.Control.KeyboardDefaults"
	}), OpenLayers.Format.WMTSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1_1_0, {
		version : "1.0.0",
		namespaces : {
			ows : "http://www.opengis.net/ows/1.1",
			wmts : "http://www.opengis.net/wmts/1.0",
			xlink : "http://www.w3.org/1999/xlink"
		},
		yx : null,
		defaultPrefix : "wmts",
		initialize : function (e) {
			OpenLayers.Format.XML.prototype.initialize.apply(this, [e]),
			this.options = e,
			e = OpenLayers.Util.extend({}, OpenLayers.Format.WMTSCapabilities.prototype.yx),
			this.yx = OpenLayers.Util.extend(e, this.yx)
		},
		read : function (e) {
			"string" == typeof e && (e = OpenLayers.Format.XML.prototype.read.apply(this, [e])),
			e && 9 == e.nodeType && (e = e.documentElement);
			var t = {};
			return this.readNode(e, t),
			t.version = this.version,
			t
		},
		readers : {
			wmts : {
				Capabilities : function (e, t) {
					this.readChildNodes(e, t)
				},
				Contents : function (e, t) {
					t.contents = {},
					t.contents.layers = [],
					t.contents.tileMatrixSets = {},
					this.readChildNodes(e, t.contents)
				},
				Layer : function (e, t) {
					var n = {
						styles : [],
						formats : [],
						dimensions : [],
						tileMatrixSetLinks : [],
						layers : []
					};
					this.readChildNodes(e, n),
					t.layers.push(n)
				},
				Style : function (e, t) {
					var n = {};
					n.isDefault = "true" === e.getAttribute("isDefault"),
					this.readChildNodes(e, n),
					t.styles.push(n)
				},
				Format : function (e, t) {
					t.formats.push(this.getChildValue(e))
				},
				TileMatrixSetLink : function (e, t) {
					var n = {};
					this.readChildNodes(e, n),
					t.tileMatrixSetLinks.push(n)
				},
				TileMatrixSet : function (e, t) {
					if (t.layers) {
						var n = {
							matrixIds : []
						};
						this.readChildNodes(e, n),
						t.tileMatrixSets[n.identifier] = n
					} else
						t.tileMatrixSet = this.getChildValue(e)
				},
				TileMatrix : function (e, t) {
					var n = {
						supportedCRS : t.supportedCRS
					};
					this.readChildNodes(e, n),
					t.matrixIds.push(n)
				},
				ScaleDenominator : function (e, t) {
					t.scaleDenominator = parseFloat(this.getChildValue(e))
				},
				TopLeftCorner : function (e, t) {
					var n = this.getChildValue(e).split(" "),
					r;
					t.supportedCRS && (r = !!this.yx[t.supportedCRS.replace(/urn:ogc:def:crs:(\w+):.+:(\w+)$/, "urn:ogc:def:crs:$1::$2")]),
					t.topLeftCorner = r ? new OpenLayers.LonLat(n[1], n[0]) : new OpenLayers.LonLat(n[0], n[1])
				},
				TileWidth : function (e, t) {
					t.tileWidth = parseInt(this.getChildValue(e))
				},
				TileHeight : function (e, t) {
					t.tileHeight = parseInt(this.getChildValue(e))
				},
				MatrixWidth : function (e, t) {
					t.matrixWidth = parseInt(this.getChildValue(e))
				},
				MatrixHeight : function (e, t) {
					t.matrixHeight = parseInt(this.getChildValue(e))
				},
				ResourceURL : function (e, t) {
					t.resourceUrl = t.resourceUrl || {},
					t.resourceUrl[e.getAttribute("resourceType")] = {
						format : e.getAttribute("format"),
						template : e.getAttribute("template")
					}
				},
				WSDL : function (e, t) {
					t.wsdl = {},
					t.wsdl.href = e.getAttribute("xlink:href")
				},
				ServiceMetadataURL : function (e, t) {
					t.serviceMetadataUrl = {},
					t.serviceMetadataUrl.href = e.getAttribute("xlink:href")
				},
				LegendURL : function (e, t) {
					t.legend = {},
					t.legend.href = e.getAttribute("xlink:href"),
					t.legend.format = e.getAttribute("format")
				},
				Dimension : function (e, t) {
					var n = {
						values : []
					};
					this.readChildNodes(e, n),
					t.dimensions.push(n)
				},
				Default : function (e, t) {
					t["default"] = this.getChildValue(e)
				},
				Value : function (e, t) {
					t.values.push(this.getChildValue(e))
				}
			},
			ows : OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
		},
		CLASS_NAME : "OpenLayers.Format.WMTSCapabilities.v1_0_0"
	}), define("lib/openLayers", function () {}), define("lib/openLayers_zh-CN", ["lib/openLayers"], function () {
	OpenLayers.Lang["zh-CN"] = {
		unhandledRequest : "未处理的请求，返回值为 ${statusText}",
		Permalink : "永久链接",
		Overlays : "标记层",
		"Base Layer" : "基本层",
		noFID : "无法更新feature，缺少FID。",
		browserNotSupported : "你使用的浏览器不支持矢量渲染。当前支持的渲染方式包括：\n${renderers}",
		minZoomLevelError : "minZoomLevel属性仅适合用于使用了固定缩放级别的图层。这个 wfs 图层检查 minZoomLevel 是过去遗留下来的。然而，我们不能移除它，而破坏依赖于它的基于OL的应用程序。因此，我们废除了它 -- minZoomLevel 将会在3.0中被移除。请改用 min/max resolution 设置，参考：http://trac.openlayers.org/wiki/SettingZoomLevels",
		commitSuccess : "WFS Transaction: 成功。 ${response}",
		commitFailed : "WFS Transaction: 失败。 ${response}",
		googleWarning : "Google图层不能正确加载。<br><br>要消除这个信息，请在右上角的图层控制面板中选择其他的基础图层。<br><br>这种情况很可能是没有正确的包含Google地图脚本库，或者是没有包含在你的站点上使用的正确的Google Maps API密匙。<br><br>开发者：获取使其正确工作的帮助信息，<a href='http://trac.openlayers.org/wiki/Google' target='_blank'>点击这里</a>",
		getLayerWarning : "${layerType} 图层不能正确加载。<br><br>要消除这个信息，请在右上角的图层控制面板中选择其他的基础图层。<br><br>这种情况很可能是没有正确的包含${layerLib} 脚本库。<br><br>开发者：获取使其正确工作的帮助信息，<a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>点击这里</a>",
		"Scale = 1 : ${scaleDenom}" : "比例尺 = 1 : ${scaleDenom}",
		reprojectDeprecated : "你正在使用 ${layerName} 图层上的'reproject'选项。这个选项已经不再使用：它是被设计用来支持显示商业的地图数据，不过现在该功能可以通过使用Spherical Mercator来实现。更多信息可以参阅http://trac.openlayers.org/wiki/SphericalMercator.",
		methodDeprecated : "该方法已经不再被支持，并且将在3.0中被移除。请使用 ${newMethod} 方法来替代。",
		end : ""
	}
}), define("lib/openLayersAddonControl", ["lib/openLayers"], function () {
	OpenLayers.Control.FullScreen = OpenLayers.Class(OpenLayers.Control, {
			type : OpenLayers.Control.TYPE_TOGGLE,
			fullscreenClass : "fullscreen",
			setMap : function (e) {
				OpenLayers.Control.prototype.setMap.apply(this, arguments),
				OpenLayers.Event.observe(document, "fullscreenchange", OpenLayers.Function.bind(function () {
						document.fullscreenEnabled || this.deactivate()
					}, this))
			},
			activate : function () {
				return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.map.div.requestFullscreen && this.map.div.requestFullscreen(), OpenLayers.Element.addClass(this.map.div, this.fullscreenClass), this.map.updateSize(), !0) : !1
			},
			deactivate : function () {
				return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (document.exitFullscreen && document.exitFullscreen(), OpenLayers.Element.removeClass(this.map.div, this.fullscreenClass), this.map.updateSize(), !0) : !1
			},
			CLASS_NAME : "OpenLayers.Control.FullScreen"
		}),
	OpenLayers.Control.Exit = OpenLayers.Class(OpenLayers.Control, {
			type : OpenLayers.Control.TYPE_TOGGLE,
			setMap : function (e) {
				OpenLayers.Control.prototype.setMap.apply(this, arguments),
				OpenLayers.Event.observe(document, "fullscreenchange", OpenLayers.Function.bind(function () {
						document.fullscreenEnabled || this.deactivate()
					}, this))
			},
			activate : function (e) {
				this.map.destroy(),
				Geo.geoMap()
			},
			deactivate : function () {},
			CLASS_NAME : "OpenLayers.Control.Exit"
		}),
	OpenLayers.Control.Transfer = OpenLayers.Class(OpenLayers.Control, {
			type : OpenLayers.Control.TYPE_TOGGLE,
			fullscreenClass : "exit",
			setMap : function (e) {
				OpenLayers.Control.prototype.setMap.apply(this, arguments)
			},
			activate : function (e) {
				var t = this.map.getLayersBy("isDataLayer", !0),
				n = this.map.getLayersBy("isMarkerLayer", !0),
				r = !1;
				$.each(t, function (e, t) {
					t.getVisibility() && (r = !0)
				}),
				t.length && !r ? ($.each(t, function (e, t) {
						t.displayInLayerSwitcher = !0,
						t.setVisibility(!0)
					}), $.each(n, function (e, t) {
						t.displayInLayerSwitcher = !1,
						t.setVisibility(!1)
					})) : ($.each(t, function (e, t) {
						t.displayInLayerSwitcher = !1,
						t.setVisibility(!1)
					}), $.each(n, function (e, t) {
						t.displayInLayerSwitcher = !0,
						t.setVisibility(!0)
					}))
			},
			deactivate : function () {},
			CLASS_NAME : "OpenLayers.Control.Transfer"
		})
}), define("lib/jquery-migrate.1.0.0", ["lib/jquery-1.10.2"], function () {
	(function (e, t, n) {
		function i(n) {
			r[n] || (r[n] = !0, e.migrateWarnings.push(n), t.console && console.warn && !e.migrateMute && console.warn("JQMIGRATE: " + n))
		}
		function s(t, n, r, s) {
			if (Object.defineProperty)
				try {
					Object.defineProperty(t, n, {
						configurable : !0,
						enumerable : !0,
						get : function () {
							return i(s),
							r
						},
						set : function (e) {
							i(s),
							r = e
						}
					});
					return
				} catch (o) {}

			e._definePropertyBroken = !0,
			t[n] = r
		}
		var r = {};
		e.migrateWarnings = [],
		e.migrateReset = function () {
			r = {},
			e.migrateWarnings.length = 0
		},
		document.compatMode === "BackCompat" && i("jQuery is not compatible with Quirks Mode");
		var o = {},
		u = e.attr,
		a = e.attrHooks.value && e.attrHooks.value.get || function () {
			return null
		},
		f = e.attrHooks.value && e.attrHooks.value.set || function () {
			return n
		},
		l = /^(?:input|button)$/i,
		c = /^[238]$/,
		h = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
		p = /^(?:checked|selected)$/i;
		s(e, "attrFn", o, "jQuery.attrFn is deprecated"),
		e.attr = function (t, r, s, o) {
			var a = r.toLowerCase(),
			f = t && t.nodeType;
			if (o) {
				i("jQuery.fn.attr( props, pass ) is deprecated");
				if (t && !c.test(f) && e.isFunction(e.fn[r]))
					return e(t)[r](s)
			}
			return r === "type" && s !== n && l.test(t.nodeName) && i("Can't change the 'type' of an input or button in IE 6/7/8"),
			!e.attrHooks[a] && h.test(a) && (e.attrHooks[a] = {
					get : function (t, r) {
						var i,
						s = e.prop(t, r);
						return s === !0 || typeof s != "boolean" && (i = t.getAttributeNode(r)) && i.nodeValue !== !1 ? r.toLowerCase() : n
					},
					set : function (t, n, r) {
						var i;
						return n === !1 ? e.removeAttr(t, r) : (i = e.propFix[r] || r, i in t && (t[i] = !0), t.setAttribute(r, r.toLowerCase())),
						r
					}
				}, p.test(a) && i("jQuery.fn.attr(" + a + ") may use property instead of attribute")),
			u.call(e, t, r, s)
		},
		e.attrHooks.value = {
			get : function (e, t) {
				var n = (e.nodeName || "").toLowerCase();
				return n === "button" ? a.apply(this, arguments) : (n !== "input" && n !== "option" && i("property-based jQuery.fn.attr('value') is deprecated"), t in e ? e.value : null)
			},
			set : function (e, t) {
				var n = (e.nodeName || "").toLowerCase();
				if (n === "button")
					return f.apply(this, arguments);
				n !== "input" && n !== "option" && i("property-based jQuery.fn.attr('value', val) is deprecated"),
				e.value = t
			}
		};
		var d,
		v,
		m = e.fn.init,
		g = /^(?:.*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;
		e.fn.init = function (t, n, r) {
			var s;
			if (t && typeof t == "string" && !e.isPlainObject(n) && (s = g.exec(t)) && s[1]) {
				t.charAt(0) !== "<" && i("$(html) HTML strings must start with '<' character"),
				n && n.context && (n = n.context);
				if (e.parseHTML)
					return m.call(this, e.parseHTML(e.trim(t), n, !0), n, r)
			}
			return m.apply(this, arguments)
		},
		e.fn.init.prototype = e.fn,
		e.uaMatch = function (e) {
			e = e.toLowerCase();
			var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
			return {
				browser : t[1] || "",
				version : t[2] || "0"
			}
		},
		d = e.uaMatch(navigator.userAgent),
		v = {},
		d.browser && (v[d.browser] = !0, v.version = d.version),
		v.chrome ? v.webkit = !0 : v.webkit && (v.safari = !0),
		e.browser = v,
		s(e, "browser", v, "jQuery.browser is deprecated"),
		e.sub = function () {
			function t(e, n) {
				return new t.fn.init(e, n)
			}
			e.extend(!0, t, this),
			t.superclass = this,
			t.fn = t.prototype = this(),
			t.fn.constructor = t,
			t.sub = this.sub,
			t.fn.init = function (i, s) {
				return s && s instanceof e && !(s instanceof t) && (s = t(s)),
				e.fn.init.call(this, i, s, n)
			},
			t.fn.init.prototype = t.fn;
			var n = t(document);
			return i("jQuery.sub() is deprecated"),
			t
		};
		var y = e.fn.data;
		e.fn.data = function (t) {
			var r,
			s,
			o = this[0];
			if (o && t === "events" && arguments.length === 1) {
				r = e.data(o, t),
				s = e._data(o, t);
				if ((r === n || r === s) && s !== n)
					return i("Use of jQuery.fn.data('events') is deprecated"), s
			}
			return y.apply(this, arguments)
		};
		var b = /\/(java|ecma)script/i,
		w = e.fn.andSelf || e.fn.addBack,
		E = e.buildFragment;
		e.fn.andSelf = function () {
			return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),
			w.apply(this, arguments)
		},
		e.clean || (e.clean = function (t, n, r, s) {
			n = n || document,
			n = !n.nodeType && n[0] || n,
			n = n.ownerDocument || n,
			i("jQuery.clean() is deprecated");
			var o,
			u,
			a,
			f,
			l = [];
			e.merge(l, e.buildFragment(t, n).childNodes);
			if (r) {
				a = function (e) {
					if (!e.type || b.test(e.type))
						return s ? s.push(e.parentNode ? e.parentNode.removeChild(e) : e) : r.appendChild(e)
				};
				for (o = 0; (u = l[o]) != null; o++)
					if (!e.nodeName(u, "script") || !a(u))
						r.appendChild(u), typeof u.getElementsByTagName != "undefined" && (f = e.grep(e.merge([], u.getElementsByTagName("script")), a), l.splice.apply(l, [o + 1, 0].concat(f)), o += f.length)
			}
			return l
		}),
		e.buildFragment = function (t, n, r, o) {
			var u,
			a = "jQuery.buildFragment() is deprecated";
			n = n || document,
			n = !n.nodeType && n[0] || n,
			n = n.ownerDocument || n;
			try {
				u = E.call(e, t, n, r, o)
			} catch (f) {
				u = E.call(e, t, n.nodeType ? [n] : n[0], r, o),
				i(a)
			}
			return u.fragment || (s(u, "fragment", u, a), s(u, "cacheable", !1, a)),
			u
		};
		var S = e.event.add,
		x = e.event.remove,
		T = e.event.trigger,
		N = e.fn.toggle,
		C = e.fn.live,
		k = e.fn.die,
		L = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",
		A = new RegExp("\\b(?:" + L + ")\\b"),
		O = /(?:^|\s)hover(\.\S+|)\b/,
		M = function (t) {
			return typeof t != "string" || e.event.special.hover ? t : (O.test(t) && i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"), t && t.replace(O, "mouseenter$1 mouseleave$1"))
		};
		e.event.props && e.event.props[0] !== "attrChange" && e.event.props.unshift("attrChange", "attrName", "relatedNode", "srcElement"),
		s(e.event, "handle", e.event.dispatch, "jQuery.event.handle is undocumented and deprecated"),
		e.event.add = function (e, t, n, r, s) {
			e !== document && A.test(t) && i("AJAX events should be attached to document: " + t),
			S.call(this, e, M(t || ""), n, r, s)
		},
		e.event.remove = function (e, t, n, r, i) {
			x.call(this, e, M(t) || "", n, r, i)
		},
		e.fn.error = function () {
			var e = Array.prototype.slice.call(arguments, 0);
			return i("jQuery.fn.error() is deprecated"),
			e.splice(0, 0, "error"),
			arguments.length ? this.bind.apply(this, e) : (this.triggerHandler.apply(this, e), this)
		},
		e.fn.toggle = function (t, n) {
			if (!e.isFunction(t) || !e.isFunction(n))
				return N.apply(this, arguments);
			i("jQuery.fn.toggle(handler, handler...) is deprecated");
			var r = arguments,
			s = t.guid || e.guid++,
			o = 0,
			u = function (n) {
				var i = (e._data(this, "lastToggle" + t.guid) || 0) % o;
				return e._data(this, "lastToggle" + t.guid, i + 1),
				n.preventDefault(),
				r[i].apply(this, arguments) || !1
			};
			u.guid = s;
			while (o < r.length)
				r[o++].guid = s;
			return this.click(u)
		},
		e.fn.live = function (t, n, r) {
			return i("jQuery.fn.live() is deprecated"),
			C ? C.apply(this, arguments) : (e(this.context).on(t, this.selector, n, r), this)
		},
		e.fn.die = function (t, n) {
			return i("jQuery.fn.die() is deprecated"),
			k ? k.apply(this, arguments) : (e(this.context).off(t, this.selector || "**", n), this)
		},
		e.event.trigger = function (e, t, n, r) {
			return !n & !A.test(e) && i("Global events are undocumented and deprecated"),
			T.call(this, e, t, n || document, r)
		},
		e.each(L.split("|"), function (t, n) {
			e.event.special[n] = {
				setup : function () {
					var t = this;
					return t !== document && (e.event.add(document, n + "." + e.guid, function () {
							e.event.trigger(n, null, t, !0)
						}), e._data(this, n, e.guid++)),
					!1
				},
				teardown : function () {
					return this !== document && e.event.remove(document, n + "." + e._data(this, n)),
					!1
				}
			}
		})
	})(jQuery, window)
}), function (e, t) {
	function n(t, n) {
		var i,
		s,
		o,
		u = t.nodeName.toLowerCase();
		return "area" === u ? (i = t.parentNode, s = i.name, t.href && s && "map" === i.nodeName.toLowerCase() ? (o = e("img[usemap=#" + s + "]")[0], !!o && r(o)) : !1) : (/input|select|textarea|button|object/.test(u) ? !t.disabled : "a" === u ? t.href || n : n) && r(t)
	}
	function r(t) {
		return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () {
			return "hidden" === e.css(this, "visibility")
		}).length
	}
	var i = 0,
	s = /^ui-id-\d+$/;
	e.ui = e.ui || {},
	e.extend(e.ui, {
		version : "1.10.2",
		keyCode : {
			BACKSPACE : 8,
			COMMA : 188,
			DELETE : 46,
			DOWN : 40,
			END : 35,
			ENTER : 13,
			ESCAPE : 27,
			HOME : 36,
			LEFT : 37,
			NUMPAD_ADD : 107,
			NUMPAD_DECIMAL : 110,
			NUMPAD_DIVIDE : 111,
			NUMPAD_ENTER : 108,
			NUMPAD_MULTIPLY : 106,
			NUMPAD_SUBTRACT : 109,
			PAGE_DOWN : 34,
			PAGE_UP : 33,
			PERIOD : 190,
			RIGHT : 39,
			SPACE : 32,
			TAB : 9,
			UP : 38
		}
	}),
	e.fn.extend({
		focus : function (t) {
			return function (n, r) {
				return "number" == typeof n ? this.each(function () {
					var t = this;
					setTimeout(function () {
						e(t).focus(),
						r && r.call(t)
					}, n)
				}) : t.apply(this, arguments)
			}
		}
		(e.fn.focus),
		scrollParent : function () {
			var t;
			return t = e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () {
					return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
				}).eq(0) : this.parents().filter(function () {
					return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
				}).eq(0),
			/fixed/.test(this.css("position")) || !t.length ? e(document) : t
		},
		zIndex : function (n) {
			if (n !== t)
				return this.css("zIndex", n);
			if (this.length)
				for (var r, i, s = e(this[0]); s.length && s[0] !== document; ) {
					if (r = s.css("position"), ("absolute" === r || "relative" === r || "fixed" === r) && (i = parseInt(s.css("zIndex"), 10), !isNaN(i) && 0 !== i))
						return i;
					s = s.parent()
				}
			return 0
		},
		uniqueId : function () {
			return this.each(function () {
				this.id || (this.id = "ui-id-" + ++i)
			})
		},
		removeUniqueId : function () {
			return this.each(function () {
				s.test(this.id) && e(this).removeAttr("id")
			})
		}
	}),
	e.extend(e.expr[":"], {
		data : e.expr.createPseudo ? e.expr.createPseudo(function (t) {
			return function (n) {
				return !!e.data(n, t)
			}
		}) : function (t, n, r) {
			return !!e.data(t, r[3])
		},
		focusable : function (t) {
			return n(t, !isNaN(e.attr(t, "tabindex")))
		},
		tabbable : function (t) {
			var r = e.attr(t, "tabindex"),
			i = isNaN(r);
			return (i || r >= 0) && n(t, !i)
		}
	}),
	e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function (n, r) {
		function i(t, n, r, i) {
			return e.each(s, function () {
				n -= parseFloat(e.css(t, "padding" + this)) || 0,
				r && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
				i && (n -= parseFloat(e.css(t, "margin" + this)) || 0)
			}),
			n
		}
		var s = "Width" === r ? ["Left", "Right"] : ["Top", "Bottom"],
		o = r.toLowerCase(),
		u = {
			innerWidth : e.fn.innerWidth,
			innerHeight : e.fn.innerHeight,
			outerWidth : e.fn.outerWidth,
			outerHeight : e.fn.outerHeight
		};
		e.fn["inner" + r] = function (n) {
			return n === t ? u["inner" + r].call(this) : this.each(function () {
				e(this).css(o, i(this, n) + "px")
			})
		},
		e.fn["outer" + r] = function (t, n) {
			return "number" != typeof t ? u["outer" + r].call(this, t) : this.each(function () {
				e(this).css(o, i(this, t, !0, n) + "px")
			})
		}
	}),
	e.fn.addBack || (e.fn.addBack = function (e) {
		return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
	}),
	e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function (t) {
		return function (n) {
			return arguments.length ? t.call(this, e.camelCase(n)) : t.call(this)
		}
	}
		(e.fn.removeData)),
	e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
	e.support.selectstart = "onselectstart" in document.createElement("div"),
	e.fn.extend({
		disableSelection : function () {
			return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (e) {
				e.preventDefault()
			})
		},
		enableSelection : function () {
			return this.unbind(".ui-disableSelection")
		}
	}),
	e.extend(e.ui, {
		plugin : {
			add : function (t, n, r) {
				var i,
				s = e.ui[t].prototype;
				for (i in r)
					s.plugins[i] = s.plugins[i] || [], s.plugins[i].push([n, r[i]])
			},
			call : function (e, t, n) {
				var r,
				i = e.plugins[t];
				if (i && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)
					for (r = 0; i.length > r; r++)
						e.options[i[r][0]] && i[r][1].apply(e.element, n)
			}
		},
		hasScroll : function (t, n) {
			if ("hidden" === e(t).css("overflow"))
				return !1;
			var r = n && "left" === n ? "scrollLeft" : "scrollTop",
			i = !1;
			return t[r] > 0 ? !0 : (t[r] = 1, i = t[r] > 0, t[r] = 0, i)
		}
	})
}
(jQuery), function (e, t) {
	var n = 0,
	r = Array.prototype.slice,
	i = e.cleanData;
	e.cleanData = function (t) {
		for (var n, r = 0; null != (n = t[r]); r++)
			try {
				e(n).triggerHandler("remove")
			} catch (s) {}

		i(t)
	},
	e.widget = function (n, r, i) {
		var s,
		o,
		u,
		a,
		f = {},
		l = n.split(".")[0];
		n = n.split(".")[1],
		s = l + "-" + n,
		i || (i = r, r = e.Widget),
		e.expr[":"][s.toLowerCase()] = function (t) {
			return !!e.data(t, s)
		},
		e[l] = e[l] || {},
		o = e[l][n],
		u = e[l][n] = function (e, n) {
			return this._createWidget ? (arguments.length && this._createWidget(e, n), t) : new u(e, n)
		},
		e.extend(u, o, {
			version : i.version,
			_proto : e.extend({}, i),
			_childConstructors : []
		}),
		a = new r,
		a.options = e.widget.extend({}, a.options),
		e.each(i, function (n, i) {
			return e.isFunction(i) ? (f[n] = function () {
				var e = function () {
					return r.prototype[n].apply(this, arguments)
				},
				t = function (e) {
					return r.prototype[n].apply(this, e)
				};
				return function () {
					var n,
					r = this._super,
					s = this._superApply;
					return this._super = e,
					this._superApply = t,
					n = i.apply(this, arguments),
					this._super = r,
					this._superApply = s,
					n
				}
			}
				(), t) : (f[n] = i, t)
		}),
		u.prototype = e.widget.extend(a, {
				widgetEventPrefix : o ? a.widgetEventPrefix : n
			}, f, {
				constructor : u,
				namespace : l,
				widgetName : n,
				widgetFullName : s
			}),
		o ? (e.each(o._childConstructors, function (t, n) {
				var r = n.prototype;
				e.widget(r.namespace + "." + r.widgetName, u, n._proto)
			}), delete o._childConstructors) : r._childConstructors.push(u),
		e.widget.bridge(n, u)
	},
	e.widget.extend = function (n) {
		for (var i, o, u = r.call(arguments, 1), a = 0, f = u.length; f > a; a++)
			for (i in u[a])
				o = u[a][i], u[a].hasOwnProperty(i) && o !== t && (n[i] = e.isPlainObject(o) ? e.isPlainObject(n[i]) ? e.widget.extend({}, n[i], o) : e.widget.extend({}, o) : o);
		return n
	},
	e.widget.bridge = function (n, i) {
		var o = i.prototype.widgetFullName || n;
		e.fn[n] = function (u) {
			var f = "string" == typeof u,
			l = r.call(arguments, 1),
			c = this;
			return u = !f && l.length ? e.widget.extend.apply(null, [u].concat(l)) : u,
			f ? this.each(function () {
				var r,
				i = e.data(this, o);
				return i ? e.isFunction(i[u]) && "_" !== u.charAt(0) ? (r = i[u].apply(i, l), r !== i && r !== t ? (c = r && r.jquery ? c.pushStack(r.get()) : r, !1) : t) : e.error("no such method '" + u + "' for " + n + " widget instance") : e.error("cannot call methods on " + n + " prior to initialization; " + "attempted to call method '" + u + "'")
			}) : this.each(function () {
				var t = e.data(this, o);
				t ? t.option(u || {})._init() : e.data(this, o, new i(u, this))
			}),
			c
		}
	},
	e.Widget = function () {},
	e.Widget._childConstructors = [],
	e.Widget.prototype = {
		widgetName : "widget",
		widgetEventPrefix : "",
		defaultElement : "<div>",
		options : {
			disabled : !1,
			create : null
		},
		_createWidget : function (t, r) {
			r = e(r || this.defaultElement || this)[0],
			this.element = e(r),
			this.uuid = n++,
			this.eventNamespace = "." + this.widgetName + this.uuid,
			this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t),
			this.bindings = e(),
			this.hoverable = e(),
			this.focusable = e(),
			r !== this && (e.data(r, this.widgetFullName, this), this._on(!0, this.element, {
					remove : function (e) {
						e.target === r && this.destroy()
					}
				}), this.document = e(r.style ? r.ownerDocument : r.document || r), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)),
			this._create(),
			this._trigger("create", null, this._getCreateEventData()),
			this._init()
		},
		_getCreateOptions : e.noop,
		_getCreateEventData : e.noop,
		_create : e.noop,
		_init : e.noop,
		destroy : function () {
			this._destroy(),
			this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
			this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"),
			this.bindings.unbind(this.eventNamespace),
			this.hoverable.removeClass("ui-state-hover"),
			this.focusable.removeClass("ui-state-focus")
		},
		_destroy : e.noop,
		widget : function () {
			return this.element
		},
		option : function (n, r) {
			var i,
			s,
			o,
			u = n;
			if (0 === arguments.length)
				return e.widget.extend({}, this.options);
			if ("string" == typeof n)
				if (u = {}, i = n.split("."), n = i.shift(), i.length) {
					for (s = u[n] = e.widget.extend({}, this.options[n]), o = 0; i.length - 1 > o; o++)
						s[i[o]] = s[i[o]] || {},
					s = s[i[o]];
					if (n = i.pop(), r === t)
						return s[n] === t ? null : s[n];
					s[n] = r
				} else {
					if (r === t)
						return this.options[n] === t ? null : this.options[n];
					u[n] = r
				}
			return this._setOptions(u),
			this
		},
		_setOptions : function (e) {
			var t;
			for (t in e)
				this._setOption(t, e[t]);
			return this
		},
		_setOption : function (e, t) {
			return this.options[e] = t,
			"disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")),
			this
		},
		enable : function () {
			return this._setOption("disabled", !1)
		},
		disable : function () {
			return this._setOption("disabled", !0)
		},
		_on : function (n, r, i) {
			var s,
			o = this;
			"boolean" != typeof n && (i = r, r = n, n = !1),
			i ? (r = s = e(r), this.bindings = this.bindings.add(r)) : (i = r, r = this.element, s = this.widget()),
			e.each(i, function (i, u) {
				function f() {
					return n || o.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof u ? o[u] : u).apply(o, arguments) : t
				}
				"string" != typeof u && (f.guid = u.guid = u.guid || f.guid || e.guid++);
				var l = i.match(/^(\w+)\s*(.*)$/),
				c = l[1] + o.eventNamespace,
				h = l[2];
				h ? s.delegate(h, c, f) : r.bind(c, f)
			})
		},
		_off : function (e, t) {
			t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
			e.unbind(t).undelegate(t)
		},
		_delay : function (e, t) {
			function n() {
				return ("string" == typeof e ? r[e] : e).apply(r, arguments)
			}
			var r = this;
			return setTimeout(n, t || 0)
		},
		_hoverable : function (t) {
			this.hoverable = this.hoverable.add(t),
			this._on(t, {
				mouseenter : function (t) {
					e(t.currentTarget).addClass("ui-state-hover")
				},
				mouseleave : function (t) {
					e(t.currentTarget).removeClass("ui-state-hover")
				}
			})
		},
		_focusable : function (t) {
			this.focusable = this.focusable.add(t),
			this._on(t, {
				focusin : function (t) {
					e(t.currentTarget).addClass("ui-state-focus")
				},
				focusout : function (t) {
					e(t.currentTarget).removeClass("ui-state-focus")
				}
			})
		},
		_trigger : function (t, n, r) {
			var i,
			s,
			o = this.options[t];
			if (r = r || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], s = n.originalEvent)
				for (i in s)
					i in n || (n[i] = s[i]);
			return this.element.trigger(n, r),
			!(e.isFunction(o) && o.apply(this.element[0], [n].concat(r)) === !1 || n.isDefaultPrevented())
		}
	},
	e.each({
		show : "fadeIn",
		hide : "fadeOut"
	}, function (t, n) {
		e.Widget.prototype["_" + t] = function (r, i, s) {
			"string" == typeof i && (i = {
					effect : i
				});
			var o,
			u = i ? i === !0 || "number" == typeof i ? n : i.effect || n : t;
			i = i || {},
			"number" == typeof i && (i = {
					duration : i
				}),
			o = !e.isEmptyObject(i),
			i.complete = s,
			i.delay && r.delay(i.delay),
			o && e.effects && e.effects.effect[u] ? r[t](i) : u !== t && r[u] ? r[u](i.duration, i.easing, s) : r.queue(function (n) {
				e(this)[t](),
				s && s.call(r[0]),
				n()
			})
		}
	})
}
(jQuery), function (e) {
	var t = !1;
	e(document).mouseup(function () {
		t = !1
	}),
	e.widget("ui.mouse", {
		version : "1.10.2",
		options : {
			cancel : "input,textarea,button,select,option",
			distance : 1,
			delay : 0
		},
		_mouseInit : function () {
			var t = this;
			this.element.bind("mousedown." + this.widgetName, function (e) {
				return t._mouseDown(e)
			}).bind("click." + this.widgetName, function (n) {
				return !0 === e.data(n.target, t.widgetName + ".preventClickEvent") ? (e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1) : undefined
			}),
			this.started = !1
		},
		_mouseDestroy : function () {
			this.element.unbind("." + this.widgetName),
			this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
		},
		_mouseDown : function (n) {
			if (!t) {
				this._mouseStarted && this._mouseUp(n),
				this._mouseDownEvent = n;
				var r = this,
				i = 1 === n.which,
				s = "string" == typeof this.options.cancel && n.target.nodeName ? e(n.target).closest(this.options.cancel).length : !1;
				return i && !s && this._mouseCapture(n) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
								r.mouseDelayMet = !0
							}, this.options.delay)), this._mouseDistanceMet(n) && this._mouseDelayMet(n) && (this._mouseStarted = this._mouseStart(n) !== !1, !this._mouseStarted) ? (n.preventDefault(), !0) : (!0 === e.data(n.target, this.widgetName + ".preventClickEvent") && e.removeData(n.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (e) {
						return r._mouseMove(e)
					}, this._mouseUpDelegate = function (e) {
						return r._mouseUp(e)
					}, e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), n.preventDefault(), t = !0, !0)) : !0
			}
		},
		_mouseMove : function (t) {
			return e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button ? this._mouseUp(t) : this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted)
		},
		_mouseUp : function (t) {
			return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
			this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)),
			!1
		},
		_mouseDistanceMet : function (e) {
			return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
		},
		_mouseDelayMet : function () {
			return this.mouseDelayMet
		},
		_mouseStart : function () {},
		_mouseDrag : function () {},
		_mouseStop : function () {},
		_mouseCapture : function () {
			return !0
		}
	})
}
(jQuery), function (e, t) {
	function n(e, t, n) {
		return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? n / 100 : 1)]
	}
	function r(t, n) {
		return parseInt(e.css(t, n), 10) || 0
	}
	function i(t) {
		var n = t[0];
		return 9 === n.nodeType ? {
			width : t.width(),
			height : t.height(),
			offset : {
				top : 0,
				left : 0
			}
		}
		 : e.isWindow(n) ? {
			width : t.width(),
			height : t.height(),
			offset : {
				top : t.scrollTop(),
				left : t.scrollLeft()
			}
		}
		 : n.preventDefault ? {
			width : 0,
			height : 0,
			offset : {
				top : n.pageY,
				left : n.pageX
			}
		}
		 : {
			width : t.outerWidth(),
			height : t.outerHeight(),
			offset : t.offset()
		}
	}
	e.ui = e.ui || {};
	var s,
	o = Math.max,
	u = Math.abs,
	a = Math.round,
	f = /left|center|right/,
	l = /top|center|bottom/,
	c = /[\+\-]\d+(\.[\d]+)?%?/,
	h = /^\w+/,
	p = /%$/,
	d = e.fn.position;
	e.position = {
		scrollbarWidth : function () {
			if (s !== t)
				return s;
			var n,
			r,
			i = e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
			o = i.children()[0];
			return e("body").append(i),
			n = o.offsetWidth,
			i.css("overflow", "scroll"),
			r = o.offsetWidth,
			n === r && (r = i[0].clientWidth),
			i.remove(),
			s = n - r
		},
		getScrollInfo : function (t) {
			var n = t.isWindow ? "" : t.element.css("overflow-x"),
			r = t.isWindow ? "" : t.element.css("overflow-y"),
			i = "scroll" === n || "auto" === n && t.width < t.element[0].scrollWidth,
			s = "scroll" === r || "auto" === r && t.height < t.element[0].scrollHeight;
			return {
				width : s ? e.position.scrollbarWidth() : 0,
				height : i ? e.position.scrollbarWidth() : 0
			}
		},
		getWithinInfo : function (t) {
			var n = e(t || window),
			r = e.isWindow(n[0]);
			return {
				element : n,
				isWindow : r,
				offset : n.offset() || {
					left : 0,
					top : 0
				},
				scrollLeft : n.scrollLeft(),
				scrollTop : n.scrollTop(),
				width : r ? n.width() : n.outerWidth(),
				height : r ? n.height() : n.outerHeight()
			}
		}
	},
	e.fn.position = function (t) {
		if (!t || !t.of)
			return d.apply(this, arguments);
		t = e.extend({}, t);
		var s,
		p,
		v,
		m,
		g,
		y,
		b = e(t.of),
		w = e.position.getWithinInfo(t.within),
		E = e.position.getScrollInfo(w),
		S = (t.collision || "flip").split(" "),
		x = {};
		return y = i(b),
		b[0].preventDefault && (t.at = "left top"),
		p = y.width,
		v = y.height,
		m = y.offset,
		g = e.extend({}, m),
		e.each(["my", "at"], function () {
			var e,
			n,
			r = (t[this] || "").split(" ");
			1 === r.length && (r = f.test(r[0]) ? r.concat(["center"]) : l.test(r[0]) ? ["center"].concat(r) : ["center", "center"]),
			r[0] = f.test(r[0]) ? r[0] : "center",
			r[1] = l.test(r[1]) ? r[1] : "center",
			e = c.exec(r[0]),
			n = c.exec(r[1]),
			x[this] = [e ? e[0] : 0, n ? n[0] : 0],
			t[this] = [h.exec(r[0])[0], h.exec(r[1])[0]]
		}),
		1 === S.length && (S[1] = S[0]),
		"right" === t.at[0] ? g.left += p : "center" === t.at[0] && (g.left += p / 2),
		"bottom" === t.at[1] ? g.top += v : "center" === t.at[1] && (g.top += v / 2),
		s = n(x.at, p, v),
		g.left += s[0],
		g.top += s[1],
		this.each(function () {
			var i,
			f,
			l = e(this),
			c = l.outerWidth(),
			h = l.outerHeight(),
			d = r(this, "marginLeft"),
			y = r(this, "marginTop"),
			T = c + d + r(this, "marginRight") + E.width,
			N = h + y + r(this, "marginBottom") + E.height,
			C = e.extend({}, g),
			L = n(x.my, l.outerWidth(), l.outerHeight());
			"right" === t.my[0] ? C.left -= c : "center" === t.my[0] && (C.left -= c / 2),
			"bottom" === t.my[1] ? C.top -= h : "center" === t.my[1] && (C.top -= h / 2),
			C.left += L[0],
			C.top += L[1],
			e.support.offsetFractions || (C.left = a(C.left), C.top = a(C.top)),
			i = {
				marginLeft : d,
				marginTop : y
			},
			e.each(["left", "top"], function (n, r) {
				e.ui.position[S[n]] && e.ui.position[S[n]][r](C, {
					targetWidth : p,
					targetHeight : v,
					elemWidth : c,
					elemHeight : h,
					collisionPosition : i,
					collisionWidth : T,
					collisionHeight : N,
					offset : [s[0] + L[0], s[1] + L[1]],
					my : t.my,
					at : t.at,
					within : w,
					elem : l
				})
			}),
			t.using && (f = function (e) {
				var n = m.left - C.left,
				r = n + p - c,
				i = m.top - C.top,
				s = i + v - h,
				a = {
					target : {
						element : b,
						left : m.left,
						top : m.top,
						width : p,
						height : v
					},
					element : {
						element : l,
						left : C.left,
						top : C.top,
						width : c,
						height : h
					},
					horizontal : 0 > r ? "left" : n > 0 ? "right" : "center",
					vertical : 0 > s ? "top" : i > 0 ? "bottom" : "middle"
				};
				c > p && p > u(n + r) && (a.horizontal = "center"),
				h > v && v > u(i + s) && (a.vertical = "middle"),
				a.important = o(u(n), u(r)) > o(u(i), u(s)) ? "horizontal" : "vertical",
				t.using.call(this, e, a)
			}),
			l.offset(e.extend(C, {
					using : f
				}))
		})
	},
	e.ui.position = {
		fit : {
			left : function (e, t) {
				var n,
				r = t.within,
				i = r.isWindow ? r.scrollLeft : r.offset.left,
				s = r.width,
				u = e.left - t.collisionPosition.marginLeft,
				a = i - u,
				f = u + t.collisionWidth - s - i;
				t.collisionWidth > s ? a > 0 && 0 >= f ? (n = e.left + a + t.collisionWidth - s - i, e.left += a - n) : e.left = f > 0 && 0 >= a ? i : a > f ? i + s - t.collisionWidth : i : a > 0 ? e.left += a : f > 0 ? e.left -= f : e.left = o(e.left - u, e.left)
			},
			top : function (e, t) {
				var n,
				r = t.within,
				i = r.isWindow ? r.scrollTop : r.offset.top,
				s = t.within.height,
				u = e.top - t.collisionPosition.marginTop,
				a = i - u,
				f = u + t.collisionHeight - s - i;
				t.collisionHeight > s ? a > 0 && 0 >= f ? (n = e.top + a + t.collisionHeight - s - i, e.top += a - n) : e.top = f > 0 && 0 >= a ? i : a > f ? i + s - t.collisionHeight : i : a > 0 ? e.top += a : f > 0 ? e.top -= f : e.top = o(e.top - u, e.top)
			}
		},
		flip : {
			left : function (e, t) {
				var n,
				r,
				i = t.within,
				s = i.offset.left + i.scrollLeft,
				o = i.width,
				a = i.isWindow ? i.scrollLeft : i.offset.left,
				f = e.left - t.collisionPosition.marginLeft,
				l = f - a,
				c = f + t.collisionWidth - o - a,
				h = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0,
				p = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0,
				d = -2 * t.offset[0];
				0 > l ? (n = e.left + h + p + d + t.collisionWidth - o - s, (0 > n || u(l) > n) && (e.left += h + p + d)) : c > 0 && (r = e.left - t.collisionPosition.marginLeft + h + p + d - a, (r > 0 || c > u(r)) && (e.left += h + p + d))
			},
			top : function (e, t) {
				var n,
				r,
				i = t.within,
				s = i.offset.top + i.scrollTop,
				o = i.height,
				a = i.isWindow ? i.scrollTop : i.offset.top,
				f = e.top - t.collisionPosition.marginTop,
				l = f - a,
				c = f + t.collisionHeight - o - a,
				h = "top" === t.my[1],
				p = h ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0,
				d = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0,
				v = -2 * t.offset[1];
				0 > l ? (r = e.top + p + d + v + t.collisionHeight - o - s, e.top + p + d + v > l && (0 > r || u(l) > r) && (e.top += p + d + v)) : c > 0 && (n = e.top - t.collisionPosition.marginTop + p + d + v - a, e.top + p + d + v > c && (n > 0 || c > u(n)) && (e.top += p + d + v))
			}
		},
		flipfit : {
			left : function () {
				e.ui.position.flip.left.apply(this, arguments),
				e.ui.position.fit.left.apply(this, arguments)
			},
			top : function () {
				e.ui.position.flip.top.apply(this, arguments),
				e.ui.position.fit.top.apply(this, arguments)
			}
		}
	},
	function () {
		var t,
		n,
		r,
		i,
		s,
		o = document.getElementsByTagName("body")[0],
		u = document.createElement("div");
		t = document.createElement(o ? "div" : "body"),
		r = {
			visibility : "hidden",
			width : 0,
			height : 0,
			border : 0,
			margin : 0,
			background : "none"
		},
		o && e.extend(r, {
			position : "absolute",
			left : "-1000px",
			top : "-1000px"
		});
		for (s in r)
			t.style[s] = r[s];
		t.appendChild(u),
		n = o || document.documentElement,
		n.insertBefore(t, n.firstChild),
		u.style.cssText = "position: absolute; left: 10.7432222px;",
		i = e(u).offset().left,
		e.support.offsetFractions = i > 10 && 11 > i,
		t.innerHTML = "",
		n.removeChild(t)
	}
	()
}
(jQuery), function (e) {
	e.widget("ui.draggable", e.ui.mouse, {
		version : "1.10.2",
		widgetEventPrefix : "drag",
		options : {
			addClasses : !0,
			appendTo : "parent",
			axis : !1,
			connectToSortable : !1,
			containment : !1,
			cursor : "auto",
			cursorAt : !1,
			grid : !1,
			handle : !1,
			helper : "original",
			iframeFix : !1,
			opacity : !1,
			refreshPositions : !1,
			revert : !1,
			revertDuration : 500,
			scope : "default",
			scroll : !0,
			scrollSensitivity : 20,
			scrollSpeed : 20,
			snap : !1,
			snapMode : "both",
			snapTolerance : 20,
			stack : !1,
			zIndex : !1,
			drag : null,
			start : null,
			stop : null
		},
		_create : function () {
			"original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"),
			this.options.addClasses && this.element.addClass("ui-draggable"),
			this.options.disabled && this.element.addClass("ui-draggable-disabled"),
			this._mouseInit()
		},
		_destroy : function () {
			this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
			this._mouseDestroy()
		},
		_mouseCapture : function (t) {
			var n = this.options;
			return this.helper || n.disabled || e(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (e(n.iframeFix === !0 ? "iframe" : n.iframeFix).each(function () {
						e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
							width : this.offsetWidth + "px",
							height : this.offsetHeight + "px",
							position : "absolute",
							opacity : "0.001",
							zIndex : 1e3
						}).css(e(this).offset()).appendTo("body")
					}), !0) : !1)
		},
		_mouseStart : function (t) {
			var n = this.options;
			return this.helper = this._createHelper(t),
			this.helper.addClass("ui-draggable-dragging"),
			this._cacheHelperProportions(),
			e.ui.ddmanager && (e.ui.ddmanager.current = this),
			this._cacheMargins(),
			this.cssPosition = this.helper.css("position"),
			this.scrollParent = this.helper.scrollParent(),
			this.offset = this.positionAbs = this.element.offset(),
			this.offset = {
				top : this.offset.top - this.margins.top,
				left : this.offset.left - this.margins.left
			},
			e.extend(this.offset, {
				click : {
					left : t.pageX - this.offset.left,
					top : t.pageY - this.offset.top
				},
				parent : this._getParentOffset(),
				relative : this._getRelativeOffset()
			}),
			this.originalPosition = this.position = this._generatePosition(t),
			this.originalPageX = t.pageX,
			this.originalPageY = t.pageY,
			n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt),
			n.containment && this._setContainment(),
			this._trigger("start", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this._mouseDrag(t, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t), !0)
		},
		_mouseDrag : function (t, n) {
			if (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), !n) {
				var r = this._uiHash();
				if (this._trigger("drag", t, r) === !1)
					return this._mouseUp({}), !1;
				this.position = r.position
			}
			return this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
			this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
			e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
			!1
		},
		_mouseStop : function (t) {
			var n,
			r = this,
			i = !1,
			s = !1;
			for (e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)), this.dropped && (s = this.dropped, this.dropped = !1), n = this.element[0]; n && (n = n.parentNode); )
				n === document && (i = !0);
			return i || "original" !== this.options.helper ? ("invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
					r._trigger("stop", t) !== !1 && r._clear()
				}) : this._trigger("stop", t) !== !1 && this._clear(), !1) : !1
		},
		_mouseUp : function (t) {
			return e("div.ui-draggable-iframeFix").each(function () {
				this.parentNode.removeChild(this)
			}),
			e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
			e.ui.mouse.prototype._mouseUp.call(this, t)
		},
		cancel : function () {
			return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(),
			this
		},
		_getHandle : function (t) {
			return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length : !0
		},
		_createHelper : function (t) {
			var n = this.options,
			r = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t])) : "clone" === n.helper ? this.element.clone().removeAttr("id") : this.element;
			return r.parents("body").length || r.appendTo("parent" === n.appendTo ? this.element[0].parentNode : n.appendTo),
			r[0] === this.element[0] || /(fixed|absolute)/.test(r.css("position")) || r.css("position", "absolute"),
			r
		},
		_adjustOffsetFromHelper : function (t) {
			"string" == typeof t && (t = t.split(" ")),
			e.isArray(t) && (t = {
					left : +t[0],
					top : +t[1] || 0
				}),
			"left" in t && (this.offset.click.left = t.left + this.margins.left),
			"right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
			"top" in t && (this.offset.click.top = t.top + this.margins.top),
			"bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
		},
		_getParentOffset : function () {
			this.offsetParent = this.helper.offsetParent();
			var t = this.offsetParent.offset();
			return "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()),
			(this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
					top : 0,
					left : 0
				}), {
				top : t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
				left : t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
			}
		},
		_getRelativeOffset : function () {
			if ("relative" === this.cssPosition) {
				var e = this.element.position();
				return {
					top : e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
					left : e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
				}
			}
			return {
				top : 0,
				left : 0
			}
		},
		_cacheMargins : function () {
			this.margins = {
				left : parseInt(this.element.css("marginLeft"), 10) || 0,
				top : parseInt(this.element.css("marginTop"), 10) || 0,
				right : parseInt(this.element.css("marginRight"), 10) || 0,
				bottom : parseInt(this.element.css("marginBottom"), 10) || 0
			}
		},
		_cacheHelperProportions : function () {
			this.helperProportions = {
				width : this.helper.outerWidth(),
				height : this.helper.outerHeight()
			}
		},
		_setContainment : function () {
			var t,
			n,
			r,
			i = this.options;
			if ("parent" === i.containment && (i.containment = this.helper[0].parentNode), ("document" === i.containment || "window" === i.containment) && (this.containment = ["document" === i.containment ? 0 : e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, "document" === i.containment ? 0 : e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, ("document" === i.containment ? 0 : e(window).scrollLeft()) + e("document" === i.containment ? document : window).width() - this.helperProportions.width - this.margins.left, ("document" === i.containment ? 0 : e(window).scrollTop()) + (e("document" === i.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(i.containment) || i.containment.constructor === Array)
				i.containment.constructor === Array && (this.containment = i.containment);
			else {
				if (n = e(i.containment), r = n[0], !r)
					return;
				t = "hidden" !== e(r).css("overflow"),
				this.containment = [(parseInt(e(r).css("borderLeftWidth"), 10) || 0) + (parseInt(e(r).css("paddingLeft"), 10) || 0), (parseInt(e(r).css("borderTopWidth"), 10) || 0) + (parseInt(e(r).css("paddingTop"), 10) || 0), (t ? Math.max(r.scrollWidth, r.offsetWidth) : r.offsetWidth) - (parseInt(e(r).css("borderRightWidth"), 10) || 0) - (parseInt(e(r).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(r.scrollHeight, r.offsetHeight) : r.offsetHeight) - (parseInt(e(r).css("borderBottomWidth"), 10) || 0) - (parseInt(e(r).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
				this.relative_container = n
			}
		},
		_convertPositionTo : function (t, n) {
			n || (n = this.position);
			var r = "absolute" === t ? 1 : -1,
			i = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
			s = /(html|body)/i.test(i[0].tagName);
			return {
				top : n.top + this.offset.relative.top * r + this.offset.parent.top * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : s ? 0 : i.scrollTop()) * r,
				left : n.left + this.offset.relative.left * r + this.offset.parent.left * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : s ? 0 : i.scrollLeft()) * r
			}
		},
		_generatePosition : function (t) {
			var n,
			r,
			i,
			s,
			o = this.options,
			u = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
			a = /(html|body)/i.test(u[0].tagName),
			f = t.pageX,
			l = t.pageY;
			return this.originalPosition && (this.containment && (this.relative_container ? (r = this.relative_container.offset(), n = [this.containment[0] + r.left, this.containment[1] + r.top, this.containment[2] + r.left, this.containment[3] + r.top]) : n = this.containment, t.pageX - this.offset.click.left < n[0] && (f = n[0] + this.offset.click.left), t.pageY - this.offset.click.top < n[1] && (l = n[1] + this.offset.click.top), t.pageX - this.offset.click.left > n[2] && (f = n[2] + this.offset.click.left), t.pageY - this.offset.click.top > n[3] && (l = n[3] + this.offset.click.top)), o.grid && (i = o.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY, l = n ? i - this.offset.click.top >= n[1] || i - this.offset.click.top > n[3] ? i : i - this.offset.click.top >= n[1] ? i - o.grid[1] : i + o.grid[1] : i, s = o.grid[0] ? this.originalPageX + Math.round((f - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX, f = n ? s - this.offset.click.left >= n[0] || s - this.offset.click.left > n[2] ? s : s - this.offset.click.left >= n[0] ? s - o.grid[0] : s + o.grid[0] : s)), {
				top : l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : a ? 0 : u.scrollTop()),
				left : f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : a ? 0 : u.scrollLeft())
			}
		},
		_clear : function () {
			this.helper.removeClass("ui-draggable-dragging"),
			this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
			this.helper = null,
			this.cancelHelperRemoval = !1
		},
		_trigger : function (t, n, r) {
			return r = r || this._uiHash(),
			e.ui.plugin.call(this, t, [n, r]),
			"drag" === t && (this.positionAbs = this._convertPositionTo("absolute")),
			e.Widget.prototype._trigger.call(this, t, n, r)
		},
		plugins : {},
		_uiHash : function () {
			return {
				helper : this.helper,
				position : this.position,
				originalPosition : this.originalPosition,
				offset : this.positionAbs
			}
		}
	}),
	e.ui.plugin.add("draggable", "connectToSortable", {
		start : function (t, n) {
			var r = e(this).data("ui-draggable"),
			i = r.options,
			s = e.extend({}, n, {
					item : r.element
				});
			r.sortables = [],
			e(i.connectToSortable).each(function () {
				var n = e.data(this, "ui-sortable");
				n && !n.options.disabled && (r.sortables.push({
						instance : n,
						shouldRevert : n.options.revert
					}), n.refreshPositions(), n._trigger("activate", t, s))
			})
		},
		stop : function (t, n) {
			var r = e(this).data("ui-draggable"),
			i = e.extend({}, n, {
					item : r.element
				});
			e.each(r.sortables, function () {
				this.instance.isOver ? (this.instance.isOver = 0, r.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(t), this.instance.options.helper = this.instance.options._helper, "original" === r.options.helper && this.instance.currentItem.css({
						top : "auto",
						left : "auto"
					})) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", t, i))
			})
		},
		drag : function (t, n) {
			var r = e(this).data("ui-draggable"),
			i = this;
			e.each(r.sortables, function () {
				var o = !1,
				u = this;
				this.instance.positionAbs = r.positionAbs,
				this.instance.helperProportions = r.helperProportions,
				this.instance.offset.click = r.offset.click,
				this.instance._intersectsWith(this.instance.containerCache) && (o = !0, e.each(r.sortables, function () {
						return this.instance.positionAbs = r.positionAbs,
						this.instance.helperProportions = r.helperProportions,
						this.instance.offset.click = r.offset.click,
						this !== u && this.instance._intersectsWith(this.instance.containerCache) && e.contains(u.instance.element[0], this.instance.element[0]) && (o = !1),
						o
					})),
				o ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function () {
						return n.helper[0]
					}, t.target = this.instance.currentItem[0], this.instance._mouseCapture(t, !0), this.instance._mouseStart(t, !0, !0), this.instance.offset.click.top = r.offset.click.top, this.instance.offset.click.left = r.offset.click.left, this.instance.offset.parent.left -= r.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= r.offset.parent.top - this.instance.offset.parent.top, r._trigger("toSortable", t), r.dropped = this.instance.element, r.currentItem = r.element, this.instance.fromOutside = r), this.instance.currentItem && this.instance._mouseDrag(t)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", t, this.instance._uiHash(this.instance)), this.instance._mouseStop(t, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), r._trigger("fromSortable", t), r.dropped = !1)
			})
		}
	}),
	e.ui.plugin.add("draggable", "cursor", {
		start : function () {
			var t = e("body"),
			n = e(this).data("ui-draggable").options;
			t.css("cursor") && (n._cursor = t.css("cursor")),
			t.css("cursor", n.cursor)
		},
		stop : function () {
			var t = e(this).data("ui-draggable").options;
			t._cursor && e("body").css("cursor", t._cursor)
		}
	}),
	e.ui.plugin.add("draggable", "opacity", {
		start : function (t, n) {
			var r = e(n.helper),
			i = e(this).data("ui-draggable").options;
			r.css("opacity") && (i._opacity = r.css("opacity")),
			r.css("opacity", i.opacity)
		},
		stop : function (t, n) {
			var r = e(this).data("ui-draggable").options;
			r._opacity && e(n.helper).css("opacity", r._opacity)
		}
	}),
	e.ui.plugin.add("draggable", "scroll", {
		start : function () {
			var t = e(this).data("ui-draggable");
			t.scrollParent[0] !== document && "HTML" !== t.scrollParent[0].tagName && (t.overflowOffset = t.scrollParent.offset())
		},
		drag : function (t) {
			var n = e(this).data("ui-draggable"),
			r = n.options,
			i = !1;
			n.scrollParent[0] !== document && "HTML" !== n.scrollParent[0].tagName ? (r.axis && "x" === r.axis || (n.overflowOffset.top + n.scrollParent[0].offsetHeight - t.pageY < r.scrollSensitivity ? n.scrollParent[0].scrollTop = i = n.scrollParent[0].scrollTop + r.scrollSpeed : t.pageY - n.overflowOffset.top < r.scrollSensitivity && (n.scrollParent[0].scrollTop = i = n.scrollParent[0].scrollTop - r.scrollSpeed)), r.axis && "y" === r.axis || (n.overflowOffset.left + n.scrollParent[0].offsetWidth - t.pageX < r.scrollSensitivity ? n.scrollParent[0].scrollLeft = i = n.scrollParent[0].scrollLeft + r.scrollSpeed : t.pageX - n.overflowOffset.left < r.scrollSensitivity && (n.scrollParent[0].scrollLeft = i = n.scrollParent[0].scrollLeft - r.scrollSpeed))) : (r.axis && "x" === r.axis || (t.pageY - e(document).scrollTop() < r.scrollSensitivity ? i = e(document).scrollTop(e(document).scrollTop() - r.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < r.scrollSensitivity && (i = e(document).scrollTop(e(document).scrollTop() + r.scrollSpeed))), r.axis && "y" === r.axis || (t.pageX - e(document).scrollLeft() < r.scrollSensitivity ? i = e(document).scrollLeft(e(document).scrollLeft() - r.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < r.scrollSensitivity && (i = e(document).scrollLeft(e(document).scrollLeft() + r.scrollSpeed)))),
			i !== !1 && e.ui.ddmanager && !r.dropBehaviour && e.ui.ddmanager.prepareOffsets(n, t)
		}
	}),
	e.ui.plugin.add("draggable", "snap", {
		start : function () {
			var t = e(this).data("ui-draggable"),
			n = t.options;
			t.snapElements = [],
			e(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function () {
				var n = e(this),
				r = n.offset();
				this !== t.element[0] && t.snapElements.push({
					item : this,
					width : n.outerWidth(),
					height : n.outerHeight(),
					top : r.top,
					left : r.left
				})
			})
		},
		drag : function (t, n) {
			var r,
			i,
			s,
			o,
			u,
			a,
			f,
			l,
			c,
			h,
			p = e(this).data("ui-draggable"),
			d = p.options,
			v = d.snapTolerance,
			m = n.offset.left,
			g = m + p.helperProportions.width,
			y = n.offset.top,
			b = y + p.helperProportions.height;
			for (c = p.snapElements.length - 1; c >= 0; c--)
				u = p.snapElements[c].left, a = u + p.snapElements[c].width, f = p.snapElements[c].top, l = f + p.snapElements[c].height, m > u - v && a + v > m && y > f - v && l + v > y || m > u - v && a + v > m && b > f - v && l + v > b || g > u - v && a + v > g && y > f - v && l + v > y || g > u - v && a + v > g && b > f - v && l + v > b ? ("inner" !== d.snapMode && (r = v >= Math.abs(f - b), i = v >= Math.abs(l - y), s = v >= Math.abs(u - g), o = v >= Math.abs(a - m), r && (n.position.top = p._convertPositionTo("relative", {
									top : f - p.helperProportions.height,
									left : 0
								}).top - p.margins.top), i && (n.position.top = p._convertPositionTo("relative", {
									top : l,
									left : 0
								}).top - p.margins.top), s && (n.position.left = p._convertPositionTo("relative", {
									top : 0,
									left : u - p.helperProportions.width
								}).left - p.margins.left), o && (n.position.left = p._convertPositionTo("relative", {
									top : 0,
									left : a
								}).left - p.margins.left)), h = r || i || s || o, "outer" !== d.snapMode && (r = v >= Math.abs(f - y), i = v >= Math.abs(l - b), s = v >= Math.abs(u - m), o = v >= Math.abs(a - g), r && (n.position.top = p._convertPositionTo("relative", {
									top : f,
									left : 0
								}).top - p.margins.top), i && (n.position.top = p._convertPositionTo("relative", {
									top : l - p.helperProportions.height,
									left : 0
								}).top - p.margins.top), s && (n.position.left = p._convertPositionTo("relative", {
									top : 0,
									left : u
								}).left - p.margins.left), o && (n.position.left = p._convertPositionTo("relative", {
									top : 0,
									left : a - p.helperProportions.width
								}).left - p.margins.left)), !p.snapElements[c].snapping && (r || i || s || o || h) && p.options.snap.snap && p.options.snap.snap.call(p.element, t, e.extend(p._uiHash(), {
							snapItem : p.snapElements[c].item
						})), p.snapElements[c].snapping = r || i || s || o || h) : (p.snapElements[c].snapping && p.options.snap.release && p.options.snap.release.call(p.element, t, e.extend(p._uiHash(), {
							snapItem : p.snapElements[c].item
						})), p.snapElements[c].snapping = !1)
		}
	}),
	e.ui.plugin.add("draggable", "stack", {
		start : function () {
			var t,
			n = this.data("ui-draggable").options,
			r = e.makeArray(e(n.stack)).sort(function (t, n) {
					return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(n).css("zIndex"), 10) || 0)
				});
			r.length && (t = parseInt(e(r[0]).css("zIndex"), 10) || 0, e(r).each(function (n) {
					e(this).css("zIndex", t + n)
				}), this.css("zIndex", t + r.length))
		}
	}),
	e.ui.plugin.add("draggable", "zIndex", {
		start : function (t, n) {
			var r = e(n.helper),
			i = e(this).data("ui-draggable").options;
			r.css("zIndex") && (i._zIndex = r.css("zIndex")),
			r.css("zIndex", i.zIndex)
		},
		stop : function (t, n) {
			var r = e(this).data("ui-draggable").options;
			r._zIndex && e(n.helper).css("zIndex", r._zIndex)
		}
	})
}
(jQuery), function (e) {
	function t(e, t, n) {
		return e > t && t + n > e
	}
	e.widget("ui.droppable", {
		version : "1.10.2",
		widgetEventPrefix : "drop",
		options : {
			accept : "*",
			activeClass : !1,
			addClasses : !0,
			greedy : !1,
			hoverClass : !1,
			scope : "default",
			tolerance : "intersect",
			activate : null,
			deactivate : null,
			drop : null,
			out : null,
			over : null
		},
		_create : function () {
			var t = this.options,
			n = t.accept;
			this.isover = !1,
			this.isout = !0,
			this.accept = e.isFunction(n) ? n : function (e) {
				return e.is(n)
			},
			this.proportions = {
				width : this.element[0].offsetWidth,
				height : this.element[0].offsetHeight
			},
			e.ui.ddmanager.droppables[t.scope] = e.ui.ddmanager.droppables[t.scope] || [],
			e.ui.ddmanager.droppables[t.scope].push(this),
			t.addClasses && this.element.addClass("ui-droppable")
		},
		_destroy : function () {
			for (var t = 0, n = e.ui.ddmanager.droppables[this.options.scope]; n.length > t; t++)
				n[t] === this && n.splice(t, 1);
			this.element.removeClass("ui-droppable ui-droppable-disabled")
		},
		_setOption : function (t, n) {
			"accept" === t && (this.accept = e.isFunction(n) ? n : function (e) {
				return e.is(n)
			}),
			e.Widget.prototype._setOption.apply(this, arguments)
		},
		_activate : function (t) {
			var n = e.ui.ddmanager.current;
			this.options.activeClass && this.element.addClass(this.options.activeClass),
			n && this._trigger("activate", t, this.ui(n))
		},
		_deactivate : function (t) {
			var n = e.ui.ddmanager.current;
			this.options.activeClass && this.element.removeClass(this.options.activeClass),
			n && this._trigger("deactivate", t, this.ui(n))
		},
		_over : function (t) {
			var n = e.ui.ddmanager.current;
			n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", t, this.ui(n)))
		},
		_out : function (t) {
			var n = e.ui.ddmanager.current;
			n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", t, this.ui(n)))
		},
		_drop : function (t, n) {
			var r = n || e.ui.ddmanager.current,
			i = !1;
			return r && (r.currentItem || r.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
					var t = e.data(this, "ui-droppable");
					return t.options.greedy && !t.options.disabled && t.options.scope === r.options.scope && t.accept.call(t.element[0], r.currentItem || r.element) && e.ui.intersect(r, e.extend(t, {
							offset : t.element.offset()
						}), t.options.tolerance) ? (i = !0, !1) : undefined
				}), i ? !1 : this.accept.call(this.element[0], r.currentItem || r.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", t, this.ui(r)), this.element) : !1) : !1
		},
		ui : function (e) {
			return {
				draggable : e.currentItem || e.element,
				helper : e.helper,
				position : e.position,
				offset : e.positionAbs
			}
		}
	}),
	e.ui.intersect = function (e, n, r) {
		if (!n.offset)
			return !1;
		var i,
		s,
		o = (e.positionAbs || e.position.absolute).left,
		u = o + e.helperProportions.width,
		a = (e.positionAbs || e.position.absolute).top,
		f = a + e.helperProportions.height,
		l = n.offset.left,
		c = l + n.proportions.width,
		h = n.offset.top,
		p = h + n.proportions.height;
		switch (r) {
		case "fit":
			return o >= l && c >= u && a >= h && p >= f;
		case "intersect":
			return o + e.helperProportions.width / 2 > l && c > u - e.helperProportions.width / 2 && a + e.helperProportions.height / 2 > h && p > f - e.helperProportions.height / 2;
		case "pointer":
			return i = (e.positionAbs || e.position.absolute).left + (e.clickOffset || e.offset.click).left,
			s = (e.positionAbs || e.position.absolute).top + (e.clickOffset || e.offset.click).top,
			t(s, h, n.proportions.height) && t(i, l, n.proportions.width);
		case "touch":
			return (a >= h && p >= a || f >= h && p >= f || h > a && f > p) && (o >= l && c >= o || u >= l && c >= u || l > o && u > c);
		default:
			return !1
		}
	},
	e.ui.ddmanager = {
		current : null,
		droppables : {
			"default" : []
		},
		prepareOffsets : function (t, n) {
			var r,
			i,
			s = e.ui.ddmanager.droppables[t.options.scope] || [],
			o = n ? n.type : null,
			u = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
			e : for (r = 0; s.length > r; r++)
				if (!(s[r].options.disabled || t && !s[r].accept.call(s[r].element[0], t.currentItem || t.element))) {
					for (i = 0; u.length > i; i++)
						if (u[i] === s[r].element[0]) {
							s[r].proportions.height = 0;
							continue e
						}
					s[r].visible = "none" !== s[r].element.css("display"),
					s[r].visible && ("mousedown" === o && s[r]._activate.call(s[r], n), s[r].offset = s[r].element.offset(), s[r].proportions = {
							width : s[r].element[0].offsetWidth,
							height : s[r].element[0].offsetHeight
						})
				}
		},
		drop : function (t, n) {
			var r = !1;
			return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function () {
				this.options && (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance) && (r = this._drop.call(this, n) || r), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, n)))
			}),
			r
		},
		dragStart : function (t, n) {
			t.element.parentsUntil("body").bind("scroll.droppable", function () {
				t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n)
			})
		},
		drag : function (t, n) {
			t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, n),
			e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function () {
				if (!this.options.disabled && !this.greedyChild && this.visible) {
					var r,
					s,
					o,
					u = e.ui.intersect(t, this, this.options.tolerance),
					a = !u && this.isover ? "isout" : u && !this.isover ? "isover" : null;
					a && (this.options.greedy && (s = this.options.scope, o = this.element.parents(":data(ui-droppable)").filter(function () {
									return e.data(this, "ui-droppable").options.scope === s
								}), o.length && (r = e.data(o[0], "ui-droppable"), r.greedyChild = "isover" === a)), r && "isover" === a && (r.isover = !1, r.isout = !0, r._out.call(r, n)), this[a] = !0, this["isout" === a ? "isover" : "isout"] = !1, this["isover" === a ? "_over" : "_out"].call(this, n), r && "isout" === a && (r.isout = !1, r.isover = !0, r._over.call(r, n)))
				}
			})
		},
		dragStop : function (t, n) {
			t.element.parentsUntil("body").unbind("scroll.droppable"),
			t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n)
		}
	}
}
(jQuery), function (e) {
	function t(e) {
		return parseInt(e, 10) || 0
	}
	function n(e) {
		return !isNaN(parseInt(e, 10))
	}
	e.widget("ui.resizable", e.ui.mouse, {
		version : "1.10.2",
		widgetEventPrefix : "resize",
		options : {
			alsoResize : !1,
			animate : !1,
			animateDuration : "slow",
			animateEasing : "swing",
			aspectRatio : !1,
			autoHide : !1,
			containment : !1,
			ghost : !1,
			grid : !1,
			handles : "e,s,se",
			helper : !1,
			maxHeight : null,
			maxWidth : null,
			minHeight : 10,
			minWidth : 10,
			zIndex : 90,
			resize : null,
			start : null,
			stop : null
		},
		_create : function () {
			var t,
			n,
			r,
			i,
			s,
			o = this,
			u = this.options;
			if (this.element.addClass("ui-resizable"), e.extend(this, {
					_aspectRatio : !!u.aspectRatio,
					aspectRatio : u.aspectRatio,
					originalElement : this.element,
					_proportionallyResizeElements : [],
					_helper : u.helper || u.ghost || u.animate ? u.helper || "ui-resizable-helper" : null
				}), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
							position : this.element.css("position"),
							width : this.element.outerWidth(),
							height : this.element.outerHeight(),
							top : this.element.css("top"),
							left : this.element.css("left")
						})), this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({
						marginLeft : this.originalElement.css("marginLeft"),
						marginTop : this.originalElement.css("marginTop"),
						marginRight : this.originalElement.css("marginRight"),
						marginBottom : this.originalElement.css("marginBottom")
					}), this.originalElement.css({
						marginLeft : 0,
						marginTop : 0,
						marginRight : 0,
						marginBottom : 0
					}), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
							position : "static",
							zoom : 1,
							display : "block"
						})), this.originalElement.css({
						margin : this.originalElement.css("margin")
					}), this._proportionallyResize()), this.handles = u.handles || (e(".ui-resizable-handle", this.element).length ? {
						n : ".ui-resizable-n",
						e : ".ui-resizable-e",
						s : ".ui-resizable-s",
						w : ".ui-resizable-w",
						se : ".ui-resizable-se",
						sw : ".ui-resizable-sw",
						ne : ".ui-resizable-ne",
						nw : ".ui-resizable-nw"
					}
						 : "e,s,se"), this.handles.constructor === String)
				for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), t = this.handles.split(","), this.handles = {}, n = 0; t.length > n; n++)
					r = e.trim(t[n]), s = "ui-resizable-" + r, i = e("<div class='ui-resizable-handle " + s + "'></div>"), i.css({
						zIndex : u.zIndex
					}), "se" === r && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[r] = ".ui-resizable-" + r, this.element.append(i);
			this._renderAxis = function (t) {
				var n,
				r,
				i,
				s;
				t = t || this.element;
				for (n in this.handles)
					this.handles[n].constructor === String && (this.handles[n] = e(this.handles[n], this.element).show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (r = e(this.handles[n], this.element), s = /sw|ne|nw|se|n|s/.test(n) ? r.outerHeight() : r.outerWidth(), i = ["padding", /ne|nw|n/.test(n) ? "Top" : /se|sw|s/.test(n) ? "Bottom" : /^e$/.test(n) ? "Right" : "Left"].join(""), t.css(i, s), this._proportionallyResize()), e(this.handles[n]).length
			},
			this._renderAxis(this.element),
			this._handles = e(".ui-resizable-handle", this.element).disableSelection(),
			this._handles.mouseover(function () {
				o.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), o.axis = i && i[1] ? i[1] : "se")
			}),
			u.autoHide && (this._handles.hide(), e(this.element).addClass("ui-resizable-autohide").mouseenter(function () {
					u.disabled || (e(this).removeClass("ui-resizable-autohide"), o._handles.show())
				}).mouseleave(function () {
					u.disabled || o.resizing || (e(this).addClass("ui-resizable-autohide"), o._handles.hide())
				})),
			this._mouseInit()
		},
		_destroy : function () {
			this._mouseDestroy();
			var t,
			n = function (t) {
				e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
			};
			return this.elementIsWrapper && (n(this.element), t = this.element, this.originalElement.css({
					position : t.css("position"),
					width : t.outerWidth(),
					height : t.outerHeight(),
					top : t.css("top"),
					left : t.css("left")
				}).insertAfter(t), t.remove()),
			this.originalElement.css("resize", this.originalResizeStyle),
			n(this.originalElement),
			this
		},
		_mouseCapture : function (t) {
			var n,
			r,
			i = !1;
			for (n in this.handles)
				r = e(this.handles[n])[0], (r === t.target || e.contains(r, t.target)) && (i = !0);
			return !this.options.disabled && i
		},
		_mouseStart : function (n) {
			var r,
			i,
			s,
			o = this.options,
			u = this.element.position(),
			a = this.element;
			return this.resizing = !0,
			/absolute/.test(a.css("position")) ? a.css({
				position : "absolute",
				top : a.css("top"),
				left : a.css("left")
			}) : a.is(".ui-draggable") && a.css({
				position : "absolute",
				top : u.top,
				left : u.left
			}),
			this._renderProxy(),
			r = t(this.helper.css("left")),
			i = t(this.helper.css("top")),
			o.containment && (r += e(o.containment).scrollLeft() || 0, i += e(o.containment).scrollTop() || 0),
			this.offset = this.helper.offset(),
			this.position = {
				left : r,
				top : i
			},
			this.size = this._helper ? {
				width : a.outerWidth(),
				height : a.outerHeight()
			}
			 : {
				width : a.width(),
				height : a.height()
			},
			this.originalSize = this._helper ? {
				width : a.outerWidth(),
				height : a.outerHeight()
			}
			 : {
				width : a.width(),
				height : a.height()
			},
			this.originalPosition = {
				left : r,
				top : i
			},
			this.sizeDiff = {
				width : a.outerWidth() - a.width(),
				height : a.outerHeight() - a.height()
			},
			this.originalMousePosition = {
				left : n.pageX,
				top : n.pageY
			},
			this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
			s = e(".ui-resizable-" + this.axis).css("cursor"),
			e("body").css("cursor", "auto" === s ? this.axis + "-resize" : s),
			a.addClass("ui-resizable-resizing"),
			this._propagate("start", n),
			!0
		},
		_mouseDrag : function (t) {
			var n,
			r = this.helper,
			i = {},
			s = this.originalMousePosition,
			o = this.axis,
			u = this.position.top,
			a = this.position.left,
			f = this.size.width,
			l = this.size.height,
			c = t.pageX - s.left || 0,
			h = t.pageY - s.top || 0,
			p = this._change[o];
			return p ? (n = p.apply(this, [t, c, h]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (n = this._updateRatio(n, t)), n = this._respectSize(n, t), this._updateCache(n), this._propagate("resize", t), this.position.top !== u && (i.top = this.position.top + "px"), this.position.left !== a && (i.left = this.position.left + "px"), this.size.width !== f && (i.width = this.size.width + "px"), this.size.height !== l && (i.height = this.size.height + "px"), r.css(i), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), e.isEmptyObject(i) || this._trigger("resize", t, this.ui()), !1) : !1
		},
		_mouseStop : function (t) {
			this.resizing = !1;
			var n,
			r,
			i,
			s,
			o,
			u,
			a,
			f = this.options,
			l = this;
			return this._helper && (n = this._proportionallyResizeElements, r = n.length && /textarea/i.test(n[0].nodeName), i = r && e.ui.hasScroll(n[0], "left") ? 0 : l.sizeDiff.height, s = r ? 0 : l.sizeDiff.width, o = {
					width : l.helper.width() - s,
					height : l.helper.height() - i
				}, u = parseInt(l.element.css("left"), 10) + (l.position.left - l.originalPosition.left) || null, a = parseInt(l.element.css("top"), 10) + (l.position.top - l.originalPosition.top) || null, f.animate || this.element.css(e.extend(o, {
						top : a,
						left : u
					})), l.helper.height(l.size.height), l.helper.width(l.size.width), this._helper && !f.animate && this._proportionallyResize()),
			e("body").css("cursor", "auto"),
			this.element.removeClass("ui-resizable-resizing"),
			this._propagate("stop", t),
			this._helper && this.helper.remove(),
			!1
		},
		_updateVirtualBoundaries : function (e) {
			var t,
			r,
			s,
			o,
			u,
			a = this.options;
			u = {
				minWidth : n(a.minWidth) ? a.minWidth : 0,
				maxWidth : n(a.maxWidth) ? a.maxWidth : 1 / 0,
				minHeight : n(a.minHeight) ? a.minHeight : 0,
				maxHeight : n(a.maxHeight) ? a.maxHeight : 1 / 0
			},
			(this._aspectRatio || e) && (t = u.minHeight * this.aspectRatio, s = u.minWidth / this.aspectRatio, r = u.maxHeight * this.aspectRatio, o = u.maxWidth / this.aspectRatio, t > u.minWidth && (u.minWidth = t), s > u.minHeight && (u.minHeight = s), u.maxWidth > r && (u.maxWidth = r), u.maxHeight > o && (u.maxHeight = o)),
			this._vBoundaries = u
		},
		_updateCache : function (e) {
			this.offset = this.helper.offset(),
			n(e.left) && (this.position.left = e.left),
			n(e.top) && (this.position.top = e.top),
			n(e.height) && (this.size.height = e.height),
			n(e.width) && (this.size.width = e.width)
		},
		_updateRatio : function (e) {
			var t = this.position,
			r = this.size,
			s = this.axis;
			return n(e.height) ? e.width = e.height * this.aspectRatio : n(e.width) && (e.height = e.width / this.aspectRatio),
			"sw" === s && (e.left = t.left + (r.width - e.width), e.top = null),
			"nw" === s && (e.top = t.top + (r.height - e.height), e.left = t.left + (r.width - e.width)),
			e
		},
		_respectSize : function (e) {
			var t = this._vBoundaries,
			r = this.axis,
			s = n(e.width) && t.maxWidth && t.maxWidth < e.width,
			o = n(e.height) && t.maxHeight && t.maxHeight < e.height,
			u = n(e.width) && t.minWidth && t.minWidth > e.width,
			a = n(e.height) && t.minHeight && t.minHeight > e.height,
			f = this.originalPosition.left + this.originalSize.width,
			l = this.position.top + this.size.height,
			c = /sw|nw|w/.test(r),
			h = /nw|ne|n/.test(r);
			return u && (e.width = t.minWidth),
			a && (e.height = t.minHeight),
			s && (e.width = t.maxWidth),
			o && (e.height = t.maxHeight),
			u && c && (e.left = f - t.minWidth),
			s && c && (e.left = f - t.maxWidth),
			a && h && (e.top = l - t.minHeight),
			o && h && (e.top = l - t.maxHeight),
			e.width || e.height || e.left || !e.top ? e.width || e.height || e.top || !e.left || (e.left = null) : e.top = null,
			e
		},
		_proportionallyResize : function () {
			if (this._proportionallyResizeElements.length) {
				var e,
				t,
				n,
				r,
				i,
				s = this.helper || this.element;
				for (e = 0; this._proportionallyResizeElements.length > e; e++) {
					if (i = this._proportionallyResizeElements[e], !this.borderDif)
						for (this.borderDif = [], n = [i.css("borderTopWidth"), i.css("borderRightWidth"), i.css("borderBottomWidth"), i.css("borderLeftWidth")], r = [i.css("paddingTop"), i.css("paddingRight"), i.css("paddingBottom"), i.css("paddingLeft")], t = 0; n.length > t; t++)
							this.borderDif[t] = (parseInt(n[t], 10) || 0) + (parseInt(r[t], 10) || 0);
					i.css({
						height : s.height() - this.borderDif[0] - this.borderDif[2] || 0,
						width : s.width() - this.borderDif[1] - this.borderDif[3] || 0
					})
				}
			}
		},
		_renderProxy : function () {
			var t = this.element,
			n = this.options;
			this.elementOffset = t.offset(),
			this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
					width : this.element.outerWidth() - 1,
					height : this.element.outerHeight() - 1,
					position : "absolute",
					left : this.elementOffset.left + "px",
					top : this.elementOffset.top + "px",
					zIndex : ++n.zIndex
				}), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
		},
		_change : {
			e : function (e, t) {
				return {
					width : this.originalSize.width + t
				}
			},
			w : function (e, t) {
				var n = this.originalSize,
				r = this.originalPosition;
				return {
					left : r.left + t,
					width : n.width - t
				}
			},
			n : function (e, t, n) {
				var r = this.originalSize,
				i = this.originalPosition;
				return {
					top : i.top + n,
					height : r.height - n
				}
			},
			s : function (e, t, n) {
				return {
					height : this.originalSize.height + n
				}
			},
			se : function (t, n, r) {
				return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, n, r]))
			},
			sw : function (t, n, r) {
				return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, n, r]))
			},
			ne : function (t, n, r) {
				return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, n, r]))
			},
			nw : function (t, n, r) {
				return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, n, r]))
			}
		},
		_propagate : function (t, n) {
			e.ui.plugin.call(this, t, [n, this.ui()]),
			"resize" !== t && this._trigger(t, n, this.ui())
		},
		plugins : {},
		ui : function () {
			return {
				originalElement : this.originalElement,
				element : this.element,
				helper : this.helper,
				position : this.position,
				size : this.size,
				originalSize : this.originalSize,
				originalPosition : this.originalPosition
			}
		}
	}),
	e.ui.plugin.add("resizable", "animate", {
		stop : function (t) {
			var n = e(this).data("ui-resizable"),
			r = n.options,
			i = n._proportionallyResizeElements,
			s = i.length && /textarea/i.test(i[0].nodeName),
			o = s && e.ui.hasScroll(i[0], "left") ? 0 : n.sizeDiff.height,
			u = s ? 0 : n.sizeDiff.width,
			a = {
				width : n.size.width - u,
				height : n.size.height - o
			},
			f = parseInt(n.element.css("left"), 10) + (n.position.left - n.originalPosition.left) || null,
			l = parseInt(n.element.css("top"), 10) + (n.position.top - n.originalPosition.top) || null;
			n.element.animate(e.extend(a, l && f ? {
					top : l,
					left : f
				}
					 : {}), {
				duration : r.animateDuration,
				easing : r.animateEasing,
				step : function () {
					var r = {
						width : parseInt(n.element.css("width"), 10),
						height : parseInt(n.element.css("height"), 10),
						top : parseInt(n.element.css("top"), 10),
						left : parseInt(n.element.css("left"), 10)
					};
					i && i.length && e(i[0]).css({
						width : r.width,
						height : r.height
					}),
					n._updateCache(r),
					n._propagate("resize", t)
				}
			})
		}
	}),
	e.ui.plugin.add("resizable", "containment", {
		start : function () {
			var n,
			r,
			i,
			s,
			o,
			u,
			a,
			f = e(this).data("ui-resizable"),
			l = f.options,
			c = f.element,
			h = l.containment,
			p = h instanceof e ? h.get(0) : /parent/.test(h) ? c.parent().get(0) : h;
			p && (f.containerElement = e(p), /document/.test(h) || h === document ? (f.containerOffset = {
						left : 0,
						top : 0
					}, f.containerPosition = {
						left : 0,
						top : 0
					}, f.parentData = {
						element : e(document),
						left : 0,
						top : 0,
						width : e(document).width(),
						height : e(document).height() || document.body.parentNode.scrollHeight
					}) : (n = e(p), r = [], e(["Top", "Right", "Left", "Bottom"]).each(function (e, i) {
						r[e] = t(n.css("padding" + i))
					}), f.containerOffset = n.offset(), f.containerPosition = n.position(), f.containerSize = {
						height : n.innerHeight() - r[3],
						width : n.innerWidth() - r[1]
					}, i = f.containerOffset, s = f.containerSize.height, o = f.containerSize.width, u = e.ui.hasScroll(p, "left") ? p.scrollWidth : o, a = e.ui.hasScroll(p) ? p.scrollHeight : s, f.parentData = {
						element : p,
						left : i.left,
						top : i.top,
						width : u,
						height : a
					}))
		},
		resize : function (t) {
			var n,
			r,
			i,
			s,
			o = e(this).data("ui-resizable"),
			u = o.options,
			a = o.containerOffset,
			f = o.position,
			l = o._aspectRatio || t.shiftKey,
			c = {
				top : 0,
				left : 0
			},
			h = o.containerElement;
			h[0] !== document && /static/.test(h.css("position")) && (c = a),
			f.left < (o._helper ? a.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - a.left : o.position.left - c.left), l && (o.size.height = o.size.width / o.aspectRatio), o.position.left = u.helper ? a.left : 0),
			f.top < (o._helper ? a.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - a.top : o.position.top), l && (o.size.width = o.size.height * o.aspectRatio), o.position.top = o._helper ? a.top : 0),
			o.offset.left = o.parentData.left + o.position.left,
			o.offset.top = o.parentData.top + o.position.top,
			n = Math.abs((o._helper ? o.offset.left - c.left : o.offset.left - c.left) + o.sizeDiff.width),
			r = Math.abs((o._helper ? o.offset.top - c.top : o.offset.top - a.top) + o.sizeDiff.height),
			i = o.containerElement.get(0) === o.element.parent().get(0),
			s = /relative|absolute/.test(o.containerElement.css("position")),
			i && s && (n -= o.parentData.left),
			n + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - n, l && (o.size.height = o.size.width / o.aspectRatio)),
			r + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - r, l && (o.size.width = o.size.height * o.aspectRatio))
		},
		stop : function () {
			var t = e(this).data("ui-resizable"),
			n = t.options,
			r = t.containerOffset,
			i = t.containerPosition,
			s = t.containerElement,
			o = e(t.helper),
			u = o.offset(),
			a = o.outerWidth() - t.sizeDiff.width,
			f = o.outerHeight() - t.sizeDiff.height;
			t._helper && !n.animate && /relative/.test(s.css("position")) && e(this).css({
				left : u.left - i.left - r.left,
				width : a,
				height : f
			}),
			t._helper && !n.animate && /static/.test(s.css("position")) && e(this).css({
				left : u.left - i.left - r.left,
				width : a,
				height : f
			})
		}
	}),
	e.ui.plugin.add("resizable", "alsoResize", {
		start : function () {
			var t = e(this).data("ui-resizable"),
			n = t.options,
			r = function (t) {
				e(t).each(function () {
					var t = e(this);
					t.data("ui-resizable-alsoresize", {
						width : parseInt(t.width(), 10),
						height : parseInt(t.height(), 10),
						left : parseInt(t.css("left"), 10),
						top : parseInt(t.css("top"), 10)
					})
				})
			};
			"object" != typeof n.alsoResize || n.alsoResize.parentNode ? r(n.alsoResize) : n.alsoResize.length ? (n.alsoResize = n.alsoResize[0], r(n.alsoResize)) : e.each(n.alsoResize, function (e) {
				r(e)
			})
		},
		resize : function (t, n) {
			var r = e(this).data("ui-resizable"),
			i = r.options,
			s = r.originalSize,
			o = r.originalPosition,
			u = {
				height : r.size.height - s.height || 0,
				width : r.size.width - s.width || 0,
				top : r.position.top - o.top || 0,
				left : r.position.left - o.left || 0
			},
			a = function (t, r) {
				e(t).each(function () {
					var t = e(this),
					i = e(this).data("ui-resizable-alsoresize"),
					s = {},
					o = r && r.length ? r : t.parents(n.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
					e.each(o, function (e, t) {
						var n = (i[t] || 0) + (u[t] || 0);
						n && n >= 0 && (s[t] = n || null)
					}),
					t.css(s)
				})
			};
			"object" != typeof i.alsoResize || i.alsoResize.nodeType ? a(i.alsoResize) : e.each(i.alsoResize, function (e, t) {
				a(e, t)
			})
		},
		stop : function () {
			e(this).removeData("resizable-alsoresize")
		}
	}),
	e.ui.plugin.add("resizable", "ghost", {
		start : function () {
			var t = e(this).data("ui-resizable"),
			n = t.options,
			r = t.size;
			t.ghost = t.originalElement.clone(),
			t.ghost.css({
				opacity : .25,
				display : "block",
				position : "relative",
				height : r.height,
				width : r.width,
				margin : 0,
				left : 0,
				top : 0
			}).addClass("ui-resizable-ghost").addClass("string" == typeof n.ghost ? n.ghost : ""),
			t.ghost.appendTo(t.helper)
		},
		resize : function () {
			var t = e(this).data("ui-resizable");
			t.ghost && t.ghost.css({
				position : "relative",
				height : t.size.height,
				width : t.size.width
			})
		},
		stop : function () {
			var t = e(this).data("ui-resizable");
			t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
		}
	}),
	e.ui.plugin.add("resizable", "grid", {
		resize : function () {
			var t = e(this).data("ui-resizable"),
			n = t.options,
			r = t.size,
			i = t.originalSize,
			s = t.originalPosition,
			o = t.axis,
			u = "number" == typeof n.grid ? [n.grid, n.grid] : n.grid,
			a = u[0] || 1,
			f = u[1] || 1,
			l = Math.round((r.width - i.width) / a) * a,
			c = Math.round((r.height - i.height) / f) * f,
			h = i.width + l,
			p = i.height + c,
			d = n.maxWidth && h > n.maxWidth,
			v = n.maxHeight && p > n.maxHeight,
			m = n.minWidth && n.minWidth > h,
			g = n.minHeight && n.minHeight > p;
			n.grid = u,
			m && (h += a),
			g && (p += f),
			d && (h -= a),
			v && (p -= f),
			/^(se|s|e)$/.test(o) ? (t.size.width = h, t.size.height = p) : /^(ne)$/.test(o) ? (t.size.width = h, t.size.height = p, t.position.top = s.top - c) : /^(sw)$/.test(o) ? (t.size.width = h, t.size.height = p, t.position.left = s.left - l) : (t.size.width = h, t.size.height = p, t.position.top = s.top - c, t.position.left = s.left - l)
		}
	})
}
(jQuery), function (e) {
	e.widget("ui.selectable", e.ui.mouse, {
		version : "1.10.2",
		options : {
			appendTo : "body",
			autoRefresh : !0,
			distance : 0,
			filter : "*",
			tolerance : "touch",
			selected : null,
			selecting : null,
			start : null,
			stop : null,
			unselected : null,
			unselecting : null
		},
		_create : function () {
			var t,
			n = this;
			this.element.addClass("ui-selectable"),
			this.dragged = !1,
			this.refresh = function () {
				t = e(n.options.filter, n.element[0]),
				t.addClass("ui-selectee"),
				t.each(function () {
					var t = e(this),
					n = t.offset();
					e.data(this, "selectable-item", {
						element : this,
						$element : t,
						left : n.left,
						top : n.top,
						right : n.left + t.outerWidth(),
						bottom : n.top + t.outerHeight(),
						startselected : !1,
						selected : t.hasClass("ui-selected"),
						selecting : t.hasClass("ui-selecting"),
						unselecting : t.hasClass("ui-unselecting")
					})
				})
			},
			this.refresh(),
			this.selectees = t.addClass("ui-selectee"),
			this._mouseInit(),
			this.helper = e("<div class='ui-selectable-helper'></div>")
		},
		_destroy : function () {
			this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
			this.element.removeClass("ui-selectable ui-selectable-disabled"),
			this._mouseDestroy()
		},
		_mouseStart : function (t) {
			var n = this,
			r = this.options;
			this.opos = [t.pageX, t.pageY],
			this.options.disabled || (this.selectees = e(r.filter, this.element[0]), this._trigger("start", t), e(r.appendTo).append(this.helper), this.helper.css({
					left : t.pageX,
					top : t.pageY,
					width : 0,
					height : 0
				}), r.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function () {
					var r = e.data(this, "selectable-item");
					r.startselected = !0,
					t.metaKey || t.ctrlKey || (r.$element.removeClass("ui-selected"), r.selected = !1, r.$element.addClass("ui-unselecting"), r.unselecting = !0, n._trigger("unselecting", t, {
							unselecting : r.element
						}))
				}), e(t.target).parents().addBack().each(function () {
					var r,
					s = e.data(this, "selectable-item");
					return s ? (r = !t.metaKey && !t.ctrlKey || !s.$element.hasClass("ui-selected"), s.$element.removeClass(r ? "ui-unselecting" : "ui-selected").addClass(r ? "ui-selecting" : "ui-unselecting"), s.unselecting = !r, s.selecting = r, s.selected = r, r ? n._trigger("selecting", t, {
							selecting : s.element
						}) : n._trigger("unselecting", t, {
							unselecting : s.element
						}), !1) : undefined
				}))
		},
		_mouseDrag : function (t) {
			if (this.dragged = !0, !this.options.disabled) {
				var n,
				r = this,
				i = this.options,
				s = this.opos[0],
				o = this.opos[1],
				u = t.pageX,
				a = t.pageY;
				return s > u && (n = u, u = s, s = n),
				o > a && (n = a, a = o, o = n),
				this.helper.css({
					left : s,
					top : o,
					width : u - s,
					height : a - o
				}),
				this.selectees.each(function () {
					var n = e.data(this, "selectable-item"),
					f = !1;
					n && n.element !== r.element[0] && ("touch" === i.tolerance ? f = !(n.left > u || s > n.right || n.top > a || o > n.bottom) : "fit" === i.tolerance && (f = n.left > s && u > n.right && n.top > o && a > n.bottom), f ? (n.selected && (n.$element.removeClass("ui-selected"), n.selected = !1), n.unselecting && (n.$element.removeClass("ui-unselecting"), n.unselecting = !1), n.selecting || (n.$element.addClass("ui-selecting"), n.selecting = !0, r._trigger("selecting", t, {
									selecting : n.element
								}))) : (n.selecting && ((t.metaKey || t.ctrlKey) && n.startselected ? (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.$element.addClass("ui-selected"), n.selected = !0) : (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.startselected && (n.$element.addClass("ui-unselecting"), n.unselecting = !0), r._trigger("unselecting", t, {
										unselecting : n.element
									}))), n.selected && (t.metaKey || t.ctrlKey || n.startselected || (n.$element.removeClass("ui-selected"), n.selected = !1, n.$element.addClass("ui-unselecting"), n.unselecting = !0, r._trigger("unselecting", t, {
										unselecting : n.element
									})))))
				}),
				!1
			}
		},
		_mouseStop : function (t) {
			var n = this;
			return this.dragged = !1,
			e(".ui-unselecting", this.element[0]).each(function () {
				var r = e.data(this, "selectable-item");
				r.$element.removeClass("ui-unselecting"),
				r.unselecting = !1,
				r.startselected = !1,
				n._trigger("unselected", t, {
					unselected : r.element
				})
			}),
			e(".ui-selecting", this.element[0]).each(function () {
				var r = e.data(this, "selectable-item");
				r.$element.removeClass("ui-selecting").addClass("ui-selected"),
				r.selecting = !1,
				r.selected = !0,
				r.startselected = !0,
				n._trigger("selected", t, {
					selected : r.element
				})
			}),
			this._trigger("stop", t),
			this.helper.remove(),
			!1
		}
	})
}
(jQuery), function (e) {
	function t(e, t, n) {
		return e > t && t + n > e
	}
	function n(e) {
		return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
	}
	e.widget("ui.sortable", e.ui.mouse, {
		version : "1.10.2",
		widgetEventPrefix : "sort",
		ready : !1,
		options : {
			appendTo : "parent",
			axis : !1,
			connectWith : !1,
			containment : !1,
			cursor : "auto",
			cursorAt : !1,
			dropOnEmpty : !0,
			forcePlaceholderSize : !1,
			forceHelperSize : !1,
			grid : !1,
			handle : !1,
			helper : "original",
			items : "> *",
			opacity : !1,
			placeholder : !1,
			revert : !1,
			scroll : !0,
			scrollSensitivity : 20,
			scrollSpeed : 20,
			scope : "default",
			tolerance : "intersect",
			zIndex : 1e3,
			activate : null,
			beforeStop : null,
			change : null,
			deactivate : null,
			out : null,
			over : null,
			receive : null,
			remove : null,
			sort : null,
			start : null,
			stop : null,
			update : null
		},
		_create : function () {
			var e = this.options;
			this.containerCache = {},
			this.element.addClass("ui-sortable"),
			this.refresh(),
			this.floating = this.items.length ? "x" === e.axis || n(this.items[0].item) : !1,
			this.offset = this.element.offset(),
			this._mouseInit(),
			this.ready = !0
		},
		_destroy : function () {
			this.element.removeClass("ui-sortable ui-sortable-disabled"),
			this._mouseDestroy();
			for (var e = this.items.length - 1; e >= 0; e--)
				this.items[e].item.removeData(this.widgetName + "-item");
			return this
		},
		_setOption : function (t, n) {
			"disabled" === t ? (this.options[t] = n, this.widget().toggleClass("ui-sortable-disabled", !!n)) : e.Widget.prototype._setOption.apply(this, arguments)
		},
		_mouseCapture : function (t, n) {
			var r = null,
			i = !1,
			s = this;
			return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(t), e(t.target).parents().each(function () {
					return e.data(this, s.widgetName + "-item") === s ? (r = e(this), !1) : undefined
				}), e.data(t.target, s.widgetName + "-item") === s && (r = e(t.target)), r ? !this.options.handle || n || (e(this.options.handle, r).find("*").addBack().each(function () {
						this === t.target && (i = !0)
					}), i) ? (this.currentItem = r, this._removeCurrentsFromItems(), !0) : !1 : !1)
		},
		_mouseStart : function (t, n, r) {
			var i,
			s,
			o = this.options;
			if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
					top : this.offset.top - this.margins.top,
					left : this.offset.left - this.margins.left
				}, e.extend(this.offset, {
					click : {
						left : t.pageX - this.offset.left,
						top : t.pageY - this.offset.top
					},
					parent : this._getParentOffset(),
					relative : this._getRelativeOffset()
				}), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt), this.domPosition = {
					prev : this.currentItem.prev()[0],
					parent : this.currentItem.parent()[0]
				}, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), o.containment && this._setContainment(), o.cursor && "auto" !== o.cursor && (s = this.document.find("body"), this.storedCursor = s.css("cursor"), s.css("cursor", o.cursor), this.storedStylesheet = e("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(s)), o.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", o.opacity)), o.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", o.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !r)
				for (i = this.containers.length - 1; i >= 0; i--)
					this.containers[i]._trigger("activate", t, this._uiHash(this));
			return e.ui.ddmanager && (e.ui.ddmanager.current = this),
			e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
			this.dragging = !0,
			this.helper.addClass("ui-sortable-helper"),
			this._mouseDrag(t),
			!0
		},
		_mouseDrag : function (t) {
			var n,
			r,
			i,
			s,
			o = this.options,
			u = !1;
			for (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < o.scrollSensitivity ? this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop + o.scrollSpeed : t.pageY - this.overflowOffset.top < o.scrollSensitivity && (this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop - o.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < o.scrollSensitivity ? this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft + o.scrollSpeed : t.pageX - this.overflowOffset.left < o.scrollSensitivity && (this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft - o.scrollSpeed)) : (t.pageY - e(document).scrollTop() < o.scrollSensitivity ? u = e(document).scrollTop(e(document).scrollTop() - o.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < o.scrollSensitivity && (u = e(document).scrollTop(e(document).scrollTop() + o.scrollSpeed)), t.pageX - e(document).scrollLeft() < o.scrollSensitivity ? u = e(document).scrollLeft(e(document).scrollLeft() - o.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < o.scrollSensitivity && (u = e(document).scrollLeft(e(document).scrollLeft() + o.scrollSpeed))), u !== !1 && e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), n = this.items.length - 1; n >= 0; n--)
				if (r = this.items[n], i = r.item[0], s = this._intersectsWithPointer(r), s && r.instance === this.currentContainer && i !== this.currentItem[0] && this.placeholder[1 === s ? "next" : "prev"]()[0] !== i && !e.contains(this.placeholder[0], i) && ("semi-dynamic" === this.options.type ? !e.contains(this.element[0], i) : !0)) {
					if (this.direction = 1 === s ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(r))
						break;
					this._rearrange(t, r),
					this._trigger("change", t, this._uiHash());
					break
				}
			return this._contactContainers(t),
			e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
			this._trigger("sort", t, this._uiHash()),
			this.lastPositionAbs = this.positionAbs,
			!1
		},
		_mouseStop : function (t, n) {
			if (t) {
				if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t), this.options.revert) {
					var r = this,
					i = this.placeholder.offset(),
					s = this.options.axis,
					o = {};
					s && "x" !== s || (o.left = i.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)),
					s && "y" !== s || (o.top = i.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)),
					this.reverting = !0,
					e(this.helper).animate(o, parseInt(this.options.revert, 10) || 500, function () {
						r._clear(t)
					})
				} else
					this._clear(t, n);
				return !1
			}
		},
		cancel : function () {
			if (this.dragging) {
				this._mouseUp({
					target : null
				}),
				"original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
				for (var t = this.containers.length - 1; t >= 0; t--)
					this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0)
			}
			return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, {
					helper : null,
					dragging : !1,
					reverting : !1,
					_noFinalSort : null
				}), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)),
			this
		},
		serialize : function (t) {
			var n = this._getItemsAsjQuery(t && t.connected),
			r = [];
			return t = t || {},
			e(n).each(function () {
				var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
				n && r.push((t.key || n[1] + "[]") + "=" + (t.key && t.expression ? n[1] : n[2]))
			}),
			!r.length && t.key && r.push(t.key + "="),
			r.join("&")
		},
		toArray : function (t) {
			var n = this._getItemsAsjQuery(t && t.connected),
			r = [];
			return t = t || {},
			n.each(function () {
				r.push(e(t.item || this).attr(t.attribute || "id") || "")
			}),
			r
		},
		_intersectsWith : function (e) {
			var t = this.positionAbs.left,
			n = t + this.helperProportions.width,
			r = this.positionAbs.top,
			i = r + this.helperProportions.height,
			s = e.left,
			o = s + e.width,
			u = e.top,
			a = u + e.height,
			f = this.offset.click.top,
			l = this.offset.click.left,
			c = r + f > u && a > r + f && t + l > s && o > t + l;
			return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? c : t + this.helperProportions.width / 2 > s && o > n - this.helperProportions.width / 2 && r + this.helperProportions.height / 2 > u && a > i - this.helperProportions.height / 2
		},
		_intersectsWithPointer : function (e) {
			var n = "x" === this.options.axis || t(this.positionAbs.top + this.offset.click.top, e.top, e.height),
			r = "y" === this.options.axis || t(this.positionAbs.left + this.offset.click.left, e.left, e.width),
			i = n && r,
			s = this._getDragVerticalDirection(),
			o = this._getDragHorizontalDirection();
			return i ? this.floating ? o && "right" === o || "down" === s ? 2 : 1 : s && ("down" === s ? 2 : 1) : !1
		},
		_intersectsWithSides : function (e) {
			var n = t(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),
			r = t(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),
			i = this._getDragVerticalDirection(),
			s = this._getDragHorizontalDirection();
			return this.floating && s ? "right" === s && r || "left" === s && !r : i && ("down" === i && n || "up" === i && !n)
		},
		_getDragVerticalDirection : function () {
			var e = this.positionAbs.top - this.lastPositionAbs.top;
			return 0 !== e && (e > 0 ? "down" : "up")
		},
		_getDragHorizontalDirection : function () {
			var e = this.positionAbs.left - this.lastPositionAbs.left;
			return 0 !== e && (e > 0 ? "right" : "left")
		},
		refresh : function (e) {
			return this._refreshItems(e),
			this.refreshPositions(),
			this
		},
		_connectWith : function () {
			var e = this.options;
			return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
		},
		_getItemsAsjQuery : function (t) {
			var n,
			r,
			i,
			s,
			o = [],
			u = [],
			a = this._connectWith();
			if (a && t)
				for (n = a.length - 1; n >= 0; n--)
					for (i = e(a[n]), r = i.length - 1; r >= 0; r--)
						s = e.data(i[r], this.widgetFullName), s && s !== this && !s.options.disabled && u.push([e.isFunction(s.options.items) ? s.options.items.call(s.element) : e(s.options.items, s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), s]);
			for (u.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
							options : this.options,
							item : this.currentItem
						}) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), n = u.length - 1; n >= 0; n--)
				u[n][0].each(function () {
					o.push(this)
				});
			return e(o)
		},
		_removeCurrentsFromItems : function () {
			var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
			this.items = e.grep(this.items, function (e) {
					for (var n = 0; t.length > n; n++)
						if (t[n] === e.item[0])
							return !1;
					return !0
				})
		},
		_refreshItems : function (t) {
			this.items = [],
			this.containers = [this];
			var n,
			r,
			i,
			s,
			o,
			u,
			a,
			f,
			l = this.items,
			c = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
						item : this.currentItem
					}) : e(this.options.items, this.element), this]],
			h = this._connectWith();
			if (h && this.ready)
				for (n = h.length - 1; n >= 0; n--)
					for (i = e(h[n]), r = i.length - 1; r >= 0; r--)
						s = e.data(i[r], this.widgetFullName), s && s !== this && !s.options.disabled && (c.push([e.isFunction(s.options.items) ? s.options.items.call(s.element[0], t, {
										item : this.currentItem
									}) : e(s.options.items, s.element), s]), this.containers.push(s));
			for (n = c.length - 1; n >= 0; n--)
				for (o = c[n][1], u = c[n][0], r = 0, f = u.length; f > r; r++)
					a = e(u[r]), a.data(this.widgetName + "-item", o), l.push({
						item : a,
						instance : o,
						width : 0,
						height : 0,
						left : 0,
						top : 0
					})
		},
		refreshPositions : function (t) {
			this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
			var n,
			r,
			i,
			s;
			for (n = this.items.length - 1; n >= 0; n--)
				r = this.items[n], r.instance !== this.currentContainer && this.currentContainer && r.item[0] !== this.currentItem[0] || (i = this.options.toleranceElement ? e(this.options.toleranceElement, r.item) : r.item, t || (r.width = i.outerWidth(), r.height = i.outerHeight()), s = i.offset(), r.left = s.left, r.top = s.top);
			if (this.options.custom && this.options.custom.refreshContainers)
				this.options.custom.refreshContainers.call(this);
			else
				for (n = this.containers.length - 1; n >= 0; n--)
					s = this.containers[n].element.offset(), this.containers[n].containerCache.left = s.left, this.containers[n].containerCache.top = s.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
			return this
		},
		_createPlaceholder : function (t) {
			t = t || this;
			var n,
			r = t.options;
			r.placeholder && r.placeholder.constructor !== String || (n = r.placeholder, r.placeholder = {
					element : function () {
						var r = t.currentItem[0].nodeName.toLowerCase(),
						s = e(t.document[0].createElement(r)).addClass(n || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
						return "tr" === r ? s.append("<td colspan='99'>&#160;</td>") : "img" === r && s.attr("src", t.currentItem.attr("src")),
						n || s.css("visibility", "hidden"),
						s
					},
					update : function (e, o) {
						(!n || r.forcePlaceholderSize) && (o.height() || o.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), o.width() || o.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
					}
				}),
			t.placeholder = e(r.placeholder.element.call(t.element, t.currentItem)),
			t.currentItem.after(t.placeholder),
			r.placeholder.update(t, t.placeholder)
		},
		_contactContainers : function (r) {
			var s,
			o,
			u,
			a,
			f,
			l,
			c,
			h,
			p,
			d,
			v = null,
			m = null;
			for (s = this.containers.length - 1; s >= 0; s--)
				if (!e.contains(this.currentItem[0], this.containers[s].element[0]))
					if (this._intersectsWith(this.containers[s].containerCache)) {
						if (v && e.contains(this.containers[s].element[0], v.element[0]))
							continue;
						v = this.containers[s],
						m = s
					} else
						this.containers[s].containerCache.over && (this.containers[s]._trigger("out", r, this._uiHash(this)), this.containers[s].containerCache.over = 0);
			if (v)
				if (1 === this.containers.length)
					this.containers[m].containerCache.over || (this.containers[m]._trigger("over", r, this._uiHash(this)), this.containers[m].containerCache.over = 1);
				else {
					for (u = 1e4, a = null, d = v.floating || n(this.currentItem), f = d ? "left" : "top", l = d ? "width" : "height", c = this.positionAbs[f] + this.offset.click[f], o = this.items.length - 1; o >= 0; o--)
						e.contains(this.containers[m].element[0], this.items[o].item[0]) && this.items[o].item[0] !== this.currentItem[0] && (!d || t(this.positionAbs.top + this.offset.click.top, this.items[o].top, this.items[o].height)) && (h = this.items[o].item.offset()[f], p = !1, Math.abs(h - c) > Math.abs(h + this.items[o][l] - c) && (p = !0, h += this.items[o][l]), u > Math.abs(h - c) && (u = Math.abs(h - c), a = this.items[o], this.direction = p ? "up" : "down"));
					if (!a && !this.options.dropOnEmpty)
						return;
					if (this.currentContainer === this.containers[m])
						return;
					a ? this._rearrange(r, a, null, !0) : this._rearrange(r, null, this.containers[m].element, !0),
					this._trigger("change", r, this._uiHash()),
					this.containers[m]._trigger("change", r, this._uiHash(this)),
					this.currentContainer = this.containers[m],
					this.options.placeholder.update(this.currentContainer, this.placeholder),
					this.containers[m]._trigger("over", r, this._uiHash(this)),
					this.containers[m].containerCache.over = 1
				}
		},
		_createHelper : function (t) {
			var n = this.options,
			r = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === n.helper ? this.currentItem.clone() : this.currentItem;
			return r.parents("body").length || e("parent" !== n.appendTo ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(r[0]),
			r[0] === this.currentItem[0] && (this._storedCSS = {
					width : this.currentItem[0].style.width,
					height : this.currentItem[0].style.height,
					position : this.currentItem.css("position"),
					top : this.currentItem.css("top"),
					left : this.currentItem.css("left")
				}),
			(!r[0].style.width || n.forceHelperSize) && r.width(this.currentItem.width()),
			(!r[0].style.height || n.forceHelperSize) && r.height(this.currentItem.height()),
			r
		},
		_adjustOffsetFromHelper : function (t) {
			"string" == typeof t && (t = t.split(" ")),
			e.isArray(t) && (t = {
					left : +t[0],
					top : +t[1] || 0
				}),
			"left" in t && (this.offset.click.left = t.left + this.margins.left),
			"right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
			"top" in t && (this.offset.click.top = t.top + this.margins.top),
			"bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
		},
		_getParentOffset : function () {
			this.offsetParent = this.helper.offsetParent();
			var t = this.offsetParent.offset();
			return "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()),
			(this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
					top : 0,
					left : 0
				}), {
				top : t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
				left : t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
			}
		},
		_getRelativeOffset : function () {
			if ("relative" === this.cssPosition) {
				var e = this.currentItem.position();
				return {
					top : e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
					left : e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
				}
			}
			return {
				top : 0,
				left : 0
			}
		},
		_cacheMargins : function () {
			this.margins = {
				left : parseInt(this.currentItem.css("marginLeft"), 10) || 0,
				top : parseInt(this.currentItem.css("marginTop"), 10) || 0
			}
		},
		_cacheHelperProportions : function () {
			this.helperProportions = {
				width : this.helper.outerWidth(),
				height : this.helper.outerHeight()
			}
		},
		_setContainment : function () {
			var t,
			n,
			r,
			i = this.options;
			"parent" === i.containment && (i.containment = this.helper[0].parentNode),
			("document" === i.containment || "window" === i.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e("document" === i.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (e("document" === i.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
			/^(document|window|parent)$/.test(i.containment) || (t = e(i.containment)[0], n = e(i.containment).offset(), r = "hidden" !== e(t).css("overflow"), this.containment = [n.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (r ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (r ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
		},
		_convertPositionTo : function (t, n) {
			n || (n = this.position);
			var r = "absolute" === t ? 1 : -1,
			i = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
			s = /(html|body)/i.test(i[0].tagName);
			return {
				top : n.top + this.offset.relative.top * r + this.offset.parent.top * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : s ? 0 : i.scrollTop()) * r,
				left : n.left + this.offset.relative.left * r + this.offset.parent.left * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : s ? 0 : i.scrollLeft()) * r
			}
		},
		_generatePosition : function (t) {
			var n,
			r,
			i = this.options,
			s = t.pageX,
			o = t.pageY,
			u = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
			a = /(html|body)/i.test(u[0].tagName);
			return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()),
			this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (s = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (o = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (s = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (o = this.containment[3] + this.offset.click.top)), i.grid && (n = this.originalPageY + Math.round((o - this.originalPageY) / i.grid[1]) * i.grid[1], o = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - i.grid[1] : n + i.grid[1] : n, r = this.originalPageX + Math.round((s - this.originalPageX) / i.grid[0]) * i.grid[0], s = this.containment ? r - this.offset.click.left >= this.containment[0] && r - this.offset.click.left <= this.containment[2] ? r : r - this.offset.click.left >= this.containment[0] ? r - i.grid[0] : r + i.grid[0] : r)), {
				top : o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : a ? 0 : u.scrollTop()),
				left : s - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : a ? 0 : u.scrollLeft())
			}
		},
		_rearrange : function (e, t, n, r) {
			n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling),
			this.counter = this.counter ? ++this.counter : 1;
			var i = this.counter;
			this._delay(function () {
				i === this.counter && this.refreshPositions(!r)
			})
		},
		_clear : function (e, t) {
			this.reverting = !1;
			var n,
			r = [];
			if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
				for (n in this._storedCSS)
					("auto" === this._storedCSS[n] || "static" === this._storedCSS[n]) && (this._storedCSS[n] = "");
				this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
			} else
				this.currentItem.show();
			for (this.fromOutside && !t && r.push(function (e) {
					this._trigger("receive", e, this._uiHash(this.fromOutside))
				}), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || r.push(function (e) {
					this._trigger("update", e, this._uiHash())
				}), this !== this.currentContainer && (t || (r.push(function (e) {
							this._trigger("remove", e, this._uiHash())
						}), r.push(function (e) {
							return function (t) {
								e._trigger("receive", t, this._uiHash(this))
							}
						}
							.call(this, this.currentContainer)), r.push(function (e) {
							return function (t) {
								e._trigger("update", t, this._uiHash(this))
							}
						}
							.call(this, this.currentContainer)))), n = this.containers.length - 1; n >= 0; n--)
				t || r.push(function (e) {
					return function (t) {
						e._trigger("deactivate", t, this._uiHash(this))
					}
				}
					.call(this, this.containers[n])), this.containers[n].containerCache.over && (r.push(function (e) {
						return function (t) {
							e._trigger("out", t, this._uiHash(this))
						}
					}
						.call(this, this.containers[n])), this.containers[n].containerCache.over = 0);
			if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
				if (!t) {
					for (this._trigger("beforeStop", e, this._uiHash()), n = 0; r.length > n; n++)
						r[n].call(this, e);
					this._trigger("stop", e, this._uiHash())
				}
				return this.fromOutside = !1,
				!1
			}
			if (t || this._trigger("beforeStop", e, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !t) {
				for (n = 0; r.length > n; n++)
					r[n].call(this, e);
				this._trigger("stop", e, this._uiHash())
			}
			return this.fromOutside = !1,
			!0
		},
		_trigger : function () {
			e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
		},
		_uiHash : function (t) {
			var n = t || this;
			return {
				helper : n.helper,
				placeholder : n.placeholder || e([]),
				position : n.position,
				originalPosition : n.originalPosition,
				offset : n.positionAbs,
				item : n.currentItem,
				sender : t ? t.element : null
			}
		}
	})
}
(jQuery), function (e) {
	var t = 0,
	n = {},
	r = {};
	n.height = n.paddingTop = n.paddingBottom = n.borderTopWidth = n.borderBottomWidth = "hide",
	r.height = r.paddingTop = r.paddingBottom = r.borderTopWidth = r.borderBottomWidth = "show",
	e.widget("ui.accordion", {
		version : "1.10.2",
		options : {
			active : 0,
			animate : {},
			collapsible : !1,
			event : "click",
			header : "> li > :first-child,> :not(li):even",
			heightStyle : "auto",
			icons : {
				activeHeader : "ui-icon-triangle-1-s",
				header : "ui-icon-triangle-1-e"
			},
			activate : null,
			beforeActivate : null
		},
		_create : function () {
			var t = this.options;
			this.prevShow = this.prevHide = e(),
			this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
			t.collapsible || t.active !== !1 && null != t.active || (t.active = 0),
			this._processPanels(),
			0 > t.active && (t.active += this.headers.length),
			this._refresh()
		},
		_getCreateEventData : function () {
			return {
				header : this.active,
				panel : this.active.length ? this.active.next() : e(),
				content : this.active.length ? this.active.next() : e()
			}
		},
		_createIcons : function () {
			var t = this.options.icons;
			t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons"))
		},
		_destroyIcons : function () {
			this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
		},
		_destroy : function () {
			var e;
			this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),
			this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function () {
				/^ui-accordion/.test(this.id) && this.removeAttribute("id")
			}),
			this._destroyIcons(),
			e = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function () {
					/^ui-accordion/.test(this.id) && this.removeAttribute("id")
				}),
			"content" !== this.options.heightStyle && e.css("height", "")
		},
		_setOption : function (e, t) {
			return "active" === e ? (this._activate(t), undefined) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(e, t), "collapsible" !== e || t || this.options.active !== !1 || this._activate(0), "icons" === e && (this._destroyIcons(), t && this._createIcons()), "disabled" === e && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t), undefined)
		},
		_keydown : function (t) {
			if (!t.altKey && !t.ctrlKey) {
				var n = e.ui.keyCode,
				r = this.headers.length,
				i = this.headers.index(t.target),
				s = !1;
				switch (t.keyCode) {
				case n.RIGHT:
				case n.DOWN:
					s = this.headers[(i + 1) % r];
					break;
				case n.LEFT:
				case n.UP:
					s = this.headers[(i - 1 + r) % r];
					break;
				case n.SPACE:
				case n.ENTER:
					this._eventHandler(t);
					break;
				case n.HOME:
					s = this.headers[0];
					break;
				case n.END:
					s = this.headers[r - 1]
				}
				s && (e(t.target).attr("tabIndex", -1), e(s).attr("tabIndex", 0), s.focus(), t.preventDefault())
			}
		},
		_panelKeyDown : function (t) {
			t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
		},
		refresh : function () {
			var t = this.options;
			this._processPanels(),
			(t.active === !1 && t.collapsible === !0 || !this.headers.length) && (t.active = !1, this.active = e()),
			t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active),
			this._destroyIcons(),
			this._refresh()
		},
		_processPanels : function () {
			this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),
			this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
		},
		_refresh : function () {
			var n,
			r = this.options,
			i = r.heightStyle,
			s = this.element.parent(),
			o = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++t);
			this.active = this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),
			this.active.next().addClass("ui-accordion-content-active").show(),
			this.headers.attr("role", "tab").each(function (t) {
				var n = e(this),
				r = n.attr("id"),
				i = n.next(),
				s = i.attr("id");
				r || (r = o + "-header-" + t, n.attr("id", r)),
				s || (s = o + "-panel-" + t, i.attr("id", s)),
				n.attr("aria-controls", s),
				i.attr("aria-labelledby", r)
			}).next().attr("role", "tabpanel"),
			this.headers.not(this.active).attr({
				"aria-selected" : "false",
				tabIndex : -1
			}).next().attr({
				"aria-expanded" : "false",
				"aria-hidden" : "true"
			}).hide(),
			this.active.length ? this.active.attr({
				"aria-selected" : "true",
				tabIndex : 0
			}).next().attr({
				"aria-expanded" : "true",
				"aria-hidden" : "false"
			}) : this.headers.eq(0).attr("tabIndex", 0),
			this._createIcons(),
			this._setupEvents(r.event),
			"fill" === i ? (n = s.height(), this.element.siblings(":visible").each(function () {
					var t = e(this),
					r = t.css("position");
					"absolute" !== r && "fixed" !== r && (n -= t.outerHeight(!0))
				}), this.headers.each(function () {
					n -= e(this).outerHeight(!0)
				}), this.headers.next().each(function () {
					e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()))
				}).css("overflow", "auto")) : "auto" === i && (n = 0, this.headers.next().each(function () {
					n = Math.max(n, e(this).css("height", "").height())
				}).height(n))
		},
		_activate : function (t) {
			var n = this._findActive(t)[0];
			n !== this.active[0] && (n = n || this.active[0], this._eventHandler({
					target : n,
					currentTarget : n,
					preventDefault : e.noop
				}))
		},
		_findActive : function (t) {
			return "number" == typeof t ? this.headers.eq(t) : e()
		},
		_setupEvents : function (t) {
			var n = {
				keydown : "_keydown"
			};
			t && e.each(t.split(" "), function (e, t) {
				n[t] = "_eventHandler"
			}),
			this._off(this.headers.add(this.headers.next())),
			this._on(this.headers, n),
			this._on(this.headers.next(), {
				keydown : "_panelKeyDown"
			}),
			this._hoverable(this.headers),
			this._focusable(this.headers)
		},
		_eventHandler : function (t) {
			var n = this.options,
			r = this.active,
			i = e(t.currentTarget),
			s = i[0] === r[0],
			o = s && n.collapsible,
			u = o ? e() : i.next(),
			a = r.next(),
			f = {
				oldHeader : r,
				oldPanel : a,
				newHeader : o ? e() : i,
				newPanel : u
			};
			t.preventDefault(),
			s && !n.collapsible || this._trigger("beforeActivate", t, f) === !1 || (n.active = o ? !1 : this.headers.index(i), this.active = s ? e() : i, this._toggle(f), r.removeClass("ui-accordion-header-active ui-state-active"), n.icons && r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header), s || (i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), n.icons && i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader), i.next().addClass("ui-accordion-content-active")))
		},
		_toggle : function (t) {
			var n = t.newPanel,
			r = this.prevShow.length ? this.prevShow : t.oldPanel;
			this.prevShow.add(this.prevHide).stop(!0, !0),
			this.prevShow = n,
			this.prevHide = r,
			this.options.animate ? this._animate(n, r, t) : (r.hide(), n.show(), this._toggleComplete(t)),
			r.attr({
				"aria-expanded" : "false",
				"aria-hidden" : "true"
			}),
			r.prev().attr("aria-selected", "false"),
			n.length && r.length ? r.prev().attr("tabIndex", -1) : n.length && this.headers.filter(function () {
				return 0 === e(this).attr("tabIndex")
			}).attr("tabIndex", -1),
			n.attr({
				"aria-expanded" : "true",
				"aria-hidden" : "false"
			}).prev().attr({
				"aria-selected" : "true",
				tabIndex : 0
			})
		},
		_animate : function (e, t, o) {
			var u,
			a,
			f,
			l = this,
			c = 0,
			h = e.length && (!t.length || e.index() < t.index()),
			p = this.options.animate || {},
			d = h && p.down || p,
			v = function () {
				l._toggleComplete(o)
			};
			return "number" == typeof d && (f = d),
			"string" == typeof d && (a = d),
			a = a || d.easing || p.easing,
			f = f || d.duration || p.duration,
			t.length ? e.length ? (u = e.show().outerHeight(), t.animate(n, {
					duration : f,
					easing : a,
					step : function (e, t) {
						t.now = Math.round(e)
					}
				}), e.hide().animate(r, {
					duration : f,
					easing : a,
					complete : v,
					step : function (e, n) {
						n.now = Math.round(e),
						"height" !== n.prop ? c += n.now : "content" !== l.options.heightStyle && (n.now = Math.round(u - t.outerHeight() - c), c = 0)
					}
				}), undefined) : t.animate(n, f, a, v) : e.animate(r, f, a, v)
		},
		_toggleComplete : function (e) {
			var t = e.oldPanel;
			t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
			t.length && (t.parent()[0].className = t.parent()[0].className),
			this._trigger("activate", null, e)
		}
	})
}
(jQuery), function (e) {
	var t = 0;
	e.widget("ui.autocomplete", {
		version : "1.10.2",
		defaultElement : "<input>",
		options : {
			appendTo : null,
			autoFocus : !1,
			delay : 300,
			minLength : 1,
			position : {
				my : "left top",
				at : "left bottom",
				collision : "none"
			},
			source : null,
			change : null,
			close : null,
			focus : null,
			open : null,
			response : null,
			search : null,
			select : null
		},
		pending : 0,
		_create : function () {
			var t,
			n,
			r,
			i = this.element[0].nodeName.toLowerCase(),
			s = "textarea" === i,
			o = "input" === i;
			this.isMultiLine = s ? !0 : o ? !1 : this.element.prop("isContentEditable"),
			this.valueMethod = this.element[s || o ? "val" : "text"],
			this.isNewMenu = !0,
			this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
			this._on(this.element, {
				keydown : function (i) {
					if (this.element.prop("readOnly"))
						return t = !0, r = !0, n = !0, undefined;
					t = !1,
					r = !1,
					n = !1;
					var s = e.ui.keyCode;
					switch (i.keyCode) {
					case s.PAGE_UP:
						t = !0,
						this._move("previousPage", i);
						break;
					case s.PAGE_DOWN:
						t = !0,
						this._move("nextPage", i);
						break;
					case s.UP:
						t = !0,
						this._keyEvent("previous", i);
						break;
					case s.DOWN:
						t = !0,
						this._keyEvent("next", i);
						break;
					case s.ENTER:
					case s.NUMPAD_ENTER:
						this.menu.active && (t = !0, i.preventDefault(), this.menu.select(i));
						break;
					case s.TAB:
						this.menu.active && this.menu.select(i);
						break;
					case s.ESCAPE:
						this.menu.element.is(":visible") && (this._value(this.term), this.close(i), i.preventDefault());
						break;
					default:
						n = !0,
						this._searchTimeout(i)
					}
				},
				keypress : function (r) {
					if (t)
						return t = !1, r.preventDefault(), undefined;
					if (!n) {
						var i = e.ui.keyCode;
						switch (r.keyCode) {
						case i.PAGE_UP:
							this._move("previousPage", r);
							break;
						case i.PAGE_DOWN:
							this._move("nextPage", r);
							break;
						case i.UP:
							this._keyEvent("previous", r);
							break;
						case i.DOWN:
							this._keyEvent("next", r)
						}
					}
				},
				input : function (e) {
					return r ? (r = !1, e.preventDefault(), undefined) : (this._searchTimeout(e), undefined)
				},
				focus : function () {
					this.selectedItem = null,
					this.previous = this._value()
				},
				blur : function (e) {
					return this.cancelBlur ? (delete this.cancelBlur, undefined) : (clearTimeout(this.searching), this.close(e), this._change(e), undefined)
				}
			}),
			this._initSource(),
			this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
					input : e(),
					role : null
				}).hide().data("ui-menu"),
			this._on(this.menu.element, {
				mousedown : function (t) {
					t.preventDefault(),
					this.cancelBlur = !0,
					this._delay(function () {
						delete this.cancelBlur
					});
					var n = this.menu.element[0];
					e(t.target).closest(".ui-menu-item").length || this._delay(function () {
						var t = this;
						this.document.one("mousedown", function (r) {
							r.target === t.element[0] || r.target === n || e.contains(n, r.target) || t.close()
						})
					})
				},
				menufocus : function (t, n) {
					if (this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type)))
						return this.menu.blur(), this.document.one("mousemove", function () {
							e(t.target).trigger(t.originalEvent)
						}), undefined;
					var r = n.item.data("ui-autocomplete-item");
					!1 !== this._trigger("focus", t, {
						item : r
					}) ? t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(r.value) : this.liveRegion.text(r.value)
				},
				menuselect : function (e, t) {
					var n = t.item.data("ui-autocomplete-item"),
					r = this.previous;
					this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = r, this._delay(function () {
							this.previous = r,
							this.selectedItem = n
						})),
					!1 !== this._trigger("select", e, {
						item : n
					}) && this._value(n.value),
					this.term = this._value(),
					this.close(e),
					this.selectedItem = n
				}
			}),
			this.liveRegion = e("<span>", {
					role : "status",
					"aria-live" : "polite"
				}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),
			this._on(this.window, {
				beforeunload : function () {
					this.element.removeAttr("autocomplete")
				}
			})
		},
		_destroy : function () {
			clearTimeout(this.searching),
			this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
			this.menu.element.remove(),
			this.liveRegion.remove()
		},
		_setOption : function (e, t) {
			this._super(e, t),
			"source" === e && this._initSource(),
			"appendTo" === e && this.menu.element.appendTo(this._appendTo()),
			"disabled" === e && t && this.xhr && this.xhr.abort()
		},
		_appendTo : function () {
			var t = this.options.appendTo;
			return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
			t || (t = this.element.closest(".ui-front")),
			t.length || (t = this.document[0].body),
			t
		},
		_initSource : function () {
			var t,
			n,
			r = this;
			e.isArray(this.options.source) ? (t = this.options.source, this.source = function (n, r) {
				r(e.ui.autocomplete.filter(t, n.term))
			}) : "string" == typeof this.options.source ? (n = this.options.source, this.source = function (t, o) {
				r.xhr && r.xhr.abort(),
				r.xhr = e.ajax({
						url : n,
						data : t,
						dataType : "json",
						success : function (e) {
							o(e)
						},
						error : function () {
							o([])
						}
					})
			}) : this.source = this.options.source
		},
		_searchTimeout : function (e) {
			clearTimeout(this.searching),
			this.searching = this._delay(function () {
					this.term !== this._value() && (this.selectedItem = null, this.search(null, e))
				}, this.options.delay)
		},
		search : function (e, t) {
			return e = null != e ? e : this._value(),
			this.term = this._value(),
			e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : undefined
		},
		_search : function (e) {
			this.pending++,
			this.element.addClass("ui-autocomplete-loading"),
			this.cancelSearch = !1,
			this.source({
				term : e
			}, this._response())
		},
		_response : function () {
			var e = this,
			n = ++t;
			return function (r) {
				n === t && e.__response(r),
				e.pending--,
				e.pending || e.element.removeClass("ui-autocomplete-loading")
			}
		},
		__response : function (e) {
			e && (e = this._normalize(e)),
			this._trigger("response", null, {
				content : e
			}),
			!this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close()
		},
		close : function (e) {
			this.cancelSearch = !0,
			this._close(e)
		},
		_close : function (e) {
			this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e))
		},
		_change : function (e) {
			this.previous !== this._value() && this._trigger("change", e, {
				item : this.selectedItem
			})
		},
		_normalize : function (t) {
			return t.length && t[0].label && t[0].value ? t : e.map(t, function (t) {
				return "string" == typeof t ? {
					label : t,
					value : t
				}
				 : e.extend({
					label : t.label || t.value,
					value : t.value || t.label
				}, t)
			})
		},
		_suggest : function (t) {
			var n = this.menu.element.empty();
			this._renderMenu(n, t),
			this.isNewMenu = !0,
			this.menu.refresh(),
			n.show(),
			this._resizeMenu(),
			n.position(e.extend({
					of : this.element
				}, this.options.position)),
			this.options.autoFocus && this.menu.next()
		},
		_resizeMenu : function () {
			var e = this.menu.element;
			e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
		},
		_renderMenu : function (t, n) {
			var r = this;
			e.each(n, function (e, n) {
				r._renderItemData(t, n)
			})
		},
		_renderItemData : function (e, t) {
			return this._renderItem(e, t).data("ui-autocomplete-item", t)
		},
		_renderItem : function (t, n) {
			return e("<li>").append(e("<a>").text(n.label)).appendTo(t)
		},
		_move : function (e, t) {
			return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this._value(this.term), this.menu.blur(), undefined) : (this.menu[e](t), undefined) : (this.search(null, t), undefined)
		},
		widget : function () {
			return this.menu.element
		},
		_value : function () {
			return this.valueMethod.apply(this.element, arguments)
		},
		_keyEvent : function (e, t) {
			(!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t), t.preventDefault())
		}
	}),
	e.extend(e.ui.autocomplete, {
		escapeRegex : function (e) {
			return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
		},
		filter : function (t, n) {
			var r = RegExp(e.ui.autocomplete.escapeRegex(n), "i");
			return e.grep(t, function (e) {
				return r.test(e.label || e.value || e)
			})
		}
	}),
	e.widget("ui.autocomplete", e.ui.autocomplete, {
		options : {
			messages : {
				noResults : "No search results.",
				results : function (e) {
					return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
				}
			}
		},
		__response : function (e) {
			var t;
			this._superApply(arguments),
			this.options.disabled || this.cancelSearch || (t = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.text(t))
		}
	})
}
(jQuery), function (e) {
	var t,
	n,
	r,
	i,
	s = "ui-button ui-widget ui-state-default ui-corner-all",
	o = "ui-state-hover ui-state-active ",
	u = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
	a = function () {
		var t = e(this).find(":ui-button");
		setTimeout(function () {
			t.button("refresh")
		}, 1)
	},
	f = function (t) {
		var n = t.name,
		r = t.form,
		i = e([]);
		return n && (n = n.replace(/'/g, "\\'"), i = r ? e(r).find("[name='" + n + "']") : e("[name='" + n + "']", t.ownerDocument).filter(function () {
					return !this.form
				})),
		i
	};
	e.widget("ui.button", {
		version : "1.10.2",
		defaultElement : "<button>",
		options : {
			disabled : null,
			text : !0,
			label : null,
			icons : {
				primary : null,
				secondary : null
			}
		},
		_create : function () {
			this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, a),
			"boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled),
			this._determineButtonType(),
			this.hasTitle = !!this.buttonElement.attr("title");
			var o = this,
			u = this.options,
			c = "checkbox" === this.type || "radio" === this.type,
			p = c ? "" : "ui-state-active",
			d = "ui-state-focus";
			null === u.label && (u.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()),
			this._hoverable(this.buttonElement),
			this.buttonElement.addClass(s).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () {
				u.disabled || this === t && e(this).addClass("ui-state-active")
			}).bind("mouseleave" + this.eventNamespace, function () {
				u.disabled || e(this).removeClass(p)
			}).bind("click" + this.eventNamespace, function (e) {
				u.disabled && (e.preventDefault(), e.stopImmediatePropagation())
			}),
			this.element.bind("focus" + this.eventNamespace, function () {
				o.buttonElement.addClass(d)
			}).bind("blur" + this.eventNamespace, function () {
				o.buttonElement.removeClass(d)
			}),
			c && (this.element.bind("change" + this.eventNamespace, function () {
					i || o.refresh()
				}), this.buttonElement.bind("mousedown" + this.eventNamespace, function (e) {
					u.disabled || (i = !1, n = e.pageX, r = e.pageY)
				}).bind("mouseup" + this.eventNamespace, function (e) {
					u.disabled || (n !== e.pageX || r !== e.pageY) && (i = !0)
				})),
			"checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
				return u.disabled || i ? !1 : undefined
			}) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
				if (u.disabled || i)
					return !1;
				e(this).addClass("ui-state-active"),
				o.buttonElement.attr("aria-pressed", "true");
				var t = o.element[0];
				f(t).not(t).map(function () {
					return e(this).button("widget")[0]
				}).removeClass("ui-state-active").attr("aria-pressed", "false")
			}) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () {
					return u.disabled ? !1 : (e(this).addClass("ui-state-active"), t = this, o.document.one("mouseup", function () {
							t = null
						}), undefined)
				}).bind("mouseup" + this.eventNamespace, function () {
					return u.disabled ? !1 : (e(this).removeClass("ui-state-active"), undefined)
				}).bind("keydown" + this.eventNamespace, function (t) {
					return u.disabled ? !1 : ((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"), undefined)
				}).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () {
					e(this).removeClass("ui-state-active")
				}), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) {
					t.keyCode === e.ui.keyCode.SPACE && e(this).click()
				})),
			this._setOption("disabled", u.disabled),
			this._resetButton()
		},
		_determineButtonType : function () {
			var e,
			t,
			n;
			this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button",
			"checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = e.find(t), this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(), this.buttonElement = e.filter(t), this.buttonElement.length || (this.buttonElement = e.find(t))), this.element.addClass("ui-helper-hidden-accessible"), n = this.element.is(":checked"), n && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", n)) : this.buttonElement = this.element
		},
		widget : function () {
			return this.buttonElement
		},
		_destroy : function () {
			this.element.removeClass("ui-helper-hidden-accessible"),
			this.buttonElement.removeClass(s + " " + o + " " + u).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
			this.hasTitle || this.buttonElement.removeAttr("title")
		},
		_setOption : function (e, t) {
			return this._super(e, t),
			"disabled" === e ? (t ? this.element.prop("disabled", !0) : this.element.prop("disabled", !1), undefined) : (this._resetButton(), undefined)
		},
		refresh : function () {
			var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
			t !== this.options.disabled && this._setOption("disabled", t),
			"radio" === this.type ? f(this.element[0]).each(function () {
				e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
			}) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
		},
		_resetButton : function () {
			if ("input" === this.type)
				return this.options.label && this.element.val(this.options.label), undefined;
			var t = this.buttonElement.removeClass(u),
			n = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),
			r = this.options.icons,
			i = r.primary && r.secondary,
			s = [];
			r.primary || r.secondary ? (this.options.text && s.push("ui-button-text-icon" + (i ? "s" : r.primary ? "-primary" : "-secondary")), r.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + r.primary + "'></span>"), r.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + r.secondary + "'></span>"), this.options.text || (s.push(i ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || t.attr("title", e.trim(n)))) : s.push("ui-button-text-only"),
			t.addClass(s.join(" "))
		}
	}),
	e.widget("ui.buttonset", {
		version : "1.10.2",
		options : {
			items : "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
		},
		_create : function () {
			this.element.addClass("ui-buttonset")
		},
		_init : function () {
			this.refresh()
		},
		_setOption : function (e, t) {
			"disabled" === e && this.buttons.button("option", e, t),
			this._super(e, t)
		},
		refresh : function () {
			var t = "rtl" === this.element.css("direction");
			this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function () {
					return e(this).button("widget")[0]
				}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
		},
		_destroy : function () {
			this.element.removeClass("ui-buttonset"),
			this.buttons.map(function () {
				return e(this).button("widget")[0]
			}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
		}
	})
}
(jQuery), function (e, t) {
	function n() {
		this._curInst = null,
		this._keyEvent = !1,
		this._disabledInputs = [],
		this._datepickerShowing = !1,
		this._inDialog = !1,
		this._mainDivId = "ui-datepicker-div",
		this._inlineClass = "ui-datepicker-inline",
		this._appendClass = "ui-datepicker-append",
		this._triggerClass = "ui-datepicker-trigger",
		this._dialogClass = "ui-datepicker-dialog",
		this._disableClass = "ui-datepicker-disabled",
		this._unselectableClass = "ui-datepicker-unselectable",
		this._currentClass = "ui-datepicker-current-day",
		this._dayOverClass = "ui-datepicker-days-cell-over",
		this.regional = [],
		this.regional[""] = {
			closeText : "Done",
			prevText : "Prev",
			nextText : "Next",
			currentText : "Today",
			monthNames : ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
			monthNamesShort : ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
			dayNames : ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
			dayNamesShort : ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
			dayNamesMin : ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
			weekHeader : "Wk",
			dateFormat : "mm/dd/yy",
			firstDay : 0,
			isRTL : !1,
			showMonthAfterYear : !1,
			yearSuffix : ""
		},
		this._defaults = {
			showOn : "focus",
			showAnim : "fadeIn",
			showOptions : {},
			defaultDate : null,
			appendText : "",
			buttonText : "...",
			buttonImage : "",
			buttonImageOnly : !1,
			hideIfNoPrevNext : !1,
			navigationAsDateFormat : !1,
			gotoCurrent : !1,
			changeMonth : !1,
			changeYear : !1,
			yearRange : "c-10:c+10",
			showOtherMonths : !1,
			selectOtherMonths : !1,
			showWeek : !1,
			calculateWeek : this.iso8601Week,
			shortYearCutoff : "+10",
			minDate : null,
			maxDate : null,
			duration : "fast",
			beforeShowDay : null,
			beforeShow : null,
			onSelect : null,
			onChangeMonthYear : null,
			onClose : null,
			numberOfMonths : 1,
			showCurrentAtPos : 0,
			stepMonths : 1,
			stepBigMonths : 12,
			altField : "",
			altFormat : "",
			constrainInput : !0,
			showButtonPanel : !1,
			autoSize : !1,
			disabled : !1
		},
		e.extend(this._defaults, this.regional[""]),
		this.dpDiv = r(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
	}
	function r(t) {
		var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
		return t.delegate(n, "mouseout", function () {
			e(this).removeClass("ui-state-hover"),
			-1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"),
			-1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
		}).delegate(n, "mouseover", function () {
			e.datepicker._isDisabledDatepicker(s.inline ? t.parent()[0] : s.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
		})
	}
	function i(t, n) {
		e.extend(t, n);
		for (var r in n)
			null == n[r] && (t[r] = n[r]);
		return t
	}
	e.extend(e.ui, {
		datepicker : {
			version : "1.10.2"
		}
	});
	var s,
	o = "datepicker",
	u = (new Date).getTime();
	e.extend(n.prototype, {
		markerClassName : "hasDatepicker",
		maxRows : 4,
		_widgetDatepicker : function () {
			return this.dpDiv
		},
		setDefaults : function (e) {
			return i(this._defaults, e || {}),
			this
		},
		_attachDatepicker : function (t, n) {
			var r,
			i,
			s;
			r = t.nodeName.toLowerCase(),
			i = "div" === r || "span" === r,
			t.id || (this.uuid += 1, t.id = "dp" + this.uuid),
			s = this._newInst(e(t), i),
			s.settings = e.extend({}, n || {}),
			"input" === r ? this._connectDatepicker(t, s) : i && this._inlineDatepicker(t, s)
		},
		_newInst : function (t, n) {
			var i = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
			return {
				id : i,
				input : t,
				selectedDay : 0,
				selectedMonth : 0,
				selectedYear : 0,
				drawMonth : 0,
				drawYear : 0,
				inline : n,
				dpDiv : n ? r(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
			}
		},
		_connectDatepicker : function (t, n) {
			var r = e(t);
			n.append = e([]),
			n.trigger = e([]),
			r.hasClass(this.markerClassName) || (this._attachments(r, n), r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(n), e.data(t, o, n), n.settings.disabled && this._disableDatepicker(t))
		},
		_attachments : function (t, n) {
			var r,
			i,
			s,
			o = this._get(n, "appendText"),
			u = this._get(n, "isRTL");
			n.append && n.append.remove(),
			o && (n.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"), t[u ? "before" : "after"](n.append)),
			t.unbind("focus", this._showDatepicker),
			n.trigger && n.trigger.remove(),
			r = this._get(n, "showOn"),
			("focus" === r || "both" === r) && t.focus(this._showDatepicker),
			("button" === r || "both" === r) && (i = this._get(n, "buttonText"), s = this._get(n, "buttonImage"), n.trigger = e(this._get(n, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
							src : s,
							alt : i,
							title : i
						}) : e("<button type='button'></button>").addClass(this._triggerClass).html(s ? e("<img/>").attr({
								src : s,
								alt : i,
								title : i
							}) : i)), t[u ? "before" : "after"](n.trigger), n.trigger.click(function () {
					return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]),
					!1
				}))
		},
		_autoSize : function (e) {
			if (this._get(e, "autoSize") && !e.inline) {
				var t,
				n,
				r,
				i,
				s = new Date(2009, 11, 20),
				o = this._get(e, "dateFormat");
				o.match(/[DM]/) && (t = function (e) {
					for (n = 0, r = 0, i = 0; e.length > i; i++)
						e[i].length > n && (n = e[i].length, r = i);
					return r
				}, s.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))), s.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - s.getDay())),
				e.input.attr("size", this._formatDate(e, s).length)
			}
		},
		_inlineDatepicker : function (t, n) {
			var r = e(t);
			r.hasClass(this.markerClassName) || (r.addClass(this.markerClassName).append(n.dpDiv), e.data(t, o, n), this._setDate(n, this._getDefaultDate(n), !0), this._updateDatepicker(n), this._updateAlternate(n), n.settings.disabled && this._disableDatepicker(t), n.dpDiv.css("display", "block"))
		},
		_dialogDatepicker : function (t, n, r, s, u) {
			var a,
			f,
			l,
			c,
			h,
			p = this._dialogInst;
			return p || (this.uuid += 1, a = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + a + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, e.data(this._dialogInput[0], o, p)),
			i(p.settings, s || {}),
			n = n && n.constructor === Date ? this._formatDate(p, n) : n,
			this._dialogInput.val(n),
			this._pos = u ? u.length ? u : [u.pageX, u.pageY] : null,
			this._pos || (f = document.documentElement.clientWidth, l = document.documentElement.clientHeight, c = document.documentElement.scrollLeft || document.body.scrollLeft, h = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [f / 2 - 100 + c, l / 2 - 150 + h]),
			this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
			p.settings.onSelect = r,
			this._inDialog = !0,
			this.dpDiv.addClass(this._dialogClass),
			this._showDatepicker(this._dialogInput[0]),
			e.blockUI && e.blockUI(this.dpDiv),
			e.data(this._dialogInput[0], o, p),
			this
		},
		_destroyDatepicker : function (t) {
			var n,
			r = e(t),
			i = e.data(t, o);
			r.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), e.removeData(t, o), "input" === n ? (i.append.remove(), i.trigger.remove(), r.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === n || "span" === n) && r.removeClass(this.markerClassName).empty())
		},
		_enableDatepicker : function (t) {
			var n,
			r,
			i = e(t),
			s = e.data(t, o);
			i.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), "input" === n ? (t.disabled = !1, s.trigger.filter("button").each(function () {
						this.disabled = !1
					}).end().filter("img").css({
						opacity : "1.0",
						cursor : ""
					})) : ("div" === n || "span" === n) && (r = i.children("." + this._inlineClass), r.children().removeClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function (e) {
						return e === t ? null : e
					}))
		},
		_disableDatepicker : function (t) {
			var n,
			r,
			i = e(t),
			s = e.data(t, o);
			i.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), "input" === n ? (t.disabled = !0, s.trigger.filter("button").each(function () {
						this.disabled = !0
					}).end().filter("img").css({
						opacity : "0.5",
						cursor : "default"
					})) : ("div" === n || "span" === n) && (r = i.children("." + this._inlineClass), r.children().addClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function (e) {
						return e === t ? null : e
					}), this._disabledInputs[this._disabledInputs.length] = t)
		},
		_isDisabledDatepicker : function (e) {
			if (!e)
				return !1;
			for (var t = 0; this._disabledInputs.length > t; t++)
				if (this._disabledInputs[t] === e)
					return !0;
			return !1
		},
		_getInst : function (t) {
			try {
				return e.data(t, o)
			} catch (n) {
				throw "Missing instance data for this datepicker"
			}
		},
		_optionDatepicker : function (n, r, s) {
			var o,
			u,
			a,
			f,
			l = this._getInst(n);
			return 2 === arguments.length && "string" == typeof r ? "defaults" === r ? e.extend({}, e.datepicker._defaults) : l ? "all" === r ? e.extend({}, l.settings) : this._get(l, r) : null : (o = r || {}, "string" == typeof r && (o = {}, o[r] = s), l && (this._curInst === l && this._hideDatepicker(), u = this._getDateDatepicker(n, !0), a = this._getMinMaxDate(l, "min"), f = this._getMinMaxDate(l, "max"), i(l.settings, o), null !== a && o.dateFormat !== t && o.minDate === t && (l.settings.minDate = this._formatDate(l, a)), null !== f && o.dateFormat !== t && o.maxDate === t && (l.settings.maxDate = this._formatDate(l, f)), "disabled" in o && (o.disabled ? this._disableDatepicker(n) : this._enableDatepicker(n)), this._attachments(e(n), l), this._autoSize(l), this._setDate(l, u), this._updateAlternate(l), this._updateDatepicker(l)), t)
		},
		_changeDatepicker : function (e, t, n) {
			this._optionDatepicker(e, t, n)
		},
		_refreshDatepicker : function (e) {
			var t = this._getInst(e);
			t && this._updateDatepicker(t)
		},
		_setDateDatepicker : function (e, t) {
			var n = this._getInst(e);
			n && (this._setDate(n, t), this._updateDatepicker(n), this._updateAlternate(n))
		},
		_getDateDatepicker : function (e, t) {
			var n = this._getInst(e);
			return n && !n.inline && this._setDateFromField(n, t),
			n ? this._getDate(n) : null
		},
		_doKeyDown : function (t) {
			var n,
			r,
			i,
			s = e.datepicker._getInst(t.target),
			o = !0,
			u = s.dpDiv.is(".ui-datepicker-rtl");
			if (s._keyEvent = !0, e.datepicker._datepickerShowing)
				switch (t.keyCode) {
				case 9:
					e.datepicker._hideDatepicker(),
					o = !1;
					break;
				case 13:
					return i = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", s.dpDiv),
					i[0] && e.datepicker._selectDay(t.target, s.selectedMonth, s.selectedYear, i[0]),
					n = e.datepicker._get(s, "onSelect"),
					n ? (r = e.datepicker._formatDate(s), n.apply(s.input ? s.input[0] : null, [r, s])) : e.datepicker._hideDatepicker(),
					!1;
				case 27:
					e.datepicker._hideDatepicker();
					break;
				case 33:
					e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
					break;
				case 34:
					e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
					break;
				case 35:
					(t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target),
					o = t.ctrlKey || t.metaKey;
					break;
				case 36:
					(t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target),
					o = t.ctrlKey || t.metaKey;
					break;
				case 37:
					(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? 1 : -1, "D"),
					o = t.ctrlKey || t.metaKey,
					t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
					break;
				case 38:
					(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"),
					o = t.ctrlKey || t.metaKey;
					break;
				case 39:
					(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? -1 : 1, "D"),
					o = t.ctrlKey || t.metaKey,
					t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
					break;
				case 40:
					(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"),
					o = t.ctrlKey || t.metaKey;
					break;
				default:
					o = !1
				}
			else
				36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1;
			o && (t.preventDefault(), t.stopPropagation())
		},
		_doKeyPress : function (n) {
			var r,
			i,
			s = e.datepicker._getInst(n.target);
			return e.datepicker._get(s, "constrainInput") ? (r = e.datepicker._possibleChars(e.datepicker._get(s, "dateFormat")), i = String.fromCharCode(null == n.charCode ? n.keyCode : n.charCode), n.ctrlKey || n.metaKey || " " > i || !r || r.indexOf(i) > -1) : t
		},
		_doKeyUp : function (t) {
			var n,
			r = e.datepicker._getInst(t.target);
			if (r.input.val() !== r.lastVal)
				try {
					n = e.datepicker.parseDate(e.datepicker._get(r, "dateFormat"), r.input ? r.input.val() : null, e.datepicker._getFormatConfig(r)),
					n && (e.datepicker._setDateFromField(r), e.datepicker._updateAlternate(r), e.datepicker._updateDatepicker(r))
				} catch (i) {}

			return !0
		},
		_showDatepicker : function (t) {
			if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]), !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
				var n,
				r,
				s,
				o,
				u,
				a,
				f;
				n = e.datepicker._getInst(t),
				e.datepicker._curInst && e.datepicker._curInst !== n && (e.datepicker._curInst.dpDiv.stop(!0, !0), n && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),
				r = e.datepicker._get(n, "beforeShow"),
				s = r ? r.apply(t, [t, n]) : {},
				s !== !1 && (i(n.settings, s), n.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(n), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), o = !1, e(t).parents().each(function () {
						return o |= "fixed" === e(this).css("position"),
						!o
					}), u = {
						left : e.datepicker._pos[0],
						top : e.datepicker._pos[1]
					}, e.datepicker._pos = null, n.dpDiv.empty(), n.dpDiv.css({
						position : "absolute",
						display : "block",
						top : "-1000px"
					}), e.datepicker._updateDatepicker(n), u = e.datepicker._checkOffset(n, u, o), n.dpDiv.css({
						position : e.datepicker._inDialog && e.blockUI ? "static" : o ? "fixed" : "absolute",
						display : "none",
						left : u.left + "px",
						top : u.top + "px"
					}), n.inline || (a = e.datepicker._get(n, "showAnim"), f = e.datepicker._get(n, "duration"), n.dpDiv.zIndex(e(t).zIndex() + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[a] ? n.dpDiv.show(a, e.datepicker._get(n, "showOptions"), f) : n.dpDiv[a || "show"](a ? f : null), n.input.is(":visible") && !n.input.is(":disabled") && n.input.focus(), e.datepicker._curInst = n))
			}
		},
		_updateDatepicker : function (t) {
			this.maxRows = 4,
			s = t,
			t.dpDiv.empty().append(this._generateHTML(t)),
			this._attachHandlers(t),
			t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
			var n,
			r = this._getNumberOfMonths(t),
			i = r[1],
			o = 17;
			t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
			i > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + i).css("width", o * i + "em"),
			t.dpDiv[(1 !== r[0] || 1 !== r[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
			t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
			t === e.datepicker._curInst && e.datepicker._datepickerShowing && t.input && t.input.is(":visible") && !t.input.is(":disabled") && t.input[0] !== document.activeElement && t.input.focus(),
			t.yearshtml && (n = t.yearshtml, setTimeout(function () {
					n === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),
					n = t.yearshtml = null
				}, 0))
		},
		_getBorders : function (e) {
			var t = function (e) {
				return {
					thin : 1,
					medium : 2,
					thick : 3
				}
				[e] || e
			};
			return [parseFloat(t(e.css("border-left-width"))), parseFloat(t(e.css("border-top-width")))]
		},
		_checkOffset : function (t, n, r) {
			var i = t.dpDiv.outerWidth(),
			s = t.dpDiv.outerHeight(),
			o = t.input ? t.input.outerWidth() : 0,
			u = t.input ? t.input.outerHeight() : 0,
			a = document.documentElement.clientWidth + (r ? 0 : e(document).scrollLeft()),
			f = document.documentElement.clientHeight + (r ? 0 : e(document).scrollTop());
			return n.left -= this._get(t, "isRTL") ? i - o : 0,
			n.left -= r && n.left === t.input.offset().left ? e(document).scrollLeft() : 0,
			n.top -= r && n.top === t.input.offset().top + u ? e(document).scrollTop() : 0,
			n.left -= Math.min(n.left, n.left + i > a && a > i ? Math.abs(n.left + i - a) : 0),
			n.top -= Math.min(n.top, n.top + s > f && f > s ? Math.abs(s + u) : 0),
			n
		},
		_findPos : function (t) {
			for (var n, r = this._getInst(t), i = this._get(r, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t)); )
				t = t[i ? "previousSibling" : "nextSibling"];
			return n = e(t).offset(),
			[n.left, n.top]
		},
		_hideDatepicker : function (t) {
			var n,
			r,
			i,
			s,
			u = this._curInst;
			!u || t && u !== e.data(t, o) || this._datepickerShowing && (n = this._get(u, "showAnim"), r = this._get(u, "duration"), i = function () {
				e.datepicker._tidyDialog(u)
			}, e.effects && (e.effects.effect[n] || e.effects[n]) ? u.dpDiv.hide(n, e.datepicker._get(u, "showOptions"), r, i) : u.dpDiv["slideDown" === n ? "slideUp" : "fadeIn" === n ? "fadeOut" : "hide"](n ? r : null, i), n || i(), this._datepickerShowing = !1, s = this._get(u, "onClose"), s && s.apply(u.input ? u.input[0] : null, [u.input ? u.input.val() : "", u]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
						position : "absolute",
						left : "0",
						top : "-100px"
					}), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1)
		},
		_tidyDialog : function (e) {
			e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
		},
		_checkExternalClick : function (t) {
			if (e.datepicker._curInst) {
				var n = e(t.target),
				r = e.datepicker._getInst(n[0]);
				(n[0].id !== e.datepicker._mainDivId && 0 === n.parents("#" + e.datepicker._mainDivId).length && !n.hasClass(e.datepicker.markerClassName) && !n.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || n.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== r) && e.datepicker._hideDatepicker()
			}
		},
		_adjustDate : function (t, n, r) {
			var i = e(t),
			s = this._getInst(i[0]);
			this._isDisabledDatepicker(i[0]) || (this._adjustInstDate(s, n + ("M" === r ? this._get(s, "showCurrentAtPos") : 0), r), this._updateDatepicker(s))
		},
		_gotoToday : function (t) {
			var n,
			r = e(t),
			i = this._getInst(r[0]);
			this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay, i.drawMonth = i.selectedMonth = i.currentMonth, i.drawYear = i.selectedYear = i.currentYear) : (n = new Date, i.selectedDay = n.getDate(), i.drawMonth = i.selectedMonth = n.getMonth(), i.drawYear = i.selectedYear = n.getFullYear()),
			this._notifyChange(i),
			this._adjustDate(r)
		},
		_selectMonthYear : function (t, n, r) {
			var i = e(t),
			s = this._getInst(i[0]);
			s["selected" + ("M" === r ? "Month" : "Year")] = s["draw" + ("M" === r ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10),
			this._notifyChange(s),
			this._adjustDate(i)
		},
		_selectDay : function (t, n, r, i) {
			var s,
			o = e(t);
			e(i).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0]) || (s = this._getInst(o[0]), s.selectedDay = s.currentDay = e("a", i).html(), s.selectedMonth = s.currentMonth = n, s.selectedYear = s.currentYear = r, this._selectDate(t, this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear)))
		},
		_clearDate : function (t) {
			var n = e(t);
			this._selectDate(n, "")
		},
		_selectDate : function (t, n) {
			var r,
			i = e(t),
			s = this._getInst(i[0]);
			n = null != n ? n : this._formatDate(s),
			s.input && s.input.val(n),
			this._updateAlternate(s),
			r = this._get(s, "onSelect"),
			r ? r.apply(s.input ? s.input[0] : null, [n, s]) : s.input && s.input.trigger("change"),
			s.inline ? this._updateDatepicker(s) : (this._hideDatepicker(), this._lastInput = s.input[0], "object" != typeof s.input[0] && s.input.focus(), this._lastInput = null)
		},
		_updateAlternate : function (t) {
			var n,
			r,
			i,
			s = this._get(t, "altField");
			s && (n = this._get(t, "altFormat") || this._get(t, "dateFormat"), r = this._getDate(t), i = this.formatDate(n, r, this._getFormatConfig(t)), e(s).each(function () {
					e(this).val(i)
				}))
		},
		noWeekends : function (e) {
			var t = e.getDay();
			return [t > 0 && 6 > t, ""]
		},
		iso8601Week : function (e) {
			var t,
			n = new Date(e.getTime());
			return n.setDate(n.getDate() + 4 - (n.getDay() || 7)),
			t = n.getTime(),
			n.setMonth(0),
			n.setDate(1),
			Math.floor(Math.round((t - n) / 864e5) / 7) + 1
		},
		parseDate : function (n, r, i) {
			if (null == n || null == r)
				throw "Invalid arguments";
			if (r = "object" == typeof r ? "" + r : r + "", "" === r)
				return null;
			var s,
			o,
			u,
			a,
			f = 0,
			l = (i ? i.shortYearCutoff : null) || this._defaults.shortYearCutoff,
			c = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10),
			h = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
			p = (i ? i.dayNames : null) || this._defaults.dayNames,
			d = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
			v = (i ? i.monthNames : null) || this._defaults.monthNames,
			m = -1,
			g = -1,
			y = -1,
			b = -1,
			w = !1,
			E = function (e) {
				var t = n.length > s + 1 && n.charAt(s + 1) === e;
				return t && s++,
				t
			},
			S = function (e) {
				var t = E(e),
				n = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2,
				i = RegExp("^\\d{1," + n + "}"),
				s = r.substring(f).match(i);
				if (!s)
					throw "Missing number at position " + f;
				return f += s[0].length,
				parseInt(s[0], 10)
			},
			x = function (n, i, s) {
				var o = -1,
				u = e.map(E(n) ? s : i, function (e, t) {
						return [[t, e]]
					}).sort(function (e, t) {
						return  - (e[1].length - t[1].length)
					});
				if (e.each(u, function (e, n) {
						var i = n[1];
						return r.substr(f, i.length).toLowerCase() === i.toLowerCase() ? (o = n[0], f += i.length, !1) : t
					}), -1 !== o)
					return o + 1;
				throw "Unknown name at position " + f
			},
			T = function () {
				if (r.charAt(f) !== n.charAt(s))
					throw "Unexpected literal at position " + f;
				f++
			};
			for (s = 0; n.length > s; s++)
				if (w)
					"'" !== n.charAt(s) || E("'") ? T() : w = !1;
				else
					switch (n.charAt(s)) {
					case "d":
						y = S("d");
						break;
					case "D":
						x("D", h, p);
						break;
					case "o":
						b = S("o");
						break;
					case "m":
						g = S("m");
						break;
					case "M":
						g = x("M", d, v);
						break;
					case "y":
						m = S("y");
						break;
					case "@":
						a = new Date(S("@")),
						m = a.getFullYear(),
						g = a.getMonth() + 1,
						y = a.getDate();
						break;
					case "!":
						a = new Date((S("!") - this._ticksTo1970) / 1e4),
						m = a.getFullYear(),
						g = a.getMonth() + 1,
						y = a.getDate();
						break;
					case "'":
						E("'") ? T() : w = !0;
						break;
					default:
						T()
					}
			if (r.length > f && (u = r.substr(f), !/^\s+/.test(u)))
				throw "Extra/unparsed characters found in date: " + u;
			if (-1 === m ? m = (new Date).getFullYear() : 100 > m && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (c >= m ? 0 : -100)), b > -1)
				for (g = 1, y = b; ; ) {
					if (o = this._getDaysInMonth(m, g - 1), o >= y)
						break;
					g++,
					y -= o
				}
			if (a = this._daylightSavingAdjust(new Date(m, g - 1, y)), a.getFullYear() !== m || a.getMonth() + 1 !== g || a.getDate() !== y)
				throw "Invalid date";
			return a
		},
		ATOM : "yy-mm-dd",
		COOKIE : "D, dd M yy",
		ISO_8601 : "yy-mm-dd",
		RFC_822 : "D, d M y",
		RFC_850 : "DD, dd-M-y",
		RFC_1036 : "D, d M y",
		RFC_1123 : "D, d M yy",
		RFC_2822 : "D, d M yy",
		RSS : "D, d M y",
		TICKS : "!",
		TIMESTAMP : "@",
		W3C : "yy-mm-dd",
		_ticksTo1970 : 864e9 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
		formatDate : function (e, t, n) {
			if (!t)
				return "";
			var r,
			i = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
			s = (n ? n.dayNames : null) || this._defaults.dayNames,
			o = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
			u = (n ? n.monthNames : null) || this._defaults.monthNames,
			a = function (t) {
				var n = e.length > r + 1 && e.charAt(r + 1) === t;
				return n && r++,
				n
			},
			f = function (e, t, n) {
				var r = "" + t;
				if (a(e))
					for (; n > r.length; )
						r = "0" + r;
				return r
			},
			l = function (e, t, n, r) {
				return a(e) ? r[t] : n[t]
			},
			c = "",
			h = !1;
			if (t)
				for (r = 0; e.length > r; r++)
					if (h)
						"'" !== e.charAt(r) || a("'") ? c += e.charAt(r) : h = !1;
					else
						switch (e.charAt(r)) {
						case "d":
							c += f("d", t.getDate(), 2);
							break;
						case "D":
							c += l("D", t.getDay(), i, s);
							break;
						case "o":
							c += f("o", Math.round(((new Date(t.getFullYear(), t.getMonth(), t.getDate())).getTime() - (new Date(t.getFullYear(), 0, 0)).getTime()) / 864e5), 3);
							break;
						case "m":
							c += f("m", t.getMonth() + 1, 2);
							break;
						case "M":
							c += l("M", t.getMonth(), o, u);
							break;
						case "y":
							c += a("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100;
							break;
						case "@":
							c += t.getTime();
							break;
						case "!":
							c += 1e4 * t.getTime() + this._ticksTo1970;
							break;
						case "'":
							a("'") ? c += "'" : h = !0;
							break;
						default:
							c += e.charAt(r)
						}
			return c
		},
		_possibleChars : function (e) {
			var t,
			n = "",
			r = !1,
			i = function (n) {
				var r = e.length > t + 1 && e.charAt(t + 1) === n;
				return r && t++,
				r
			};
			for (t = 0; e.length > t; t++)
				if (r)
					"'" !== e.charAt(t) || i("'") ? n += e.charAt(t) : r = !1;
				else
					switch (e.charAt(t)) {
					case "d":
					case "m":
					case "y":
					case "@":
						n += "0123456789";
						break;
					case "D":
					case "M":
						return null;
					case "'":
						i("'") ? n += "'" : r = !0;
						break;
					default:
						n += e.charAt(t)
					}
			return n
		},
		_get : function (e, n) {
			return e.settings[n] !== t ? e.settings[n] : this._defaults[n]
		},
		_setDateFromField : function (e, t) {
			if (e.input.val() !== e.lastVal) {
				var n = this._get(e, "dateFormat"),
				r = e.lastVal = e.input ? e.input.val() : null,
				i = this._getDefaultDate(e),
				s = i,
				o = this._getFormatConfig(e);
				try {
					s = this.parseDate(n, r, o) || i
				} catch (u) {
					r = t ? "" : r
				}
				e.selectedDay = s.getDate(),
				e.drawMonth = e.selectedMonth = s.getMonth(),
				e.drawYear = e.selectedYear = s.getFullYear(),
				e.currentDay = r ? s.getDate() : 0,
				e.currentMonth = r ? s.getMonth() : 0,
				e.currentYear = r ? s.getFullYear() : 0,
				this._adjustInstDate(e)
			}
		},
		_getDefaultDate : function (e) {
			return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
		},
		_determineDate : function (t, n, r) {
			var i = function (e) {
				var t = new Date;
				return t.setDate(t.getDate() + e),
				t
			},
			s = function (n) {
				try {
					return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), n, e.datepicker._getFormatConfig(t))
				} catch (r) {}

				for (var i = (n.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, s = i.getFullYear(), o = i.getMonth(), u = i.getDate(), a = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, f = a.exec(n); f; ) {
					switch (f[2] || "d") {
					case "d":
					case "D":
						u += parseInt(f[1], 10);
						break;
					case "w":
					case "W":
						u += 7 * parseInt(f[1], 10);
						break;
					case "m":
					case "M":
						o += parseInt(f[1], 10),
						u = Math.min(u, e.datepicker._getDaysInMonth(s, o));
						break;
					case "y":
					case "Y":
						s += parseInt(f[1], 10),
						u = Math.min(u, e.datepicker._getDaysInMonth(s, o))
					}
					f = a.exec(n)
				}
				return new Date(s, o, u)
			},
			o = null == n || "" === n ? r : "string" == typeof n ? s(n) : "number" == typeof n ? isNaN(n) ? r : i(n) : new Date(n.getTime());
			return o = o && "Invalid Date" == "" + o ? r : o,
			o && (o.setHours(0), o.setMinutes(0), o.setSeconds(0), o.setMilliseconds(0)),
			this._daylightSavingAdjust(o)
		},
		_daylightSavingAdjust : function (e) {
			return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null
		},
		_setDate : function (e, t, n) {
			var r = !t,
			i = e.selectedMonth,
			s = e.selectedYear,
			o = this._restrictMinMax(e, this._determineDate(e, t, new Date));
			e.selectedDay = e.currentDay = o.getDate(),
			e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(),
			e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(),
			i === e.selectedMonth && s === e.selectedYear || n || this._notifyChange(e),
			this._adjustInstDate(e),
			e.input && e.input.val(r ? "" : this._formatDate(e))
		},
		_getDate : function (e) {
			var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
			return t
		},
		_attachHandlers : function (t) {
			var n = this._get(t, "stepMonths"),
			r = "#" + t.id.replace(/\\\\/g, "\\");
			t.dpDiv.find("[data-handler]").map(function () {
				var t = {
					prev : function () {
						window["DP_jQuery_" + u].datepicker._adjustDate(r, -n, "M")
					},
					next : function () {
						window["DP_jQuery_" + u].datepicker._adjustDate(r, +n, "M")
					},
					hide : function () {
						window["DP_jQuery_" + u].datepicker._hideDatepicker()
					},
					today : function () {
						window["DP_jQuery_" + u].datepicker._gotoToday(r)
					},
					selectDay : function () {
						return window["DP_jQuery_" + u].datepicker._selectDay(r, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
						!1
					},
					selectMonth : function () {
						return window["DP_jQuery_" + u].datepicker._selectMonthYear(r, this, "M"),
						!1
					},
					selectYear : function () {
						return window["DP_jQuery_" + u].datepicker._selectMonthYear(r, this, "Y"),
						!1
					}
				};
				e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
			})
		},
		_generateHTML : function (e) {
			var t,
			n,
			r,
			i,
			s,
			o,
			u,
			a,
			f,
			l,
			c,
			h,
			p,
			d,
			v,
			m,
			g,
			y,
			b,
			w,
			E,
			S,
			x,
			T,
			N,
			C,
			k,
			L,
			A,
			O,
			M,
			_,
			D,
			P,
			H,
			B,
			j,
			F,
			I,
			q = new Date,
			R = this._daylightSavingAdjust(new Date(q.getFullYear(), q.getMonth(), q.getDate())),
			U = this._get(e, "isRTL"),
			z = this._get(e, "showButtonPanel"),
			W = this._get(e, "hideIfNoPrevNext"),
			X = this._get(e, "navigationAsDateFormat"),
			V = this._getNumberOfMonths(e),
			$ = this._get(e, "showCurrentAtPos"),
			J = this._get(e, "stepMonths"),
			K = 1 !== V[0] || 1 !== V[1],
			Q = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
			G = this._getMinMaxDate(e, "min"),
			Y = this._getMinMaxDate(e, "max"),
			Z = e.drawMonth - $,
			et = e.drawYear;
			if (0 > Z && (Z += 12, et--), Y)
				for (t = this._daylightSavingAdjust(new Date(Y.getFullYear(), Y.getMonth() - V[0] * V[1] + 1, Y.getDate())), t = G && G > t ? G : t; this._daylightSavingAdjust(new Date(et, Z, 1)) > t; )
					Z--, 0 > Z && (Z = 11, et--);
			for (e.drawMonth = Z, e.drawYear = et, n = this._get(e, "prevText"), n = X ? this.formatDate(n, this._daylightSavingAdjust(new Date(et, Z - J, 1)), this._getFormatConfig(e)) : n, r = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>" : W ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>", i = this._get(e, "nextText"), i = X ? this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z + J, 1)), this._getFormatConfig(e)) : i, s = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>" : W ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>", o = this._get(e, "currentText"), u = this._get(e, "gotoCurrent") && e.currentDay ? Q : R, o = X ? this.formatDate(o, u, this._getFormatConfig(e)) : o, a = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", f = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (U ? a : "") + (this._isInRange(e, u) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (U ? "" : a) + "</div>" : "", l = parseInt(this._get(e, "firstDay"), 10), l = isNaN(l) ? 0 : l, c = this._get(e, "showWeek"), h = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), d = this._get(e, "monthNames"), v = this._get(e, "monthNamesShort"), m = this._get(e, "beforeShowDay"), g = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), w = "", S = 0; V[0] > S; S++) {
				for (x = "", this.maxRows = 4, T = 0; V[1] > T; T++) {
					if (N = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), C = " ui-corner-all", k = "", K) {
						if (k += "<div class='ui-datepicker-group", V[1] > 1)
							switch (T) {
							case 0:
								k += " ui-datepicker-group-first",
								C = " ui-corner-" + (U ? "right" : "left");
								break;
							case V[1] - 1:
								k += " ui-datepicker-group-last",
								C = " ui-corner-" + (U ? "left" : "right");
								break;
							default:
								k += " ui-datepicker-group-middle",
								C = ""
							}
						k += "'>"
					}
					for (k += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + C + "'>" + (/all|left/.test(C) && 0 === S ? U ? s : r : "") + (/all|right/.test(C) && 0 === S ? U ? r : s : "") + this._generateMonthYearHeader(e, Z, et, G, Y, S > 0 || T > 0, d, v) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", L = c ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", E = 0; 7 > E; E++)
						A = (E + l) % 7, L += "<th" + ((E + l + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + h[A] + "'>" + p[A] + "</span></th>";
					for (k += L + "</tr></thead><tbody>", O = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, O)), M = (this._getFirstDayOfMonth(et, Z) - l + 7) % 7, _ = Math.ceil((M + O) / 7), D = K ? this.maxRows > _ ? this.maxRows : _ : _, this.maxRows = D, P = this._daylightSavingAdjust(new Date(et, Z, 1 - M)), H = 0; D > H; H++) {
						for (k += "<tr>", B = c ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(P) + "</td>" : "", E = 0; 7 > E; E++)
							j = m ? m.apply(e.input ? e.input[0] : null, [P]) : [!0, ""], F = P.getMonth() !== Z, I = F && !y || !j[0] || G && G > P || Y && P > Y, B += "<td class='" + ((E + l + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (P.getTime() === N.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === P.getTime() && b.getTime() === N.getTime() ? " " + this._dayOverClass : "") + (I ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !g ? "" : " " + j[1] + (P.getTime() === Q.getTime() ? " " + this._currentClass : "") + (P.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !g || !j[2] ? "" : " title='" + j[2].replace(/'/g, "&#39;") + "'") + (I ? "" : " data-handler='selectDay' data-event='click' data-month='" + P.getMonth() + "' data-year='" + P.getFullYear() + "'") + ">" + (F && !g ? "&#xa0;" : I ? "<span class='ui-state-default'>" + P.getDate() + "</span>" : "<a class='ui-state-default" + (P.getTime() === R.getTime() ? " ui-state-highlight" : "") + (P.getTime() === Q.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + P.getDate() + "</a>") + "</td>", P.setDate(P.getDate() + 1), P = this._daylightSavingAdjust(P);
						k += B + "</tr>"
					}
					Z++,
					Z > 11 && (Z = 0, et++),
					k += "</tbody></table>" + (K ? "</div>" + (V[0] > 0 && T === V[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""),
					x += k
				}
				w += x
			}
			return w += f,
			e._keyEvent = !1,
			w
		},
		_generateMonthYearHeader : function (e, t, n, r, i, s, o, u) {
			var a,
			f,
			l,
			c,
			h,
			p,
			d,
			v,
			m = this._get(e, "changeMonth"),
			g = this._get(e, "changeYear"),
			y = this._get(e, "showMonthAfterYear"),
			b = "<div class='ui-datepicker-title'>",
			w = "";
			if (s || !m)
				w += "<span class='ui-datepicker-month'>" + o[t] + "</span>";
			else {
				for (a = r && r.getFullYear() === n, f = i && i.getFullYear() === n, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", l = 0; 12 > l; l++)
					(!a || l >= r.getMonth()) && (!f || i.getMonth() >= l) && (w += "<option value='" + l + "'" + (l === t ? " selected='selected'" : "") + ">" + u[l] + "</option>");
				w += "</select>"
			}
			if (y || (b += w + (!s && m && g ? "" : "&#xa0;")), !e.yearshtml)
				if (e.yearshtml = "", s || !g)
					b += "<span class='ui-datepicker-year'>" + n + "</span>";
				else {
					for (c = this._get(e, "yearRange").split(":"), h = (new Date).getFullYear(), p = function (e) {
						var t = e.match(/c[+\-].*/) ? n + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? h + parseInt(e, 10) : parseInt(e, 10);
						return isNaN(t) ? h : t
					}, d = p(c[0]), v = Math.max(d, p(c[1] || "")), d = r ? Math.max(d, r.getFullYear()) : d, v = i ? Math.min(v, i.getFullYear()) : v, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; v >= d; d++)
						e.yearshtml += "<option value='" + d + "'" + (d === n ? " selected='selected'" : "") + ">" + d + "</option>";
					e.yearshtml += "</select>",
					b += e.yearshtml,
					e.yearshtml = null
				}
			return b += this._get(e, "yearSuffix"),
			y && (b += (!s && m && g ? "" : "&#xa0;") + w),
			b += "</div>"
		},
		_adjustInstDate : function (e, t, n) {
			var r = e.drawYear + ("Y" === n ? t : 0),
			i = e.drawMonth + ("M" === n ? t : 0),
			s = Math.min(e.selectedDay, this._getDaysInMonth(r, i)) + ("D" === n ? t : 0),
			o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(r, i, s)));
			e.selectedDay = o.getDate(),
			e.drawMonth = e.selectedMonth = o.getMonth(),
			e.drawYear = e.selectedYear = o.getFullYear(),
			("M" === n || "Y" === n) && this._notifyChange(e)
		},
		_restrictMinMax : function (e, t) {
			var n = this._getMinMaxDate(e, "min"),
			r = this._getMinMaxDate(e, "max"),
			i = n && n > t ? n : t;
			return r && i > r ? r : i
		},
		_notifyChange : function (e) {
			var t = this._get(e, "onChangeMonthYear");
			t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
		},
		_getNumberOfMonths : function (e) {
			var t = this._get(e, "numberOfMonths");
			return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
		},
		_getMinMaxDate : function (e, t) {
			return this._determineDate(e, this._get(e, t + "Date"), null)
		},
		_getDaysInMonth : function (e, t) {
			return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
		},
		_getFirstDayOfMonth : function (e, t) {
			return (new Date(e, t, 1)).getDay()
		},
		_canAdjustMonth : function (e, t, n, r) {
			var i = this._getNumberOfMonths(e),
			s = this._daylightSavingAdjust(new Date(n, r + (0 > t ? t : i[0] * i[1]), 1));
			return 0 > t && s.setDate(this._getDaysInMonth(s.getFullYear(), s.getMonth())),
			this._isInRange(e, s)
		},
		_isInRange : function (e, t) {
			var n,
			r,
			i = this._getMinMaxDate(e, "min"),
			s = this._getMinMaxDate(e, "max"),
			o = null,
			u = null,
			a = this._get(e, "yearRange");
			return a && (n = a.split(":"), r = (new Date).getFullYear(), o = parseInt(n[0], 10), u = parseInt(n[1], 10), n[0].match(/[+\-].*/) && (o += r), n[1].match(/[+\-].*/) && (u += r)),
			(!i || t.getTime() >= i.getTime()) && (!s || t.getTime() <= s.getTime()) && (!o || t.getFullYear() >= o) && (!u || u >= t.getFullYear())
		},
		_getFormatConfig : function (e) {
			var t = this._get(e, "shortYearCutoff");
			return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
				shortYearCutoff : t,
				dayNamesShort : this._get(e, "dayNamesShort"),
				dayNames : this._get(e, "dayNames"),
				monthNamesShort : this._get(e, "monthNamesShort"),
				monthNames : this._get(e, "monthNames")
			}
		},
		_formatDate : function (e, t, n, r) {
			t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
			var i = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(r, n, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
			return this.formatDate(this._get(e, "dateFormat"), i, this._getFormatConfig(e))
		}
	}),
	e.fn.datepicker = function (t) {
		if (!this.length)
			return this;
		e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0),
		0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
		var n = Array.prototype.slice.call(arguments, 1);
		return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n)) : this.each(function () {
			"string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(n)) : e.datepicker._attachDatepicker(this, t)
		}) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n))
	},
	e.datepicker = new n,
	e.datepicker.initialized = !1,
	e.datepicker.uuid = (new Date).getTime(),
	e.datepicker.version = "1.10.2",
	window["DP_jQuery_" + u] = e
}
(jQuery), function (e) {
	var t = {
		buttons : !0,
		height : !0,
		maxHeight : !0,
		maxWidth : !0,
		minHeight : !0,
		minWidth : !0,
		width : !0
	},
	n = {
		maxHeight : !0,
		maxWidth : !0,
		minHeight : !0,
		minWidth : !0
	};
	e.widget("ui.dialog", {
		version : "1.10.2",
		options : {
			appendTo : "body",
			autoOpen : !0,
			buttons : [],
			closeOnEscape : !0,
			closeText : "close",
			dialogClass : "",
			draggable : !0,
			hide : null,
			height : "auto",
			maxHeight : null,
			maxWidth : null,
			minHeight : 150,
			minWidth : 150,
			modal : !1,
			position : {
				my : "center",
				at : "center",
				of : window,
				collision : "fit",
				using : function (t) {
					var n = e(this).css(t).offset().top;
					0 > n && e(this).css("top", t.top - n)
				}
			},
			resizable : !0,
			show : null,
			title : null,
			width : 300,
			beforeClose : null,
			close : null,
			drag : null,
			dragStart : null,
			dragStop : null,
			focus : null,
			open : null,
			resize : null,
			resizeStart : null,
			resizeStop : null
		},
		_create : function () {
			this.originalCss = {
				display : this.element[0].style.display,
				width : this.element[0].style.width,
				minHeight : this.element[0].style.minHeight,
				maxHeight : this.element[0].style.maxHeight,
				height : this.element[0].style.height
			},
			this.originalPosition = {
				parent : this.element.parent(),
				index : this.element.parent().children().index(this.element)
			},
			this.originalTitle = this.element.attr("title"),
			this.options.title = this.options.title || this.originalTitle,
			this._createWrapper(),
			this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
			this._createTitlebar(),
			this._createButtonPane(),
			this.options.draggable && e.fn.draggable && this._makeDraggable(),
			this.options.resizable && e.fn.resizable && this._makeResizable(),
			this._isOpen = !1
		},
		_init : function () {
			this.options.autoOpen && this.open()
		},
		_appendTo : function () {
			var t = this.options.appendTo;
			return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
		},
		_destroy : function () {
			var e,
			t = this.originalPosition;
			this._destroyOverlay(),
			this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
			this.uiDialog.stop(!0, !0).remove(),
			this.originalTitle && this.element.attr("title", this.originalTitle),
			e = t.parent.children().eq(t.index),
			e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
		},
		widget : function () {
			return this.uiDialog
		},
		disable : e.noop,
		enable : e.noop,
		close : function (t) {
			var n = this;
			this._isOpen && this._trigger("beforeClose", t) !== !1 && (this._isOpen = !1, this._destroyOverlay(), this.opener.filter(":focusable").focus().length || e(this.document[0].activeElement).blur(), this._hide(this.uiDialog, this.options.hide, function () {
					n._trigger("close", t)
				}))
		},
		isOpen : function () {
			return this._isOpen
		},
		moveToTop : function () {
			this._moveToTop()
		},
		_moveToTop : function (e, t) {
			var n = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
			return n && !t && this._trigger("focus", e),
			n
		},
		open : function () {
			var t = this;
			return this._isOpen ? (this._moveToTop() && this._focusTabbable(), undefined) : (this._isOpen = !0, this.opener = e(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show, function () {
					t._focusTabbable(),
					t._trigger("focus")
				}), this._trigger("open"), undefined)
		},
		_focusTabbable : function () {
			var e = this.element.find("[autofocus]");
			e.length || (e = this.element.find(":tabbable")),
			e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
			e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")),
			e.length || (e = this.uiDialog),
			e.eq(0).focus()
		},
		_keepFocus : function (t) {
			function n() {
				var t = this.document[0].activeElement,
				n = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
				n || this._focusTabbable()
			}
			t.preventDefault(),
			n.call(this),
			this._delay(n)
		},
		_createWrapper : function () {
			this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
					tabIndex : -1,
					role : "dialog"
				}).appendTo(this._appendTo()),
			this._on(this.uiDialog, {
				keydown : function (t) {
					if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE)
						return t.preventDefault(), this.close(t), undefined;
					if (t.keyCode === e.ui.keyCode.TAB) {
						var n = this.uiDialog.find(":tabbable"),
						r = n.filter(":first"),
						i = n.filter(":last");
						t.target !== i[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== r[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (i.focus(1), t.preventDefault()) : (r.focus(1), t.preventDefault())
					}
				},
				mousedown : function (e) {
					this._moveToTop(e) && this._focusTabbable()
				}
			}),
			this.element.find("[aria-describedby]").length || this.uiDialog.attr({
				"aria-describedby" : this.element.uniqueId().attr("id")
			})
		},
		_createTitlebar : function () {
			var t;
			this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
			this._on(this.uiDialogTitlebar, {
				mousedown : function (t) {
					e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
				}
			}),
			this.uiDialogTitlebarClose = e("<button></button>").button({
					label : this.options.closeText,
					icons : {
						primary : "ui-icon-closethick"
					},
					text : !1
				}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
			this._on(this.uiDialogTitlebarClose, {
				click : function (e) {
					e.preventDefault(),
					this.close(e)
				}
			}),
			t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
			this._title(t),
			this.uiDialog.attr({
				"aria-labelledby" : t.attr("id")
			})
		},
		_title : function (e) {
			this.options.title || e.html("&#160;"),
			e.text(this.options.title)
		},
		_createButtonPane : function () {
			this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
			this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
			this._createButtons()
		},
		_createButtons : function () {
			var t = this,
			n = this.options.buttons;
			return this.uiDialogButtonPane.remove(),
			this.uiButtonSet.empty(),
			e.isEmptyObject(n) || e.isArray(n) && !n.length ? (this.uiDialog.removeClass("ui-dialog-buttons"), undefined) : (e.each(n, function (n, r) {
					var i,
					s;
					r = e.isFunction(r) ? {
						click : r,
						text : n
					}
					 : r,
					r = e.extend({
							type : "button"
						}, r),
					i = r.click,
					r.click = function () {
						i.apply(t.element[0], arguments)
					},
					s = {
						icons : r.icons,
						text : r.showText
					},
					delete r.icons,
					delete r.showText,
					e("<button></button>", r).button(s).appendTo(t.uiButtonSet)
				}), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), undefined)
		},
		_makeDraggable : function () {
			function t(e) {
				return {
					position : e.position,
					offset : e.offset
				}
			}
			var n = this,
			r = this.options;
			this.uiDialog.draggable({
				cancel : ".ui-dialog-content, .ui-dialog-titlebar-close",
				handle : ".ui-dialog-titlebar",
				containment : "document",
				start : function (r, s) {
					e(this).addClass("ui-dialog-dragging"),
					n._blockFrames(),
					n._trigger("dragStart", r, t(s))
				},
				drag : function (e, r) {
					n._trigger("drag", e, t(r))
				},
				stop : function (o, u) {
					r.position = [u.position.left - n.document.scrollLeft(), u.position.top - n.document.scrollTop()],
					e(this).removeClass("ui-dialog-dragging"),
					n._unblockFrames(),
					n._trigger("dragStop", o, t(u))
				}
			})
		},
		_makeResizable : function () {
			function t(e) {
				return {
					originalPosition : e.originalPosition,
					originalSize : e.originalSize,
					position : e.position,
					size : e.size
				}
			}
			var n = this,
			r = this.options,
			i = r.resizable,
			s = this.uiDialog.css("position"),
			o = "string" == typeof i ? i : "n,e,s,w,se,sw,ne,nw";
			this.uiDialog.resizable({
				cancel : ".ui-dialog-content",
				containment : "document",
				alsoResize : this.element,
				maxWidth : r.maxWidth,
				maxHeight : r.maxHeight,
				minWidth : r.minWidth,
				minHeight : this._minHeight(),
				handles : o,
				start : function (r, i) {
					e(this).addClass("ui-dialog-resizing"),
					n._blockFrames(),
					n._trigger("resizeStart", r, t(i))
				},
				resize : function (e, r) {
					n._trigger("resize", e, t(r))
				},
				stop : function (i, s) {
					r.height = e(this).height(),
					r.width = e(this).width(),
					e(this).removeClass("ui-dialog-resizing"),
					n._unblockFrames(),
					n._trigger("resizeStop", i, t(s))
				}
			}).css("position", s)
		},
		_minHeight : function () {
			var e = this.options;
			return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
		},
		_position : function () {
			var e = this.uiDialog.is(":visible");
			e || this.uiDialog.show(),
			this.uiDialog.position(this.options.position),
			e || this.uiDialog.hide()
		},
		_setOptions : function (r) {
			var s = this,
			o = !1,
			u = {};
			e.each(r, function (e, r) {
				s._setOption(e, r),
				e in t && (o = !0),
				e in n && (u[e] = r)
			}),
			o && (this._size(), this._position()),
			this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u)
		},
		_setOption : function (e, t) {
			var n,
			r,
			i = this.uiDialog;
			"dialogClass" === e && i.removeClass(this.options.dialogClass).addClass(t),
			"disabled" !== e && (this._super(e, t), "appendTo" === e && this.uiDialog.appendTo(this._appendTo()), "buttons" === e && this._createButtons(), "closeText" === e && this.uiDialogTitlebarClose.button({
					label : "" + t
				}), "draggable" === e && (n = i.is(":data(ui-draggable)"), n && !t && i.draggable("destroy"), !n && t && this._makeDraggable()), "position" === e && this._position(), "resizable" === e && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && "string" == typeof t && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
		},
		_size : function () {
			var e,
			t,
			n,
			r = this.options;
			this.element.show().css({
				width : "auto",
				minHeight : 0,
				maxHeight : "none",
				height : 0
			}),
			r.minWidth > r.width && (r.width = r.minWidth),
			e = this.uiDialog.css({
					height : "auto",
					width : r.width
				}).outerHeight(),
			t = Math.max(0, r.minHeight - e),
			n = "number" == typeof r.maxHeight ? Math.max(0, r.maxHeight - e) : "none",
			"auto" === r.height ? this.element.css({
				minHeight : t,
				maxHeight : n,
				height : "auto"
			}) : this.element.height(Math.max(0, r.height - e)),
			this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
		},
		_blockFrames : function () {
			this.iframeBlocks = this.document.find("iframe").map(function () {
					var t = e(this);
					return e("<div>").css({
						position : "absolute",
						width : t.outerWidth(),
						height : t.outerHeight()
					}).appendTo(t.parent()).offset(t.offset())[0]
				})
		},
		_unblockFrames : function () {
			this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
		},
		_allowInteraction : function (t) {
			return e(t.target).closest(".ui-dialog").length ? !0 : !!e(t.target).closest(".ui-datepicker").length
		},
		_createOverlay : function () {
			if (this.options.modal) {
				var t = this,
				n = this.widgetFullName;
				e.ui.dialog.overlayInstances || this._delay(function () {
					e.ui.dialog.overlayInstances && this.document.bind("focusin.dialog", function (r) {
						t._allowInteraction(r) || (r.preventDefault(), e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable())
					})
				}),
				this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
				this._on(this.overlay, {
					mousedown : "_keepFocus"
				}),
				e.ui.dialog.overlayInstances++
			}
		},
		_destroyOverlay : function () {
			this.options.modal && this.overlay && (e.ui.dialog.overlayInstances--, e.ui.dialog.overlayInstances || this.document.unbind("focusin.dialog"), this.overlay.remove(), this.overlay = null)
		}
	}),
	e.ui.dialog.overlayInstances = 0,
	e.uiBackCompat !== !1 && e.widget("ui.dialog", e.ui.dialog, {
		_position : function () {
			var t,
			n = this.options.position,
			r = [],
			i = [0, 0];
			n ? (("string" == typeof n || "object" == typeof n && "0" in n) && (r = n.split ? n.split(" ") : [n[0], n[1]], 1 === r.length && (r[1] = r[0]), e.each(["left", "top"], function (e, t) {
						+r[e] === r[e] && (i[e] = r[e], r[e] = t)
					}), n = {
						my : r[0] + (0 > i[0] ? i[0] : "+" + i[0]) + " " + r[1] + (0 > i[1] ? i[1] : "+" + i[1]),
						at : r.join(" ")
					}), n = e.extend({}, e.ui.dialog.prototype.options.position, n)) : n = e.ui.dialog.prototype.options.position,
			t = this.uiDialog.is(":visible"),
			t || this.uiDialog.show(),
			this.uiDialog.position(n),
			t || this.uiDialog.hide()
		}
	})
}
(jQuery), function (e) {
	e.widget("ui.menu", {
		version : "1.10.2",
		defaultElement : "<ul>",
		delay : 300,
		options : {
			icons : {
				submenu : "ui-icon-carat-1-e"
			},
			menus : "ul",
			position : {
				my : "left top",
				at : "right top"
			},
			role : "menu",
			blur : null,
			focus : null,
			select : null
		},
		_create : function () {
			this.activeMenu = this.element,
			this.mouseHandled = !1,
			this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
				role : this.options.role,
				tabIndex : 0
			}).bind("click" + this.eventNamespace, e.proxy(function (e) {
					this.options.disabled && e.preventDefault()
				}, this)),
			this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"),
			this._on({
				"mousedown .ui-menu-item > a" : function (e) {
					e.preventDefault()
				},
				"click .ui-state-disabled > a" : function (e) {
					e.preventDefault()
				},
				"click .ui-menu-item:has(a)" : function (n) {
					var r = e(n.target).closest(".ui-menu-item");
					!this.mouseHandled && r.not(".ui-state-disabled").length && (this.mouseHandled = !0, this.select(n), r.has(".ui-menu").length ? this.expand(n) : this.element.is(":focus") || (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
				},
				"mouseenter .ui-menu-item" : function (n) {
					var r = e(n.currentTarget);
					r.siblings().children(".ui-state-active").removeClass("ui-state-active"),
					this.focus(n, r)
				},
				mouseleave : "collapseAll",
				"mouseleave .ui-menu" : "collapseAll",
				focus : function (e, t) {
					var n = this.active || this.element.children(".ui-menu-item").eq(0);
					t || this.focus(e, n)
				},
				blur : function (n) {
					this._delay(function () {
						e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(n)
					})
				},
				keydown : "_keydown"
			}),
			this.refresh(),
			this._on(this.document, {
				click : function (n) {
					e(n.target).closest(".ui-menu").length || this.collapseAll(n),
					this.mouseHandled = !1
				}
			})
		},
		_destroy : function () {
			this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
			this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () {
				var n = e(this);
				n.data("ui-menu-submenu-carat") && n.remove()
			}),
			this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
		},
		_keydown : function (n) {
			function r(e) {
				return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
			}
			var i,
			s,
			o,
			u,
			a,
			f = !0;
			switch (n.keyCode) {
			case e.ui.keyCode.PAGE_UP:
				this.previousPage(n);
				break;
			case e.ui.keyCode.PAGE_DOWN:
				this.nextPage(n);
				break;
			case e.ui.keyCode.HOME:
				this._move("first", "first", n);
				break;
			case e.ui.keyCode.END:
				this._move("last", "last", n);
				break;
			case e.ui.keyCode.UP:
				this.previous(n);
				break;
			case e.ui.keyCode.DOWN:
				this.next(n);
				break;
			case e.ui.keyCode.LEFT:
				this.collapse(n);
				break;
			case e.ui.keyCode.RIGHT:
				this.active && !this.active.is(".ui-state-disabled") && this.expand(n);
				break;
			case e.ui.keyCode.ENTER:
			case e.ui.keyCode.SPACE:
				this._activate(n);
				break;
			case e.ui.keyCode.ESCAPE:
				this.collapse(n);
				break;
			default:
				f = !1,
				s = this.previousFilter || "",
				o = String.fromCharCode(n.keyCode),
				u = !1,
				clearTimeout(this.filterTimer),
				o === s ? u = !0 : o = s + o,
				a = RegExp("^" + r(o), "i"),
				i = this.activeMenu.children(".ui-menu-item").filter(function () {
						return a.test(e(this).children("a").text())
					}),
				i = u && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i,
				i.length || (o = String.fromCharCode(n.keyCode), a = RegExp("^" + r(o), "i"), i = this.activeMenu.children(".ui-menu-item").filter(function () {
							return a.test(e(this).children("a").text())
						})),
				i.length ? (this.focus(n, i), i.length > 1 ? (this.previousFilter = o, this.filterTimer = this._delay(function () {
								delete this.previousFilter
							}, 1e3)) : delete this.previousFilter) : delete this.previousFilter
			}
			f && n.preventDefault()
		},
		_activate : function (e) {
			this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(e) : this.select(e))
		},
		refresh : function () {
			var n,
			r = this.options.icons.submenu,
			i = this.element.find(this.options.menus);
			i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
				role : this.options.role,
				"aria-hidden" : "true",
				"aria-expanded" : "false"
			}).each(function () {
				var n = e(this),
				i = n.prev("a"),
				s = e("<span>").addClass("ui-menu-icon ui-icon " + r).data("ui-menu-submenu-carat", !0);
				i.attr("aria-haspopup", "true").prepend(s),
				n.attr("aria-labelledby", i.attr("id"))
			}),
			n = i.add(this.element),
			n.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
				tabIndex : -1,
				role : this._itemRole()
			}),
			n.children(":not(.ui-menu-item)").each(function () {
				var n = e(this);
				/[^\-\u2014\u2013\s]/.test(n.text()) || n.addClass("ui-widget-content ui-menu-divider")
			}),
			n.children(".ui-state-disabled").attr("aria-disabled", "true"),
			this.active && !e.contains(this.element[0], this.active[0]) && this.blur()
		},
		_itemRole : function () {
			return {
				menu : "menuitem",
				listbox : "option"
			}
			[this.options.role]
		},
		_setOption : function (e, t) {
			"icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),
			this._super(e, t)
		},
		focus : function (e, t) {
			var n,
			r;
			this.blur(e, e && "focus" === e.type),
			this._scrollIntoView(t),
			this.active = t.first(),
			r = this.active.children("a").addClass("ui-state-focus"),
			this.options.role && this.element.attr("aria-activedescendant", r.attr("id")),
			this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),
			e && "keydown" === e.type ? this._close() : this.timer = this._delay(function () {
					this._close()
				}, this.delay),
			n = t.children(".ui-menu"),
			n.length && /^mouse/.test(e.type) && this._startOpening(n),
			this.activeMenu = t.parent(),
			this._trigger("focus", e, {
				item : t
			})
		},
		_scrollIntoView : function (n) {
			var r,
			i,
			s,
			o,
			u,
			a;
			this._hasScroll() && (r = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, i = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, s = n.offset().top - this.activeMenu.offset().top - r - i, o = this.activeMenu.scrollTop(), u = this.activeMenu.height(), a = n.height(), 0 > s ? this.activeMenu.scrollTop(o + s) : s + a > u && this.activeMenu.scrollTop(o + s - u + a))
		},
		blur : function (e, t) {
			t || clearTimeout(this.timer),
			this.active && (this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", e, {
					item : this.active
				}))
		},
		_startOpening : function (e) {
			clearTimeout(this.timer),
			"true" === e.attr("aria-hidden") && (this.timer = this._delay(function () {
						this._close(),
						this._open(e)
					}, this.delay))
		},
		_open : function (n) {
			var r = e.extend({
					of : this.active
				}, this.options.position);
			clearTimeout(this.timer),
			this.element.find(".ui-menu").not(n.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
			n.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(r)
		},
		collapseAll : function (n, r) {
			clearTimeout(this.timer),
			this.timer = this._delay(function () {
					var s = r ? this.element : e(n && n.target).closest(this.element.find(".ui-menu"));
					s.length || (s = this.element),
					this._close(s),
					this.blur(n),
					this.activeMenu = s
				}, this.delay)
		},
		_close : function (e) {
			e || (e = this.active ? this.active.parent() : this.element),
			e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
		},
		collapse : function (e) {
			var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
			t && t.length && (this._close(), this.focus(e, t))
		},
		expand : function (e) {
			var t = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
			t && t.length && (this._open(t.parent()), this._delay(function () {
					this.focus(e, t)
				}))
		},
		next : function (e) {
			this._move("next", "first", e)
		},
		previous : function (e) {
			this._move("prev", "last", e)
		},
		isFirstItem : function () {
			return this.active && !this.active.prevAll(".ui-menu-item").length
		},
		isLastItem : function () {
			return this.active && !this.active.nextAll(".ui-menu-item").length
		},
		_move : function (e, t, n) {
			var r;
			this.active && (r = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)),
			r && r.length && this.active || (r = this.activeMenu.children(".ui-menu-item")[t]()),
			this.focus(n, r)
		},
		nextPage : function (n) {
			var r,
			i,
			s;
			return this.active ? (this.isLastItem() || (this._hasScroll() ? (i = this.active.offset().top, s = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () {
							return r = e(this),
							0 > r.offset().top - i - s
						}), this.focus(n, r)) : this.focus(n, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]())), undefined) : (this.next(n), undefined)
		},
		previousPage : function (n) {
			var r,
			i,
			s;
			return this.active ? (this.isFirstItem() || (this._hasScroll() ? (i = this.active.offset().top, s = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () {
							return r = e(this),
							r.offset().top - i + s > 0
						}), this.focus(n, r)) : this.focus(n, this.activeMenu.children(".ui-menu-item").first())), undefined) : (this.next(n), undefined)
		},
		_hasScroll : function () {
			return this.element.outerHeight() < this.element.prop("scrollHeight")
		},
		select : function (n) {
			this.active = this.active || e(n.target).closest(".ui-menu-item");
			var r = {
				item : this.active
			};
			this.active.has(".ui-menu").length || this.collapseAll(n, !0),
			this._trigger("select", n, r)
		}
	})
}
(jQuery), function (e, t) {
	e.widget("ui.progressbar", {
		version : "1.10.2",
		options : {
			max : 100,
			value : 0,
			change : null,
			complete : null
		},
		min : 0,
		_create : function () {
			this.oldValue = this.options.value = this._constrainedValue(),
			this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
				role : "progressbar",
				"aria-valuemin" : this.min
			}),
			this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
			this._refreshValue()
		},
		_destroy : function () {
			this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
			this.valueDiv.remove()
		},
		value : function (e) {
			return e === t ? this.options.value : (this.options.value = this._constrainedValue(e), this._refreshValue(), t)
		},
		_constrainedValue : function (e) {
			return e === t && (e = this.options.value),
			this.indeterminate = e === !1,
			"number" != typeof e && (e = 0),
			this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
		},
		_setOptions : function (e) {
			var t = e.value;
			delete e.value,
			this._super(e),
			this.options.value = this._constrainedValue(t),
			this._refreshValue()
		},
		_setOption : function (e, t) {
			"max" === e && (t = Math.max(this.min, t)),
			this._super(e, t)
		},
		_percentage : function () {
			return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
		},
		_refreshValue : function () {
			var t = this.options.value,
			n = this._percentage();
			this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(n.toFixed(0) + "%"),
			this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate),
			this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
					"aria-valuemax" : this.options.max,
					"aria-valuenow" : t
				}), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)),
			this.oldValue !== t && (this.oldValue = t, this._trigger("change")),
			t === this.options.max && this._trigger("complete")
		}
	})
}
(jQuery), function (e) {
	var t = 5;
	e.widget("ui.slider", e.ui.mouse, {
		version : "1.10.2",
		widgetEventPrefix : "slide",
		options : {
			animate : !1,
			distance : 0,
			max : 100,
			min : 0,
			orientation : "horizontal",
			range : !1,
			step : 1,
			value : 0,
			values : null,
			change : null,
			slide : null,
			start : null,
			stop : null
		},
		_create : function () {
			this._keySliding = !1,
			this._mouseSliding = !1,
			this._animateOff = !0,
			this._handleIndex = null,
			this._detectOrientation(),
			this._mouseInit(),
			this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"),
			this._refresh(),
			this._setOption("disabled", this.options.disabled),
			this._animateOff = !1
		},
		_refresh : function () {
			this._createRange(),
			this._createHandles(),
			this._setupEvents(),
			this._refreshValue()
		},
		_createHandles : function () {
			var t,
			n,
			r = this.options,
			i = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
			s = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
			o = [];
			for (n = r.values && r.values.length || 1, i.length > n && (i.slice(n).remove(), i = i.slice(0, n)), t = i.length; n > t; t++)
				o.push(s);
			this.handles = i.add(e(o.join("")).appendTo(this.element)),
			this.handle = this.handles.eq(0),
			this.handles.each(function (t) {
				e(this).data("ui-slider-handle-index", t)
			})
		},
		_createRange : function () {
			var t = this.options,
			n = "";
			t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
					left : "",
					bottom : ""
				}) : (this.range = e("<div></div>").appendTo(this.element), n = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(n + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : this.range = e([])
		},
		_setupEvents : function () {
			var e = this.handles.add(this.range).filter("a");
			this._off(e),
			this._on(e, this._handleEvents),
			this._hoverable(e),
			this._focusable(e)
		},
		_destroy : function () {
			this.handles.remove(),
			this.range.remove(),
			this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
			this._mouseDestroy()
		},
		_mouseCapture : function (t) {
			var n,
			r,
			i,
			s,
			o,
			u,
			a,
			f,
			l = this,
			c = this.options;
			return c.disabled ? !1 : (this.elementSize = {
					width : this.element.outerWidth(),
					height : this.element.outerHeight()
				}, this.elementOffset = this.element.offset(), n = {
					x : t.pageX,
					y : t.pageY
				}, r = this._normValueFromMouse(n), i = this._valueMax() - this._valueMin() + 1, this.handles.each(function (t) {
					var n = Math.abs(r - l.values(t));
					(i > n || i === n && (t === l._lastChangedValue || l.values(t) === c.min)) && (i = n, s = e(this), o = t)
				}), u = this._start(t, o), u === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, s.addClass("ui-state-active").focus(), a = s.offset(), f = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = f ? {
						left : 0,
						top : 0
					}
					 : {
					left : t.pageX - a.left - s.width() / 2,
					top : t.pageY - a.top - s.height() / 2 - (parseInt(s.css("borderTopWidth"), 10) || 0) - (parseInt(s.css("borderBottomWidth"), 10) || 0) + (parseInt(s.css("marginTop"), 10) || 0)
				}, this.handles.hasClass("ui-state-hover") || this._slide(t, o, r), this._animateOff = !0, !0))
		},
		_mouseStart : function () {
			return !0
		},
		_mouseDrag : function (e) {
			var t = {
				x : e.pageX,
				y : e.pageY
			},
			n = this._normValueFromMouse(t);
			return this._slide(e, this._handleIndex, n),
			!1
		},
		_mouseStop : function (e) {
			return this.handles.removeClass("ui-state-active"),
			this._mouseSliding = !1,
			this._stop(e, this._handleIndex),
			this._change(e, this._handleIndex),
			this._handleIndex = null,
			this._clickOffset = null,
			this._animateOff = !1,
			!1
		},
		_detectOrientation : function () {
			this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
		},
		_normValueFromMouse : function (e) {
			var t,
			n,
			r,
			i,
			s;
			return "horizontal" === this.orientation ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
			r = n / t,
			r > 1 && (r = 1),
			0 > r && (r = 0),
			"vertical" === this.orientation && (r = 1 - r),
			i = this._valueMax() - this._valueMin(),
			s = this._valueMin() + r * i,
			this._trimAlignValue(s)
		},
		_start : function (e, t) {
			var n = {
				handle : this.handles[t],
				value : this.value()
			};
			return this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()),
			this._trigger("start", e, n)
		},
		_slide : function (e, t, n) {
			var r,
			i,
			s;
			this.options.values && this.options.values.length ? (r = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && n > r || 1 === t && r > n) && (n = r), n !== this.values(t) && (i = this.values(), i[t] = n, s = this._trigger("slide", e, {
							handle : this.handles[t],
							value : n,
							values : i
						}), r = this.values(t ? 0 : 1), s !== !1 && this.values(t, n, !0))) : n !== this.value() && (s = this._trigger("slide", e, {
						handle : this.handles[t],
						value : n
					}), s !== !1 && this.value(n))
		},
		_stop : function (e, t) {
			var n = {
				handle : this.handles[t],
				value : this.value()
			};
			this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()),
			this._trigger("stop", e, n)
		},
		_change : function (e, t) {
			if (!this._keySliding && !this._mouseSliding) {
				var n = {
					handle : this.handles[t],
					value : this.value()
				};
				this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()),
				this._lastChangedValue = t,
				this._trigger("change", e, n)
			}
		},
		value : function (e) {
			return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), this._change(null, 0), undefined) : this._value()
		},
		values : function (t, n) {
			var r,
			i,
			s;
			if (arguments.length > 1)
				return this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), this._change(null, t), undefined;
			if (!arguments.length)
				return this._values();
			if (!e.isArray(arguments[0]))
				return this.options.values && this.options.values.length ? this._values(t) : this.value();
			for (r = this.options.values, i = arguments[0], s = 0; r.length > s; s += 1)
				r[s] = this._trimAlignValue(i[s]), this._change(null, s);
			this._refreshValue()
		},
		_setOption : function (t, n) {
			var r,
			i = 0;
			switch ("range" === t && this.options.range === !0 && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (i = this.options.values.length), e.Widget.prototype._setOption.apply(this, arguments), t) {
			case "orientation":
				this._detectOrientation(),
				this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
				this._refreshValue();
				break;
			case "value":
				this._animateOff = !0,
				this._refreshValue(),
				this._change(null, 0),
				this._animateOff = !1;
				break;
			case "values":
				for (this._animateOff = !0, this._refreshValue(), r = 0; i > r; r += 1)
					this._change(null, r);
				this._animateOff = !1;
				break;
			case "min":
			case "max":
				this._animateOff = !0,
				this._refreshValue(),
				this._animateOff = !1;
				break;
			case "range":
				this._animateOff = !0,
				this._refresh(),
				this._animateOff = !1
			}
		},
		_value : function () {
			var e = this.options.value;
			return e = this._trimAlignValue(e)
		},
		_values : function (e) {
			var t,
			n,
			r;
			if (arguments.length)
				return t = this.options.values[e], t = this._trimAlignValue(t);
			if (this.options.values && this.options.values.length) {
				for (n = this.options.values.slice(), r = 0; n.length > r; r += 1)
					n[r] = this._trimAlignValue(n[r]);
				return n
			}
			return []
		},
		_trimAlignValue : function (e) {
			if (this._valueMin() >= e)
				return this._valueMin();
			if (e >= this._valueMax())
				return this._valueMax();
			var t = this.options.step > 0 ? this.options.step : 1,
			n = (e - this._valueMin()) % t,
			r = e - n;
			return 2 * Math.abs(n) >= t && (r += n > 0 ? t : -t),
			parseFloat(r.toFixed(5))
		},
		_valueMin : function () {
			return this.options.min
		},
		_valueMax : function () {
			return this.options.max
		},
		_refreshValue : function () {
			var t,
			n,
			r,
			i,
			s,
			o = this.options.range,
			u = this.options,
			a = this,
			f = this._animateOff ? !1 : u.animate,
			l = {};
			this.options.values && this.options.values.length ? this.handles.each(function (r) {
				n = 100 * ((a.values(r) - a._valueMin()) / (a._valueMax() - a._valueMin())),
				l["horizontal" === a.orientation ? "left" : "bottom"] = n + "%",
				e(this).stop(1, 1)[f ? "animate" : "css"](l, u.animate),
				a.options.range === !0 && ("horizontal" === a.orientation ? (0 === r && a.range.stop(1, 1)[f ? "animate" : "css"]({
							left : n + "%"
						}, u.animate), 1 === r && a.range[f ? "animate" : "css"]({
							width : n - t + "%"
						}, {
							queue : !1,
							duration : u.animate
						})) : (0 === r && a.range.stop(1, 1)[f ? "animate" : "css"]({
							bottom : n + "%"
						}, u.animate), 1 === r && a.range[f ? "animate" : "css"]({
							height : n - t + "%"
						}, {
							queue : !1,
							duration : u.animate
						}))),
				t = n
			}) : (r = this.value(), i = this._valueMin(), s = this._valueMax(), n = s !== i ? 100 * ((r - i) / (s - i)) : 0, l["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[f ? "animate" : "css"](l, u.animate), "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[f ? "animate" : "css"]({
					width : n + "%"
				}, u.animate), "max" === o && "horizontal" === this.orientation && this.range[f ? "animate" : "css"]({
					width : 100 - n + "%"
				}, {
					queue : !1,
					duration : u.animate
				}), "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[f ? "animate" : "css"]({
					height : n + "%"
				}, u.animate), "max" === o && "vertical" === this.orientation && this.range[f ? "animate" : "css"]({
					height : 100 - n + "%"
				}, {
					queue : !1,
					duration : u.animate
				}))
		},
		_handleEvents : {
			keydown : function (n) {
				var r,
				i,
				s,
				o,
				u = e(n.target).data("ui-slider-handle-index");
				switch (n.keyCode) {
				case e.ui.keyCode.HOME:
				case e.ui.keyCode.END:
				case e.ui.keyCode.PAGE_UP:
				case e.ui.keyCode.PAGE_DOWN:
				case e.ui.keyCode.UP:
				case e.ui.keyCode.RIGHT:
				case e.ui.keyCode.DOWN:
				case e.ui.keyCode.LEFT:
					if (n.preventDefault(), !this._keySliding && (this._keySliding = !0, e(n.target).addClass("ui-state-active"), r = this._start(n, u), r === !1))
						return
				}
				switch (o = this.options.step, i = s = this.options.values && this.options.values.length ? this.values(u) : this.value(), n.keyCode) {
				case e.ui.keyCode.HOME:
					s = this._valueMin();
					break;
				case e.ui.keyCode.END:
					s = this._valueMax();
					break;
				case e.ui.keyCode.PAGE_UP:
					s = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / t);
					break;
				case e.ui.keyCode.PAGE_DOWN:
					s = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / t);
					break;
				case e.ui.keyCode.UP:
				case e.ui.keyCode.RIGHT:
					if (i === this._valueMax())
						return;
					s = this._trimAlignValue(i + o);
					break;
				case e.ui.keyCode.DOWN:
				case e.ui.keyCode.LEFT:
					if (i === this._valueMin())
						return;
					s = this._trimAlignValue(i - o)
				}
				this._slide(n, u, s)
			},
			click : function (e) {
				e.preventDefault()
			},
			keyup : function (t) {
				var n = e(t.target).data("ui-slider-handle-index");
				this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), e(t.target).removeClass("ui-state-active"))
			}
		}
	})
}
(jQuery), function (e) {
	function t(e) {
		return function () {
			var t = this.element.val();
			e.apply(this, arguments),
			this._refresh(),
			t !== this.element.val() && this._trigger("change")
		}
	}
	e.widget("ui.spinner", {
		version : "1.10.2",
		defaultElement : "<input>",
		widgetEventPrefix : "spin",
		options : {
			culture : null,
			icons : {
				down : "ui-icon-triangle-1-s",
				up : "ui-icon-triangle-1-n"
			},
			incremental : !0,
			max : null,
			min : null,
			numberFormat : null,
			page : 10,
			step : 1,
			change : null,
			spin : null,
			start : null,
			stop : null
		},
		_create : function () {
			this._setOption("max", this.options.max),
			this._setOption("min", this.options.min),
			this._setOption("step", this.options.step),
			this._value(this.element.val(), !0),
			this._draw(),
			this._on(this._events),
			this._refresh(),
			this._on(this.window, {
				beforeunload : function () {
					this.element.removeAttr("autocomplete")
				}
			})
		},
		_getCreateOptions : function () {
			var t = {},
			n = this.element;
			return e.each(["min", "max", "step"], function (e, r) {
				var s = n.attr(r);
				void 0 !== s && s.length && (t[r] = s)
			}),
			t
		},
		_events : {
			keydown : function (e) {
				this._start(e) && this._keydown(e) && e.preventDefault()
			},
			keyup : "_stop",
			focus : function () {
				this.previous = this.element.val()
			},
			blur : function (e) {
				return this.cancelBlur ? (delete this.cancelBlur, void 0) : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", e), void 0)
			},
			mousewheel : function (e, t) {
				if (t) {
					if (!this.spinning && !this._start(e))
						return !1;
					this._spin((t > 0 ? 1 : -1) * this.options.step, e),
					clearTimeout(this.mousewheelTimer),
					this.mousewheelTimer = this._delay(function () {
							this.spinning && this._stop(e)
						}, 100),
					e.preventDefault()
				}
			},
			"mousedown .ui-spinner-button" : function (t) {
				function n() {
					var e = this.element[0] === this.document[0].activeElement;
					e || (this.element.focus(), this.previous = r, this._delay(function () {
							this.previous = r
						}))
				}
				var r;
				r = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(),
				t.preventDefault(),
				n.call(this),
				this.cancelBlur = !0,
				this._delay(function () {
					delete this.cancelBlur,
					n.call(this)
				}),
				this._start(t) !== !1 && this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
			},
			"mouseup .ui-spinner-button" : "_stop",
			"mouseenter .ui-spinner-button" : function (t) {
				return e(t.currentTarget).hasClass("ui-state-active") ? this._start(t) === !1 ? !1 : (this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t), void 0) : void 0
			},
			"mouseleave .ui-spinner-button" : "_stop"
		},
		_draw : function () {
			var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
			this.element.attr("role", "spinbutton"),
			this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"),
			this.buttons.height() > Math.ceil(.5 * e.height()) && e.height() > 0 && e.height(e.height()),
			this.options.disabled && this.disable()
		},
		_keydown : function (t) {
			var n = this.options,
			r = e.ui.keyCode;
			switch (t.keyCode) {
			case r.UP:
				return this._repeat(null, 1, t),
				!0;
			case r.DOWN:
				return this._repeat(null, -1, t),
				!0;
			case r.PAGE_UP:
				return this._repeat(null, n.page, t),
				!0;
			case r.PAGE_DOWN:
				return this._repeat(null, -n.page, t),
				!0
			}
			return !1
		},
		_uiSpinnerHtml : function () {
			return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
		},
		_buttonHtml : function () {
			return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>"
		},
		_start : function (e) {
			return this.spinning || this._trigger("start", e) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
		},
		_repeat : function (e, t, n) {
			e = e || 500,
			clearTimeout(this.timer),
			this.timer = this._delay(function () {
					this._repeat(40, t, n)
				}, e),
			this._spin(t * this.options.step, n)
		},
		_spin : function (e, t) {
			var n = this.value() || 0;
			this.counter || (this.counter = 1),
			n = this._adjustValue(n + e * this._increment(this.counter)),
			this.spinning && this._trigger("spin", t, {
				value : n
			}) === !1 || (this._value(n), this.counter++)
		},
		_increment : function (t) {
			var n = this.options.incremental;
			return n ? e.isFunction(n) ? n(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
		},
		_precision : function () {
			var e = this._precisionOf(this.options.step);
			return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))),
			e
		},
		_precisionOf : function (e) {
			var t = "" + e,
			n = t.indexOf(".");
			return -1 === n ? 0 : t.length - n - 1
		},
		_adjustValue : function (e) {
			var t,
			n,
			r = this.options;
			return t = null !== r.min ? r.min : 0,
			n = e - t,
			n = Math.round(n / r.step) * r.step,
			e = t + n,
			e = parseFloat(e.toFixed(this._precision())),
			null !== r.max && e > r.max ? r.max : null !== r.min && r.min > e ? r.min : e
		},
		_stop : function (e) {
			this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", e))
		},
		_setOption : function (e, t) {
			if ("culture" === e || "numberFormat" === e) {
				var n = this._parse(this.element.val());
				return this.options[e] = t,
				this.element.val(this._format(n)),
				void 0
			}
			("max" === e || "min" === e || "step" === e) && "string" == typeof t && (t = this._parse(t)),
			"icons" === e && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),
			this._super(e, t),
			"disabled" === e && (t ? (this.element.prop("disabled", !0), this.buttons.button("disable")) : (this.element.prop("disabled", !1), this.buttons.button("enable")))
		},
		_setOptions : t(function (e) {
			this._super(e),
			this._value(this.element.val())
		}),
		_parse : function (e) {
			return "string" == typeof e && "" !== e && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e),
			"" === e || isNaN(e) ? null : e
		},
		_format : function (e) {
			return "" === e ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
		},
		_refresh : function () {
			this.element.attr({
				"aria-valuemin" : this.options.min,
				"aria-valuemax" : this.options.max,
				"aria-valuenow" : this._parse(this.element.val())
			})
		},
		_value : function (e, t) {
			var n;
			"" !== e && (n = this._parse(e), null !== n && (t || (n = this._adjustValue(n)), e = this._format(n))),
			this.element.val(e),
			this._refresh()
		},
		_destroy : function () {
			this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
			this.uiSpinner.replaceWith(this.element)
		},
		stepUp : t(function (e) {
			this._stepUp(e)
		}),
		_stepUp : function (e) {
			this._start() && (this._spin((e || 1) * this.options.step), this._stop())
		},
		stepDown : t(function (e) {
			this._stepDown(e)
		}),
		_stepDown : function (e) {
			this._start() && (this._spin((e || 1) * -this.options.step), this._stop())
		},
		pageUp : t(function (e) {
			this._stepUp((e || 1) * this.options.page)
		}),
		pageDown : t(function (e) {
			this._stepDown((e || 1) * this.options.page)
		}),
		value : function (e) {
			return arguments.length ? (t(this._value).call(this, e), void 0) : this._parse(this.element.val())
		},
		widget : function () {
			return this.uiSpinner
		}
	})
}
(jQuery), function (e, t) {
	function n() {
		return ++i
	}
	function r(e) {
		return e.hash.length > 1 && decodeURIComponent(e.href.replace(s, "")) === decodeURIComponent(location.href.replace(s, ""))
	}
	var i = 0,
	s = /#.*$/;
	e.widget("ui.tabs", {
		version : "1.10.2",
		delay : 300,
		options : {
			active : null,
			collapsible : !1,
			event : "click",
			heightStyle : "content",
			hide : null,
			show : null,
			activate : null,
			beforeActivate : null,
			beforeLoad : null,
			load : null
		},
		_create : function () {
			var t = this,
			n = this.options;
			this.running = !1,
			this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", n.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function (t) {
				e(this).is(".ui-state-disabled") && t.preventDefault()
			}).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () {
				e(this).closest("li").is(".ui-state-disabled") && this.blur()
			}),
			this._processTabs(),
			n.active = this._initialActive(),
			e.isArray(n.disabled) && (n.disabled = e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function (e) {
								return t.tabs.index(e)
							}))).sort()),
			this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(n.active) : e(),
			this._refresh(),
			this.active.length && this.load(n.active)
		},
		_initialActive : function () {
			var n = this.options.active,
			r = this.options.collapsible,
			i = location.hash.substring(1);
			return null === n && (i && this.tabs.each(function (r, s) {
					return e(s).attr("aria-controls") === i ? (n = r, !1) : t
				}), null === n && (n = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === n || -1 === n) && (n = this.tabs.length ? 0 : !1)),
			n !== !1 && (n = this.tabs.index(this.tabs.eq(n)), -1 === n && (n = r ? !1 : 0)),
			!r && n === !1 && this.anchors.length && (n = 0),
			n
		},
		_getCreateEventData : function () {
			return {
				tab : this.active,
				panel : this.active.length ? this._getPanelForTab(this.active) : e()
			}
		},
		_tabKeydown : function (n) {
			var r = e(this.document[0].activeElement).closest("li"),
			i = this.tabs.index(r),
			s = !0;
			if (!this._handlePageNav(n)) {
				switch (n.keyCode) {
				case e.ui.keyCode.RIGHT:
				case e.ui.keyCode.DOWN:
					i++;
					break;
				case e.ui.keyCode.UP:
				case e.ui.keyCode.LEFT:
					s = !1,
					i--;
					break;
				case e.ui.keyCode.END:
					i = this.anchors.length - 1;
					break;
				case e.ui.keyCode.HOME:
					i = 0;
					break;
				case e.ui.keyCode.SPACE:
					return n.preventDefault(),
					clearTimeout(this.activating),
					this._activate(i),
					t;
				case e.ui.keyCode.ENTER:
					return n.preventDefault(),
					clearTimeout(this.activating),
					this._activate(i === this.options.active ? !1 : i),
					t;
				default:
					return
				}
				n.preventDefault(),
				clearTimeout(this.activating),
				i = this._focusNextTab(i, s),
				n.ctrlKey || (r.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay(function () {
							this.option("active", i)
						}, this.delay))
			}
		},
		_panelKeydown : function (t) {
			this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.focus())
		},
		_handlePageNav : function (n) {
			return n.altKey && n.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : n.altKey && n.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : t
		},
		_findNextTab : function (t, n) {
			function r() {
				return t > i && (t = 0),
				0 > t && (t = i),
				t
			}
			for (var i = this.tabs.length - 1; -1 !== e.inArray(r(), this.options.disabled); )
				t = n ? t + 1 : t - 1;
			return t
		},
		_focusNextTab : function (e, t) {
			return e = this._findNextTab(e, t),
			this.tabs.eq(e).focus(),
			e
		},
		_setOption : function (e, n) {
			return "active" === e ? (this._activate(n), t) : "disabled" === e ? (this._setupDisabled(n), t) : (this._super(e, n), "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", n), n || this.options.active !== !1 || this._activate(0)), "event" === e && this._setupEvents(n), "heightStyle" === e && this._setupHeightStyle(n), t)
		},
		_tabId : function (e) {
			return e.attr("aria-controls") || "ui-tabs-" + n()
		},
		_sanitizeSelector : function (e) {
			return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
		},
		refresh : function () {
			var t = this.options,
			n = this.tablist.children(":has(a[href])");
			t.disabled = e.map(n.filter(".ui-state-disabled"), function (e) {
					return n.index(e)
				}),
			this._processTabs(),
			t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = e()),
			this._refresh()
		},
		_refresh : function () {
			this._setupDisabled(this.options.disabled),
			this._setupEvents(this.options.event),
			this._setupHeightStyle(this.options.heightStyle),
			this.tabs.not(this.active).attr({
				"aria-selected" : "false",
				tabIndex : -1
			}),
			this.panels.not(this._getPanelForTab(this.active)).hide().attr({
				"aria-expanded" : "false",
				"aria-hidden" : "true"
			}),
			this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
					"aria-selected" : "true",
					tabIndex : 0
				}), this._getPanelForTab(this.active).show().attr({
					"aria-expanded" : "true",
					"aria-hidden" : "false"
				})) : this.tabs.eq(0).attr("tabIndex", 0)
		},
		_processTabs : function () {
			var t = this;
			this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"),
			this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
					role : "tab",
					tabIndex : -1
				}),
			this.anchors = this.tabs.map(function () {
					return e("a", this)[0]
				}).addClass("ui-tabs-anchor").attr({
					role : "presentation",
					tabIndex : -1
				}),
			this.panels = e(),
			this.anchors.each(function (n, i) {
				var s,
				o,
				u,
				a = e(i).uniqueId().attr("id"),
				f = e(i).closest("li"),
				l = f.attr("aria-controls");
				r(i) ? (s = i.hash, o = t.element.find(t._sanitizeSelector(s))) : (u = t._tabId(f), s = "#" + u, o = t.element.find(s), o.length || (o = t._createPanel(u), o.insertAfter(t.panels[n - 1] || t.tablist)), o.attr("aria-live", "polite")),
				o.length && (t.panels = t.panels.add(o)),
				l && f.data("ui-tabs-aria-controls", l),
				f.attr({
					"aria-controls" : s.substring(1),
					"aria-labelledby" : a
				}),
				o.attr("aria-labelledby", a)
			}),
			this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
		},
		_getList : function () {
			return this.element.find("ol,ul").eq(0)
		},
		_createPanel : function (t) {
			return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
		},
		_setupDisabled : function (t) {
			e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
			for (var n, r = 0; n = this.tabs[r]; r++)
				t === !0 || -1 !== e.inArray(r, t) ? e(n).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");
			this.options.disabled = t
		},
		_setupEvents : function (t) {
			var n = {
				click : function (e) {
					e.preventDefault()
				}
			};
			t && e.each(t.split(" "), function (e, t) {
				n[t] = "_eventHandler"
			}),
			this._off(this.anchors.add(this.tabs).add(this.panels)),
			this._on(this.anchors, n),
			this._on(this.tabs, {
				keydown : "_tabKeydown"
			}),
			this._on(this.panels, {
				keydown : "_panelKeydown"
			}),
			this._focusable(this.tabs),
			this._hoverable(this.tabs)
		},
		_setupHeightStyle : function (t) {
			var n,
			r = this.element.parent();
			"fill" === t ? (n = r.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () {
					var t = e(this),
					r = t.css("position");
					"absolute" !== r && "fixed" !== r && (n -= t.outerHeight(!0))
				}), this.element.children().not(this.panels).each(function () {
					n -= e(this).outerHeight(!0)
				}), this.panels.each(function () {
					e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()))
				}).css("overflow", "auto")) : "auto" === t && (n = 0, this.panels.each(function () {
					n = Math.max(n, e(this).height("").height())
				}).height(n))
		},
		_eventHandler : function (t) {
			var n = this.options,
			r = this.active,
			i = e(t.currentTarget),
			s = i.closest("li"),
			o = s[0] === r[0],
			u = o && n.collapsible,
			a = u ? e() : this._getPanelForTab(s),
			f = r.length ? this._getPanelForTab(r) : e(),
			l = {
				oldTab : r,
				oldPanel : f,
				newTab : u ? e() : s,
				newPanel : a
			};
			t.preventDefault(),
			s.hasClass("ui-state-disabled") || s.hasClass("ui-tabs-loading") || this.running || o && !n.collapsible || this._trigger("beforeActivate", t, l) === !1 || (n.active = u ? !1 : this.tabs.index(s), this.active = o ? e() : s, this.xhr && this.xhr.abort(), f.length || a.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."), a.length && this.load(this.tabs.index(s), t), this._toggle(t, l))
		},
		_toggle : function (t, n) {
			function r() {
				s.running = !1,
				s._trigger("activate", t, n)
			}
			function i() {
				n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
				o.length && s.options.show ? s._show(o, s.options.show, r) : (o.show(), r())
			}
			var s = this,
			o = n.newPanel,
			u = n.oldPanel;
			this.running = !0,
			u.length && this.options.hide ? this._hide(u, this.options.hide, function () {
				n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
				i()
			}) : (n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), u.hide(), i()),
			u.attr({
				"aria-expanded" : "false",
				"aria-hidden" : "true"
			}),
			n.oldTab.attr("aria-selected", "false"),
			o.length && u.length ? n.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function () {
				return 0 === e(this).attr("tabIndex")
			}).attr("tabIndex", -1),
			o.attr({
				"aria-expanded" : "true",
				"aria-hidden" : "false"
			}),
			n.newTab.attr({
				"aria-selected" : "true",
				tabIndex : 0
			})
		},
		_activate : function (t) {
			var n,
			r = this._findActive(t);
			r[0] !== this.active[0] && (r.length || (r = this.active), n = r.find(".ui-tabs-anchor")[0], this._eventHandler({
					target : n,
					currentTarget : n,
					preventDefault : e.noop
				}))
		},
		_findActive : function (t) {
			return t === !1 ? e() : this.tabs.eq(t)
		},
		_getIndex : function (e) {
			return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))),
			e
		},
		_destroy : function () {
			this.xhr && this.xhr.abort(),
			this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),
			this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
			this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),
			this.tabs.add(this.panels).each(function () {
				e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
			}),
			this.tabs.each(function () {
				var t = e(this),
				n = t.data("ui-tabs-aria-controls");
				n ? t.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
			}),
			this.panels.show(),
			"content" !== this.options.heightStyle && this.panels.css("height", "")
		},
		enable : function (n) {
			var r = this.options.disabled;
			r !== !1 && (n === t ? r = !1 : (n = this._getIndex(n), r = e.isArray(r) ? e.map(r, function (e) {
								return e !== n ? e : null
							}) : e.map(this.tabs, function (e, t) {
								return t !== n ? t : null
							})), this._setupDisabled(r))
		},
		disable : function (n) {
			var r = this.options.disabled;
			if (r !== !0) {
				if (n === t)
					r = !0;
				else {
					if (n = this._getIndex(n), -1 !== e.inArray(n, r))
						return;
					r = e.isArray(r) ? e.merge([n], r).sort() : [n]
				}
				this._setupDisabled(r)
			}
		},
		load : function (t, n) {
			t = this._getIndex(t);
			var i = this,
			s = this.tabs.eq(t),
			o = s.find(".ui-tabs-anchor"),
			u = this._getPanelForTab(s),
			a = {
				tab : s,
				panel : u
			};
			r(o[0]) || (this.xhr = e.ajax(this._ajaxSettings(o, n, a)), this.xhr && "canceled" !== this.xhr.statusText && (s.addClass("ui-tabs-loading"), u.attr("aria-busy", "true"), this.xhr.success(function (e) {
						setTimeout(function () {
							u.html(e),
							i._trigger("load", n, a)
						}, 1)
					}).complete(function (e, t) {
						setTimeout(function () {
							"abort" === t && i.panels.stop(!1, !0),
							s.removeClass("ui-tabs-loading"),
							u.removeAttr("aria-busy"),
							e === i.xhr && delete i.xhr
						}, 1)
					})))
		},
		_ajaxSettings : function (t, n, r) {
			var i = this;
			return {
				url : t.attr("href"),
				beforeSend : function (t, s) {
					return i._trigger("beforeLoad", n, e.extend({
							jqXHR : t,
							ajaxSettings : s
						}, r))
				}
			}
		},
		_getPanelForTab : function (t) {
			var n = e(t).attr("aria-controls");
			return this.element.find(this._sanitizeSelector("#" + n))
		}
	})
}
(jQuery), function (e) {
	function t(t, n) {
		var r = (t.attr("aria-describedby") || "").split(/\s+/);
		r.push(n),
		t.data("ui-tooltip-id", n).attr("aria-describedby", e.trim(r.join(" ")))
	}
	function n(t) {
		var n = t.data("ui-tooltip-id"),
		r = (t.attr("aria-describedby") || "").split(/\s+/),
		i = e.inArray(n, r);
		-1 !== i && r.splice(i, 1),
		t.removeData("ui-tooltip-id"),
		r = e.trim(r.join(" ")),
		r ? t.attr("aria-describedby", r) : t.removeAttr("aria-describedby")
	}
	var r = 0;
	e.widget("ui.tooltip", {
		version : "1.10.2",
		options : {
			content : function () {
				var t = e(this).attr("title") || "";
				return e("<a>").text(t).html()
			},
			hide : !0,
			items : "[title]:not([disabled])",
			position : {
				my : "left top+15",
				at : "left bottom",
				collision : "flipfit flip"
			},
			show : !0,
			tooltipClass : null,
			track : !1,
			close : null,
			open : null
		},
		_create : function () {
			this._on({
				mouseover : "open",
				focusin : "open"
			}),
			this.tooltips = {},
			this.parents = {},
			this.options.disabled && this._disable()
		},
		_setOption : function (t, n) {
			var r = this;
			return "disabled" === t ? (this[n ? "_disable" : "_enable"](), this.options[t] = n, void 0) : (this._super(t, n), "content" === t && e.each(this.tooltips, function (e, t) {
					r._updateContent(t)
				}), void 0)
		},
		_disable : function () {
			var t = this;
			e.each(this.tooltips, function (n, r) {
				var i = e.Event("blur");
				i.target = i.currentTarget = r[0],
				t.close(i, !0)
			}),
			this.element.find(this.options.items).addBack().each(function () {
				var t = e(this);
				t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).attr("title", "")
			})
		},
		_enable : function () {
			this.element.find(this.options.items).addBack().each(function () {
				var t = e(this);
				t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
			})
		},
		open : function (t) {
			var n = this,
			r = e(t ? t.target : this.element).closest(this.options.items);
			r.length && !r.data("ui-tooltip-id") && (r.attr("title") && r.data("ui-tooltip-title", r.attr("title")), r.data("ui-tooltip-open", !0), t && "mouseover" === t.type && r.parents().each(function () {
					var t,
					r = e(this);
					r.data("ui-tooltip-open") && (t = e.Event("blur"), t.target = t.currentTarget = this, n.close(t, !0)),
					r.attr("title") && (r.uniqueId(), n.parents[this.id] = {
							element : this,
							title : r.attr("title")
						}, r.attr("title", ""))
				}), this._updateContent(r, t))
		},
		_updateContent : function (e, t) {
			var n,
			r = this.options.content,
			i = this,
			s = t ? t.type : null;
			return "string" == typeof r ? this._open(t, e, r) : (n = r.call(e[0], function (n) {
						e.data("ui-tooltip-open") && i._delay(function () {
							t && (t.type = s),
							this._open(t, e, n)
						})
					}), n && this._open(t, e, n), void 0)
		},
		_open : function (n, r, i) {
			function s(e) {
				f.of = e,
				o.is(":hidden") || o.position(f)
			}
			var o,
			u,
			a,
			f = e.extend({}, this.options.position);
			if (i) {
				if (o = this._find(r), o.length)
					return o.find(".ui-tooltip-content").html(i), void 0;
				r.is("[title]") && (n && "mouseover" === n.type ? r.attr("title", "") : r.removeAttr("title")),
				o = this._tooltip(r),
				t(r, o.attr("id")),
				o.find(".ui-tooltip-content").html(i),
				this.options.track && n && /^mouse/.test(n.type) ? (this._on(this.document, {
						mousemove : s
					}), s(n)) : o.position(e.extend({
						of : r
					}, this.options.position)),
				o.hide(),
				this._show(o, this.options.show),
				this.options.show && this.options.show.delay && (a = this.delayedShow = setInterval(function () {
							o.is(":visible") && (s(f.of), clearInterval(a))
						}, e.fx.interval)),
				this._trigger("open", n, {
					tooltip : o
				}),
				u = {
					keyup : function (t) {
						if (t.keyCode === e.ui.keyCode.ESCAPE) {
							var n = e.Event(t);
							n.currentTarget = r[0],
							this.close(n, !0)
						}
					},
					remove : function () {
						this._removeTooltip(o)
					}
				},
				n && "mouseover" !== n.type || (u.mouseleave = "close"),
				n && "focusin" !== n.type || (u.focusout = "close"),
				this._on(!0, r, u)
			}
		},
		close : function (t) {
			var r = this,
			s = e(t ? t.currentTarget : this.element),
			o = this._find(s);
			this.closing || (clearInterval(this.delayedShow), s.data("ui-tooltip-title") && s.attr("title", s.data("ui-tooltip-title")), n(s), o.stop(!0), this._hide(o, this.options.hide, function () {
					r._removeTooltip(e(this))
				}), s.removeData("ui-tooltip-open"), this._off(s, "mouseleave focusout keyup"), s[0] !== this.element[0] && this._off(s, "remove"), this._off(this.document, "mousemove"), t && "mouseleave" === t.type && e.each(this.parents, function (t, n) {
					e(n.element).attr("title", n.title),
					delete r.parents[t]
				}), this.closing = !0, this._trigger("close", t, {
					tooltip : o
				}), this.closing = !1)
		},
		_tooltip : function (t) {
			var n = "ui-tooltip-" + r++,
			i = e("<div>").attr({
					id : n,
					role : "tooltip"
				}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
			return e("<div>").addClass("ui-tooltip-content").appendTo(i),
			i.appendTo(this.document[0].body),
			this.tooltips[n] = t,
			i
		},
		_find : function (t) {
			var n = t.data("ui-tooltip-id");
			return n ? e("#" + n) : e()
		},
		_removeTooltip : function (e) {
			e.remove(),
			delete this.tooltips[e.attr("id")]
		},
		_destroy : function () {
			var t = this;
			e.each(this.tooltips, function (n, r) {
				var i = e.Event("blur");
				i.target = i.currentTarget = r[0],
				t.close(i, !0),
				e("#" + n).remove(),
				r.data("ui-tooltip-title") && (r.attr("title", r.data("ui-tooltip-title")), r.removeData("ui-tooltip-title"))
			})
		}
	})
}
(jQuery), function (e, t) {
	var n = "ui-effects-";
	e.effects = {
		effect : {}

	},
	function (e, t) {
		function n(e, t, n) {
			var r = c[t.type] || {};
			return null == e ? n || !t.def ? null : t.def : (e = r.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : r.mod ? (e + r.mod) % r.mod : 0 > e ? 0 : e > r.max ? r.max : e)
		}
		function r(n) {
			var r = f(),
			i = r._rgba = [];
			return n = n.toLowerCase(),
			d(a, function (e, s) {
				var o,
				u = s.re.exec(n),
				a = u && s.parse(u),
				f = s.space || "rgba";
				return a ? (o = r[f](a), r[l[f].cache] = o[l[f].cache], i = r._rgba = o._rgba, !1) : t
			}),
			i.length ? ("0,0,0,0" === i.join() && e.extend(i, s.transparent), r) : s[n]
		}
		function i(e, t, n) {
			return n = (n + 1) % 1,
			1 > 6 * n ? e + 6 * (t - e) * n : 1 > 2 * n ? t : 2 > 3 * n ? e + 6 * (t - e) * (2 / 3 - n) : e
		}
		var s,
		o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
		u = /^([\-+])=\s*(\d+\.?\d*)/,
		a = [{
				re : /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
				parse : function (e) {
					return [e[1], e[2], e[3], e[4]]
				}
			}, {
				re : /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
				parse : function (e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
				}
			}, {
				re : /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
				parse : function (e) {
					return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
				}
			}, {
				re : /#([a-f0-9])([a-f0-9])([a-f0-9])/,
				parse : function (e) {
					return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
				}
			}, {
				re : /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
				space : "hsla",
				parse : function (e) {
					return [e[1], e[2] / 100, e[3] / 100, e[4]]
				}
			}
		],
		f = e.Color = function (t, n, r, i) {
			return new e.Color.fn.parse(t, n, r, i)
		},
		l = {
			rgba : {
				props : {
					red : {
						idx : 0,
						type : "byte"
					},
					green : {
						idx : 1,
						type : "byte"
					},
					blue : {
						idx : 2,
						type : "byte"
					}
				}
			},
			hsla : {
				props : {
					hue : {
						idx : 0,
						type : "degrees"
					},
					saturation : {
						idx : 1,
						type : "percent"
					},
					lightness : {
						idx : 2,
						type : "percent"
					}
				}
			}
		},
		c = {
			"byte" : {
				floor : !0,
				max : 255
			},
			percent : {
				max : 1
			},
			degrees : {
				mod : 360,
				floor : !0
			}
		},
		h = f.support = {},
		p = e("<p>")[0],
		d = e.each;
		p.style.cssText = "background-color:rgba(1,1,1,.5)",
		h.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
		d(l, function (e, t) {
			t.cache = "_" + e,
			t.props.alpha = {
				idx : 3,
				type : "percent",
				def : 1
			}
		}),
		f.fn = e.extend(f.prototype, {
				parse : function (i, o, u, a) {
					if (i === t)
						return this._rgba = [null, null, null, null], this;
					(i.jquery || i.nodeType) && (i = e(i).css(o), o = t);
					var c = this,
					h = e.type(i),
					p = this._rgba = [];
					return o !== t && (i = [i, o, u, a], h = "array"),
					"string" === h ? this.parse(r(i) || s._default) : "array" === h ? (d(l.rgba.props, function (e, t) {
							p[t.idx] = n(i[t.idx], t)
						}), this) : "object" === h ? (i instanceof f ? d(l, function (e, t) {
							i[t.cache] && (c[t.cache] = i[t.cache].slice())
						}) : d(l, function (t, r) {
							var s = r.cache;
							d(r.props, function (e, t) {
								if (!c[s] && r.to) {
									if ("alpha" === e || null == i[e])
										return;
									c[s] = r.to(c._rgba)
								}
								c[s][t.idx] = n(i[e], t, !0)
							}),
							c[s] && 0 > e.inArray(null, c[s].slice(0, 3)) && (c[s][3] = 1, r.from && (c._rgba = r.from(c[s])))
						}), this) : t
				},
				is : function (e) {
					var n = f(e),
					r = !0,
					i = this;
					return d(l, function (e, s) {
						var o,
						u = n[s.cache];
						return u && (o = i[s.cache] || s.to && s.to(i._rgba) || [], d(s.props, function (e, n) {
								return null != u[n.idx] ? r = u[n.idx] === o[n.idx] : t
							})),
						r
					}),
					r
				},
				_space : function () {
					var e = [],
					t = this;
					return d(l, function (n, r) {
						t[r.cache] && e.push(n)
					}),
					e.pop()
				},
				transition : function (e, t) {
					var r = f(e),
					i = r._space(),
					s = l[i],
					o = 0 === this.alpha() ? f("transparent") : this,
					u = o[s.cache] || s.to(o._rgba),
					a = u.slice();
					return r = r[s.cache],
					d(s.props, function (e, i) {
						var s = i.idx,
						o = u[s],
						f = r[s],
						l = c[i.type] || {};
						null !== f && (null === o ? a[s] = f : (l.mod && (f - o > l.mod / 2 ? o += l.mod : o - f > l.mod / 2 && (o -= l.mod)), a[s] = n((f - o) * t + o, i)))
					}),
					this[i](a)
				},
				blend : function (t) {
					if (1 === this._rgba[3])
						return this;
					var n = this._rgba.slice(),
					r = n.pop(),
					i = f(t)._rgba;
					return f(e.map(n, function (e, t) {
							return (1 - r) * i[t] + r * e
						}))
				},
				toRgbaString : function () {
					var t = "rgba(",
					n = e.map(this._rgba, function (e, t) {
							return null == e ? t > 2 ? 1 : 0 : e
						});
					return 1 === n[3] && (n.pop(), t = "rgb("),
					t + n.join() + ")"
				},
				toHslaString : function () {
					var t = "hsla(",
					n = e.map(this.hsla(), function (e, t) {
							return null == e && (e = t > 2 ? 1 : 0),
							t && 3 > t && (e = Math.round(100 * e) + "%"),
							e
						});
					return 1 === n[3] && (n.pop(), t = "hsl("),
					t + n.join() + ")"
				},
				toHexString : function (t) {
					var n = this._rgba.slice(),
					r = n.pop();
					return t && n.push(~~(255 * r)),
					"#" + e.map(n, function (e) {
						return e = (e || 0).toString(16),
						1 === e.length ? "0" + e : e
					}).join("")
				},
				toString : function () {
					return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
				}
			}),
		f.fn.parse.prototype = f.fn,
		l.hsla.to = function (e) {
			if (null == e[0] || null == e[1] || null == e[2])
				return [null, null, null, e[3]];
			var t,
			n,
			r = e[0] / 255,
			i = e[1] / 255,
			s = e[2] / 255,
			o = e[3],
			u = Math.max(r, i, s),
			a = Math.min(r, i, s),
			f = u - a,
			l = u + a,
			c = .5 * l;
			return t = a === u ? 0 : r === u ? 60 * (i - s) / f + 360 : i === u ? 60 * (s - r) / f + 120 : 60 * (r - i) / f + 240,
			n = 0 === f ? 0 : .5 >= c ? f / l : f / (2 - l),
			[Math.round(t) % 360, n, c, null == o ? 1 : o]
		},
		l.hsla.from = function (e) {
			if (null == e[0] || null == e[1] || null == e[2])
				return [null, null, null, e[3]];
			var t = e[0] / 360,
			n = e[1],
			r = e[2],
			s = e[3],
			o = .5 >= r ? r * (1 + n) : r + n - r * n,
			u = 2 * r - o;
			return [Math.round(255 * i(u, o, t + 1 / 3)), Math.round(255 * i(u, o, t)), Math.round(255 * i(u, o, t - 1 / 3)), s]
		},
		d(l, function (r, i) {
			var s = i.props,
			o = i.cache,
			a = i.to,
			l = i.from;
			f.fn[r] = function (r) {
				if (a && !this[o] && (this[o] = a(this._rgba)), r === t)
					return this[o].slice();
				var i,
				u = e.type(r),
				c = "array" === u || "object" === u ? r : arguments,
				h = this[o].slice();
				return d(s, function (e, t) {
					var r = c["object" === u ? e : t.idx];
					null == r && (r = h[t.idx]),
					h[t.idx] = n(r, t)
				}),
				l ? (i = f(l(h)), i[o] = h, i) : f(h)
			},
			d(s, function (t, n) {
				f.fn[t] || (f.fn[t] = function (i) {
					var s,
					o = e.type(i),
					a = "alpha" === t ? this._hsla ? "hsla" : "rgba" : r,
					f = this[a](),
					l = f[n.idx];
					return "undefined" === o ? l : ("function" === o && (i = i.call(this, l), o = e.type(i)), null == i && n.empty ? this : ("string" === o && (s = u.exec(i), s && (i = l + parseFloat(s[2]) * ("+" === s[1] ? 1 : -1))), f[n.idx] = i, this[a](f)))
				})
			})
		}),
		f.hook = function (t) {
			var n = t.split(" ");
			d(n, function (t, n) {
				e.cssHooks[n] = {
					set : function (t, i) {
						var s,
						o,
						u = "";
						if ("transparent" !== i && ("string" !== e.type(i) || (s = r(i)))) {
							if (i = f(s || i), !h.rgba && 1 !== i._rgba[3]) {
								for (o = "backgroundColor" === n ? t.parentNode : t; ("" === u || "transparent" === u) && o && o.style; )
									try {
										u = e.css(o, "backgroundColor"),
										o = o.parentNode
									} catch (a) {}

								i = i.blend(u && "transparent" !== u ? u : "_default")
							}
							i = i.toRgbaString()
						}
						try {
							t.style[n] = i
						} catch (a) {}

					}
				},
				e.fx.step[n] = function (t) {
					t.colorInit || (t.start = f(t.elem, n), t.end = f(t.end), t.colorInit = !0),
					e.cssHooks[n].set(t.elem, t.start.transition(t.end, t.pos))
				}
			})
		},
		f.hook(o),
		e.cssHooks.borderColor = {
			expand : function (e) {
				var t = {};
				return d(["Top", "Right", "Bottom", "Left"], function (n, r) {
					t["border" + r + "Color"] = e
				}),
				t
			}
		},
		s = e.Color.names = {
			aqua : "#00ffff",
			black : "#000000",
			blue : "#0000ff",
			fuchsia : "#ff00ff",
			gray : "#808080",
			green : "#008000",
			lime : "#00ff00",
			maroon : "#800000",
			navy : "#000080",
			olive : "#808000",
			purple : "#800080",
			red : "#ff0000",
			silver : "#c0c0c0",
			teal : "#008080",
			white : "#ffffff",
			yellow : "#ffff00",
			transparent : [null, null, null, 0],
			_default : "#ffffff"
		}
	}
	(jQuery),
	function () {
		function n(t) {
			var n,
			r,
			i = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
			s = {};
			if (i && i.length && i[0] && i[i[0]])
				for (r = i.length; r--; )
					n = i[r], "string" == typeof i[n] && (s[e.camelCase(n)] = i[n]);
			else
				for (n in i)
					"string" == typeof i[n] && (s[n] = i[n]);
			return s
		}
		function r(t, n) {
			var r,
			i,
			o = {};
			for (r in n)
				i = n[r], t[r] !== i && (s[r] || (e.fx.step[r] || !isNaN(parseFloat(i))) && (o[r] = i));
			return o
		}
		var i = ["add", "remove", "toggle"],
		s = {
			border : 1,
			borderBottom : 1,
			borderColor : 1,
			borderLeft : 1,
			borderRight : 1,
			borderTop : 1,
			borderWidth : 1,
			margin : 1,
			padding : 1
		};
		e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (t, n) {
			e.fx.step[n] = function (e) {
				("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (jQuery.style(e.elem, n, e.end), e.setAttr = !0)
			}
		}),
		e.fn.addBack || (e.fn.addBack = function (e) {
			return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
		}),
		e.effects.animateClass = function (t, s, o, u) {
			var a = e.speed(s, o, u);
			return this.queue(function () {
				var s,
				o = e(this),
				u = o.attr("class") || "",
				f = a.children ? o.find("*").addBack() : o;
				f = f.map(function () {
						var t = e(this);
						return {
							el : t,
							start : n(this)
						}
					}),
				s = function () {
					e.each(i, function (e, n) {
						t[n] && o[n + "Class"](t[n])
					})
				},
				s(),
				f = f.map(function () {
						return this.end = n(this.el[0]),
						this.diff = r(this.start, this.end),
						this
					}),
				o.attr("class", u),
				f = f.map(function () {
						var t = this,
						n = e.Deferred(),
						r = e.extend({}, a, {
								queue : !1,
								complete : function () {
									n.resolve(t)
								}
							});
						return this.el.animate(this.diff, r),
						n.promise()
					}),
				e.when.apply(e, f.get()).done(function () {
					s(),
					e.each(arguments, function () {
						var t = this.el;
						e.each(this.diff, function (e) {
							t.css(e, "")
						})
					}),
					a.complete.call(o[0])
				})
			})
		},
		e.fn.extend({
			addClass : function (t) {
				return function (n, r, i, s) {
					return r ? e.effects.animateClass.call(this, {
						add : n
					}, r, i, s) : t.apply(this, arguments)
				}
			}
			(e.fn.addClass),
			removeClass : function (t) {
				return function (n, r, i, s) {
					return arguments.length > 1 ? e.effects.animateClass.call(this, {
						remove : n
					}, r, i, s) : t.apply(this, arguments)
				}
			}
			(e.fn.removeClass),
			toggleClass : function (n) {
				return function (r, i, s, o, u) {
					return "boolean" == typeof i || i === t ? s ? e.effects.animateClass.call(this, i ? {
						add : r
					}
						 : {
						remove : r
					}, s, o, u) : n.apply(this, arguments) : e.effects.animateClass.call(this, {
						toggle : r
					}, i, s, o)
				}
			}
			(e.fn.toggleClass),
			switchClass : function (t, n, r, i, s) {
				return e.effects.animateClass.call(this, {
					add : n,
					remove : t
				}, r, i, s)
			}
		})
	}
	(),
	function () {
		function r(t, n, r, i) {
			return e.isPlainObject(t) && (n = t, t = t.effect),
			t = {
				effect : t
			},
			null == n && (n = {}),
			e.isFunction(n) && (i = n, r = null, n = {}),
			("number" == typeof n || e.fx.speeds[n]) && (i = r, r = n, n = {}),
			e.isFunction(r) && (i = r, r = null),
			n && e.extend(t, n),
			r = r || n.duration,
			t.duration = e.fx.off ? 0 : "number" == typeof r ? r : r in e.fx.speeds ? e.fx.speeds[r] : e.fx.speeds._default,
			t.complete = i || n.complete,
			t
		}
		function s(t) {
			return !t || "number" == typeof t || e.fx.speeds[t] ? !0 : "string" != typeof t || e.effects.effect[t] ? e.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0
		}
		e.extend(e.effects, {
			version : "1.10.2",
			save : function (e, t) {
				for (var r = 0; t.length > r; r++)
					null !== t[r] && e.data(n + t[r], e[0].style[t[r]])
			},
			restore : function (e, r) {
				var s,
				o;
				for (o = 0; r.length > o; o++)
					null !== r[o] && (s = e.data(n + r[o]), s === t && (s = ""), e.css(r[o], s))
			},
			setMode : function (e, t) {
				return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"),
				t
			},
			getBaseline : function (e, t) {
				var n,
				r;
				switch (e[0]) {
				case "top":
					n = 0;
					break;
				case "middle":
					n = .5;
					break;
				case "bottom":
					n = 1;
					break;
				default:
					n = e[0] / t.height
				}
				switch (e[1]) {
				case "left":
					r = 0;
					break;
				case "center":
					r = .5;
					break;
				case "right":
					r = 1;
					break;
				default:
					r = e[1] / t.width
				}
				return {
					x : r,
					y : n
				}
			},
			createWrapper : function (t) {
				if (t.parent().is(".ui-effects-wrapper"))
					return t.parent();
				var n = {
					width : t.outerWidth(!0),
					height : t.outerHeight(!0),
					"float" : t.css("float")
				},
				r = e("<div></div>").addClass("ui-effects-wrapper").css({
						fontSize : "100%",
						background : "transparent",
						border : "none",
						margin : 0,
						padding : 0
					}),
				i = {
					width : t.width(),
					height : t.height()
				},
				s = document.activeElement;
				try {
					s.id
				} catch (o) {
					s = document.body
				}
				return t.wrap(r),
				(t[0] === s || e.contains(t[0], s)) && e(s).focus(),
				r = t.parent(),
				"static" === t.css("position") ? (r.css({
						position : "relative"
					}), t.css({
						position : "relative"
					})) : (e.extend(n, {
						position : t.css("position"),
						zIndex : t.css("z-index")
					}), e.each(["top", "left", "bottom", "right"], function (e, r) {
						n[r] = t.css(r),
						isNaN(parseInt(n[r], 10)) && (n[r] = "auto")
					}), t.css({
						position : "relative",
						top : 0,
						left : 0,
						right : "auto",
						bottom : "auto"
					})),
				t.css(i),
				r.css(n).show()
			},
			removeWrapper : function (t) {
				var n = document.activeElement;
				return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).focus()),
				t
			},
			setTransition : function (t, n, r, i) {
				return i = i || {},
				e.each(n, function (e, n) {
					var s = t.cssUnit(n);
					s[0] > 0 && (i[n] = s[0] * r + s[1])
				}),
				i
			}
		}),
		e.fn.extend({
			effect : function () {
				function t(t) {
					function r() {
						e.isFunction(s) && s.call(i[0]),
						e.isFunction(t) && t()
					}
					var i = e(this),
					s = n.complete,
					u = n.mode;
					(i.is(":hidden") ? "hide" === u : "show" === u) ? (i[u](), r()) : o.call(i[0], n, r)
				}
				var n = r.apply(this, arguments),
				i = n.mode,
				s = n.queue,
				o = e.effects.effect[n.effect];
				return e.fx.off || !o ? i ? this[i](n.duration, n.complete) : this.each(function () {
					n.complete && n.complete.call(this)
				}) : s === !1 ? this.each(t) : this.queue(s || "fx", t)
			},
			show : function (e) {
				return function (t) {
					if (s(t))
						return e.apply(this, arguments);
					var n = r.apply(this, arguments);
					return n.mode = "show",
					this.effect.call(this, n)
				}
			}
			(e.fn.show),
			hide : function (e) {
				return function (t) {
					if (s(t))
						return e.apply(this, arguments);
					var n = r.apply(this, arguments);
					return n.mode = "hide",
					this.effect.call(this, n)
				}
			}
			(e.fn.hide),
			toggle : function (e) {
				return function (t) {
					if (s(t) || "boolean" == typeof t)
						return e.apply(this, arguments);
					var n = r.apply(this, arguments);
					return n.mode = "toggle",
					this.effect.call(this, n)
				}
			}
			(e.fn.toggle),
			cssUnit : function (t) {
				var n = this.css(t),
				r = [];
				return e.each(["em", "px", "%", "pt"], function (e, t) {
					n.indexOf(t) > 0 && (r = [parseFloat(n), t])
				}),
				r
			}
		})
	}
	(),
	function () {
		var t = {};
		e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (e, n) {
			t[n] = function (t) {
				return Math.pow(t, e + 2)
			}
		}),
		e.extend(t, {
			Sine : function (e) {
				return 1 - Math.cos(e * Math.PI / 2)
			},
			Circ : function (e) {
				return 1 - Math.sqrt(1 - e * e)
			},
			Elastic : function (e) {
				return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
			},
			Back : function (e) {
				return e * e * (3 * e - 2)
			},
			Bounce : function (e) {
				for (var t, n = 4; ((t = Math.pow(2, --n)) - 1) / 11 > e; );
				return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
			}
		}),
		e.each(t, function (t, n) {
			e.easing["easeIn" + t] = n,
			e.easing["easeOut" + t] = function (e) {
				return 1 - n(1 - e)
			},
			e.easing["easeInOut" + t] = function (e) {
				return .5 > e ? n(2 * e) / 2 : 1 - n(-2 * e + 2) / 2
			}
		})
	}
	()
}
(jQuery), function (e) {
	var t = /up|down|vertical/,
	n = /up|left|vertical|horizontal/;
	e.effects.effect.blind = function (r, s) {
		var o,
		u,
		a,
		f = e(this),
		l = ["position", "top", "bottom", "left", "right", "height", "width"],
		c = e.effects.setMode(f, r.mode || "hide"),
		h = r.direction || "up",
		p = t.test(h),
		d = p ? "height" : "width",
		v = p ? "top" : "left",
		m = n.test(h),
		g = {},
		y = "show" === c;
		f.parent().is(".ui-effects-wrapper") ? e.effects.save(f.parent(), l) : e.effects.save(f, l),
		f.show(),
		o = e.effects.createWrapper(f).css({
				overflow : "hidden"
			}),
		u = o[d](),
		a = parseFloat(o.css(v)) || 0,
		g[d] = y ? u : 0,
		m || (f.css(p ? "bottom" : "right", 0).css(p ? "top" : "left", "auto").css({
				position : "absolute"
			}), g[v] = y ? a : u + a),
		y && (o.css(d, 0), m || o.css(v, a + u)),
		o.animate(g, {
			duration : r.duration,
			easing : r.easing,
			queue : !1,
			complete : function () {
				"hide" === c && f.hide(),
				e.effects.restore(f, l),
				e.effects.removeWrapper(f),
				s()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.bounce = function (n, r) {
		var i,
		s,
		o,
		u = e(this),
		a = ["position", "top", "bottom", "left", "right", "height", "width"],
		f = e.effects.setMode(u, n.mode || "effect"),
		l = "hide" === f,
		c = "show" === f,
		h = n.direction || "up",
		p = n.distance,
		d = n.times || 5,
		v = 2 * d + (c || l ? 1 : 0),
		m = n.duration / v,
		g = n.easing,
		y = "up" === h || "down" === h ? "top" : "left",
		b = "up" === h || "left" === h,
		w = u.queue(),
		E = w.length;
		for ((c || l) && a.push("opacity"), e.effects.save(u, a), u.show(), e.effects.createWrapper(u), p || (p = u["top" === y ? "outerHeight" : "outerWidth"]() / 3), c && (o = {
					opacity : 1
				}, o[y] = 0, u.css("opacity", 0).css(y, b ? 2 * -p : 2 * p).animate(o, m, g)), l && (p /= Math.pow(2, d - 1)), o = {}, o[y] = 0, i = 0; d > i; i++)
			s = {},
		s[y] = (b ? "-=" : "+=") + p,
		u.animate(s, m, g).animate(o, m, g),
		p = l ? 2 * p : p / 2;
		l && (s = {
				opacity : 0
			}, s[y] = (b ? "-=" : "+=") + p, u.animate(s, m, g)),
		u.queue(function () {
			l && u.hide(),
			e.effects.restore(u, a),
			e.effects.removeWrapper(u),
			r()
		}),
		E > 1 && w.splice.apply(w, [1, 0].concat(w.splice(E, v + 1))),
		u.dequeue()
	}
}
(jQuery), function (e) {
	e.effects.effect.clip = function (n, r) {
		var i,
		s,
		o,
		u = e(this),
		a = ["position", "top", "bottom", "left", "right", "height", "width"],
		f = e.effects.setMode(u, n.mode || "hide"),
		l = "show" === f,
		c = n.direction || "vertical",
		h = "vertical" === c,
		p = h ? "height" : "width",
		d = h ? "top" : "left",
		v = {};
		e.effects.save(u, a),
		u.show(),
		i = e.effects.createWrapper(u).css({
				overflow : "hidden"
			}),
		s = "IMG" === u[0].tagName ? i : u,
		o = s[p](),
		l && (s.css(p, 0), s.css(d, o / 2)),
		v[p] = l ? o : 0,
		v[d] = l ? 0 : o / 2,
		s.animate(v, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : function () {
				l || u.hide(),
				e.effects.restore(u, a),
				e.effects.removeWrapper(u),
				r()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.drop = function (n, r) {
		var i,
		s = e(this),
		o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
		u = e.effects.setMode(s, n.mode || "hide"),
		a = "show" === u,
		f = n.direction || "left",
		l = "up" === f || "down" === f ? "top" : "left",
		c = "up" === f || "left" === f ? "pos" : "neg",
		h = {
			opacity : a ? 1 : 0
		};
		e.effects.save(s, o),
		s.show(),
		e.effects.createWrapper(s),
		i = n.distance || s["top" === l ? "outerHeight" : "outerWidth"](!0) / 2,
		a && s.css("opacity", 0).css(l, "pos" === c ? -i : i),
		h[l] = (a ? "pos" === c ? "+=" : "-=" : "pos" === c ? "-=" : "+=") + i,
		s.animate(h, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : function () {
				"hide" === u && s.hide(),
				e.effects.restore(s, o),
				e.effects.removeWrapper(s),
				r()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.explode = function (n, r) {
		function i() {
			w.push(this),
			w.length === h * p && s()
		}
		function s() {
			d.css({
				visibility : "visible"
			}),
			e(w).remove(),
			m || d.hide(),
			r()
		}
		var o,
		u,
		a,
		f,
		l,
		c,
		h = n.pieces ? Math.round(Math.sqrt(n.pieces)) : 3,
		p = h,
		d = e(this),
		v = e.effects.setMode(d, n.mode || "hide"),
		m = "show" === v,
		g = d.show().css("visibility", "hidden").offset(),
		y = Math.ceil(d.outerWidth() / p),
		b = Math.ceil(d.outerHeight() / h),
		w = [];
		for (o = 0; h > o; o++)
			for (f = g.top + o * b, c = o - (h - 1) / 2, u = 0; p > u; u++)
				a = g.left + u * y, l = u - (p - 1) / 2, d.clone().appendTo("body").wrap("<div></div>").css({
					position : "absolute",
					visibility : "visible",
					left : -u * y,
					top : -o * b
				}).parent().addClass("ui-effects-explode").css({
					position : "absolute",
					overflow : "hidden",
					width : y,
					height : b,
					left : a + (m ? l * y : 0),
					top : f + (m ? c * b : 0),
					opacity : m ? 0 : 1
				}).animate({
					left : a + (m ? 0 : l * y),
					top : f + (m ? 0 : c * b),
					opacity : m ? 1 : 0
				}, n.duration || 500, n.easing, i)
	}
}
(jQuery), function (e) {
	e.effects.effect.fade = function (n, r) {
		var i = e(this),
		s = e.effects.setMode(i, n.mode || "toggle");
		i.animate({
			opacity : s
		}, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : r
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.fold = function (n, r) {
		var i,
		s,
		o = e(this),
		u = ["position", "top", "bottom", "left", "right", "height", "width"],
		a = e.effects.setMode(o, n.mode || "hide"),
		f = "show" === a,
		l = "hide" === a,
		c = n.size || 15,
		h = /([0-9]+)%/.exec(c),
		p = !!n.horizFirst,
		d = f !== p,
		v = d ? ["width", "height"] : ["height", "width"],
		m = n.duration / 2,
		g = {},
		y = {};
		e.effects.save(o, u),
		o.show(),
		i = e.effects.createWrapper(o).css({
				overflow : "hidden"
			}),
		s = d ? [i.width(), i.height()] : [i.height(), i.width()],
		h && (c = parseInt(h[1], 10) / 100 * s[l ? 0 : 1]),
		f && i.css(p ? {
			height : 0,
			width : c
		}
			 : {
			height : c,
			width : 0
		}),
		g[v[0]] = f ? s[0] : c,
		y[v[1]] = f ? s[1] : 0,
		i.animate(g, m, n.easing).animate(y, m, n.easing, function () {
			l && o.hide(),
			e.effects.restore(o, u),
			e.effects.removeWrapper(o),
			r()
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.highlight = function (n, r) {
		var i = e(this),
		s = ["backgroundImage", "backgroundColor", "opacity"],
		o = e.effects.setMode(i, n.mode || "show"),
		u = {
			backgroundColor : i.css("backgroundColor")
		};
		"hide" === o && (u.opacity = 0),
		e.effects.save(i, s),
		i.show().css({
			backgroundImage : "none",
			backgroundColor : n.color || "#ffff99"
		}).animate(u, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : function () {
				"hide" === o && i.hide(),
				e.effects.restore(i, s),
				r()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.pulsate = function (n, r) {
		var i,
		s = e(this),
		o = e.effects.setMode(s, n.mode || "show"),
		u = "show" === o,
		a = "hide" === o,
		f = u || "hide" === o,
		l = 2 * (n.times || 5) + (f ? 1 : 0),
		c = n.duration / l,
		h = 0,
		p = s.queue(),
		d = p.length;
		for ((u || !s.is(":visible")) && (s.css("opacity", 0).show(), h = 1), i = 1; l > i; i++)
			s.animate({
				opacity : h
			}, c, n.easing), h = 1 - h;
		s.animate({
			opacity : h
		}, c, n.easing),
		s.queue(function () {
			a && s.hide(),
			r()
		}),
		d > 1 && p.splice.apply(p, [1, 0].concat(p.splice(d, l + 1))),
		s.dequeue()
	}
}
(jQuery), function (e) {
	e.effects.effect.puff = function (n, r) {
		var i = e(this),
		s = e.effects.setMode(i, n.mode || "hide"),
		o = "hide" === s,
		u = parseInt(n.percent, 10) || 150,
		a = u / 100,
		f = {
			height : i.height(),
			width : i.width(),
			outerHeight : i.outerHeight(),
			outerWidth : i.outerWidth()
		};
		e.extend(n, {
			effect : "scale",
			queue : !1,
			fade : !0,
			mode : s,
			complete : r,
			percent : o ? u : 100,
			from : o ? f : {
				height : f.height * a,
				width : f.width * a,
				outerHeight : f.outerHeight * a,
				outerWidth : f.outerWidth * a
			}
		}),
		i.effect(n)
	},
	e.effects.effect.scale = function (n, r) {
		var i = e(this),
		s = e.extend(!0, {}, n),
		o = e.effects.setMode(i, n.mode || "effect"),
		u = parseInt(n.percent, 10) || (0 === parseInt(n.percent, 10) ? 0 : "hide" === o ? 0 : 100),
		a = n.direction || "both",
		f = n.origin,
		l = {
			height : i.height(),
			width : i.width(),
			outerHeight : i.outerHeight(),
			outerWidth : i.outerWidth()
		},
		c = {
			y : "horizontal" !== a ? u / 100 : 1,
			x : "vertical" !== a ? u / 100 : 1
		};
		s.effect = "size",
		s.queue = !1,
		s.complete = r,
		"effect" !== o && (s.origin = f || ["middle", "center"], s.restore = !0),
		s.from = n.from || ("show" === o ? {
				height : 0,
				width : 0,
				outerHeight : 0,
				outerWidth : 0
			}
				 : l),
		s.to = {
			height : l.height * c.y,
			width : l.width * c.x,
			outerHeight : l.outerHeight * c.y,
			outerWidth : l.outerWidth * c.x
		},
		s.fade && ("show" === o && (s.from.opacity = 0, s.to.opacity = 1), "hide" === o && (s.from.opacity = 1, s.to.opacity = 0)),
		i.effect(s)
	},
	e.effects.effect.size = function (n, r) {
		var i,
		s,
		o,
		u = e(this),
		a = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
		f = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
		l = ["width", "height", "overflow"],
		c = ["fontSize"],
		h = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
		p = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
		d = e.effects.setMode(u, n.mode || "effect"),
		v = n.restore || "effect" !== d,
		m = n.scale || "both",
		g = n.origin || ["middle", "center"],
		y = u.css("position"),
		b = v ? a : f,
		w = {
			height : 0,
			width : 0,
			outerHeight : 0,
			outerWidth : 0
		};
		"show" === d && u.show(),
		i = {
			height : u.height(),
			width : u.width(),
			outerHeight : u.outerHeight(),
			outerWidth : u.outerWidth()
		},
		"toggle" === n.mode && "show" === d ? (u.from = n.to || w, u.to = n.from || i) : (u.from = n.from || ("show" === d ? w : i), u.to = n.to || ("hide" === d ? w : i)),
		o = {
			from : {
				y : u.from.height / i.height,
				x : u.from.width / i.width
			},
			to : {
				y : u.to.height / i.height,
				x : u.to.width / i.width
			}
		},
		("box" === m || "both" === m) && (o.from.y !== o.to.y && (b = b.concat(h), u.from = e.effects.setTransition(u, h, o.from.y, u.from), u.to = e.effects.setTransition(u, h, o.to.y, u.to)), o.from.x !== o.to.x && (b = b.concat(p), u.from = e.effects.setTransition(u, p, o.from.x, u.from), u.to = e.effects.setTransition(u, p, o.to.x, u.to))),
		("content" === m || "both" === m) && o.from.y !== o.to.y && (b = b.concat(c).concat(l), u.from = e.effects.setTransition(u, c, o.from.y, u.from), u.to = e.effects.setTransition(u, c, o.to.y, u.to)),
		e.effects.save(u, b),
		u.show(),
		e.effects.createWrapper(u),
		u.css("overflow", "hidden").css(u.from),
		g && (s = e.effects.getBaseline(g, i), u.from.top = (i.outerHeight - u.outerHeight()) * s.y, u.from.left = (i.outerWidth - u.outerWidth()) * s.x, u.to.top = (i.outerHeight - u.to.outerHeight) * s.y, u.to.left = (i.outerWidth - u.to.outerWidth) * s.x),
		u.css(u.from),
		("content" === m || "both" === m) && (h = h.concat(["marginTop", "marginBottom"]).concat(c), p = p.concat(["marginLeft", "marginRight"]), l = a.concat(h).concat(p), u.find("*[width]").each(function () {
				var r = e(this),
				i = {
					height : r.height(),
					width : r.width(),
					outerHeight : r.outerHeight(),
					outerWidth : r.outerWidth()
				};
				v && e.effects.save(r, l),
				r.from = {
					height : i.height * o.from.y,
					width : i.width * o.from.x,
					outerHeight : i.outerHeight * o.from.y,
					outerWidth : i.outerWidth * o.from.x
				},
				r.to = {
					height : i.height * o.to.y,
					width : i.width * o.to.x,
					outerHeight : i.height * o.to.y,
					outerWidth : i.width * o.to.x
				},
				o.from.y !== o.to.y && (r.from = e.effects.setTransition(r, h, o.from.y, r.from), r.to = e.effects.setTransition(r, h, o.to.y, r.to)),
				o.from.x !== o.to.x && (r.from = e.effects.setTransition(r, p, o.from.x, r.from), r.to = e.effects.setTransition(r, p, o.to.x, r.to)),
				r.css(r.from),
				r.animate(r.to, n.duration, n.easing, function () {
					v && e.effects.restore(r, l)
				})
			})),
		u.animate(u.to, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : function () {
				0 === u.to.opacity && u.css("opacity", u.from.opacity),
				"hide" === d && u.hide(),
				e.effects.restore(u, b),
				v || ("static" === y ? u.css({
						position : "relative",
						top : u.to.top,
						left : u.to.left
					}) : e.each(["top", "left"], function (e, t) {
						u.css(t, function (t, n) {
							var r = parseInt(n, 10),
							i = e ? u.to.left : u.to.top;
							return "auto" === n ? i + "px" : r + i + "px"
						})
					})),
				e.effects.removeWrapper(u),
				r()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.shake = function (n, r) {
		var i,
		s = e(this),
		o = ["position", "top", "bottom", "left", "right", "height", "width"],
		u = e.effects.setMode(s, n.mode || "effect"),
		a = n.direction || "left",
		f = n.distance || 20,
		l = n.times || 3,
		c = 2 * l + 1,
		h = Math.round(n.duration / c),
		p = "up" === a || "down" === a ? "top" : "left",
		d = "up" === a || "left" === a,
		v = {},
		m = {},
		g = {},
		y = s.queue(),
		b = y.length;
		for (e.effects.save(s, o), s.show(), e.effects.createWrapper(s), v[p] = (d ? "-=" : "+=") + f, m[p] = (d ? "+=" : "-=") + 2 * f, g[p] = (d ? "-=" : "+=") + 2 * f, s.animate(v, h, n.easing), i = 1; l > i; i++)
			s.animate(m, h, n.easing).animate(g, h, n.easing);
		s.animate(m, h, n.easing).animate(v, h / 2, n.easing).queue(function () {
			"hide" === u && s.hide(),
			e.effects.restore(s, o),
			e.effects.removeWrapper(s),
			r()
		}),
		b > 1 && y.splice.apply(y, [1, 0].concat(y.splice(b, c + 1))),
		s.dequeue()
	}
}
(jQuery), function (e) {
	e.effects.effect.slide = function (n, r) {
		var i,
		s = e(this),
		o = ["position", "top", "bottom", "left", "right", "width", "height"],
		u = e.effects.setMode(s, n.mode || "show"),
		a = "show" === u,
		f = n.direction || "left",
		l = "up" === f || "down" === f ? "top" : "left",
		c = "up" === f || "left" === f,
		h = {};
		e.effects.save(s, o),
		s.show(),
		i = n.distance || s["top" === l ? "outerHeight" : "outerWidth"](!0),
		e.effects.createWrapper(s).css({
			overflow : "hidden"
		}),
		a && s.css(l, c ? isNaN(i) ? "-" + i : -i : i),
		h[l] = (a ? c ? "+=" : "-=" : c ? "-=" : "+=") + i,
		s.animate(h, {
			queue : !1,
			duration : n.duration,
			easing : n.easing,
			complete : function () {
				"hide" === u && s.hide(),
				e.effects.restore(s, o),
				e.effects.removeWrapper(s),
				r()
			}
		})
	}
}
(jQuery), function (e) {
	e.effects.effect.transfer = function (n, r) {
		var i = e(this),
		s = e(n.to),
		o = "fixed" === s.css("position"),
		u = e("body"),
		a = o ? u.scrollTop() : 0,
		f = o ? u.scrollLeft() : 0,
		l = s.offset(),
		c = {
			top : l.top - a,
			left : l.left - f,
			height : s.innerHeight(),
			width : s.innerWidth()
		},
		h = i.offset(),
		p = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(n.className).css({
				top : h.top - a,
				left : h.left - f,
				height : i.innerHeight(),
				width : i.innerWidth(),
				position : o ? "fixed" : "absolute"
			}).animate(c, n.duration, n.easing, function () {
				p.remove(),
				r()
			})
	}
}
(jQuery), define("lib/jquery-ui-1.10.2.custom.min", function () {}), define("lib/jquery.tmpl", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function (e, t) {
		function h(t, n, r, i) {
			var u = {
				data : i || i === 0 || i === !1 ? i : n ? n.data : {},
				_wrap : n ? n._wrap : null,
				tmpl : null,
				parent : n || null,
				nodes : [],
				calls : w,
				nest : E,
				wrap : S,
				html : x,
				update : T
			};
			return t && e.extend(u, t, {
				nodes : [],
				parent : n
			}),
			r && (u.tmpl = r, u._ctnt = u._ctnt || u.tmpl(e, u), u.key = ++f, (c.length ? o : s)[f] = u),
			u
		}
		function p(t, n, i) {
			var s,
			o = i ? e.map(i, function (e) {
					return typeof e == "string" ? t.key ? e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g, "$1 " + r + '="' + t.key + '" $2') : e : p(e, t, e._ctnt)
				}) : t;
			return n ? o : (o = o.join(""), o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/, function (t, n, r, i) {
					s = e(r).get(),
					b(s),
					n && (s = d(n).concat(s)),
					i && (s = s.concat(d(i)))
				}), s ? s : d(o))
		}
		function d(t) {
			var n = document.createElement("div");
			return n.innerHTML = t,
			e.makeArray(n.childNodes)
		}
		function v(t) {
			return new Function("jQuery", "$item", "var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('" + e.trim(t).replace(/([\\'])/g, "\\$1").replace(/[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g, "{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g, function (t, n, r, i, s, o, u) {
					var a = e.tmpl.tag[r],
					f,
					l,
					c;
					if (!a)
						throw "Unknown template tag: " + r;
					return f = a._default || [],
					o && !/\w$/.test(s) && (s += o, o = ""),
					s ? (s = g(s), u = u ? "," + g(u) + ")" : o ? ")" : "", l = o ? s.indexOf(".") > -1 ? s + g(o) : "(" + s + ").call($item" + u : s, c = o ? l : "(typeof(" + s + ")==='function'?(" + s + ").call($item):(" + s + "))") : c = l = f.$1 || "null",
					i = g(i),
					"');" + a[n ? "close" : "open"].split("$notnull_1").join(s ? "typeof(" + s + ")!=='undefined' && (" + s + ")!=null" : "true").split("$1a").join(c).split("$1").join(l).split("$2").join(i || f.$2 || "") + "__.push('"
				}) + "');}return __;")
		}
		function m(t, n) {
			t._wrap = p(t, !0, e.isArray(n) ? n : [i.test(n) ? n : e(n).html()]).join("")
		}
		function g(e) {
			return e ? e.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null
		}
		function y(e) {
			var t = document.createElement("div");
			return t.appendChild(e.cloneNode(!0)),
			t.innerHTML
		}
		function b(t) {
			function v(t) {
				function v(e) {
					e += n,
					p = a[e] = a[e] || h(p, s[p.parent.key + n] || p.parent)
				}
				var i,
				u = t,
				c,
				p,
				d;
				if (d = t.getAttribute(r)) {
					while (u.parentNode && (u = u.parentNode).nodeType === 1 && !(i = u.getAttribute(r)));
					i !== d && (u = u.parentNode ? u.nodeType === 11 ? 0 : u.getAttribute(r) || 0 : 0, (p = s[d]) || (p = o[d], p = h(p, s[u] || o[u]), p.key = ++f, s[f] = p), l && v(d)),
					t.removeAttribute(r)
				} else
					l && (p = e.data(t, "tmplItem")) && (v(p.key), s[p.key] = p, u = e.data(t.parentNode, "tmplItem"), u = u ? u.key : 0);
				if (p) {
					c = p;
					while (c && c.key != u)
						c.nodes.push(t), c = c.parent;
					delete p._ctnt,
					delete p._wrap,
					e.data(t, "tmplItem", p)
				}
			}
			var n = "_" + l,
			i,
			u,
			a = {},
			c,
			p,
			d;
			for (c = 0, p = t.length; c < p; c++) {
				if ((i = t[c]).nodeType !== 1)
					continue;
				u = i.getElementsByTagName("*");
				for (d = u.length - 1; d >= 0; d--)
					v(u[d]);
				v(i)
			}
		}
		function w(e, t, n, r) {
			if (!e)
				return c.pop();
			c.push({
				_ : e,
				tmpl : t,
				item : this,
				data : n,
				options : r
			})
		}
		function E(t, n, r) {
			return e.tmpl(e.template(t), n, r, this)
		}
		function S(t, n) {
			var r = t.options || {};
			return r.wrapped = n,
			e.tmpl(e.template(t.tmpl), t.data, r, t.item)
		}
		function x(t, n) {
			var r = this._wrap;
			return e.map(e(e.isArray(r) ? r.join("") : r).filter(t || "*"), function (e) {
				return n ? e.innerText || e.textContent : e.outerHTML || y(e)
			})
		}
		function T() {
			var t = this.nodes;
			e.tmpl(null, null, null, this).insertBefore(t[0]),
			e(t).remove()
		}
		var n = e.fn.domManip,
		r = "_tmplitem",
		i = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,
		s = {},
		o = {},
		u,
		a = {
			key : 0,
			data : {}

		},
		f = 0,
		l = 0,
		c = [];
		e.each({
			appendTo : "append",
			prependTo : "prepend",
			insertBefore : "before",
			insertAfter : "after",
			replaceAll : "replaceWith"
		}, function (t, n) {
			e.fn[t] = function (r) {
				var i = [],
				o = e(r),
				a,
				f,
				c,
				h,
				p = this.length === 1 && this[0].parentNode;
				u = s || {};
				if (p && p.nodeType === 11 && p.childNodes.length === 1 && o.length === 1)
					o[n](this[0]), i = this;
				else {
					for (f = 0, c = o.length; f < c; f++)
						l = f, a = (f > 0 ? this.clone(!0) : this).get(), e(o[f])[n](a), i = i.concat(a);
					l = 0,
					i = this.pushStack(i, t, o.selector)
				}
				return h = u,
				u = null,
				e.tmpl.complete(h),
				i
			}
		}),
		e.fn.extend({
			tmpl : function (t, n, r) {
				return e.tmpl(this[0], t, n, r)
			},
			tmplItem : function () {
				return e.tmplItem(this[0])
			},
			template : function (t) {
				return e.template(t, this[0])
			},
			domManip : function (t, r, i, o) {
				if (t[0] && e.isArray(t[0])) {
					var a = e.makeArray(arguments),
					f = t[0],
					c = f.length,
					h = 0,
					p;
					while (h < c && !(p = e.data(f[h++], "tmplItem")));
					p && l && (a[2] = function (t) {
						e.tmpl.afterManip(this, t, i)
					}),
					n.apply(this, a)
				} else
					n.apply(this, arguments);
				return l = 0,
				u || e.tmpl.complete(s),
				this
			}
		}),
		e.extend({
			tmpl : function (t, n, r, i) {
				var u,
				f = !i;
				if (f)
					i = a, t = e.template[t] || e.template(null, t), o = {};
				else if (!t)
					return t = i.tmpl, s[i.key] = i, i.nodes = [], i.wrapped && m(i, i.wrapped), e(p(i, null, i.tmpl(e, i)));
				return t ? (typeof n == "function" && (n = n.call(i || {})), r && r.wrapped && m(r, r.wrapped), u = e.isArray(n) ? e.map(n, function (e) {
							return e ? h(r, i, t, e) : null
						}) : [h(r, i, t, n)], f ? e(p(i, null, u)) : u) : []
			},
			tmplItem : function (t) {
				var n;
				t instanceof e && (t = t[0]);
				while (t && t.nodeType === 1 && !(n = e.data(t, "tmplItem")) && (t = t.parentNode));
				return n || a
			},
			template : function (t, n) {
				return n ? (typeof n == "string" ? n = v(n) : n instanceof e && (n = n[0] || {}), n.nodeType && (n = e.data(n, "tmpl") || e.data(n, "tmpl", v(n.innerHTML))), typeof t == "string" ? e.template[t] = n : n) : t ? typeof t != "string" ? e.template(null, t) : e.template[t] || e.template(null, i.test(t) ? t : e(t)) : null
			},
			encode : function (e) {
				return ("" + e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")
			}
		}),
		e.extend(e.tmpl, {
			tag : {
				tmpl : {
					_default : {
						$2 : "null"
					},
					open : "if($notnull_1){__=__.concat($item.nest($1,$2));}"
				},
				wrap : {
					_default : {
						$2 : "null"
					},
					open : "$item.calls(__,$1,$2);__=[];",
					close : "call=$item.calls();__=call._.concat($item.wrap(call,__));"
				},
				each : {
					_default : {
						$2 : "$index, $value"
					},
					open : "if($notnull_1){$.each($1a,function($2){with(this){",
					close : "}});}"
				},
				"if" : {
					open : "if(($notnull_1) && $1a){",
					close : "}"
				},
				"else" : {
					_default : {
						$1 : "true"
					},
					open : "}else if(($notnull_1) && $1a){"
				},
				html : {
					open : "if($notnull_1){__.push($1a);}"
				},
				"=" : {
					_default : {
						$1 : "$data"
					},
					open : "if($notnull_1){__.push($.encode($1a));}"
				},
				"!" : {
					open : ""
				},
				"for" : {
					open : "for(var $i = 0; $i < $1; $i++) {",
					close : "}"
				}
			},
			complete : function (e) {
				s = {}

			},
			afterManip : function (n, r, i) {
				var s = r.nodeType === 11 ? e.makeArray(r.childNodes) : r.nodeType === 1 ? [r] : [];
				i.call(n, r),
				b(s),
				l++
			}
		})
	})(jQuery)
}), define("lib/jquery.ui.totop", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function (e) {
		e.fn.UItoTop = function (t) {
			var n = {
				text : "",
				min : 200,
				inDelay : 600,
				outDelay : 400,
				containerID : "toTop",
				containerHoverID : "toTopHover",
				scrollSpeed : 1200,
				easingType : "linear"
			},
			r = e.extend(n, t),
			i = "#" + r.containerID,
			s = "#" + r.containerHoverID;
			e("body").append('<a href="#" id="' + r.containerID + '">' + r.text + "</a>"),
			e(i).hide().on("click.UItoTop", function () {
				return e("html, body").animate({
					scrollTop : 0
				}, r.scrollSpeed, r.easingType),
				e("#" + r.containerHoverID, this).stop().animate({
					opacity : 0
				}, r.inDelay, r.easingType),
				!1
			}).prepend('<img src ="' + rootPath + 'Content/images/top-link.png" />').hover(function () {
				e(this).stop().animate({
					opacity : 1
				}, 600, "linear")
			}, function () {
				e(this).stop().animate({
					opacity : .5
				}, 700, "linear")
			}),
			e(window).scroll(function () {
				var t = e(window).scrollTop();
				typeof document.body.style.maxHeight == "undefined" && e(i).css({
					position : "absolute",
					top : t + e(window).height() - 50
				}),
				t > r.min ? e(i).fadeIn(r.inDelay) : e(i).fadeOut(r.Outdelay)
			})
		}
	})(jQuery)
}), define("lib/jquery.ui.datepicker-zh-CN", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	$.datepicker.regional["zh-CN"] = {
		closeText : "关闭",
		prevText : "&#x3C;上月",
		nextText : "下月&#x3E;",
		currentText : "今天",
		monthNames : ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
		monthNamesShort : ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
		dayNames : ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
		dayNamesShort : ["周日", "周一", "周二", "周三", "周四", "周五", "周六"],
		dayNamesMin : ["日", "一", "二", "三", "四", "五", "六"],
		weekHeader : "周",
		dateFormat : "yy-mm-dd",
		firstDay : 1,
		isRTL : !1,
		showMonthAfterYear : !0,
		yearSuffix : "年"
	},
	$.datepicker.setDefaults($.datepicker.regional["zh-CN"])
}), define("lib/jquery-ui-timepicker-addon", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function ($) {
		$.ui.timepicker = $.ui.timepicker || {};
		if ($.ui.timepicker.version)
			return;
		$.extend($.ui, {
			timepicker : {
				version : "1.2"
			}
		});
		var Timepicker = function () {
			this.regional = [],
			this.regional[""] = {
				currentText : "Now",
				closeText : "Done",
				amNames : ["AM", "A"],
				pmNames : ["PM", "P"],
				timeFormat : "HH:mm",
				timeSuffix : "",
				timeOnlyTitle : "Choose Time",
				timeText : "Time",
				hourText : "Hour",
				minuteText : "Minute",
				secondText : "Second",
				millisecText : "Millisecond",
				timezoneText : "Time Zone",
				isRTL : !1
			},
			this._defaults = {
				showButtonPanel : !0,
				timeOnly : !1,
				showHour : !0,
				showMinute : !0,
				showSecond : !1,
				showMillisec : !1,
				showTimezone : !1,
				showTime : !0,
				stepHour : 1,
				stepMinute : 1,
				stepSecond : 1,
				stepMillisec : 1,
				hour : 0,
				minute : 0,
				second : 0,
				millisec : 0,
				timezone : null,
				useLocalTimezone : !1,
				defaultTimezone : "+0000",
				hourMin : 0,
				minuteMin : 0,
				secondMin : 0,
				millisecMin : 0,
				hourMax : 23,
				minuteMax : 59,
				secondMax : 59,
				millisecMax : 999,
				minDateTime : null,
				maxDateTime : null,
				onSelect : null,
				hourGrid : 0,
				minuteGrid : 0,
				secondGrid : 0,
				millisecGrid : 0,
				alwaysSetTime : !0,
				separator : " ",
				altFieldTimeOnly : !0,
				altTimeFormat : null,
				altSeparator : null,
				altTimeSuffix : null,
				pickerTimeFormat : null,
				pickerTimeSuffix : null,
				showTimepicker : !0,
				timezoneIso8601 : !1,
				timezoneList : null,
				addSliderAccess : !1,
				sliderAccessArgs : null,
				controlType : "slider",
				defaultValue : null,
				parse : "strict"
			},
			$.extend(this._defaults, this.regional[""])
		};
		$.extend(Timepicker.prototype, {
			$input : null,
			$altInput : null,
			$timeObj : null,
			inst : null,
			hour_slider : null,
			minute_slider : null,
			second_slider : null,
			millisec_slider : null,
			timezone_select : null,
			hour : 0,
			minute : 0,
			second : 0,
			millisec : 0,
			timezone : null,
			defaultTimezone : "+0000",
			hourMinOriginal : null,
			minuteMinOriginal : null,
			secondMinOriginal : null,
			millisecMinOriginal : null,
			hourMaxOriginal : null,
			minuteMaxOriginal : null,
			secondMaxOriginal : null,
			millisecMaxOriginal : null,
			ampm : "",
			formattedDate : "",
			formattedTime : "",
			formattedDateTime : "",
			timezoneList : null,
			units : ["hour", "minute", "second", "millisec"],
			control : null,
			setDefaults : function (e) {
				return extendRemove(this._defaults, e || {}),
				this
			},
			_newInst : function ($input, o) {
				var tp_inst = new Timepicker,
				inlineSettings = {},
				fns = {},
				overrides,
				i;
				for (var attrName in this._defaults)
					if (this._defaults.hasOwnProperty(attrName)) {
						var attrValue = $input.attr("time:" + attrName);
						if (attrValue)
							try {
								inlineSettings[attrName] = eval(attrValue)
							} catch (err) {
								inlineSettings[attrName] = attrValue
							}
					}
				overrides = {
					beforeShow : function (e, t) {
						if ($.isFunction(tp_inst._defaults.evnts.beforeShow))
							return tp_inst._defaults.evnts.beforeShow.call($input[0], e, t, tp_inst)
					},
					onChangeMonthYear : function (e, t, n) {
						tp_inst._updateDateTime(n),
						$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear) && tp_inst._defaults.evnts.onChangeMonthYear.call($input[0], e, t, n, tp_inst)
					},
					onClose : function (e, t) {
						tp_inst.timeDefined === !0 && $input.val() !== "" && tp_inst._updateDateTime(t),
						$.isFunction(tp_inst._defaults.evnts.onClose) && tp_inst._defaults.evnts.onClose.call($input[0], e, t, tp_inst)
					}
				};
				for (i in overrides)
					overrides.hasOwnProperty(i) && (fns[i] = o[i] || null);
				tp_inst._defaults = $.extend({}, this._defaults, inlineSettings, o, overrides, {
						evnts : fns,
						timepicker : tp_inst
					}),
				tp_inst.amNames = $.map(tp_inst._defaults.amNames, function (e) {
						return e.toUpperCase()
					}),
				tp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (e) {
						return e.toUpperCase()
					}),
				typeof tp_inst._defaults.controlType == "string" ? ($.fn[tp_inst._defaults.controlType] === undefined && (tp_inst._defaults.controlType = "select"), tp_inst.control = tp_inst._controls[tp_inst._defaults.controlType]) : tp_inst.control = tp_inst._defaults.controlType;
				if (tp_inst._defaults.timezoneList === null) {
					var timezoneList = ["-1200", "-1100", "-1000", "-0930", "-0900", "-0800", "-0700", "-0600", "-0500", "-0430", "-0400", "-0330", "-0300", "-0200", "-0100", "+0000", "+0100", "+0200", "+0300", "+0330", "+0400", "+0430", "+0500", "+0530", "+0545", "+0600", "+0630", "+0700", "+0800", "+0845", "+0900", "+0930", "+1000", "+1030", "+1100", "+1130", "+1200", "+1245", "+1300", "+1400"];
					tp_inst._defaults.timezoneIso8601 && (timezoneList = $.map(timezoneList, function (e) {
								return e == "+0000" ? "Z" : e.substring(0, 3) + ":" + e.substring(3)
							})),
					tp_inst._defaults.timezoneList = timezoneList
				}
				tp_inst.timezone = tp_inst._defaults.timezone,
				tp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin : tp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour,
				tp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin : tp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute,
				tp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin : tp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second,
				tp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin : tp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec,
				tp_inst.ampm = "",
				tp_inst.$input = $input,
				o.altField && (tp_inst.$altInput = $(o.altField).css({
							cursor : "pointer"
						}).focus(function () {
							$input.trigger("focus")
						}));
				if (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0)
					tp_inst._defaults.minDate = new Date;
				if (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0)
					tp_inst._defaults.maxDate = new Date;
				return tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date && (tp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime())),
				tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date && (tp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime())),
				tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date && (tp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime())),
				tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date && (tp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime())),
				tp_inst.$input.bind("focus", function () {
					tp_inst._onFocus()
				}),
				tp_inst
			},
			_addTimePicker : function (e) {
				var t = this.$altInput && this._defaults.altFieldTimeOnly ? this.$input.val() + " " + this.$altInput.val() : this.$input.val();
				this.timeDefined = this._parseTime(t),
				this._limitMinMaxDateTime(e, !1),
				this._injectTimePicker()
			},
			_parseTime : function (e, t) {
				this.inst || (this.inst = $.datepicker._getInst(this.$input[0]));
				if (t || !this._defaults.timeOnly) {
					var n = $.datepicker._get(this.inst, "dateFormat");
					try {
						var r = parseDateTimeInternal(n, this._defaults.timeFormat, e, $.datepicker._getFormatConfig(this.inst), this._defaults);
						if (!r.timeObj)
							return !1;
						$.extend(this, r.timeObj)
					} catch (i) {
						return $.timepicker.log("Error parsing the date/time string: " + i + "\ndate/time string = " + e + "\ntimeFormat = " + this._defaults.timeFormat + "\ndateFormat = " + n),
						!1
					}
					return !0
				}
				var s = $.datepicker.parseTime(this._defaults.timeFormat, e, this._defaults);
				return s ? ($.extend(this, s), !0) : !1
			},
			_injectTimePicker : function () {
				var e = this.inst.dpDiv,
				t = this.inst.settings,
				n = this,
				r = "",
				i = "",
				s = {},
				o = {},
				u = null;
				if (e.find("div.ui-timepicker-div").length === 0 && t.showTimepicker) {
					var a = ' style="display:none;"',
					f = '<div class="ui-timepicker-div' + (t.isRTL ? " ui-timepicker-rtl" : "") + '"><dl>' + '<dt class="ui_tpicker_time_label"' + (t.showTime ? "" : a) + ">" + t.timeText + "</dt>" + '<dd class="ui_tpicker_time"' + (t.showTime ? "" : a) + "></dd>";
					for (var l = 0, c = this.units.length; l < c; l++) {
						r = this.units[l],
						i = r.substr(0, 1).toUpperCase() + r.substr(1),
						s[r] = parseInt(t[r + "Max"] - (t[r + "Max"] - t[r + "Min"]) % t["step" + i], 10),
						o[r] = 0,
						f += '<dt class="ui_tpicker_' + r + '_label"' + (t["show" + i] ? "" : a) + ">" + t[r + "Text"] + "</dt>" + '<dd class="ui_tpicker_' + r + '"><div class="ui_tpicker_' + r + '_slider"' + (t["show" + i] ? "" : a) + "></div>";
						if (t["show" + i] && t[r + "Grid"] > 0) {
							f += '<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';
							if (r == "hour")
								for (var h = t[r + "Min"]; h <= s[r]; h += parseInt(t[r + "Grid"], 10)) {
									o[r]++;
									var p = $.datepicker.formatTime(useAmpm(t.pickerTimeFormat || t.timeFormat) ? "hht" : "HH", {
											hour : h
										}, t);
									f += '<td data-for="' + r + '">' + p + "</td>"
								}
							else
								for (var d = t[r + "Min"]; d <= s[r]; d += parseInt(t[r + "Grid"], 10))
									o[r]++, f += '<td data-for="' + r + '">' + (d < 10 ? "0" : "") + d + "</td>";
							f += "</tr></table></div>"
						}
						f += "</dd>"
					}
					f += '<dt class="ui_tpicker_timezone_label"' + (t.showTimezone ? "" : a) + ">" + t.timezoneText + "</dt>",
					f += '<dd class="ui_tpicker_timezone" ' + (t.showTimezone ? "" : a) + "></dd>",
					f += "</dl></div>";
					var v = $(f);
					t.timeOnly === !0 && (v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">' + t.timeOnlyTitle + "</div>" + "</div>"), e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());
					for (var l = 0, c = n.units.length; l < c; l++)
						r = n.units[l], i = r.substr(0, 1).toUpperCase() + r.substr(1), n[r + "_slider"] = n.control.create(n, v.find(".ui_tpicker_" + r + "_slider"), r, n[r], t[r + "Min"], s[r], t["step" + i]), t["show" + i] && t[r + "Grid"] > 0 && (u = 100 * o[r] * t[r + "Grid"] / (s[r] - t[r + "Min"]), v.find(".ui_tpicker_" + r + " table").css({
								width : u + "%",
								marginLeft : t.isRTL ? "0" : u / (-2 * o[r]) + "%",
								marginRight : t.isRTL ? u / (-2 * o[r]) + "%" : "0",
								borderCollapse : "collapse"
							}).find("td").click(function (e) {
								var t = $(this),
								i = t.html(),
								s = parseInt(i.replace(/[^0-9]/g), 10),
								o = i.replace(/[^apm]/ig),
								u = t.data("for");
								u == "hour" && (o.indexOf("p") !== -1 && s < 12 ? s += 12 : o.indexOf("a") !== -1 && s === 12 && (s = 0)),
								n.control.value(n, n[u + "_slider"], r, s),
								n._onTimeChange(),
								n._onSelectHandler()
							}).css({
								cursor : "pointer",
								width : 100 / o[r] + "%",
								textAlign : "center",
								overflow : "hidden"
							}));
					this.timezone_select = v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),
					$.fn.append.apply(this.timezone_select, $.map(t.timezoneList, function (e, t) {
							return $("<option />").val(typeof e == "object" ? e.value : e).text(typeof e == "object" ? e.label : e)
						}));
					if (typeof this.timezone != "undefined" && this.timezone !== null && this.timezone !== "") {
						var m = new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12),
						g = $.timepicker.timeZoneOffsetString(m);
						g == this.timezone ? selectLocalTimeZone(n) : this.timezone_select.val(this.timezone)
					} else
						typeof this.hour != "undefined" && this.hour !== null && this.hour !== "" ? this.timezone_select.val(t.defaultTimezone) : selectLocalTimeZone(n);
					this.timezone_select.change(function () {
						n._defaults.useLocalTimezone = !1,
						n._onTimeChange(),
						n._onSelectHandler()
					});
					var y = e.find(".ui-datepicker-buttonpane");
					y.length ? y.before(v) : e.append(v),
					this.$timeObj = v.find(".ui_tpicker_time");
					if (this.inst !== null) {
						var b = this.timeDefined;
						this._onTimeChange(),
						this.timeDefined = b
					}
					if (this._defaults.addSliderAccess) {
						var w = this._defaults.sliderAccessArgs,
						E = this._defaults.isRTL;
						w.isRTL = E,
						setTimeout(function () {
							if (v.find(".ui-slider-access").length === 0) {
								v.find(".ui-slider:visible").sliderAccess(w);
								var e = v.find(".ui-slider-access:eq(0)").outerWidth(!0);
								e && v.find("table:visible").each(function () {
									var t = $(this),
									n = t.outerWidth(),
									r = t.css(E ? "marginRight" : "marginLeft").toString().replace("%", ""),
									i = n - e,
									s = r * i / n + "%",
									o = {
										width : i,
										marginRight : 0,
										marginLeft : 0
									};
									o[E ? "marginRight" : "marginLeft"] = s,
									t.css(o)
								})
							}
						}, 10)
					}
				}
			},
			_limitMinMaxDateTime : function (e, t) {
				var n = this._defaults,
				r = new Date(e.selectedYear, e.selectedMonth, e.selectedDay);
				if (!this._defaults.showTimepicker)
					return;
				if ($.datepicker._get(e, "minDateTime") !== null && $.datepicker._get(e, "minDateTime") !== undefined && r) {
					var i = $.datepicker._get(e, "minDateTime"),
					s = new Date(i.getFullYear(), i.getMonth(), i.getDate(), 0, 0, 0, 0);
					if (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null)
						this.hourMinOriginal = n.hourMin, this.minuteMinOriginal = n.minuteMin, this.secondMinOriginal = n.secondMin, this.millisecMinOriginal = n.millisecMin;
					e.settings.timeOnly || s.getTime() == r.getTime() ? (this._defaults.hourMin = i.getHours(), this.hour <= this._defaults.hourMin ? (this.hour = this._defaults.hourMin, this._defaults.minuteMin = i.getMinutes(), this.minute <= this._defaults.minuteMin ? (this.minute = this._defaults.minuteMin, this._defaults.secondMin = i.getSeconds(), this.second <= this._defaults.secondMin ? (this.second = this._defaults.secondMin, this._defaults.millisecMin = i.getMilliseconds()) : (this.millisec < this._defaults.millisecMin && (this.millisec = this._defaults.millisecMin), this._defaults.millisecMin = this.millisecMinOriginal)) : (this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal)) : (this._defaults.minuteMin = this.minuteMinOriginal, this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal)) : (this._defaults.hourMin = this.hourMinOriginal, this._defaults.minuteMin = this.minuteMinOriginal, this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal)
				}
				if ($.datepicker._get(e, "maxDateTime") !== null && $.datepicker._get(e, "maxDateTime") !== undefined && r) {
					var o = $.datepicker._get(e, "maxDateTime"),
					u = new Date(o.getFullYear(), o.getMonth(), o.getDate(), 0, 0, 0, 0);
					if (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null)
						this.hourMaxOriginal = n.hourMax, this.minuteMaxOriginal = n.minuteMax, this.secondMaxOriginal = n.secondMax, this.millisecMaxOriginal = n.millisecMax;
					e.settings.timeOnly || u.getTime() == r.getTime() ? (this._defaults.hourMax = o.getHours(), this.hour >= this._defaults.hourMax ? (this.hour = this._defaults.hourMax, this._defaults.minuteMax = o.getMinutes(), this.minute >= this._defaults.minuteMax ? (this.minute = this._defaults.minuteMax, this._defaults.secondMax = o.getSeconds(), this.second >= this._defaults.secondMax ? (this.second = this._defaults.secondMax, this._defaults.millisecMax = o.getMilliseconds()) : (this.millisec > this._defaults.millisecMax && (this.millisec = this._defaults.millisecMax), this._defaults.millisecMax = this.millisecMaxOriginal)) : (this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal)) : (this._defaults.minuteMax = this.minuteMaxOriginal, this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal)) : (this._defaults.hourMax = this.hourMaxOriginal, this._defaults.minuteMax = this.minuteMaxOriginal, this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal)
				}
				if (t !== undefined && t === !0) {
					var a = parseInt(this._defaults.hourMax - (this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour, 10),
					f = parseInt(this._defaults.minuteMax - (this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute, 10),
					l = parseInt(this._defaults.secondMax - (this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond, 10),
					c = parseInt(this._defaults.millisecMax - (this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec, 10);
					this.hour_slider && (this.control.options(this, this.hour_slider, "hour", {
							min : this._defaults.hourMin,
							max : a
						}), this.control.value(this, this.hour_slider, "hour", this.hour - this.hour % this._defaults.stepHour)),
					this.minute_slider && (this.control.options(this, this.minute_slider, "minute", {
							min : this._defaults.minuteMin,
							max : f
						}), this.control.value(this, this.minute_slider, "minute", this.minute - this.minute % this._defaults.stepMinute)),
					this.second_slider && (this.control.options(this, this.second_slider, "second", {
							min : this._defaults.secondMin,
							max : l
						}), this.control.value(this, this.second_slider, "second", this.second - this.second % this._defaults.stepSecond)),
					this.millisec_slider && (this.control.options(this, this.millisec_slider, "millisec", {
							min : this._defaults.millisecMin,
							max : c
						}), this.control.value(this, this.millisec_slider, "millisec", this.millisec - this.millisec % this._defaults.stepMillisec))
				}
			},
			_onTimeChange : function () {
				var e = this.hour_slider ? this.control.value(this, this.hour_slider, "hour") : !1,
				t = this.minute_slider ? this.control.value(this, this.minute_slider, "minute") : !1,
				n = this.second_slider ? this.control.value(this, this.second_slider, "second") : !1,
				r = this.millisec_slider ? this.control.value(this, this.millisec_slider, "millisec") : !1,
				i = this.timezone_select ? this.timezone_select.val() : !1,
				s = this._defaults,
				o = s.pickerTimeFormat || s.timeFormat,
				u = s.pickerTimeSuffix || s.timeSuffix;
				typeof e == "object" && (e = !1),
				typeof t == "object" && (t = !1),
				typeof n == "object" && (n = !1),
				typeof r == "object" && (r = !1),
				typeof i == "object" && (i = !1),
				e !== !1 && (e = parseInt(e, 10)),
				t !== !1 && (t = parseInt(t, 10)),
				n !== !1 && (n = parseInt(n, 10)),
				r !== !1 && (r = parseInt(r, 10));
				var a = s[e < 12 ? "amNames" : "pmNames"][0],
				f = e != this.hour || t != this.minute || n != this.second || r != this.millisec || this.ampm.length > 0 && e < 12 != ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1) || this.timezone === null && i != this.defaultTimezone || this.timezone !== null && i != this.timezone;
				f && (e !== !1 && (this.hour = e), t !== !1 && (this.minute = t), n !== !1 && (this.second = n), r !== !1 && (this.millisec = r), i !== !1 && (this.timezone = i), this.inst || (this.inst = $.datepicker._getInst(this.$input[0])), this._limitMinMaxDateTime(this.inst, !0)),
				useAmpm(s.timeFormat) && (this.ampm = a),
				this.formattedTime = $.datepicker.formatTime(s.timeFormat, this, s),
				this.$timeObj && (o === s.timeFormat ? this.$timeObj.text(this.formattedTime + u) : this.$timeObj.text($.datepicker.formatTime(o, this, s) + u)),
				this.timeDefined = !0,
				f && this._updateDateTime()
			},
			_onSelectHandler : function () {
				var e = this._defaults.onSelect || this.inst.settings.onSelect,
				t = this.$input ? this.$input[0] : null;
				e && t && e.apply(t, [this.formattedDateTime, this])
			},
			_updateDateTime : function (e) {
				e = this.inst || e;
				var t = $.datepicker._daylightSavingAdjust(new Date(e.selectedYear, e.selectedMonth, e.selectedDay)),
				n = $.datepicker._get(e, "dateFormat"),
				r = $.datepicker._getFormatConfig(e),
				i = t !== null && this.timeDefined;
				this.formattedDate = $.datepicker.formatDate(n, t === null ? new Date : t, r);
				var s = this.formattedDate;
				e.lastVal == "" && (e.currentYear = e.selectedYear, e.currentMonth = e.selectedMonth, e.currentDay = e.selectedDay),
				this._defaults.timeOnly === !0 ? s = this.formattedTime : this._defaults.timeOnly !== !0 && (this._defaults.alwaysSetTime || i) && (s += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix),
				this.formattedDateTime = s;
				if (!this._defaults.showTimepicker)
					this.$input.val(this.formattedDate);
				else if (this.$altInput && this._defaults.altFieldTimeOnly === !0)
					this.$altInput.val(this.formattedTime), this.$input.val(this.formattedDate);
				else if (this.$altInput) {
					this.$input.val(s);
					var o = "",
					u = this._defaults.altSeparator ? this._defaults.altSeparator : this._defaults.separator,
					a = this._defaults.altTimeSuffix ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;
					this._defaults.altFormat ? o = $.datepicker.formatDate(this._defaults.altFormat, t === null ? new Date : t, r) : o = this.formattedDate,
					o && (o += u),
					this._defaults.altTimeFormat ? o += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + a : o += this.formattedTime + a,
					this.$altInput.val(o)
				} else
					this.$input.val(s);
				this.$input.trigger("change")
			},
			_onFocus : function () {
				if (!this.$input.val() && this._defaults.defaultValue) {
					this.$input.val(this._defaults.defaultValue);
					var e = $.datepicker._getInst(this.$input.get(0)),
					t = $.datepicker._get(e, "timepicker");
					if (t && t._defaults.timeOnly && e.input.val() != e.lastVal)
						try {
							$.datepicker._updateDatepicker(e)
						} catch (n) {
							$.timepicker.log(n)
						}
				}
			},
			_controls : {
				slider : {
					create : function (e, t, n, r, i, s, o) {
						var u = e._defaults.isRTL;
						return t.prop("slide", null).slider({
							orientation : "horizontal",
							value : u ? r * -1 : r,
							min : u ? s * -1 : i,
							max : u ? i * -1 : s,
							step : o,
							slide : function (t, r) {
								e.control.value(e, $(this), n, u ? r.value * -1 : r.value),
								e._onTimeChange()
							},
							stop : function (t, n) {
								e._onSelectHandler()
							}
						})
					},
					options : function (e, t, n, r, i) {
						if (e._defaults.isRTL) {
							if (typeof r == "string")
								return r == "min" || r == "max" ? i !== undefined ? t.slider(r, i * -1) : Math.abs(t.slider(r)) : t.slider(r);
							var s = r.min,
							o = r.max;
							return r.min = r.max = null,
							s !== undefined && (r.max = s * -1),
							o !== undefined && (r.min = o * -1),
							t.slider(r)
						}
						return typeof r == "string" && i !== undefined ? t.slider(r, i) : t.slider(r)
					},
					value : function (e, t, n, r) {
						return e._defaults.isRTL ? r !== undefined ? t.slider("value", r * -1) : Math.abs(t.slider("value")) : r !== undefined ? t.slider("value", r) : t.slider("value")
					}
				},
				select : {
					create : function (e, t, n, r, i, s, o) {
						var u = '<select class="ui-timepicker-select" data-unit="' + n + '" data-min="' + i + '" data-max="' + s + '" data-step="' + o + '">',
						a = e._defaults.timeFormat.indexOf("t") !== -1 ? "toLowerCase" : "toUpperCase",
						f = 0;
						for (var l = i; l <= s; l += o)
							u += '<option value="' + l + '"' + (l == r ? " selected" : "") + ">", n == "hour" && useAmpm(e._defaults.pickerTimeFormat || e._defaults.timeFormat) ? u += $.datepicker.formatTime("hh TT", {
								hour : l
							}, e._defaults) : n == "millisec" || l >= 10 ? u += l : u += "0" + l.toString(), u += "</option>";
						return u += "</select>",
						t.children("select").remove(),
						$(u).appendTo(t).change(function (t) {
							e._onTimeChange(),
							e._onSelectHandler()
						}),
						t
					},
					options : function (e, t, n, r, i) {
						var s = {},
						o = t.children("select");
						if (typeof r == "string") {
							if (i === undefined)
								return o.data(r);
							s[r] = i
						} else
							s = r;
						return e.control.create(e, t, o.data("unit"), o.val(), s.min || o.data("min"), s.max || o.data("max"), s.step || o.data("step"))
					},
					value : function (e, t, n, r) {
						var i = t.children("select");
						return r !== undefined ? i.val(r) : i.val()
					}
				}
			}
		}),
		$.fn.extend({
			timepicker : function (e) {
				e = e || {};
				var t = Array.prototype.slice.call(arguments);
				return typeof e == "object" && (t[0] = $.extend(e, {
							timeOnly : !0
						})),
				$(this).each(function () {
					$.fn.datetimepicker.apply($(this), t)
				})
			},
			datetimepicker : function (e) {
				e = e || {};
				var t = arguments;
				return typeof e == "string" ? e == "getDate" ? $.fn.datepicker.apply($(this[0]), t) : this.each(function () {
					var e = $(this);
					e.datepicker.apply(e, t)
				}) : this.each(function () {
					var t = $(this);
					t.datepicker($.timepicker._newInst(t, e)._defaults)
				})
			}
		}),
		$.datepicker.parseDateTime = function (e, t, n, r, i) {
			var s = parseDateTimeInternal(e, t, n, r, i);
			if (s.timeObj) {
				var o = s.timeObj;
				s.date.setHours(o.hour, o.minute, o.second, o.millisec)
			}
			return s.date
		},
		$.datepicker.parseTime = function (e, t, n) {
			var r = extendRemove(extendRemove({}, $.timepicker._defaults), n || {}),
			i = function (e, t, n) {
				var r = function (e, t) {
					var n = [];
					return e && $.merge(n, e),
					t && $.merge(n, t),
					n = $.map(n, function (e) {
							return e.replace(/[.*+?|()\[\]{}\\]/g, "\\$&")
						}),
					"(" + n.join("|") + ")?"
				},
				i = function (e) {
					var t = e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),
					n = {
						h : -1,
						m : -1,
						s : -1,
						l : -1,
						t : -1,
						z : -1
					};
					if (t)
						for (var r = 0; r < t.length; r++)
							n[t[r].toString().charAt(0)] == -1 && (n[t[r].toString().charAt(0)] = r + 1);
					return n
				},
				s = "^" + e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g, function (e) {
						var t = e.length;
						switch (e.charAt(0).toLowerCase()) {
						case "h":
							return t === 1 ? "(\\d?\\d)" : "(\\d{" + t + "})";
						case "m":
							return t === 1 ? "(\\d?\\d)" : "(\\d{" + t + "})";
						case "s":
							return t === 1 ? "(\\d?\\d)" : "(\\d{" + t + "})";
						case "l":
							return "(\\d?\\d?\\d)";
						case "z":
							return "(z|[-+]\\d\\d:?\\d\\d|\\S+)?";
						case "t":
							return r(n.amNames, n.pmNames);
						default:
							return "(" + e.replace(/\'/g, "").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g, function (e) {
								return "\\" + e
							}) + ")?"
						}
					}).replace(/\s/g, "\\s?") + n.timeSuffix + "$",
				o = i(e),
				u = "",
				a;
				a = t.match(new RegExp(s, "i"));
				var f = {
					hour : 0,
					minute : 0,
					second : 0,
					millisec : 0
				};
				if (a) {
					o.t !== -1 && (a[o.t] === undefined || a[o.t].length === 0 ? (u = "", f.ampm = "") : (u = $.inArray(a[o.t].toUpperCase(), n.amNames) !== -1 ? "AM" : "PM", f.ampm = n[u == "AM" ? "amNames" : "pmNames"][0])),
					o.h !== -1 && (u == "AM" && a[o.h] == "12" ? f.hour = 0 : u == "PM" && a[o.h] != "12" ? f.hour = parseInt(a[o.h], 10) + 12 : f.hour = Number(a[o.h])),
					o.m !== -1 && (f.minute = Number(a[o.m])),
					o.s !== -1 && (f.second = Number(a[o.s])),
					o.l !== -1 && (f.millisec = Number(a[o.l]));
					if (o.z !== -1 && a[o.z] !== undefined) {
						var l = a[o.z].toUpperCase();
						switch (l.length) {
						case 1:
							l = n.timezoneIso8601 ? "Z" : "+0000";
							break;
						case 5:
							n.timezoneIso8601 && (l = l.substring(1) == "0000" ? "Z" : l.substring(0, 3) + ":" + l.substring(3));
							break;
						case 6:
							n.timezoneIso8601 ? l.substring(1) == "00:00" && (l = "Z") : l = l == "Z" || l.substring(1) == "00:00" ? "+0000" : l.replace(/:/, "")
						}
						f.timezone = l
					}
					return f
				}
				return !1
			},
			s = function (e, t, n) {
				try {
					var r = new Date("2012-01-01 " + t);
					if (isNaN(r.getTime())) {
						r = new Date("2012-01-01T" + t);
						if (isNaN(r.getTime())) {
							r = new Date("01/01/2012 " + t);
							if (isNaN(r.getTime()))
								throw "Unable to parse time with native Date: " + t
						}
					}
					return {
						hour : r.getHours(),
						minute : r.getMinutes(),
						second : r.getSeconds(),
						millisec : r.getMilliseconds(),
						timezone : $.timepicker.timeZoneOffsetString(r)
					}
				} catch (s) {
					try {
						return i(e, t, n)
					} catch (o) {
						$.timepicker.log("Unable to parse \ntimeString: " + t + "\ntimeFormat: " + e)
					}
				}
				return !1
			};
			return typeof r.parse == "function" ? r.parse(e, t, r) : r.parse === "loose" ? s(e, t, r) : i(e, t, r)
		},
		$.datepicker.formatTime = function (e, t, n) {
			n = n || {},
			n = $.extend({}, $.timepicker._defaults, n),
			t = $.extend({
					hour : 0,
					minute : 0,
					second : 0,
					millisec : 0,
					timezone : "+0000"
				}, t);
			var r = e,
			i = n.amNames[0],
			s = parseInt(t.hour, 10);
			return s > 11 && (i = n.pmNames[0]),
			r = r.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g, function (e) {
					switch (e) {
					case "HH":
						return ("0" + s).slice(-2);
					case "H":
						return s;
					case "hh":
						return ("0" + convert24to12(s)).slice(-2);
					case "h":
						return convert24to12(s);
					case "mm":
						return ("0" + t.minute).slice(-2);
					case "m":
						return t.minute;
					case "ss":
						return ("0" + t.second).slice(-2);
					case "s":
						return t.second;
					case "l":
						return ("00" + t.millisec).slice(-3);
					case "z":
						return t.timezone === null ? n.defaultTimezone : t.timezone;
					case "T":
						return i.charAt(0).toUpperCase();
					case "TT":
						return i.toUpperCase();
					case "t":
						return i.charAt(0).toLowerCase();
					case "tt":
						return i.toLowerCase();
					default:
						return e.replace(/\'/g, "") || "'"
					}
				}),
			r = $.trim(r),
			r
		},
		$.datepicker._base_selectDate = $.datepicker._selectDate,
		$.datepicker._selectDate = function (e, t) {
			var n = this._getInst($(e)[0]),
			r = this._get(n, "timepicker");
			r ? (r._limitMinMaxDateTime(n, !0), n.inline = n.stay_open = !0, this._base_selectDate(e, t), n.inline = n.stay_open = !1, this._notifyChange(n), this._updateDatepicker(n)) : this._base_selectDate(e, t)
		},
		$.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker,
		$.datepicker._updateDatepicker = function (e) {
			var t = e.input[0];
			if ($.datepicker._curInst && $.datepicker._curInst != e && $.datepicker._datepickerShowing && $.datepicker._lastInput != t)
				return;
			if (typeof e.stay_open != "boolean" || e.stay_open === !1) {
				this._base_updateDatepicker(e);
				var n = this._get(e, "timepicker");
				n && n._addTimePicker(e)
			}
		},
		$.datepicker._base_doKeyPress = $.datepicker._doKeyPress,
		$.datepicker._doKeyPress = function (e) {
			var t = $.datepicker._getInst(e.target),
			n = $.datepicker._get(t, "timepicker");
			if (n && $.datepicker._get(t, "constrainInput")) {
				var r = useAmpm(n._defaults.timeFormat),
				i = $.datepicker._possibleChars($.datepicker._get(t, "dateFormat")),
				s = n._defaults.timeFormat.toString().replace(/[hms]/g, "").replace(/TT/g, r ? "APM" : "").replace(/Tt/g, r ? "AaPpMm" : "").replace(/tT/g, r ? "AaPpMm" : "").replace(/T/g, r ? "AP" : "").replace(/tt/g, r ? "apm" : "").replace(/t/g, r ? "ap" : "") + " " + n._defaults.separator + n._defaults.timeSuffix + (n._defaults.showTimezone ? n._defaults.timezoneList.join("") : "") + n._defaults.amNames.join("") + n._defaults.pmNames.join("") + i,
				o = String.fromCharCode(e.charCode === undefined ? e.keyCode : e.charCode);
				return e.ctrlKey || o < " " || !i || s.indexOf(o) > -1
			}
			return $.datepicker._base_doKeyPress(e)
		},
		$.datepicker._base_updateAlternate = $.datepicker._updateAlternate,
		$.datepicker._updateAlternate = function (e) {
			var t = this._get(e, "timepicker");
			if (t) {
				var n = t._defaults.altField;
				if (n) {
					var r = t._defaults.altFormat || t._defaults.dateFormat,
					i = this._getDate(e),
					s = $.datepicker._getFormatConfig(e),
					o = "",
					u = t._defaults.altSeparator ? t._defaults.altSeparator : t._defaults.separator,
					a = t._defaults.altTimeSuffix ? t._defaults.altTimeSuffix : t._defaults.timeSuffix,
					f = t._defaults.altTimeFormat !== null ? t._defaults.altTimeFormat : t._defaults.timeFormat;
					o += $.datepicker.formatTime(f, t, t._defaults) + a,
					!t._defaults.timeOnly && !t._defaults.altFieldTimeOnly && i !== null && (t._defaults.altFormat ? o = $.datepicker.formatDate(t._defaults.altFormat, i, s) + u + o : o = t.formattedDate + u + o),
					$(n).val(o)
				}
			} else
				$.datepicker._base_updateAlternate(e)
		},
		$.datepicker._base_doKeyUp = $.datepicker._doKeyUp,
		$.datepicker._doKeyUp = function (e) {
			var t = $.datepicker._getInst(e.target),
			n = $.datepicker._get(t, "timepicker");
			if (n && n._defaults.timeOnly && t.input.val() != t.lastVal)
				try {
					$.datepicker._updateDatepicker(t)
				} catch (r) {
					$.timepicker.log(r)
				}
			return $.datepicker._base_doKeyUp(e)
		},
		$.datepicker._base_gotoToday = $.datepicker._gotoToday,
		$.datepicker._gotoToday = function (e) {
			var t = this._getInst($(e)[0]),
			n = t.dpDiv;
			this._base_gotoToday(e);
			var r = this._get(t, "timepicker");
			selectLocalTimeZone(r);
			var i = new Date;
			this._setTime(t, i),
			$(".ui-datepicker-today", n).click()
		},
		$.datepicker._disableTimepickerDatepicker = function (e) {
			var t = this._getInst(e);
			if (!t)
				return;
			var n = this._get(t, "timepicker");
			$(e).datepicker("getDate"),
			n && (n._defaults.showTimepicker = !1, n._updateDateTime(t))
		},
		$.datepicker._enableTimepickerDatepicker = function (e) {
			var t = this._getInst(e);
			if (!t)
				return;
			var n = this._get(t, "timepicker");
			$(e).datepicker("getDate"),
			n && (n._defaults.showTimepicker = !0, n._addTimePicker(t), n._updateDateTime(t))
		},
		$.datepicker._setTime = function (e, t) {
			var n = this._get(e, "timepicker");
			if (n) {
				var r = n._defaults;
				n.hour = t ? t.getHours() : r.hour,
				n.minute = t ? t.getMinutes() : r.minute,
				n.second = t ? t.getSeconds() : r.second,
				n.millisec = t ? t.getMilliseconds() : r.millisec,
				n._limitMinMaxDateTime(e, !0),
				n._onTimeChange(),
				n._updateDateTime(e)
			}
		},
		$.datepicker._setTimeDatepicker = function (e, t, n) {
			var r = this._getInst(e);
			if (!r)
				return;
			var i = this._get(r, "timepicker");
			if (i) {
				this._setDateFromField(r);
				var s;
				t && (typeof t == "string" ? (i._parseTime(t, n), s = new Date, s.setHours(i.hour, i.minute, i.second, i.millisec)) : s = new Date(t.getTime()), s.toString() == "Invalid Date" && (s = undefined), this._setTime(r, s))
			}
		},
		$.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker,
		$.datepicker._setDateDatepicker = function (e, t) {
			var n = this._getInst(e);
			if (!n)
				return;
			var r = t instanceof Date ? new Date(t.getTime()) : t;
			this._updateDatepicker(n),
			this._base_setDateDatepicker.apply(this, arguments),
			this._setTimeDatepicker(e, r, !0)
		},
		$.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker,
		$.datepicker._getDateDatepicker = function (e, t) {
			var n = this._getInst(e);
			if (!n)
				return;
			var r = this._get(n, "timepicker");
			if (r) {
				n.lastVal === undefined && this._setDateFromField(n, t);
				var i = this._getDate(n);
				return i && r._parseTime($(e).val(), r.timeOnly) && i.setHours(r.hour, r.minute, r.second, r.millisec),
				i
			}
			return this._base_getDateDatepicker(e, t)
		},
		$.datepicker._base_parseDate = $.datepicker.parseDate,
		$.datepicker.parseDate = function (e, t, n) {
			var r;
			try {
				r = this._base_parseDate(e, t, n)
			} catch (i) {
				r = this._base_parseDate(e, t.substring(0, t.length - (i.length - i.indexOf(":") - 2)), n),
				$.timepicker.log("Error parsing the date string: " + i + "\ndate string = " + t + "\ndate format = " + e)
			}
			return r
		},
		$.datepicker._base_formatDate = $.datepicker._formatDate,
		$.datepicker._formatDate = function (e, t, n, r) {
			var i = this._get(e, "timepicker");
			return i ? (i._updateDateTime(e), i.$input.val()) : this._base_formatDate(e)
		},
		$.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker,
		$.datepicker._optionDatepicker = function (e, t, n) {
			var r = this._getInst(e),
			i;
			if (!r)
				return null;
			var s = this._get(r, "timepicker");
			if (s) {
				var o = null,
				u = null,
				a = null,
				f = s._defaults.evnts,
				l = {},
				c;
				if (typeof t == "string") {
					if (t === "minDate" || t === "minDateTime")
						o = n;
					else if (t === "maxDate" || t === "maxDateTime")
						u = n;
					else if (t === "onSelect")
						a = n;
					else if (f.hasOwnProperty(t)) {
						if (typeof n == "undefined")
							return f[t];
						l[t] = n,
						i = {}

					}
				} else if (typeof t == "object") {
					t.minDate ? o = t.minDate : t.minDateTime ? o = t.minDateTime : t.maxDate ? u = t.maxDate : t.maxDateTime && (u = t.maxDateTime);
					for (c in f)
						f.hasOwnProperty(c) && t[c] && (l[c] = t[c])
				}
				for (c in l)
					l.hasOwnProperty(c) && (f[c] = l[c], i || (i = $.extend({}, t)), delete i[c]);
				if (i && isEmptyObject(i))
					return;
				o ? (o === 0 ? o = new Date : o = new Date(o), s._defaults.minDate = o, s._defaults.minDateTime = o) : u ? (u === 0 ? u = new Date : u = new Date(u), s._defaults.maxDate = u, s._defaults.maxDateTime = u) : a && (s._defaults.onSelect = a)
			}
			return n === undefined ? this._base_optionDatepicker.call($.datepicker, e, t) : this._base_optionDatepicker.call($.datepicker, e, i || t, n)
		};
		var isEmptyObject = function (e) {
			var t;
			for (t in e)
				if (e.hasOwnProperty(e))
					return !1;
			return !0
		},
		extendRemove = function (e, t) {
			$.extend(e, t);
			for (var n in t)
				if (t[n] === null || t[n] === undefined)
					e[n] = t[n];
			return e
		},
		useAmpm = function (e) {
			return e.indexOf("t") !== -1 && e.indexOf("h") !== -1
		},
		convert24to12 = function (e) {
			return e > 12 && (e -= 12),
			e == 0 && (e = 12),
			String(e)
		},
		splitDateTime = function (e, t, n, r) {
			try {
				var i = r && r.separator ? r.separator : $.timepicker._defaults.separator,
				s = r && r.timeFormat ? r.timeFormat : $.timepicker._defaults.timeFormat,
				o = s.split(i),
				u = o.length,
				a = t.split(i),
				f = a.length;
				if (f > 1)
					return [a.splice(0, f - u).join(i), a.splice(0, u).join(i)]
			} catch (l) {
				$.timepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: " + l + "\ndateTimeString" + t + "\ndateFormat = " + e + "\nseparator = " + r.separator + "\ntimeFormat = " + r.timeFormat);
				if (l.indexOf(":") >= 0) {
					var c = t.length - (l.length - l.indexOf(":") - 2),
					h = t.substring(c);
					return [$.trim(t.substring(0, c)), $.trim(t.substring(c))]
				}
				throw l
			}
			return [t, ""]
		},
		parseDateTimeInternal = function (e, t, n, r, i) {
			var s,
			o = splitDateTime(e, n, r, i);
			s = $.datepicker._base_parseDate(e, o[0], r);
			if (o[1] !== "") {
				var u = o[1],
				a = $.datepicker.parseTime(t, u, i);
				if (a === null)
					throw "Wrong time format";
				return {
					date : s,
					timeObj : a
				}
			}
			return {
				date : s
			}
		},
		selectLocalTimeZone = function (e, t) {
			if (e && e.timezone_select) {
				e._defaults.useLocalTimezone = !0;
				var n = typeof t != "undefined" ? t : new Date,
				r = $.timepicker.timeZoneOffsetString(n);
				e._defaults.timezoneIso8601 && (r = r.substring(0, 3) + ":" + r.substring(3)),
				e.timezone_select.val(r)
			}
		};
		$.timepicker = new Timepicker,
		$.timepicker.timeZoneOffsetString = function (e) {
			var t = e.getTimezoneOffset() * -1,
			n = t % 60,
			r = (t - n) / 60;
			return (t >= 0 ? "+" : "-") + ("0" + (r * 101).toString()).slice(-2) + ("0" + (n * 101).toString()).slice(-2)
		},
		$.timepicker.timeRange = function (e, t, n) {
			return $.timepicker.handleRange("timepicker", e, t, n)
		},
		$.timepicker.dateTimeRange = function (e, t, n) {
			$.timepicker.dateRange(e, t, n, "datetimepicker")
		},
		$.timepicker.dateRange = function (e, t, n, r) {
			r = r || "datepicker",
			$.timepicker.handleRange(r, e, t, n)
		},
		$.timepicker.handleRange = function (e, t, n, r) {
			function i(e, r, i) {
				r.val() && new Date(t.val()) > new Date(n.val()) && r.val(i)
			}
			function s(t, n, r) {
				if (!$(t).val())
					return;
				var i = $(t)[e].call($(t), "getDate");
				i.getTime && $(n)[e].call($(n), "option", r, i)
			}
			return $.fn[e].call(t, $.extend({
					onClose : function (e, t) {
						i(this, n, e)
					},
					onSelect : function (e) {
						s(this, n, "minDate")
					}
				}, r, r.start)),
			$.fn[e].call(n, $.extend({
					onClose : function (e, n) {
						i(this, t, e)
					},
					onSelect : function (e) {
						s(this, t, "maxDate")
					}
				}, r, r.end)),
			e != "timepicker" && r.reformat && $([t, n]).each(function () {
				var t = $(this)[e].call($(this), "option", "dateFormat"),
				n = new Date($(this).val());
				$(this).val() && n && $(this).val($.datepicker.formatDate(t, n))
			}),
			i(t, n, t.val()),
			s(t, n, "minDate"),
			s(n, t, "maxDate"),
			$([t.get(0), n.get(0)])
		},
		$.timepicker.log = function (e) {
			window.console && console.log(e)
		},
		$.timepicker.version = "1.2"
	})(jQuery)
}), define("lib/jquery-ui-timepicker-zh-CN", ["lib/jquery-ui-timepicker-addon"], function () {
	(function (e) {
		e.timepicker.regional["zh-CN"] = {
			timeOnlyTitle : "选择时间",
			timeText : "时间",
			hourText : "小时",
			minuteText : "分钟",
			secondText : "秒钟",
			millisecText : "微秒",
			timezoneText : "时区",
			currentText : "现在时间",
			closeText : "关闭",
			timeFormat : "HH:mm",
			amNames : ["AM", "A"],
			pmNames : ["PM", "P"],
			isRTL : !1
		},
		e.timepicker.setDefaults(e.timepicker.regional["zh-CN"])
	})(jQuery)
}), define("lib/jquery-ui-sliderAccess", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function (e) {
		e.fn.extend({
			sliderAccess : function (t) {
				return t = t || {},
				t.touchonly = t.touchonly !== undefined ? t.touchonly : !0,
				t.touchonly !== !0 || "ontouchend" in document ? e(this).each(function (n, r) {
					var i = e(this),
					s = e.extend({}, {
							where : "after",
							step : i.slider("option", "step"),
							upIcon : "ui-icon-plus",
							downIcon : "ui-icon-minus",
							text : !1,
							upText : "+",
							downText : "-",
							buttonset : !0,
							buttonsetTag : "span",
							isRTL : !1
						}, t),
					o = e("<" + s.buttonsetTag + ' class="ui-slider-access">' + '<button data-icon="' + s.downIcon + '" data-step="' + (s.isRTL ? s.step : s.step * -1) + '">' + s.downText + "</button>" + '<button data-icon="' + s.upIcon + '" data-step="' + (s.isRTL ? s.step * -1 : s.step) + '">' + s.upText + "</button>" + "</" + s.buttonsetTag + ">");
					o.children("button").each(function (t, n) {
						var r = e(this);
						r.button({
							text : s.text,
							icons : {
								primary : r.data("icon")
							}
						}).click(function (e) {
							var t = r.data("step"),
							n = i.slider("value"),
							s = n += t * 1,
							o = i.slider("option", "min"),
							u = i.slider("option", "max"),
							a = i.slider("option", "slide") || function () {},
							f = i.slider("option", "stop") || function () {};
							e.preventDefault();
							if (s < o || s > u)
								return;
							i.slider("value", s),
							a.call(i, null, {
								value : s
							}),
							f.call(i, null, {
								value : s
							})
						})
					}),
					i[s.where](o),
					s.buttonset && (o.removeClass("ui-corner-right").removeClass("ui-corner-left").buttonset(), o.eq(0).addClass("ui-corner-left"), o.eq(1).addClass("ui-corner-right"));
					var u = o.css({
							marginLeft : s.where == "after" && !s.isRTL || s.where == "before" && s.isRTL ? 10 : 0,
							marginRight : s.where == "before" && !s.isRTL || s.where == "after" && s.isRTL ? 10 : 0
						}).outerWidth(!0) + 5,
					a = i.outerWidth(!0);
					i.css("display", "inline-block").width(a - u)
				}) : e(this)
			}
		})
	})(jQuery)
}), define("lib/jquery.nanoScroller", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function (e, t, n) {
		var r,
		i,
		s,
		o,
		u,
		a,
		f,
		l,
		c,
		h,
		p,
		d,
		v,
		m,
		g,
		y,
		b,
		w,
		E,
		S,
		x;
		S = {
			paneClass : "pane",
			sliderClass : "slider",
			contentClass : "content",
			iOSNativeScrolling : !1,
			preventPageScrolling : !1,
			disableResize : !1,
			alwaysVisible : !1,
			flashDelay : 1500,
			sliderMinHeight : 20,
			sliderMaxHeight : null
		},
		y = "scrollbar",
		g = "scroll",
		l = "mousedown",
		c = "mousemove",
		p = "mousewheel",
		h = "mouseup",
		m = "resize",
		u = "drag",
		w = "up",
		v = "panedown",
		s = "DOMMouseScroll",
		o = "down",
		E = "wheel",
		a = "keydown",
		f = "keyup",
		b = "touchmove",
		r = t.navigator.appName === "Microsoft Internet Explorer" && /msie 7./i.test(t.navigator.appVersion) && t.ActiveXObject,
		i = null,
		x = function () {
			var e,
			t,
			r;
			return e = n.createElement("div"),
			t = e.style,
			t.position = "absolute",
			t.width = "100px",
			t.height = "100px",
			t.overflow = g,
			t.top = "-9999px",
			n.body.appendChild(e),
			r = e.offsetWidth - e.clientWidth,
			n.body.removeChild(e),
			r
		},
		d = function () {
			function a(r, s) {
				this.el = r,
				this.options = s,
				i || (i = x()),
				this.$el = e(this.el),
				this.doc = e(n),
				this.win = e(t),
				this.$content = this.$el.children("." + s.contentClass),
				this.$content.attr("tabindex", 0),
				this.content = this.$content[0],
				this.options.iOSNativeScrolling && this.el.style.WebkitOverflowScrolling != null ? this.nativeScrolling() : this.generate(),
				this.createEvents(),
				this.addEvents(),
				this.reset()
			}
			return a.prototype.preventScrolling = function (e, t) {
				if (!this.isActive)
					return;
				if (e.type === s)
					(t === o && e.originalEvent.detail > 0 || t === w && e.originalEvent.detail < 0) && e.preventDefault();
				else if (e.type === p) {
					if (!e.originalEvent || !e.originalEvent.wheelDelta)
						return;
					(t === o && e.originalEvent.wheelDelta < 0 || t === w && e.originalEvent.wheelDelta > 0) && e.preventDefault()
				}
			},
			a.prototype.nativeScrolling = function () {
				this.$content.css({
					WebkitOverflowScrolling : "touch"
				}),
				this.iOSNativeScrolling = !0,
				this.isActive = !0
			},
			a.prototype.updateScrollValues = function () {
				var e;
				e = this.content,
				this.maxScrollTop = e.scrollHeight - e.clientHeight,
				this.contentScrollTop = e.scrollTop,
				this.iOSNativeScrolling || (this.maxSliderTop = this.paneHeight - this.sliderHeight, this.sliderTop = this.contentScrollTop * this.maxSliderTop / this.maxScrollTop)
			},
			a.prototype.createEvents = function () {
				var e = this;
				this.events = {
					down : function (t) {
						return e.isBeingDragged = !0,
						e.offsetY = t.pageY - e.slider.offset().top,
						e.pane.addClass("active"),
						e.doc.bind(c, e.events[u]).bind(h, e.events[w]),
						!1
					},
					drag : function (t) {
						return e.sliderY = t.pageY - e.$el.offset().top - e.offsetY,
						e.scroll(),
						e.updateScrollValues(),
						e.contentScrollTop >= e.maxScrollTop ? e.$el.trigger("scrollend") : e.contentScrollTop === 0 && e.$el.trigger("scrolltop"),
						!1
					},
					up : function (t) {
						return e.isBeingDragged = !1,
						e.pane.removeClass("active"),
						e.doc.unbind(c, e.events[u]).unbind(h, e.events[w]),
						!1
					},
					resize : function (t) {
						e.reset()
					},
					panedown : function (t) {
						return e.sliderY = (t.offsetY || t.originalEvent.layerY) - e.sliderHeight * .5,
						e.scroll(),
						e.events.down(t),
						!1
					},
					scroll : function (t) {
						if (e.isBeingDragged)
							return;
						e.updateScrollValues(),
						e.iOSNativeScrolling || (e.sliderY = e.sliderTop, e.slider.css({
								top : e.sliderTop
							}));
						if (t == null)
							return;
						e.contentScrollTop >= e.maxScrollTop ? (e.options.preventPageScrolling && e.preventScrolling(t, o), e.$el.trigger("scrollend")) : e.contentScrollTop === 0 && (e.options.preventPageScrolling && e.preventScrolling(t, w), e.$el.trigger("scrolltop"))
					},
					wheel : function (t) {
						if (t == null)
							return;
						return e.sliderY += -t.wheelDeltaY || -t.delta,
						e.scroll(),
						!1
					}
				}
			},
			a.prototype.addEvents = function () {
				var e;
				this.removeEvents(),
				e = this.events,
				this.options.disableResize || this.win.bind(m, e[m]),
				this.iOSNativeScrolling || (this.slider.bind(l, e[o]), this.pane.bind(l, e[v]).bind("" + p + " " + s, e[E])),
				this.$content.bind("" + g + " " + p + " " + s + " " + b, e[g])
			},
			a.prototype.removeEvents = function () {
				var e;
				e = this.events,
				this.win.unbind(m, e[m]),
				this.iOSNativeScrolling || (this.slider.unbind(), this.pane.unbind()),
				this.$content.unbind("" + g + " " + p + " " + s + " " + b, e[g])
			},
			a.prototype.generate = function () {
				var e,
				t,
				n,
				r,
				s;
				return n = this.options,
				r = n.paneClass,
				s = n.sliderClass,
				e = n.contentClass,
				!this.$el.find("" + r).length && !this.$el.find("" + s).length && this.$el.append('<div class="' + r + '"><div class="' + s + '" /></div>'),
				this.pane = this.$el.children("." + r),
				this.slider = this.pane.find("." + s),
				i && (t = this.$el.css("direction") === "rtl" ? {
						left : -i
					}
					 : {
					right : -i
				}, this.$el.addClass("has-scrollbar")),
				t != null && this.$content.css(t),
				this
			},
			a.prototype.restore = function () {
				this.stopped = !1,
				this.pane.show(),
				this.addEvents()
			},
			a.prototype.reset = function () {
				var e,
				t,
				n,
				s,
				o,
				u,
				a,
				f,
				l;
				if (this.iOSNativeScrolling) {
					this.contentHeight = this.content.scrollHeight;
					return
				}
				return this.$el.find("." + this.options.paneClass).length || this.generate().stop(),
				this.stopped && this.restore(),
				e = this.content,
				n = e.style,
				s = n.overflowY,
				r && this.$content.css({
					height : this.$content.height()
				}),
				t = e.scrollHeight + i,
				u = this.pane.outerHeight(),
				f = parseInt(this.pane.css("top"), 10),
				o = parseInt(this.pane.css("bottom"), 10),
				a = u + f + o,
				l = Math.round(a / t * a),
				l < this.options.sliderMinHeight ? l = this.options.sliderMinHeight : this.options.sliderMaxHeight != null && l > this.options.sliderMaxHeight && (l = this.options.sliderMaxHeight),
				s === g && n.overflowX !== g && (l += i),
				this.maxSliderTop = a - l,
				this.contentHeight = t,
				this.paneHeight = u,
				this.paneOuterHeight = a,
				this.sliderHeight = l,
				this.slider.height(l),
				this.events.scroll(),
				this.pane.show(),
				this.isActive = !0,
				e.scrollHeight === e.clientHeight || this.pane.outerHeight(!0) >= e.scrollHeight && s !== g ? (this.pane.hide(), this.isActive = !1) : this.el.clientHeight === e.scrollHeight && s === g ? this.slider.hide() : this.slider.show(),
				this.pane.css({
					opacity : this.options.alwaysVisible ? 1 : "",
					visibility : this.options.alwaysVisible ? "visible" : ""
				}),
				this
			},
			a.prototype.scroll = function () {
				if (!this.isActive)
					return;
				return this.sliderY = Math.max(0, this.sliderY),
				this.sliderY = Math.min(this.maxSliderTop, this.sliderY),
				this.$content.scrollTop((this.paneHeight - this.contentHeight + i) * this.sliderY / this.maxSliderTop * -1),
				this.iOSNativeScrolling || this.slider.css({
					top : this.sliderY
				}),
				this
			},
			a.prototype.scrollBottom = function (e) {
				if (!this.isActive)
					return;
				return this.reset(),
				this.$content.scrollTop(this.contentHeight - this.$content.height() - e).trigger(p),
				this
			},
			a.prototype.scrollTop = function (e) {
				if (!this.isActive)
					return;
				return this.reset(),
				this.$content.scrollTop(+e).trigger(p),
				this
			},
			a.prototype.scrollTo = function (t) {
				if (!this.isActive)
					return;
				return this.reset(),
				this.scrollTop(e(t).get(0).offsetTop),
				this
			},
			a.prototype.stop = function () {
				return this.stopped = !0,
				this.removeEvents(),
				this.pane.hide(),
				this
			},
			a.prototype.flash = function () {
				var e = this;
				if (!this.isActive)
					return;
				return this.reset(),
				this.pane.addClass("flashed"),
				setTimeout(function () {
					e.pane.removeClass("flashed")
				}, this.options.flashDelay),
				this
			},
			a
		}
		(),
		e.fn.nanoScroller = function (t) {
			return this.each(function () {
				var n,
				r;
				(r = this.nanoscroller) || (n = e.extend({}, S, t), this.nanoscroller = r = new d(this, n));
				if (t && typeof t == "object") {
					e.extend(r.options, t);
					if (t.scrollBottom)
						return r.scrollBottom(t.scrollBottom);
					if (t.scrollTop)
						return r.scrollTop(t.scrollTop);
					if (t.scrollTo)
						return r.scrollTo(t.scrollTo);
					if (t.scroll === "bottom")
						return r.scrollBottom(0);
					if (t.scroll === "top")
						return r.scrollTop(0);
					if (t.scroll && t.scroll instanceof e)
						return r.scrollTo(t.scroll);
					if (t.stop)
						return r.stop();
					if (t.flash)
						return r.flash()
				}
				return r.reset()
			})
		}
	})(jQuery, window, document)
}), define("lib/store", ["lib/json"], function () {
	function o() {
		try {
			return r in t && t[r]
		} catch (e) {
			return !1
		}
	}
	var e = {},
	t = window,
	n = t.document,
	r = "localStorage",
	i = "__storejs__",
	s;
	e.disabled = !1,
	e.set = function (e, t) {},
	e.get = function (e) {},
	e.remove = function (e) {},
	e.clear = function () {},
	e.transact = function (t, n, r) {
		var i = e.get(t);
		r == null && (r = n, n = null),
		typeof i == "undefined" && (i = n || {}),
		r(i),
		e.set(t, i)
	},
	e.getAll = function () {},
	e.serialize = function (e) {
		return JSON.stringify(e)
	},
	e.deserialize = function (e) {
		if (typeof e != "string")
			return undefined;
		try {
			return JSON.parse(e)
		} catch (t) {
			return e || undefined
		}
	};
	if (o())
		s = t[r], e.set = function (t, n) {
			return n === undefined ? e.remove(t) : (s.setItem(t, e.serialize(n)), n)
		},
	e.get = function (t) {
		return e.deserialize(s.getItem(t))
	},
	e.remove = function (e) {
		s.removeItem(e)
	},
	e.clear = function () {
		s.clear()
	},
	e.getAll = function () {
		var t = {};
		for (var n = 0; n < s.length; ++n) {
			var r = s.key(n);
			t[r] = e.get(r)
		}
		return t
	};
	else if (n.documentElement.addBehavior) {
		var u,
		a;
		try {
			a = new ActiveXObject("htmlfile"),
			a.open(),
			a.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),
			a.close(),
			u = a.w.frames[0].document,
			s = u.createElement("div")
		} catch (f) {
			s = n.createElement("div"),
			u = n.body
		}
		function l(t) {
			return function () {
				var n = Array.prototype.slice.call(arguments, 0);
				n.unshift(s),
				u.appendChild(s),
				s.addBehavior("#default#userData"),
				s.load(r);
				var i = t.apply(e, n);
				return u.removeChild(s),
				i
			}
		}
		var c = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g");
		function h(e) {
			return e.replace(c, "___")
		}
		e.set = l(function (t, n, i) {
				return n = h(n),
				i === undefined ? e.remove(n) : (t.setAttribute(n, e.serialize(i)), t.save(r), i)
			}),
		e.get = l(function (t, n) {
				return n = h(n),
				e.deserialize(t.getAttribute(n))
			}),
		e.remove = l(function (e, t) {
				t = h(t),
				e.removeAttribute(t),
				e.save(r)
			}),
		e.clear = l(function (e) {
				var t = e.XMLDocument.documentElement.attributes;
				e.load(r);
				for (var n = 0, i; i = t[n]; n++)
					e.removeAttribute(i.name);
				e.save(r)
			}),
		e.getAll = l(function (t) {
				var n = t.XMLDocument.documentElement.attributes,
				r = {};
				for (var i = 0, s; s = n[i]; ++i) {
					var o = h(s.name);
					r[s.name] = e.deserialize(t.getAttribute(o))
				}
				return r
			})
	}
	try {
		e.set(i, i),
		e.get(i) != i && (e.disabled = !0),
		e.remove(i)
	} catch (f) {
		e.disabled = !0
	}
	e.enabled = !e.disabled,
	typeof module != "undefined" && typeof module != "function" ? module.exports = e : this.store = e,
	$.store = e
}), function (A, o) {
	function Y(e) {
		return e ? Object.prototype.toString.call(e) === "[object Array]" : !1
	}
	function bb(e) {
		return e ? Object.prototype.toString.call(e) === "[object Function]" : !1
	}
	function N(e, t) {
		for (var n = 0, r = t.length; n < r; n++)
			if (e === t[n])
				return n;
		return -1
	}
	function m(e, t) {
		if (Y(e)) {
			for (var n = 0, r = e.length; n < r; n++)
				if (t.call(e[n], n, e[n]) === !1)
					break
		} else
			for (n in e)
				if (e.hasOwnProperty(n) && t.call(e[n], n, e[n]) === !1)
					break
	}
	function B(e) {
		return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, "")
	}
	function ua(e, t, n) {
		return n = n === o ? "," : n,
		(n + t + n).indexOf(n + e + n) >= 0
	}
	function s(e, t) {
		return t = t || "px",
		e && /^\d+$/.test(e) ? e + t : e
	}
	function t(e) {
		var t;
		return e && (t = /(\d+)/.exec(e)) ? parseInt(t[1], 10) : 0
	}
	function C(e) {
		return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;")
	}
	function fa(e) {
		return e.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&amp;/g, "&")
	}
	function ga(e) {
		var t = e.split("-"),
		e = "";
		return m(t, function (t, n) {
			e += t > 0 ? n.charAt(0).toUpperCase() + n.substr(1) : n
		}),
		e
	}
	function va(e) {
		function t(e) {
			return e = parseInt(e, 10).toString(16).toUpperCase(),
			e.length > 1 ? e : "0" + e
		}
		return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/ig, function (e, n, r, i) {
			return "#" + t(n) + t(r) + t(i)
		})
	}
	function u(e, t) {
		var t = t === o ? "," : t,
		n = {},
		r = Y(e) ? e : e.split(t),
		i;
		return m(r, function (e, t) {
			if (i = /^(\d+)\.\.(\d+)$/.exec(t))
				for (var r = parseInt(i[1], 10); r <= parseInt(i[2], 10); r++)
					n[r.toString()] = !0;
			else
				n[t] = !0
		}),
		n
	}
	function Fa(e, t) {
		return Array.prototype.slice.call(e, t || 0)
	}
	function j(e, t) {
		return e === o ? t : e
	}
	function E(e, t, n) {
		n || (n = t, t = null);
		var r;
		if (t) {
			var i = function () {};
			i.prototype = t.prototype,
			r = new i,
			m(n, function (e, t) {
				r[e] = t
			})
		} else
			r = n;
		r.constructor = e,
		e.prototype = r,
		e.parent = t ? t.prototype : null
	}
	function cb(a) {
		var b;
		if (b = /\{[\s\S]*\}|\[[\s\S]*\]/.exec(a))
			a = b[0];
		b = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
		b.lastIndex = 0,
		b.test(a) && (a = a.replace(b, function (e) {
					return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
				}));
		if (/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
			return eval("(" + a + ")");
		throw "JSON parse error"
	}
	function Pb(e, t, n) {
		e.addEventListener ? e.addEventListener(t, n, db) : e.attachEvent && e.attachEvent("on" + t, n)
	}
	function wa(e, t, n) {
		e.removeEventListener ? e.removeEventListener(t, n, db) : e.detachEvent && e.detachEvent("on" + t, n)
	}
	function eb(e, t) {
		this.init(e, t)
	}
	function fb(e) {
		try {
			delete e[Z]
		} catch (t) {
			e.removeAttribute && e.removeAttribute(Z)
		}
	}
	function $(e, t, n) {
		if (t.indexOf(",") >= 0)
			m(t.split(","), function () {
				$(e, this, n)
			});
		else {
			var r = e[Z] || null;
			r || (e[Z] = ++gb, r = gb),
			v[r] === o && (v[r] = {});
			var i = v[r][t];
			i && i.length > 0 ? wa(e, t, i[0]) : (v[r][t] = [], v[r].el = e),
			i = v[r][t],
			i.length === 0 && (i[0] = function (t) {
				var n = t ? new eb(e, t) : o;
				m(i, function (t, r) {
					t > 0 && r && r.call(e, n)
				})
			}),
			N(n, i) < 0 && i.push(n),
			Pb(e, t, i[0])
		}
	}
	function ha(e, t, n) {
		if (t && t.indexOf(",") >= 0)
			m(t.split(","), function () {
				ha(e, this, n)
			});
		else {
			var r = e[Z] || null;
			if (r)
				if (t === o)
					r in v && (m(v[r], function (t, n) {
							t != "el" && n.length > 0 && wa(e, t, n[0])
						}), delete v[r], fb(e));
				else if (v[r]) {
					var i = v[r][t];
					if (i && i.length > 0) {
						n === o ? (wa(e, t, i[0]), delete v[r][t]) : (m(i, function (e, t) {
								e > 0 && t === n && i.splice(e, 1)
							}), i.length == 1 && (wa(e, t, i[0]), delete v[r][t]));
						var s = 0;
						m(v[r], function () {
							s++
						}),
						s < 2 && (delete v[r], fb(e))
					}
				}
		}
	}
	function hb(e, t) {
		if (t.indexOf(",") >= 0)
			m(t.split(","), function () {
				hb(e, this)
			});
		else {
			var n = e[Z] || null;
			if (n) {
				var r = v[n][t];
				v[n] && r && r.length > 0 && r[0]()
			}
		}
	}
	function Ga(e, t, n) {
		t = /^\d{2,}$/.test(t) ? t : t.toUpperCase().charCodeAt(0),
		$(e, "keydown", function (r) {
			r.ctrlKey && r.which == t && !r.shiftKey && !r.altKey && (n.call(e), r.stop())
		})
	}
	function aa(e) {
		for (var t = {}, n = /\s*([\w\-]+)\s*:([^;]*)(;|$)/g, r; r = n.exec(e); ) {
			var i = B(r[1].toLowerCase());
			r = B(va(r[2])),
			t[i] = r
		}
		return t
	}
	function H(e) {
		for (var t = {}, n = /\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g, r; r = n.exec(e); ) {
			var i = (r[1] || r[2] || r[4] || r[6]).toLowerCase();
			t[i] = (r[2] ? r[3] : r[4] ? r[5] : r[7]) || ""
		}
		return t
	}
	function Qb(e, t) {
		return e = /\s+class\s*=/.test(e) ? e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/, function (e, n, r, i) {
				return (" " + r + " ").indexOf(" " + t + " ") < 0 ? r === "" ? n + t + i : n + r + " " + t + i : e
			}) : e.substr(0, e.length - 1) + ' class="' + t + '">'
	}
	function Rb(e) {
		var t = "";
		return m(aa(e), function (e, n) {
			t += e + ":" + n + ";"
		}),
		t
	}
	function ia(e, t, n, r) {
		function i(e) {
			for (var e = e.split("/"), t = [], n = 0, r = e.length; n < r; n++) {
				var i = e[n];
				i == ".." ? t.length > 0 && t.pop() : i !== "" && i != "." && t.push(i)
			}
			return "/" + t.join("/")
		}
		function s(t, n) {
			if (e.substr(0, t.length) === t) {
				for (var i = [], o = 0; o < n; o++)
					i.push("..");
				return o = ".",
				i.length > 0 && (o += "/" + i.join("/")),
				r == "/" && (o += "/"),
				o + e.substr(t.length)
			}
			if (a = /^(.*)\//.exec(t))
				return s(a[1], ++n)
		}
		t = j(t, "").toLowerCase(),
		e.substr(0, 5) != "data:" && (e = e.replace(/([^:])\/\//g, "$1/"));
		if (N(t, ["absolute", "relative", "domain"]) < 0)
			return e;
		n = n || location.protocol + "//" + location.host;
		if (r === o)
			var u = location.pathname.match(/^(\/.*)\//), r = u ? u[1] : "";
		var a;
		if (a = /^(\w+:\/\/[^\/]*)/.exec(e)) {
			if (a[1] !== n)
				return e
		} else if (/^\w+:/.test(e))
			return e;
		return /^\//.test(e) ? e = n + i(e.substr(1)) : /^\w+:\/\//.test(e) || (e = n + i(r + "/" + e)),
		t === "relative" ? e = s(n + r, 0).substr(2) : t === "absolute" && e.substr(0, n.length) === n && (e = e.substr(n.length)),
		e
	}
	function S(e, t, n, r, i) {
		var n = n || "",
		r = j(r, !1),
		i = j(i, "	"),
		s = "xx-small,x-small,small,medium,large,x-large,xx-large".split(","),
		e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/ig, function (e, t, n, r) {
				return t + n.replace(/<(?:br|br\s[^>]*)>/ig, "\n") + r
			}),
		e = e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/ig, "</p>"),
		e = e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/ig, "$1<br />$2"),
		e = e.replace(/\u200B/g, ""),
		e = e.replace(/\u00A9/g, "&copy;"),
		o = {};
		t && (m(t, function (e, t) {
				for (var n = e.split(","), r = 0, i = n.length; r < i; r++)
					o[n[r]] = u(t)
			}), o.script || (e = e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/ig, "")), o.style || (e = e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/ig, "")));
		var a = [],
		e = e.replace(/([ \t\n\r]*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>([ \t\n\r]*)/g, function (e, u, l, p, v, y, w) {
				var u = u || "",
				l = l || "",
				E = p.toLowerCase(),
				S = v || "",
				p = y ? " " + y : "",
				w = w || "";
				if (t && !o[E])
					return "";
				p === "" && ib[E] && (p = " /"),
				jb[E] && (u && (u = " "), w && (w = " ")),
				Ha[E] && (l ? w = "\n" : u = "\n"),
				r && E == "br" && (w = "\n");
				if (kb[E] && !Ha[E])
					if (r) {
						l && a.length > 0 && a[a.length - 1] === E ? a.pop() : a.push(E),
						w = u = "\n",
						v = 0;
						for (y = l ? a.length : a.length - 1; v < y; v++)
							u += i, l || (w += i);
						p ? a.pop() : l || (w += i)
					} else
						u = w = "";
				if (S !== "") {
					var x = H(e);
					if (E === "font") {
						var T = {},
						C = "";
						m(x, function (e, t) {
							e === "color" && (T.color = t, delete x[e]),
							e === "size" && (T["font-size"] = s[parseInt(t, 10) - 1] || "", delete x[e]),
							e === "face" && (T["font-family"] = t, delete x[e]),
							e === "style" && (C = t)
						}),
						C && !/;$/.test(C) && (C += ";"),
						m(T, function (e, t) {
							t !== "" && (/\s/.test(t) && (t = "'" + t + "'"), C += e + ":" + t + ";")
						}),
						x.style = C
					}
					m(x, function (e, r) {
						Sb[e] && (x[e] = e),
						N(e, ["src", "href"]) >= 0 && (x[e] = ia(r, n)),
						(t && e !== "style" && !o[E]["*"] && !o[E][e] || E === "body" && e === "contenteditable" || /^kindeditor_\d+$/.test(e)) && delete x[e];
						if (e === "style" && r !== "") {
							var i = aa(r);
							m(i, function (e) {
								t && !o[E].style && !o[E]["." + e] && delete i[e]
							});
							var s = "";
							m(i, function (e, t) {
								s += e + ":" + t + ";"
							}),
							x.style = s
						}
					}),
					S = "",
					m(x, function (e, t) {
						e === "style" && t === "" || (t = t.replace(/"/g, "&quot;"), S += " " + e + '="' + t + '"')
					})
				}
				return E === "font" && (E = "span"),
				u + "<" + l + E + S + p + ">" + w
			}),
		e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/ig, function (e, t, n, r) {
				return t + n.replace(/\n/g, '<span id="__kindeditor_pre_newline__">\n') + r
			}),
		e = e.replace(/\n\s*\n/g, "\n"),
		e = e.replace(/<span id="__kindeditor_pre_newline__">\n/g, "\n");
		return B(e)
	}
	function lb(e, t) {
		return e = e.replace(/<meta[\s\S]*?>/ig, "").replace(/<![\s\S]*?>/ig, "").replace(/<style[^>]*>[\s\S]*?<\/style>/ig, "").replace(/<script[^>]*>[\s\S]*?<\/script>/ig, "").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/ig, "").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/ig, "").replace(/<xml>[\s\S]*?<\/xml>/ig, "").replace(/<(?:table|td)[^>]*>/ig, function (e) {
				return e.replace(/border-bottom:([#\w\s]+)/ig, "border:$1")
			}),
		S(e, t)
	}
	function mb(e) {
		return /\.(rm|rmvb)(\?|$)/i.test(e) ? "audio/x-pn-realaudio-plugin" : /\.(swf|flv)(\?|$)/i.test(e) ? "application/x-shockwave-flash" : "video/x-ms-asf-plugin"
	}
	function nb(e) {
		return H(unescape(e))
	}
	function Ia(e) {
		var t = "<embed ";
		return m(e, function (e, n) {
			t += e + '="' + n + '" '
		}),
		t += "/>",
		t
	}
	function ob(e, t) {
		var n = t.width,
		r = t.height,
		i = t.type || mb(t.src),
		s = Ia(t),
		o = "";
		return n > 0 && (o += "width:" + n + "px;"),
		r > 0 && (o += "height:" + r + "px;"),
		n = /realaudio/i.test(i) ? "ke-rm" : /flash/i.test(i) ? "ke-flash" : "ke-media",
		n = '<img class="' + n + '" src="' + e + '" ',
		o !== "" && (n += 'style="' + o + '" '),
		n += 'data-ke-tag="' + escape(s) + '" alt="" />',
		n
	}
	function xa(e, t) {
		if (e.nodeType == 9 && t.nodeType != 9)
			return !0;
		for (; t = t.parentNode; )
			if (t == e)
				return !0;
		return !1
	}
	function ya(e, t) {
		var t = t.toLowerCase(),
		n = null;
		if (!Tb && e.nodeName.toLowerCase() != "script") {
			var r = e.ownerDocument.createElement("div");
			r.appendChild(e.cloneNode(!1)),
			r = H(fa(r.innerHTML)),
			t in r && (n = r[t])
		} else
			try {
				n = e.getAttribute(t, 2)
			} catch (i) {
				n = e.getAttribute(t, 1)
			}
		return t === "style" && n !== null && (n = Rb(n)),
		n
	}
	function za(e, t) {
		function n(e) {
			return typeof e != "string" ? e : e.replace(/([^\w\-])/g, "\\$1")
		}
		function r(e, t) {
			return e === "*" || e.toLowerCase() === n(t.toLowerCase())
		}
		function i(e, t, n) {
			var i = [];
			return (e = (n.ownerDocument || n).getElementById(e.replace(/\\/g, ""))) && r(t, e.nodeName) && xa(n, e) && i.push(e),
			i
		}
		function s(e, t, n) {
			var i = n.ownerDocument || n,
			s = [],
			o,
			u,
			a;
			if (n.getElementsByClassName) {
				i = n.getElementsByClassName(e.replace(/\\/g, "")),
				o = 0;
				for (u = i.length; o < u; o++)
					a = i[o], r(t, a.nodeName) && s.push(a)
			} else if (i.querySelectorAll) {
				i = i.querySelectorAll((n.nodeName !== "#document" ? n.nodeName + " " : "") + t + "." + e),
				o = 0;
				for (u = i.length; o < u; o++)
					a = i[o], xa(n, a) && s.push(a)
			} else {
				i = n.getElementsByTagName(t),
				e = " " + e + " ",
				o = 0;
				for (u = i.length; o < u; o++)
					(a = i[o], a.nodeType == 1) && (t = a.className) && (" " + t + " ").indexOf(e) > -1 && s.push(a)
			}
			return s
		}
		function o(e, t, r, i) {
			for (var s = [], r = i.getElementsByTagName(r), o = 0, u = r.length; o < u; o++)
				i = r[o], i.nodeType == 1 && (t === null ? ya(i, e) !== null && s.push(i) : t === n(ya(i, e)) && s.push(i));
			return s
		}
		function u(e, t) {
			var n = [],
			u,
			a = (u = /^((?:\\.|[^.#\s\[<>])+)/.exec(e)) ? u[1] : "*";
			if (u = /#((?:[\w\-]|\\.)+)$/.exec(e))
				n = i(u[1], a, t);
			else if (u = /\.((?:[\w\-]|\\.)+)$/.exec(e))
				n = s(u[1], a, t);
			else if (u = /\[((?:[\w\-]|\\.)+)\]/.exec(e))
				n = o(u[1].toLowerCase(), null, a, t);
			else if (u = /\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(e)) {
				n = u[1].toLowerCase(),
				u = u[2];
				if (n === "id")
					a = i(u, a, t);
				else if (n === "class")
					a = s(u, a, t);
				else if (n === "name") {
					n = [],
					u = (t.ownerDocument || t).getElementsByName(u.replace(/\\/g, ""));
					for (var f, l = 0, c = u.length; l < c; l++)
						f = u[l], r(a, f.nodeName) && xa(t, f) && f.getAttributeNode("name") && n.push(f);
					a = n
				} else
					a = o(n, u, a, t);
				n = a
			} else {
				a = t.getElementsByTagName(a),
				f = 0;
				for (l = a.length; f < l; f++)
					u = a[f], u.nodeType == 1 && n.push(u)
			}
			return n
		}
		var a = e.split(",");
		if (a.length > 1) {
			var f = [];
			return m(a, function () {
				m(za(this, t), function () {
					N(this, f) < 0 && f.push(this)
				})
			}),
			f
		}
		for (var t = t || document, a = [], l, c = /((?:\\.|[^\s>])+|[\s>])/g; l = c.exec(e); )
			l[1] !== " " && a.push(l[1]);
		l = [];
		if (a.length == 1)
			return u(a[0], t);
		var c = !1,
		h,
		p,
		d,
		v,
		g,
		y,
		b,
		w,
		E,
		S;
		y = 0;
		for (lenth = a.length; y < lenth; y++)
			if (h = a[y], h === ">")
				c = !0;
			else {
				if (y > 0) {
					p = [],
					b = 0;
					for (E = l.length; b < E; b++) {
						v = l[b],
						d = u(h, v),
						w = 0;
						for (S = d.length; w < S; w++)
							g = d[w], c ? v === g.parentNode && p.push(g) : p.push(g)
					}
					l = p
				} else
					l = u(h, t);
				if (l.length === 0)
					return []
			}
		return l
	}
	function T(e) {
		return e ? e.ownerDocument || e.document || e : document
	}
	function U(e) {
		return e ? (e = T(e), e.parentWindow || e.defaultView) : A
	}
	function Ub(e, t) {
		if (e.nodeType == 1) {
			var n = T(e);
			try {
				e.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + t;
				var r = n.getElementById("__kindeditor_temp_tag__");
				r.parentNode.removeChild(r)
			} catch (i) {
				f(e).empty(),
				f("@" + t, n).each(function () {
					e.appendChild(this)
				})
			}
		}
	}
	function Ja(e, t, n) {
		l && z < 8 && t.toLowerCase() == "class" && (t = "className"),
		e.setAttribute(t, "" + n)
	}
	function Ka(e) {
		return !e || !e.nodeName ? "" : e.nodeName.toLowerCase()
	}
	function Vb(e, t) {
		var n = U(e),
		r = ga(t),
		i = "";
		return n.getComputedStyle ? (n = n.getComputedStyle(e, null), i = n[r] || n.getPropertyValue(t) || e.style[r]) : e.currentStyle && (i = e.currentStyle[r] || e.style[r]),
		i
	}
	function G(e) {
		return e = e || document,
		O ? e.body : e.documentElement
	}
	function ba(e) {
		var e = e || document,
		t;
		return l || La ? (t = G(e).scrollLeft, e = G(e).scrollTop) : (t = U(e).scrollX, e = U(e).scrollY), {
			x : t,
			y : e
		}
	}
	function D(e) {
		this.init(e)
	}
	function pb(e) {
		return e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset,
		e
	}
	function Ma(e, t, n) {
		function r(r, i, s) {
			var o = r.nodeValue.length,
			a;
			t && (a = r.cloneNode(!0), a = i > 0 ? a.splitText(i) : a, s < o && a.splitText(s - i));
			if (n) {
				var f = r;
				i > 0 && (f = r.splitText(i), e.setStart(r, i)),
				s < o && (r = f.splitText(s - i), e.setEnd(r, 0)),
				u.push(f)
			}
			return a
		}
		function i() {
			n && e.up().collapse(!0);
			for (var t = 0, r = u.length; t < r; t++) {
				var i = u[t];
				i.parentNode && i.parentNode.removeChild(i)
			}
		}
		function s(i, p) {
			for (var d = i.firstChild, v; d; ) {
				v = (new L(o)).selectNode(d),
				f = v.compareBoundaryPoints(ja, e),
				f >= 0 && l <= 0 && (l = v.compareBoundaryPoints(ka, e)),
				l >= 0 && c <= 0 && (c = v.compareBoundaryPoints(ca, e)),
				c >= 0 && h <= 0 && (h = v.compareBoundaryPoints(la, e));
				if (h >= 0)
					return !1;
				v = d.nextSibling;
				if (f > 0)
					if (d.nodeType == 1)
						if (l >= 0 && c <= 0)
							t && p.appendChild(d.cloneNode(!0)), n && u.push(d);
						else {
							var m;
							t && (m = d.cloneNode(!1), p.appendChild(m));
							if (s(d, m) === !1)
								return !1
						}
					else if (d.nodeType == 3 && (d = d == a.startContainer ? r(d, a.startOffset, d.nodeValue.length) : d == a.endContainer ? r(d, 0, a.endOffset) : r(d, 0, d.nodeValue.length), t))
						try {
							p.appendChild(d)
						} catch (y) {}

				d = v
			}
		}
		var o = e.doc,
		u = [],
		a = e.cloneRange().down(),
		f = -1,
		l = -1,
		c = -1,
		h = -1,
		p = e.commonAncestor(),
		d = o.createDocumentFragment();
		if (p.nodeType == 3)
			return p = r(p, e.startOffset, e.endOffset), t && d.appendChild(p), i(), t ? d : e;
		s(p, d),
		n && e.up().collapse(!0);
		for (var p = 0, v = u.length; p < v; p++) {
			var m = u[p];
			m.parentNode && m.parentNode.removeChild(m)
		}
		return t ? d : e
	}
	function ma(e, t) {
		for (var n = t; n; ) {
			var r = f(n);
			if (r.name == "marquee" || r.name == "select")
				return;
			n = n.parentNode
		}
		try {
			e.moveToElementText(t)
		} catch (i) {}

	}
	function qb(e, t) {
		var n = e.parentElement().ownerDocument,
		r = e.duplicate();
		r.collapse(t);
		var i = r.parentElement(),
		s = i.childNodes;
		if (s.length === 0)
			return {
				node : i.parentNode,
				offset : f(i).index()
			};
		var o = n,
		u = 0,
		a = -1,
		l = e.duplicate();
		ma(l, i);
		for (var c = 0, h = s.length; c < h; c++) {
			var p = s[c],
			a = l.compareEndPoints("StartToStart", r);
			if (a === 0)
				return {
					node : p.parentNode,
					offset : c
				};
			if (p.nodeType == 1) {
				var d = e.duplicate(),
				v,
				m = f(p),
				g = p;
				m.isControl() && (v = n.createElement("span"), m.after(v), g = v, u += m.text().replace(/\r\n|\n|\r/g, "").length),
				ma(d, g),
				l.setEndPoint("StartToEnd", d),
				a > 0 ? u += d.text.replace(/\r\n|\n|\r/g, "").length : u = 0,
				v && f(v).remove()
			} else
				p.nodeType == 3 && (l.moveStart("character", p.nodeValue.length), u += p.nodeValue.length);
			a < 0 && (o = p)
		}
		if (a < 0 && o.nodeType == 1)
			return {
				node : i,
				offset : f(i.lastChild).index() + 1
			};
		if (a > 0)
			for (; o.nextSibling && o.nodeType == 1; )
				o = o.nextSibling;
		l = e.duplicate(),
		ma(l, i),
		l.setEndPoint("StartToEnd", r),
		u -= l.text.replace(/\r\n|\n|\r/g, "").length;
		if (a > 0 && o.nodeType == 3)
			for (n = o.previousSibling; n && n.nodeType == 3; )
				u -= n.nodeValue.length, n = n.previousSibling;
		return {
			node : o,
			offset : u
		}
	}
	function rb(e, t) {
		var n = e.ownerDocument || e,
		r = n.body.createTextRange();
		if (n == e)
			return r.collapse(!0), r;
		if (e.nodeType == 1 && e.childNodes.length > 0) {
			var i = e.childNodes,
			s;
			t === 0 ? (s = i[0], i = !0) : (s = i[t - 1], i = !1);
			if (!s)
				return r;
			if (f(s).name === "head")
				return t === 1 && (i = !0), t === 2 && (i = !1), r.collapse(i), r;
			if (s.nodeType == 1) {
				var o = f(s),
				u;
				return o.isControl() && (u = n.createElement("span"), i ? o.before(u) : o.after(u), s = u),
				ma(r, s),
				r.collapse(i),
				u && f(u).remove(),
				r
			}
			e = s,
			t = i ? 0 : s.nodeValue.length
		}
		return n = n.createElement("span"),
		f(e).before(n),
		ma(r, n),
		r.moveStart("character", t),
		f(n).remove(),
		r
	}
	function sb(e) {
		function t(e) {
			f(e.node).name == "tr" && (e.node = e.node.cells[e.offset], e.offset = 0)
		}
		var n;
		if (l) {
			if (e.item)
				return n = T(e.item(0)), n = new L(n), n.selectNode(e.item(0)), n;
			n = e.parentElement().ownerDocument;
			var r = qb(e, !0),
			e = qb(e, !1);
			return t(r),
			t(e),
			n = new L(n),
			n.setStart(r.node, r.offset),
			n.setEnd(e.node, e.offset),
			n
		}
		return r = e.startContainer,
		n = r.ownerDocument || r,
		n = new L(n),
		n.setStart(r, e.startOffset),
		n.setEnd(e.endContainer, e.endOffset),
		n
	}
	function L(e) {
		this.init(e)
	}
	function Na(e) {
		return e.nodeName ? new L(e) : e.constructor === L ? e : sb(e)
	}
	function P(e, t, n) {
		try {
			e.execCommand(t, !1, n)
		} catch (r) {}

	}
	function tb(e, t) {
		var n = "";
		try {
			n = e.queryCommandValue(t)
		} catch (r) {}

		return typeof n != "string" && (n = ""),
		n
	}
	function Oa(e) {
		var t = U(e);
		return e.selection || t.getSelection()
	}
	function ub(e) {
		var t = {},
		n,
		r;
		return m(e, function (e, i) {
			n = e.split(",");
			for (var s = 0, o = n.length; s < o; s++)
				r = n[s], t[r] = i
		}),
		t
	}
	function Pa(e, t) {
		return vb(e, t, "*") || vb(e, t)
	}
	function vb(e, t, n) {
		n = n || e.name;
		if (e.type !== 1)
			return !1;
		t = ub(t);
		if (!t[n])
			return !1;
		for (var n = t[n].split(","), t = 0, r = n.length; t < r; t++) {
			var i = n[t];
			if (i === "*")
				return !0;
			var s = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(i),
			o = s[1] ? "css" : "attr",
			i = s[2],
			s = s[3] || "";
			if (s === "" && e[o](i) !== "")
				return !0;
			if (s !== "" && e[o](i) === s)
				return !0
		}
		return !1
	}
	function Qa(e, t) {
		e.type == 1 && (wb(e, t, "*"), wb(e, t))
	}
	function wb(e, t, n) {
		n = n || e.name;
		if (e.type === 1 && (t = ub(t), t[n])) {
			for (var n = t[n].split(","), t = !1, r = 0, i = n.length; r < i; r++) {
				var s = n[r];
				if (s === "*") {
					t = !0;
					break
				}
				var o = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(s),
				s = o[2];
				o[1] ? (s = ga(s), e[0].style[s] && (e[0].style[s] = "")) : e.removeAttr(s)
			}
			t && e.remove(!0)
		}
	}
	function Ra(e) {
		for (; e.first(); )
			e = e.first();
		return e
	}
	function da(e) {
		return e.type != 1 || e.isSingle() ? !1 : e.html().replace(/<[^>]+>/g, "") === ""
	}
	function Wb(e, t, n) {
		m(t, function (t, n) {
			t !== "style" && e.attr(t, n)
		}),
		m(n, function (t, n) {
			e.css(t, n)
		})
	}
	function na(e) {
		this.init(e)
	}
	function xb(e) {
		return e.nodeName && (e = T(e), e = Na(e).selectNodeContents(e.body).collapse(!1)),
		new na(e)
	}
	function Sa(e) {
		var n = e.moveEl,
		r = e.moveFn,
		i = e.clickEl || n,
		s = e.beforeDrag,
		u = [document];
		(e.iframeFix === o || e.iframeFix) && f("iframe").each(function () {
			if (!/^https?:\/\//.test(ia(this.src || "", "absolute"))) {
				var e;
				try {
					e = Ta(this)
				} catch (t) {}

				if (e) {
					var n = f(this).pos();
					f(e).data("pos-x", n.x),
					f(e).data("pos-y", n.y),
					u.push(e)
				}
			}
		}),
		i.mousedown(function (e) {
			function o(e) {
				e.preventDefault();
				var t = f(T(e.target)),
				n = Q((t.data("pos-x") || 0) + e.pageX - w),
				e = Q((t.data("pos-y") || 0) + e.pageY - E);
				r.call(i, p, v, m, y, n, e)
			}
			function a(e) {
				e.preventDefault()
			}
			function l(e) {
				e.preventDefault(),
				f(u).unbind("mousemove", o).unbind("mouseup", l).unbind("selectstart", a),
				h.releaseCapture && h.releaseCapture()
			}
			e.stopPropagation();
			var h = i.get(),
			p = t(n.css("left")),
			v = t(n.css("top")),
			m = n.width(),
			y = n.height(),
			w = e.pageX,
			E = e.pageY;
			s && s(),
			f(u).mousemove(o).mouseup(l).bind("selectstart", a),
			h.setCapture && h.setCapture()
		})
	}
	function R(e) {
		this.init(e)
	}
	function Ua(e) {
		return new R(e)
	}
	function Ta(e) {
		return e = f(e)[0],
		e.contentDocument || e.contentWindow.document
	}
	function Xb(e, t, n, r) {
		var i = [Va === "" ? "<html>" : '<html dir="' + Va + '">', '<head><meta charset="utf-8" /><title></title>', "<style>", "html {margin:0;padding:0;}", "body {margin:0;padding:5px;}", 'body, td {font:12px/1.5 "sans serif",tahoma,verdana,helvetica;}', "body, p, div {word-wrap: break-word;}", "p {margin:5px 0;}", "table {border-collapse:collapse;}", "img {border:0;}", "noscript {display:none;}", "table.ke-zeroborder td {border:1px dotted #AAA;}", "img.ke-flash {", "	border:1px solid #AAA;", "	background-image:url(" + e + "common/flash.gif);", "	background-position:center center;", "	background-repeat:no-repeat;", "	width:100px;", "	height:100px;", "}", "img.ke-rm {", "	border:1px solid #AAA;", "	background-image:url(" + e + "common/rm.gif);", "	background-position:center center;", "	background-repeat:no-repeat;", "	width:100px;", "	height:100px;", "}", "img.ke-media {", "	border:1px solid #AAA;", "	background-image:url(" + e + "common/media.gif);", "	background-position:center center;", "	background-repeat:no-repeat;", "	width:100px;", "	height:100px;", "}", "img.ke-anchor {", "	border:1px dashed #666;", "	width:16px;", "	height:16px;", "}", ".ke-script, .ke-noscript, .ke-display-none {", "	display:none;", "	font-size:0;", "	width:0;", "	height:0;", "}", ".ke-pagebreak {", "	border:1px dotted #AAA;", "	font-size:0;", "	height:2px;", "}", "</style>"];
		return Y(n) || (n = [n]),
		m(n, function (e, t) {
			t && i.push('<link href="' + t + '" rel="stylesheet" />')
		}),
		r && i.push("<style>" + r + "</style>"),
		i.push("</head><body " + (t ? 'class="' + t + '"' : "") + "></body></html>"),
		i.join("\n")
	}
	function oa(e, t) {
		if (e.hasVal()) {
			if (t === o) {
				var n = e.val();
				return n = n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/ig, "")
			}
			return e.val(t)
		}
		return e.html(t)
	}
	function pa(e) {
		this.init(e)
	}
	function yb(e) {
		return new pa(e)
	}
	function zb(e, t) {
		var n = this.get(e);
		n && !n.hasClass("ke-disabled") && t(n)
	}
	function Aa(e) {
		this.init(e)
	}
	function Ab(e) {
		return new Aa(e)
	}
	function qa(e) {
		this.init(e)
	}
	function Wa(e) {
		return new qa(e)
	}
	function ra(e) {
		this.init(e)
	}
	function Bb(e) {
		return new ra(e)
	}
	function Xa(e) {
		this.init(e)
	}
	function sa(e) {
		this.init(e)
	}
	function Cb(e) {
		return new sa(e)
	}
	function Ya(e, t) {
		var n = document.getElementsByTagName("head")[0] || (O ? document.body : document.documentElement),
		r = document.createElement("script");
		n.appendChild(r),
		r.src = e,
		r.charset = "utf-8",
		r.onload = r.onreadystatechange = function () {
			if (!this.readyState || this.readyState === "loaded")
				t && t(), r.onload = r.onreadystatechange = null, n.removeChild(r)
		}
	}
	function Db(e) {
		var t = e.indexOf("?");
		return t > 0 ? e.substr(0, t) : e
	}
	function Za(e) {
		for (var t = document.getElementsByTagName("head")[0] || (O ? document.body : document.documentElement), n = document.createElement("link"), r = Db(ia(e, "absolute")), i = f('link[rel="stylesheet"]', t), s = 0, o = i.length; s < o; s++)
			if (Db(ia(i[s].href, "absolute")) === r)
				return;
		t.appendChild(n),
		n.href = e,
		n.rel = "stylesheet"
	}
	function Eb(e, t) {
		if (e === o)
			return V;
		if (!t)
			return V[e];
		V[e] = t
	}
	function Fb(e) {
		var t,
		n = "core";
		if (t = /^(\w+)\.(\w+)$/.exec(e))
			n = t[1], e = t[2];
		return {
			ns : n,
			key : e
		}
	}
	function Gb(e, t) {
		t = t === o ? f.options.langType : t;
		if (typeof e == "string") {
			if (!M[t])
				return "no language";
			var n = e.length - 1;
			return e.substr(n) === "." ? M[t][e.substr(0, n)] : (n = Fb(e), M[t][n.ns][n.key])
		}
		m(e, function (e, n) {
			var r = Fb(e);
			M[t] || (M[t] = {}),
			M[t][r.ns] || (M[t][r.ns] = {}),
			M[t][r.ns][r.key] = n
		})
	}
	function Ba(e, t) {
		if (!e.collapsed) {
			var e = e.cloneRange().up(),
			n = e.startContainer,
			r = e.startOffset;
			if (W || e.isControl())
				if ((n = f(n.childNodes[r])) && n.name == "img" && t(n))
					return n
		}
	}
	function Yb() {
		var e = this;
		f(e.edit.doc).contextmenu(function (n) {
			e.menu && e.hideMenu();
			if (e.useContextmenu) {
				if (e._contextmenus.length !== 0) {
					var r = 0,
					i = [];
					for (m(e._contextmenus, function () {
							this.title == "-" ? i.push(this) : this.cond && this.cond() && (i.push(this), this.width && this.width > r) && (r = this.width)
						}); i.length > 0 && i[0].title == "-"; )
						i.shift();
					for (; i.length > 0 && i[i.length - 1].title == "-"; )
						i.pop();
					var s = null;
					m(i, function (e) {
						this.title == "-" && s.title == "-" && delete i[e],
						s = this
					});
					if (i.length > 0) {
						n.preventDefault();
						var o = f(e.edit.iframe).pos(),
						u = Wa({
								x : o.x + n.clientX,
								y : o.y + n.clientY,
								width : r,
								css : {
									visibility : "hidden"
								},
								shadowMode : e.shadowMode
							});
						m(i, function () {
							this.title && u.addItem(this)
						});
						var o = G(u.doc),
						l = u.div.height();
						n.clientY + l >= o.clientHeight - 100 && u.pos(u.x, t(u.y) - l),
						u.div.css("visibility", "visible"),
						e.menu = u
					}
				}
			} else
				n.preventDefault()
		})
	}
	function Zb() {
		function e(e) {
			for (e = f(e.commonAncestor()); e; ) {
				if (e.type == 1 && !e.isStyle())
					break;
				e = e.parent()
			}
			return e.name
		}
		var t = this,
		n = t.edit.doc,
		r = t.newlineTag;
		if ((!l || r === "br") && (!ea || !(z < 3 && r !== "p")) && !(La && z < 9)) {
			var i = u("h1,h2,h3,h4,h5,h6,pre,li"),
			s = u("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");
			f(n).keydown(function (o) {
				if (!(o.which != 13 || o.shiftKey || o.ctrlKey || o.altKey)) {
					t.cmd.selection();
					var u = e(t.cmd.range);
					u == "marquee" || u == "select" || (r === "br" && !i[u] ? (o.preventDefault(), t.insertHtml("<br />" + (l && z < 9 ? "" : "​"))) : s[u] || P(n, "formatblock", "<p>"))
				}
			}),
			f(n).keyup(function (i) {
				if (!(i.which != 13 || i.shiftKey || i.ctrlKey || i.altKey) && r != "br")
					if (ea) {
						var i = t.cmd.commonAncestor("p"),
						o = t.cmd.commonAncestor("a");
						o && o.text() == "" && (o.remove(!0), t.cmd.range.selectNodeContents(i[0]).collapse(!0), t.cmd.select())
					} else if (t.cmd.selection(), i = e(t.cmd.range), i != "marquee" && i != "select")
						if (s[i] || P(n, "formatblock", "<p>"), i = t.cmd.commonAncestor("div")) {
							for (var o = f("<p></p>"), u = i[0].firstChild; u; ) {
								var l = u.nextSibling;
								o.append(u),
								u = l
							}
							i.before(o),
							i.remove(),
							t.cmd.range.selectNodeContents(o[0]),
							t.cmd.select()
						}
			})
		}
	}
	function $b() {
		var e = this,
		t = e.edit.doc;
		f(t).keydown(function (n) {
			if (n.which == 9)
				if (n.preventDefault(), e.afterTab)
					e.afterTab.call(e, n);
				else {
					var n = e.cmd,
					r = n.range;
					r.shrink(),
					r.collapsed && r.startContainer.nodeType == 1 && (r.insertNode(f("@&nbsp;", t)[0]), n.select()),
					e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")
				}
		})
	}
	function ac() {
		var e = this;
		f(e.edit.textarea[0], e.edit.win).focus(function (t) {
			e.afterFocus && e.afterFocus.call(e, t)
		}).blur(function (t) {
			e.afterBlur && e.afterBlur.call(e, t)
		})
	}
	function X(e) {
		return B(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/ig, ""))
	}
	function $a(e) {
		return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/ig, "")
	}
	function Hb(e, t) {
		if (e.length === 0)
			e.push(t);
		else {
			var n = e[e.length - 1];
			X(t.html) !== X(n.html) && e.push(t)
		}
	}
	function Ib(e, t) {
		var n = this.edit,
		r = n.doc.body,
		i,
		s;
		if (e.length === 0)
			return this;
		n.designMode ? (i = this.cmd.range, s = i.createBookmark(!0), s.html = r.innerHTML) : s = {
			html : r.innerHTML
		},
		Hb(t, s);
		var o = e.pop();
		return X(s.html) === X(o.html) && e.length > 0 && (o = e.pop()),
		n.designMode ? (n.html(o.html), o.start && (i.moveToBookmark(o), this.select())) : f(r).html(X(o.html)),
		this
	}
	function ta(e) {
		function t(e, t) {
			ta.prototype[e] === o && (n[e] = t),
			n.options[e] = t
		}
		var n = this;
		n.options = {},
		m(e, function (n) {
			t(n, e[n])
		}),
		m(f.options, function (e, r) {
			n[e] === o && t(e, r)
		});
		var r = f(n.srcElement || "<textarea/>");
		n.width || (n.width = r[0].style.width || r.width()),
		n.height || (n.height = r[0].style.height || r.height()),
		t("width", j(n.width, n.minWidth)),
		t("height", j(n.height, n.minHeight)),
		t("width", s(n.width)),
		t("height", s(n.height)),
		bc && (!cc || z < 534) && (n.designMode = !1),
		n.srcElement = r,
		n.initContent = "",
		n.plugin = {},
		n.isCreated = !1,
		n.isLoading = !1,
		n._handlers = {},
		n._contextmenus = [],
		n._undoStack = [],
		n._redoStack = [],
		n._calledPlugins = {},
		n._firstAddBookmark = !0,
		n.menu = n.contextmenu = null,
		n.dialogs = []
	}
	function Jb(e, t) {
		function n(e) {
			return m(V, function (t, n) {
				n.call(e, KindEditor)
			}),
			e.create()
		}
		t = t || {},
		t.basePath = j(t.basePath, f.basePath),
		t.themesPath = j(t.themesPath, t.basePath + "themes/"),
		t.langPath = j(t.langPath, t.basePath + "lang/"),
		t.pluginsPath = j(t.pluginsPath, t.basePath + "plugins/");
		if (j(t.loadStyleMode, f.options.loadStyleMode)) {
			var r = j(t.themeType, f.options.themeType);
			Za(t.themesPath + "default/default.css"),
			Za(t.themesPath + r + "/" + r + ".css")
		}
		if ((r = f(e)) && r.length !== 0) {
			if (r.length > 1)
				return r.each(function () {
					Jb(this, t)
				}), _instances[0];
			t.srcElement = r[0];
			var i = new ta(t);
			return _instances.push(i),
			M[i.langType] ? n(i) : (Ya(i.langPath + i.langType + ".js?ver=" + encodeURIComponent(f.DEBUG ? Ca : Da), function () {
					n(i)
				}), i)
		}
	}
	function Kb(e, t) {
		f(e).each(function (e, n) {
			f.each(_instances, function (e, r) {
				if (r && r.srcElement[0] == n)
					return t.call(r, e, r), !1
			})
		})
	}
	if (!A.KindEditor) {
		A.console || (A.console = {}),
		console.log || (console.log = function () {});
		var Da = "4.1.7 (2013-04-21)",
		q = navigator.userAgent.toLowerCase(),
		l = q.indexOf("msie") > -1 && q.indexOf("opera") == -1,
		ea = q.indexOf("gecko") > -1 && q.indexOf("khtml") == -1,
		W = q.indexOf("applewebkit") > -1,
		La = q.indexOf("opera") > -1,
		bc = q.indexOf("mobile") > -1,
		cc = /ipad|iphone|ipod/.test(q),
		O = document.compatMode != "CSS1Compat",
		z = (q = /(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(q)) ? q[1] : "0",
		Ca = (new Date).getTime(),
		Q = Math.round,
		f = {
			DEBUG : !1,
			VERSION : Da,
			IE : l,
			GECKO : ea,
			WEBKIT : W,
			OPERA : La,
			V : z,
			TIME : Ca,
			each : m,
			isArray : Y,
			isFunction : bb,
			inArray : N,
			inString : ua,
			trim : B,
			addUnit : s,
			removeUnit : t,
			escape : C,
			unescape : fa,
			toCamel : ga,
			toHex : va,
			toMap : u,
			toArray : Fa,
			undef : j,
			invalidUrl : function (e) {
				return !e || /[<>"]/.test(e)
			},
			addParam : function (e, t) {
				return e.indexOf("?") >= 0 ? e + "&" + t : e + "?" + t
			},
			extend : E,
			json : cb
		},
		jb = u("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),
		kb = u("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul"),
		ib = u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),
		Lb = u("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),
		dc = u("img,table,input,textarea,button"),
		Ha = u("pre,style,script"),
		Ea = u("html,head,body,td,tr,table,ol,ul,li");
		u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");
		var Sb = u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),
		Mb = u("input,button,textarea,select");
		f.basePath = function () {
			for (var e = document.getElementsByTagName("script"), t, n = 0, r = e.length; n < r; n++)
				if (t = e[n].src || "", /kindeditor[\w\-\.]*\.js/.test(t))
					return t.substring(0, t.lastIndexOf("/") + 1);
			return ""
		}
		(),
		f.options = {
			designMode : !0,
			fullscreenMode : !1,
			filterMode : !0,
			wellFormatMode : !0,
			shadowMode : !0,
			loadStyleMode : !0,
			basePath : f.basePath,
			themesPath : f.basePath + "themes/",
			langPath : f.basePath + "lang/",
			pluginsPath : f.basePath + "plugins/",
			themeType : "default",
			langType : "zh_CN",
			urlType : "",
			newlineTag : "p",
			resizeType : 2,
			syncType : "form",
			pasteType : 2,
			dialogAlignType : "page",
			useContextmenu : !0,
			fullscreenShortcut : !1,
			bodyClass : "ke-content",
			indentChar : "	",
			cssPath : "",
			cssData : "",
			minWidth : 650,
			minHeight : 100,
			minChangeSize : 50,
			zIndex : 811213,
			items : ["source", "|", "undo", "redo", "|", "preview", "print", "template", "code", "cut", "copy", "paste", "plainpaste", "wordpaste", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "subscript", "superscript", "clearhtml", "quickformat", "selectall", "|", "fullscreen", "/", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "lineheight", "removeformat", "|", "image", "multiimage", "flash", "media", "insertfile", "table", "hr", "emoticons", "baidumap", "pagebreak", "anchor", "link", "unlink", "|", "about"],
			noDisableItems : ["source", "fullscreen"],
			colorTable : [["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]],
			fontSizeTable : ["9px", "10px", "12px", "14px", "16px", "18px", "24px", "32px"],
			htmlTags : {
				font : ["id", "class", "color", "size", "face", ".background-color"],
				span : ["id", "class", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".line-height"],
				div : ["id", "class", "align", ".border", ".margin", ".padding", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".background", ".font-style", ".text-decoration", ".vertical-align", ".margin-left"],
				table : ["id", "class", "border", "cellspacing", "cellpadding", "width", "height", "align", "bordercolor", ".padding", ".margin", ".border", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".background", ".width", ".height", ".border-collapse"],
				"td,th" : ["id", "class", "align", "valign", "width", "height", "colspan", "rowspan", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".background", ".border"],
				a : ["id", "class", "href", "target", "name"],
				embed : ["id", "class", "src", "width", "height", "type", "loop", "autostart", "quality", ".width", ".height", "align", "allowscriptaccess"],
				img : ["id", "class", "src", "width", "height", "border", "alt", "title", "align", ".width", ".height", ".border"],
				"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6" : ["id", "class", "align", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".text-indent", ".margin-left"],
				pre : ["id", "class"],
				hr : ["id", "class", ".page-break-after"],
				"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del" : ["id", "class"],
				iframe : ["id", "class", "src", "frameborder", "width", "height", ".width", ".height"]
			},
			layout : '<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'
		};
		var db = !1,
		Nb = u("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),
		q = u("33..40"),
		ab = {};
		m(Nb, function (e, t) {
			ab[e] = t
		}),
		m(q, function (e, t) {
			ab[e] = t
		});
		var ec = "altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");
		E(eb, {
			init : function (e, t) {
				var n = this,
				r = e.ownerDocument || e.document || e;
				n.event = t,
				m(ec, function (e, r) {
					n[r] = t[r]
				}),
				n.target || (n.target = n.srcElement || r),
				n.target.nodeType === 3 && (n.target = n.target.parentNode),
				!n.relatedTarget && n.fromElement && (n.relatedTarget = n.fromElement === n.target ? n.toElement : n.fromElement);
				if (n.pageX == null && n.clientX != null) {
					var i = r.documentElement,
					r = r.body;
					n.pageX = n.clientX + (i && i.scrollLeft || r && r.scrollLeft || 0) - (i && i.clientLeft || r && r.clientLeft || 0),
					n.pageY = n.clientY + (i && i.scrollTop || r && r.scrollTop || 0) - (i && i.clientTop || r && r.clientTop || 0)
				}
				!n.which && (n.charCode || n.charCode === 0 ? n.charCode : n.keyCode) && (n.which = n.charCode || n.keyCode),
				!n.metaKey && n.ctrlKey && (n.metaKey = n.ctrlKey),
				!n.which && n.button !== o && (n.which = n.button & 1 ? 1 : n.button & 2 ? 3 : n.button & 4 ? 2 : 0);
				switch (n.which) {
				case 186:
					n.which = 59;
					break;
				case 187:
				case 107:
				case 43:
					n.which = 61;
					break;
				case 189:
				case 45:
					n.which = 109;
					break;
				case 42:
					n.which = 106;
					break;
				case 47:
					n.which = 111;
					break;
				case 78:
					n.which = 110
				}
				n.which >= 96 && n.which <= 105 && (n.which -= 48)
			},
			preventDefault : function () {
				var e = this.event;
				e.preventDefault && e.preventDefault(),
				e.returnValue = !1
			},
			stopPropagation : function () {
				var e = this.event;
				e.stopPropagation && e.stopPropagation(),
				e.cancelBubble = !0
			},
			stop : function () {
				this.preventDefault(),
				this.stopPropagation()
			}
		});
		var Z = "kindeditor_" + Ca,
		gb = 0,
		v = {};
		l && A.attachEvent("onunload", function () {
			m(v, function (e, t) {
				t.el && ha(t.el)
			})
		}),
		f.ctrl = Ga,
		f.ready = function (e) {
			function t() {
				i || (i = !0, e(KindEditor))
			}
			function n() {
				if (!i) {
					try {
						document.documentElement.doScroll("left")
					} catch (e) {
						setTimeout(n, 100);
						return
					}
					t()
				}
			}
			function r() {
				document.readyState === "complete" && t()
			}
			var i = !1;
			if (document.addEventListener)
				$(document, "DOMContentLoaded", t);
			else if (document.attachEvent) {
				$(document, "readystatechange", r);
				var s = !1;
				try {
					s = A.frameElement == null
				} catch (o) {}

				document.documentElement.doScroll && s && n()
			}
			$(A, "load", t)
		},
		f.formatUrl = ia,
		f.formatHtml = S,
		f.getCssList = aa,
		f.getAttrList = H,
		f.mediaType = mb,
		f.mediaAttrs = nb,
		f.mediaEmbed = Ia,
		f.mediaImg = ob,
		f.clearMsWord = lb,
		f.tmpl = function (e, t) {
			var n = new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + e.replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");
			return t ? n(t) : n
		},
		q = document.createElement("div"),
		q.setAttribute("className", "t");
		var Tb = q.className !== "t";
		f.query = function (e, t) {
			var n = za(e, t);
			return n.length > 0 ? n[0] : null
		},
		f.queryAll = za,
		E(D, {
			init : function (e) {
				for (var e = Y(e) ? e : [e], t = 0, n = 0, r = e.length; n < r; n++)
					e[n] && (this[n] = e[n].constructor === D ? e[n][0] : e[n], t++);
				this.length = t,
				this.doc = T(this[0]),
				this.name = Ka(this[0]),
				this.type = this.length > 0 ? this[0].nodeType : null,
				this.win = U(this[0])
			},
			each : function (e) {
				for (var t = 0; t < this.length; t++)
					if (e.call(this[t], t, this[t]) === !1)
						break;
				return this
			},
			bind : function (e, t) {
				return this.each(function () {
					$(this, e, t)
				}),
				this
			},
			unbind : function (e, t) {
				return this.each(function () {
					ha(this, e, t)
				}),
				this
			},
			fire : function (e) {
				return this.length < 1 ? this : (hb(this[0], e), this)
			},
			hasAttr : function (e) {
				return this.length < 1 ? !1 : !!ya(this[0], e)
			},
			attr : function (e, t) {
				var n = this;
				return e === o ? H(n.outer()) : typeof e == "object" ? (m(e, function (e, t) {
						n.attr(e, t)
					}), n) : t === o ? (t = n.length < 1 ? null : ya(n[0], e), t === null ? "" : t) : (n.each(function () {
						Ja(this, e, t)
					}), n)
			},
			removeAttr : function (e) {
				return this.each(function () {
					var t = e;
					l && z < 8 && t.toLowerCase() == "class" && (t = "className"),
					Ja(this, t, ""),
					this.removeAttribute(t)
				}),
				this
			},
			get : function (e) {
				return this.length < 1 ? null : this[e || 0]
			},
			eq : function (e) {
				return this.length < 1 ? null : this[e] ? new D(this[e]) : null
			},
			hasClass : function (e) {
				return this.length < 1 ? !1 : ua(e, this[0].className, " ")
			},
			addClass : function (e) {
				return this.each(function () {
					ua(e, this.className, " ") || (this.className = B(this.className + " " + e))
				}),
				this
			},
			removeClass : function (e) {
				return this.each(function () {
					ua(e, this.className, " ") && (this.className = B(this.className.replace(RegExp("(^|\\s)" + e + "(\\s|$)"), " ")))
				}),
				this
			},
			html : function (e) {
				return e === o ? this.length < 1 || this.type != 1 ? "" : S(this[0].innerHTML) : (this.each(function () {
						Ub(this, e)
					}), this)
			},
			text : function () {
				return this.length < 1 ? "" : l ? this[0].innerText : this[0].textContent
			},
			hasVal : function () {
				return this.length < 1 ? !1 : !!Mb[Ka(this[0])]
			},
			val : function (e) {
				return e === o ? this.length < 1 ? "" : this.hasVal() ? this[0].value : this.attr("value") : (this.each(function () {
						Mb[Ka(this)] ? this.value = e : Ja(this, "value", e)
					}), this)
			},
			css : function (e, t) {
				var n = this;
				return e === o ? aa(n.attr("style")) : typeof e == "object" ? (m(e, function (e, t) {
						n.css(e, t)
					}), n) : t === o ? n.length < 1 ? "" : n[0].style[ga(e)] || Vb(n[0], e) || "" : (n.each(function () {
						this.style[ga(e)] = t
					}), n)
			},
			width : function (e) {
				return e === o ? this.length < 1 ? 0 : this[0].offsetWidth : this.css("width", s(e))
			},
			height : function (e) {
				return e === o ? this.length < 1 ? 0 : this[0].offsetHeight : this.css("height", s(e))
			},
			opacity : function (e) {
				return this.each(function () {
					this.style.opacity === o ? this.style.filter = e == 1 ? "" : "alpha(opacity=" + e * 100 + ")" : this.style.opacity = e == 1 ? "" : e
				}),
				this
			},
			data : function (e, t) {
				return e = "kindeditor_data_" + e,
				t === o ? this.length < 1 ? null : this[0][e] : (this.each(function () {
						this[e] = t
					}), this)
			},
			pos : function () {
				var e = this[0],
				t = 0,
				n = 0;
				if (e)
					if (e.getBoundingClientRect)
						e = e.getBoundingClientRect(), n = ba(this.doc), t = e.left + n.x, n = e.top + n.y;
					else
						for (; e; )
							t += e.offsetLeft, n += e.offsetTop, e = e.offsetParent;
				return {
					x : Q(t),
					y : Q(n)
				}
			},
			clone : function (e) {
				return this.length < 1 ? new D([]) : new D(this[0].cloneNode(e))
			},
			append : function (e) {
				return this.each(function () {
					this.appendChild && this.appendChild(f(e)[0])
				}),
				this
			},
			appendTo : function (e) {
				return this.each(function () {
					f(e)[0].appendChild(this)
				}),
				this
			},
			before : function (e) {
				return this.each(function () {
					this.parentNode.insertBefore(f(e)[0], this)
				}),
				this
			},
			after : function (e) {
				return this.each(function () {
					this.nextSibling ? this.parentNode.insertBefore(f(e)[0], this.nextSibling) : this.parentNode.appendChild(f(e)[0])
				}),
				this
			},
			replaceWith : function (e) {
				var t = [];
				return this.each(function (n, r) {
					ha(r);
					var i = f(e)[0];
					r.parentNode.replaceChild(i, r),
					t.push(i)
				}),
				f(t)
			},
			empty : function () {
				return this.each(function (e, t) {
					for (var n = t.firstChild; n; ) {
						if (!t.parentNode)
							break;
						var r = n.nextSibling;
						n.parentNode.removeChild(n),
						n = r
					}
				}),
				this
			},
			remove : function (e) {
				var t = this;
				return t.each(function (n, r) {
					if (r.parentNode) {
						ha(r);
						if (e)
							for (var i = r.firstChild; i; ) {
								var s = i.nextSibling;
								r.parentNode.insertBefore(i, r),
								i = s
							}
						r.parentNode.removeChild(r),
						delete t[n]
					}
				}),
				t.length = 0,
				t
			},
			show : function (e) {
				return e === o && (e = this._originDisplay || ""),
				this.css("display") != "none" ? this : this.css("display", e)
			},
			hide : function () {
				return this.length < 1 ? this : (this._originDisplay = this[0].style.display, this.css("display", "none"))
			},
			outer : function () {
				if (this.length < 1)
					return "";
				var e = this.doc.createElement("div");
				return e.appendChild(this[0].cloneNode(!0)),
				S(e.innerHTML)
			},
			isSingle : function () {
				return !!ib[this.name]
			},
			isInline : function () {
				return !!jb[this.name]
			},
			isBlock : function () {
				return !!kb[this.name]
			},
			isStyle : function () {
				return !!Lb[this.name]
			},
			isControl : function () {
				return !!dc[this.name]
			},
			contains : function (e) {
				return this.length < 1 ? !1 : xa(this[0], f(e)[0])
			},
			parent : function () {
				if (this.length < 1)
					return null;
				var e = this[0].parentNode;
				return e ? new D(e) : null
			},
			children : function () {
				if (this.length < 1)
					return new D([]);
				for (var e = [], t = this[0].firstChild; t; )
					(t.nodeType != 3 || B(t.nodeValue) !== "") && e.push(t), t = t.nextSibling;
				return new D(e)
			},
			first : function () {
				var e = this.children();
				return e.length > 0 ? e.eq(0) : null
			},
			last : function () {
				var e = this.children();
				return e.length > 0 ? e.eq(e.length - 1) : null
			},
			index : function () {
				if (this.length < 1)
					return -1;
				for (var e = -1, t = this[0]; t; )
					e++, t = t.previousSibling;
				return e
			},
			prev : function () {
				if (this.length < 1)
					return null;
				var e = this[0].previousSibling;
				return e ? new D(e) : null
			},
			next : function () {
				if (this.length < 1)
					return null;
				var e = this[0].nextSibling;
				return e ? new D(e) : null
			},
			scan : function (e, t) {
				function n(r) {
					for (r = t ? r.firstChild : r.lastChild; r; ) {
						var i = t ? r.nextSibling : r.previousSibling;
						if (e(r) === !1)
							return !1;
						if (n(r) === !1)
							return !1;
						r = i
					}
				}
				if (!(this.length < 1))
					return t = t === o ? !0 : t, n(this[0]), this
			}
		}),
		m("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","), function (e, t) {
			D.prototype[t] = function (e) {
				return e ? this.bind(t, e) : this.fire(t)
			}
		}),
		q = f,
		f = function (e, t) {
			function n(e) {
				return e[0] || (e = []),
				new D(e)
			}
			if (e !== o && e !== null) {
				if (typeof e == "string") {
					t && (t = f(t)[0]);
					var r = e.length;
					e.charAt(0) === "@" && (e = e.substr(1));
					if (e.length !== r || /<.+>/.test(e)) {
						var r = (t ? t.ownerDocument || t : document).createElement("div"),
						i = [];
						r.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + e;
						for (var s = 0, u = r.childNodes.length; s < u; s++) {
							var a = r.childNodes[s];
							a.id != "__kindeditor_temp_tag__" && i.push(a)
						}
						return n(i)
					}
					return n(za(e, t))
				}
				return e && e.constructor === D ? e : (e.toArray && (e = e.toArray()), Y(e) ? n(e) : n(Fa(arguments)))
			}
		},
		m(q, function (e, t) {
			f[e] = t
		}),
		f.NodeClass = D,
		A.KindEditor = f;
		var ka = 0,
		ja = 1,
		ca = 2,
		la = 3,
		Ob = 0;
		E(L, {
			init : function (e) {
				this.startContainer = e,
				this.startOffset = 0,
				this.endContainer = e,
				this.endOffset = 0,
				this.collapsed = !0,
				this.doc = e
			},
			commonAncestor : function () {
				function e(e) {
					for (var t = []; e; )
						t.push(e), e = e.parentNode;
					return t
				}
				for (var t = e(this.startContainer), n = e(this.endContainer), r = 0, i = t.length, s = n.length, o, u; ++r; )
					if (o = t[i - r], u = n[s - r], !o || !u || o !== u)
						break;
				return t[i - r + 1]
			},
			setStart : function (e, t) {
				var n = this.doc;
				return this.startContainer = e,
				this.startOffset = t,
				this.endContainer === n && (this.endContainer = e, this.endOffset = t),
				pb(this)
			},
			setEnd : function (e, t) {
				var n = this.doc;
				return this.endContainer = e,
				this.endOffset = t,
				this.startContainer === n && (this.startContainer = e, this.startOffset = t),
				pb(this)
			},
			setStartBefore : function (e) {
				return this.setStart(e.parentNode || this.doc, f(e).index())
			},
			setStartAfter : function (e) {
				return this.setStart(e.parentNode || this.doc, f(e).index() + 1)
			},
			setEndBefore : function (e) {
				return this.setEnd(e.parentNode || this.doc, f(e).index())
			},
			setEndAfter : function (e) {
				return this.setEnd(e.parentNode || this.doc, f(e).index() + 1)
			},
			selectNode : function (e) {
				return this.setStartBefore(e).setEndAfter(e)
			},
			selectNodeContents : function (e) {
				var t = f(e);
				return t.type == 3 || t.isSingle() ? this.selectNode(e) : (t = t.children(), t.length > 0 ? this.setStartBefore(t[0]).setEndAfter(t[t.length - 1]) : this.setStart(e, 0).setEnd(e, 0))
			},
			collapse : function (e) {
				return e ? this.setEnd(this.startContainer, this.startOffset) : this.setStart(this.endContainer, this.endOffset)
			},
			compareBoundaryPoints : function (e, t) {
				var n = this.get(),
				r = t.get();
				if (!l)
					return n.compareBoundaryPoints(e, r);
				var i = {};
				i[ka] = "StartToStart",
				i[ja] = "EndToStart",
				i[ca] = "EndToEnd",
				i[la] = "StartToEnd",
				n = n.compareEndPoints(i[e], r);
				if (n !== 0)
					return n;
				var s,
				o,
				u,
				a;
				if (e === ka || e === la)
					s = this.startContainer, u = this.startOffset;
				if (e === ja || e === ca)
					s = this.endContainer, u = this.endOffset;
				if (e === ka || e === ja)
					o = t.startContainer, a = t.startOffset;
				if (e === ca || e === la)
					o = t.endContainer, a = t.endOffset;
				if (s === o)
					return s = u - a, s > 0 ? 1 : s < 0 ? -1 : 0;
				for (n = o; n && n.parentNode !== s; )
					n = n.parentNode;
				if (n)
					return f(n).index() >= u ? -1 : 1;
				for (n = s; n && n.parentNode !== o; )
					n = n.parentNode;
				if (n)
					return f(n).index() >= a ? 1 : -1;
				if ((n = f(o).next()) && n.contains(s))
					return 1;
				if ((n = f(s).next()) && n.contains(o))
					return -1
			},
			cloneRange : function () {
				return (new L(this.doc)).setStart(this.startContainer, this.startOffset).setEnd(this.endContainer, this.endOffset)
			},
			toString : function () {
				var e = this.get();
				return (l ? e.text : e.toString()).replace(/\r\n|\n|\r/g, "")
			},
			cloneContents : function () {
				return Ma(this, !0, !1)
			},
			deleteContents : function () {
				return Ma(this, !1, !0)
			},
			extractContents : function () {
				return Ma(this, !0, !0)
			},
			insertNode : function (e) {
				var t = this.startContainer,
				n = this.startOffset,
				r = this.endContainer,
				i = this.endOffset,
				s,
				o,
				u,
				a = 1;
				return e.nodeName.toLowerCase() === "#document-fragment" && (s = e.firstChild, o = e.lastChild, a = e.childNodes.length),
				t.nodeType == 1 ? (u = t.childNodes[n]) ? (t.insertBefore(e, u), t === r && (i += a)) : t.appendChild(e) : t.nodeType == 3 && (n === 0 ? (t.parentNode.insertBefore(e, t), t.parentNode === r && (i += a)) : n >= t.nodeValue.length ? t.nextSibling ? t.parentNode.insertBefore(e, t.nextSibling) : t.parentNode.appendChild(e) : (u = n > 0 ? t.splitText(n) : t, t.parentNode.insertBefore(e, u), t === r && (r = u, i -= n))),
				s ? this.setStartBefore(s).setEndAfter(o) : this.selectNode(e),
				this.compareBoundaryPoints(ca, this.cloneRange().setEnd(r, i)) >= 1 ? this : this.setEnd(r, i)
			},
			surroundContents : function (e) {
				return e.appendChild(this.extractContents()),
				this.insertNode(e).selectNode(e)
			},
			isControl : function () {
				var e = this.startContainer,
				t = this.startOffset,
				n = this.endContainer,
				r = this.endOffset;
				return e.nodeType == 1 && e === n && t + 1 === r && f(e.childNodes[t]).isControl()
			},
			get : function (e) {
				var t = this.doc;
				if (!l) {
					t = t.createRange();
					try {
						t.setStart(this.startContainer, this.startOffset),
						t.setEnd(this.endContainer, this.endOffset)
					} catch (n) {}

					return t
				}
				return e && this.isControl() ? (t = t.body.createControlRange(), t.addElement(this.startContainer.childNodes[this.startOffset]), t) : (e = this.cloneRange().down(), t = t.body.createTextRange(), t.setEndPoint("StartToStart", rb(e.startContainer, e.startOffset)), t.setEndPoint("EndToStart", rb(e.endContainer, e.endOffset)), t)
			},
			html : function () {
				return f(this.cloneContents()).outer()
			},
			down : function () {
				function e(e, n, r) {
					if (e.nodeType == 1 && (e = f(e).children(), e.length !== 0)) {
						var i,
						s,
						o,
						u;
						n > 0 && (i = e.eq(n - 1)),
						n < e.length && (s = e.eq(n)),
						i && i.type == 3 && (o = i[0], u = o.nodeValue.length),
						s && s.type == 3 && (o = s[0], u = 0),
						o && (r ? t.setStart(o, u) : t.setEnd(o, u))
					}
				}
				var t = this;
				return e(t.startContainer, t.startOffset, !0),
				e(t.endContainer, t.endOffset, !1),
				t
			},
			up : function () {
				function e(e, n, r) {
					e.nodeType == 3 && (n === 0 ? r ? t.setStartBefore(e) : t.setEndBefore(e) : n == e.nodeValue.length && (r ? t.setStartAfter(e) : t.setEndAfter(e)))
				}
				var t = this;
				return e(t.startContainer, t.startOffset, !0),
				e(t.endContainer, t.endOffset, !1),
				t
			},
			enlarge : function (e) {
				function t(t, r, i) {
					t = f(t);
					if (!(t.type == 3 || Ea[t.name] || !e && t.isBlock()))
						if (r === 0) {
							for (; !t.prev(); ) {
								r = t.parent();
								if (!r || Ea[r.name] || !e && r.isBlock())
									break;
								t = r
							}
							i ? n.setStartBefore(t[0]) : n.setEndBefore(t[0])
						} else if (r == t.children().length) {
							for (; !t.next(); ) {
								r = t.parent();
								if (!r || Ea[r.name] || !e && r.isBlock())
									break;
								t = r
							}
							i ? n.setStartAfter(t[0]) : n.setEndAfter(t[0])
						}
				}
				var n = this;
				return n.up(),
				t(n.startContainer, n.startOffset, !0),
				t(n.endContainer, n.endOffset, !1),
				n
			},
			shrink : function () {
				for (var e, t = this.collapsed; this.startContainer.nodeType == 1 && (e = this.startContainer.childNodes[this.startOffset]) && e.nodeType == 1 && !f(e).isSingle(); )
					this.setStart(e, 0);
				if (t)
					return this.collapse(t);
				for (; this.endContainer.nodeType == 1 && this.endOffset > 0 && (e = this.endContainer.childNodes[this.endOffset - 1]) && e.nodeType == 1 && !f(e).isSingle(); )
					this.setEnd(e, e.childNodes.length);
				return this
			},
			createBookmark : function (e) {
				var t,
				n = f('<span style="display:none;"></span>', this.doc)[0];
				return n.id = "__kindeditor_bookmark_start_" + Ob++ + "__",
				this.collapsed || (t = n.cloneNode(!0), t.id = "__kindeditor_bookmark_end_" + Ob++ + "__"),
				t && this.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),
				this.insertNode(n).setStartAfter(n), {
					start : e ? "#" + n.id : n,
					end : t ? e ? "#" + t.id : t : null
				}
			},
			moveToBookmark : function (e) {
				var t = this.doc,
				n = f(e.start, t),
				e = e.end ? f(e.end, t) : null;
				return !n || n.length < 1 ? this : (this.setStartBefore(n[0]), n.remove(), e && e.length > 0 ? (this.setEndBefore(e[0]), e.remove()) : this.collapse(!0), this)
			},
			dump : function () {
				console.log("--------------------"),
				console.log(this.startContainer.nodeType == 3 ? this.startContainer.nodeValue : this.startContainer, this.startOffset),
				console.log(this.endContainer.nodeType == 3 ? this.endContainer.nodeValue : this.endContainer, this.endOffset)
			}
		}),
		f.RangeClass = L,
		f.range = Na,
		f.START_TO_START = ka,
		f.START_TO_END = ja,
		f.END_TO_END = ca,
		f.END_TO_START = la,
		E(na, {
			init : function (e) {
				var t = e.doc;
				this.doc = t,
				this.win = U(t),
				this.sel = Oa(t),
				this.range = e
			},
			selection : function (e) {
				var t = this.doc,
				n;
				n = Oa(t);
				var r;
				try {
					r = n.rangeCount > 0 ? n.getRangeAt(0) : n.createRange()
				} catch (i) {}

				return n = l && (!r || !r.item && r.parentElement().ownerDocument !== t) ? null : r,
				this.sel = Oa(t),
				n ? (this.range = Na(n), f(this.range.startContainer).name == "html" && this.range.selectNodeContents(t.body).collapse(!1), this) : (e && this.range.selectNodeContents(t.body).collapse(!1), this)
			},
			select : function (e) {
				var e = j(e, !0),
				t = this.sel,
				n = this.range.cloneRange().shrink(),
				r = n.startContainer,
				i = n.startOffset,
				s = T(r),
				o = this.win,
				u,
				a = !1;
				if (e && r.nodeType == 1 && n.collapsed) {
					if (l) {
						t = f("<span>&nbsp;</span>", s),
						n.insertNode(t[0]),
						u = s.body.createTextRange();
						try {
							u.moveToElementText(t[0])
						} catch (c) {}

						return u.collapse(!1),
						u.select(),
						t.remove(),
						o.focus(),
						this
					}
					W && (e = r.childNodes, f(r).isInline() || i > 0 && f(e[i - 1]).isInline() || e[i] && f(e[i]).isInline()) && (n.insertNode(s.createTextNode("​")), a = !0)
				}
				if (l)
					try {
						u = n.get(!0),
						u.select()
					} catch (h) {}

				else
					a && n.collapse(!1), u = n.get(!0), t.removeAllRanges(), t.addRange(u), s !== document && (n = f(u.endContainer).pos(), o.scrollTo(n.x, n.y));
				return o.focus(),
				this
			},
			wrap : function (e) {
				var t = this.range,
				n;
				n = f(e, this.doc);
				if (t.collapsed)
					return t.shrink(), t.insertNode(n[0]).selectNodeContents(n[0]), this;
				if (n.isBlock()) {
					for (var r = e = n.clone(!0); r.first(); )
						r = r.first();
					return r.append(t.extractContents()),
					t.insertNode(e[0]).selectNode(e[0]),
					this
				}
				t.enlarge();
				var i = t.createBookmark(),
				e = t.commonAncestor(),
				s = !1;
				return f(e).scan(function (e) {
					if (!s && e == i.start)
						s = !0;
					else if (s) {
						if (e == i.end)
							return !1;
						var t = f(e),
						r;
						e : {
							for (r = t; r && r.name != "body"; ) {
								if (Ha[r.name] || r.name == "div" && r.hasClass("ke-script")) {
									r = !0;
									break e
								}
								r = r.parent()
							}
							r = !1
						}
						if (!r && t.type == 3 && B(e.nodeValue).length > 0) {
							for (var o; (o = t.parent()) && o.isStyle() && o.children().length == 1; )
								t = o;
							o = n,
							o = o.clone(!0);
							if (t.type == 3)
								Ra(o).append(t.clone(!1)), t.replaceWith(o);
							else {
								for (var e = t, u; (u = t.first()) && u.children().length == 1; )
									t = u;
								u = t.first();
								for (t = t.doc.createDocumentFragment(); u; )
									t.appendChild(u[0]), u = u.next();
								u = e.clone(!0),
								r = Ra(u);
								for (var a = u, l = !1; o; ) {
									for (; a; )
										a.name === o.name && (Wb(a, o.attr(), o.css()), l = !0), a = a.first();
									l || r.append(o.clone(!1)),
									l = !1,
									o = o.first()
								}
								o = u,
								t.firstChild && Ra(o).append(t),
								e.replaceWith(o)
							}
						}
					}
				}),
				t.moveToBookmark(i),
				this
			},
			split : function (e, t) {
				for (var n = this.range, r = n.doc, i = n.cloneRange().collapse(e), s = i.startContainer, o = i.startOffset, u = s.nodeType == 3 ? s.parentNode : s, a = !1, l; u && u.parentNode; ) {
					l = f(u);
					if (t) {
						if (!l.isStyle())
							break;
						if (!Pa(l, t))
							break
					} else if (Ea[l.name])
						break;
					a = !0,
					u = u.parentNode
				}
				return a && (r = r.createElement("span"), n.cloneRange().collapse(!e).insertNode(r), e ? i.setStartBefore(u.firstChild).setEnd(s, o) : i.setStart(s, o).setEndAfter(u.lastChild), s = i.extractContents(), o = s.firstChild, a = s.lastChild, e ? (i.insertNode(s), n.setStartAfter(a).setEndBefore(r)) : (u.appendChild(s), n.setStartBefore(r).setEndBefore(o)), i = r.parentNode, i == n.endContainer && (u = f(r).prev(), s = f(r).next(), u && s && u.type == 3 && s.type == 3 ? n.setEnd(u[0], u[0].nodeValue.length) : e || n.setEnd(n.endContainer, n.endOffset - 1)), i.removeChild(r)),
				this
			},
			remove : function (e) {
				var t = this.doc,
				n = this.range;
				n.enlarge();
				if (n.startOffset === 0) {
					for (var r = f(n.startContainer), i; (i = r.parent()) && i.isStyle() && i.children().length == 1; )
						r = i;
					n.setStart(r[0], 0),
					r = f(n.startContainer),
					r.isBlock() && Qa(r, e),
					(r = r.parent()) && r.isBlock() && Qa(r, e)
				}
				if (n.collapsed)
					return this.split(!0, e), t = n.startContainer, r = n.startOffset, r > 0 && (i = f(t.childNodes[r - 1])) && da(i) && (i.remove(), n.setStart(t, r - 1)), (r = f(t.childNodes[r])) && da(r) && r.remove(), da(t) && (n.startBefore(t), t.remove()), n.collapse(!0), this;
				this.split(!0, e),
				this.split(!1, e);
				var s = t.createElement("span"),
				o = t.createElement("span");
				n.cloneRange().collapse(!1).insertNode(o),
				n.cloneRange().collapse(!0).insertNode(s);
				var u = [],
				a = !1;
				f(n.commonAncestor()).scan(function (e) {
					if (!a && e == s)
						a = !0;
					else {
						if (e == o)
							return !1;
						a && u.push(e)
					}
				}),
				f(s).remove(),
				f(o).remove(),
				t = n.startContainer,
				r = n.startOffset,
				i = n.endContainer;
				var l = n.endOffset;
				if (r > 0) {
					var c = f(t.childNodes[r - 1]);
					c && da(c) && (c.remove(), n.setStart(t, r - 1), t == i && n.setEnd(i, l - 1)),
					(r = f(t.childNodes[r])) && da(r) && (r.remove(), t == i && n.setEnd(i, l - 1))
				}
				return (t = f(i.childNodes[n.endOffset])) && da(t) && t.remove(),
				t = n.createBookmark(!0),
				m(u, function (t, n) {
					Qa(f(n), e)
				}),
				n.moveToBookmark(t),
				this
			},
			commonNode : function (e) {
				function t(t) {
					for (var n = t; t; ) {
						if (Pa(f(t), e))
							return f(t);
						t = t.parentNode
					}
					for (; n && (n = n.lastChild); )
						if (Pa(f(n), e))
							return f(n);
					return null
				}
				var n = this.range,
				r = n.endContainer,
				n = n.endOffset,
				i = r.nodeType == 3 || n === 0 ? r : r.childNodes[n - 1],
				s = t(i);
				if (s)
					return s;
				if (i.nodeType == 1 || r.nodeType == 3 && n === 0)
					if (r = f(i).prev())
						return t(r);
				return null
			},
			commonAncestor : function (e) {
				function t(t) {
					for (; t; ) {
						if (t.nodeType == 1 && t.tagName.toLowerCase() === e)
							return t;
						t = t.parentNode
					}
					return null
				}
				var n = this.range,
				r = n.startContainer,
				i = n.startOffset,
				s = n.endContainer,
				n = n.endOffset,
				s = s.nodeType == 3 || n === 0 ? s : s.childNodes[n - 1],
				r = t(r.nodeType == 3 || i === 0 ? r : r.childNodes[i - 1]),
				i = t(s);
				return r && i && r === i ? f(r) : null
			},
			state : function (e) {
				var t = this.doc,
				n = !1;
				try {
					n = t.queryCommandState(e)
				} catch (r) {}

				return n
			},
			val : function (e) {
				var t = this.doc,
				e = e.toLowerCase(),
				n = "";
				return e === "fontfamily" || e === "fontname" ? (n = tb(t, "fontname"), n = n.replace(/['"]/g, ""), n.toLowerCase()) : e === "formatblock" ? (n = tb(t, e), n === "" && (e = this.commonNode({
								"h1,h2,h3,h4,h5,h6,p,div,pre,address" : "*"
							})) && (n = e.name), n === "Normal" && (n = "p"), n.toLowerCase()) : e === "fontsize" ? ((e = this.commonNode({
								"*" : ".font-size"
							})) && (n = e.css("font-size")), n.toLowerCase()) : e === "forecolor" ? ((e = this.commonNode({
								"*" : ".color"
							})) && (n = e.css("color")), n = va(n), n === "" && (n = "default"), n.toLowerCase()) : e === "hilitecolor" ? ((e = this.commonNode({
								"*" : ".background-color"
							})) && (n = e.css("background-color")), n = va(n), n === "" && (n = "default"), n.toLowerCase()) : n
			},
			toggle : function (e, t) {
				return this.commonNode(t) ? this.remove(t) : this.wrap(e),
				this.select()
			},
			bold : function () {
				return this.toggle("<strong></strong>", {
					span : ".font-weight=bold",
					strong : "*",
					b : "*"
				})
			},
			italic : function () {
				return this.toggle("<em></em>", {
					span : ".font-style=italic",
					em : "*",
					i : "*"
				})
			},
			underline : function () {
				return this.toggle("<u></u>", {
					span : ".text-decoration=underline",
					u : "*"
				})
			},
			strikethrough : function () {
				return this.toggle("<s></s>", {
					span : ".text-decoration=line-through",
					s : "*"
				})
			},
			forecolor : function (e) {
				return this.toggle('<span style="color:' + e + ';"></span>', {
					span : ".color=" + e,
					font : "color"
				})
			},
			hilitecolor : function (e) {
				return this.toggle('<span style="background-color:' + e + ';"></span>', {
					span : ".background-color=" + e
				})
			},
			fontsize : function (e) {
				return this.toggle('<span style="font-size:' + e + ';"></span>', {
					span : ".font-size=" + e,
					font : "size"
				})
			},
			fontname : function (e) {
				return this.fontfamily(e)
			},
			fontfamily : function (e) {
				return this.toggle('<span style="font-family:' + e + ';"></span>', {
					span : ".font-family=" + e,
					font : "face"
				})
			},
			removeformat : function () {
				var e = {
					"*" : ".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"
				};
				return m(Lb, function (t) {
					e[t] = "*"
				}),
				this.remove(e),
				this.select()
			},
			inserthtml : function (e, t) {
				function n(e, t) {
					var t = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + t,
					n = e.get();
					n.item ? n.item(0).outerHTML = t : n.pasteHTML(t);
					var r = e.doc.getElementById("__kindeditor_temp_tag__");
					r.parentNode.removeChild(r),
					n = sb(n),
					e.setEnd(n.endContainer, n.endOffset),
					e.collapse(!1),
					i.select(!1)
				}
				function r(e, t) {
					var n = e.doc,
					r = n.createDocumentFragment();
					f("@" + t, n).each(function () {
						r.appendChild(this)
					}),
					e.deleteContents(),
					e.insertNode(r),
					e.collapse(!1),
					i.select(!1)
				}
				var i = this,
				s = i.range;
				if (e === "")
					return i;
				if (l && t) {
					try {
						n(s, e)
					} catch (o) {
						r(s, e)
					}
					return i
				}
				return r(s, e),
				i
			},
			hr : function () {
				return this.inserthtml("<hr />")
			},
			print : function () {
				return this.win.print(),
				this
			},
			insertimage : function (e, t, n, r, i, s) {
				return t = j(t, ""),
				j(i, 0),
				e = '<img src="' + C(e) + '" data-ke-src="' + C(e) + '" ',
				n && (e += 'width="' + C(n) + '" '),
				r && (e += 'height="' + C(r) + '" '),
				t && (e += 'title="' + C(t) + '" '),
				s && (e += 'align="' + C(s) + '" '),
				e += 'alt="' + C(t) + '" ',
				e += "/>",
				this.inserthtml(e)
			},
			createlink : function (e, t) {
				var n = this.doc,
				r = this.range;
				this.select();
				var i = this.commonNode({
						a : "*"
					});
				i && !r.isControl() && (r.selectNode(i.get()), this.select()),
				i = '<a href="' + C(e) + '" data-ke-src="' + C(e) + '" ',
				t && (i += ' target="' + C(t) + '"');
				if (r.collapsed)
					return i += ">" + C(e) + "</a>", this.inserthtml(i);
				if (r.isControl()) {
					var s = f(r.startContainer.childNodes[r.startOffset]);
					return i += "></a>",
					s.after(f(i, n)),
					s.next().append(s),
					r.selectNode(s[0]),
					this.select()
				}
				return P(n, "createlink", "__kindeditor_temp_url__"),
				f('a[href="__kindeditor_temp_url__"]', n).each(function () {
					f(this).attr("href", e).attr("data-ke-src", e),
					t ? f(this).attr("target", t) : f(this).removeAttr("target")
				}),
				this
			},
			unlink : function () {
				var e = this.doc,
				t = this.range;
				this.select();
				if (t.collapsed) {
					var n = this.commonNode({
							a : "*"
						});
					n && (t.selectNode(n.get()), this.select()),
					P(e, "unlink", null),
					W && f(t.startContainer).name === "img" && (e = f(t.startContainer).parent(), e.name === "a" && e.remove(!0))
				} else
					P(e, "unlink", null);
				return this
			}
		}),
		m("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","), function (e, t) {
			na.prototype[t] = function (e) {
				return this.select(),
				P(this.doc, t, e),
				(!l || N(t, "formatblock,selectall,insertorderedlist,insertunorderedlist".split(",")) >= 0) && this.selection(),
				this
			}
		}),
		m("cut,copy,paste".split(","), function (e, t) {
			na.prototype[t] = function () {
				if (!this.doc.queryCommandSupported(t))
					throw "not supported";
				return this.select(),
				P(this.doc, t, null),
				this
			}
		}),
		f.CmdClass = na,
		f.cmd = xb,
		E(R, {
			init : function (e) {
				var n = this;
				n.name = e.name || "",
				n.doc = e.doc || document,
				n.win = U(n.doc),
				n.x = s(e.x),
				n.y = s(e.y),
				n.z = e.z,
				n.width = s(e.width),
				n.height = s(e.height),
				n.div = f('<div style="display:block;"></div>'),
				n.options = e,
				n._alignEl = e.alignEl,
				n.width && n.div.css("width", n.width),
				n.height && n.div.css("height", n.height),
				n.z && n.div.css({
					position : "absolute",
					left : n.x,
					top : n.y,
					"z-index" : n.z
				}),
				n.z && (n.x === o || n.y === o) && n.autoPos(n.width, n.height),
				e.cls && n.div.addClass(e.cls),
				e.shadowMode && n.div.addClass("ke-shadow"),
				e.css && n.div.css(e.css),
				e.src ? f(e.src).replaceWith(n.div) : f(n.doc.body).append(n.div),
				e.html && n.div.html(e.html);
				if (e.autoScroll)
					if (l && z < 7 || O) {
						var r = ba();
						f(n.win).bind("scroll", function () {
							var e = ba(),
							i = e.x - r.x,
							e = e.y - r.y;
							n.pos(t(n.x) + i, t(n.y) + e, !1)
						})
					} else
						n.div.css("position", "fixed")
			},
			pos : function (e, t, n) {
				return n = j(n, !0),
				e !== null && (e = e < 0 ? 0 : s(e), this.div.css("left", e), n) && (this.x = e),
				t !== null && (t = t < 0 ? 0 : s(t), this.div.css("top", t), n) && (this.y = t),
				this
			},
			autoPos : function (e, n) {
				var r = t(e) || 0,
				i = t(n) || 0,
				s = ba();
				if (this._alignEl) {
					var o = f(this._alignEl),
					u = o.pos(),
					r = Q(o[0].clientWidth / 2 - r / 2),
					i = Q(o[0].clientHeight / 2 - i / 2);
					x = r < 0 ? u.x : u.x + r,
					y = i < 0 ? u.y : u.y + i
				} else
					u = G(this.doc), x = Q(s.x + (u.clientWidth - r) / 2), y = Q(s.y + (u.clientHeight - i) / 2);
				return l && z < 7 || O || (x -= s.x, y -= s.y),
				this.pos(x, y)
			},
			remove : function () {
				var e = this;
				return (l && z < 7 || O) && f(e.win).unbind("scroll"),
				e.div.remove(),
				m(e, function (t) {
					e[t] = null
				}),
				this
			},
			show : function () {
				return this.div.show(),
				this
			},
			hide : function () {
				return this.div.hide(),
				this
			},
			draggable : function (e) {
				var t = this,
				e = e || {};
				return e.moveEl = t.div,
				e.moveFn = function (e, n, r, i, s, o) {
					(e += s) < 0 && (e = 0),
					(n += o) < 0 && (n = 0),
					t.pos(e, n)
				},
				Sa(e),
				t
			}
		}),
		f.WidgetClass = R,
		f.widget = Ua;
		var Va = "";
		if (q = document.getElementsByTagName("html"))
			Va = q[0].dir;
		E(pa, R, {
			init : function (e) {
				function t() {
					var t = Ta(n.iframe);
					t.open(),
					u && (t.domain = document.domain),
					t.write(Xb(r, i, s, o)),
					t.close(),
					n.win = n.iframe[0].contentWindow,
					n.doc = t;
					var a = xb(t);
					n.afterChange(function () {
						a.selection()
					}),
					W && f(t).click(function (e) {
						f(e.target).name === "img" && (a.selection(!0), a.range.selectNode(e.target), a.select())
					}),
					l && (n._mousedownHandler = function () {
						var e = a.range.cloneRange();
						e.shrink(),
						e.isControl() && n.blur()
					}, f(document).mousedown(n._mousedownHandler), f(t).keydown(function (e) {
							if (e.which == 8) {
								a.selection();
								var t = a.range;
								t.isControl() && (t.collapse(!0), f(t.startContainer.childNodes[t.startOffset]).remove(), e.preventDefault())
							}
						})),
					n.cmd = a,
					n.html(oa(n.srcElement)),
					l ? (t.body.disabled = !0, t.body.contentEditable = !0, t.body.removeAttribute("disabled")) : t.designMode = "on",
					e.afterCreate && e.afterCreate.call(n)
				}
				var n = this;
				pa.parent.init.call(n, e),
				n.srcElement = f(e.srcElement),
				n.div.addClass("ke-edit"),
				n.designMode = j(e.designMode, !0),
				n.beforeGetHtml = e.beforeGetHtml,
				n.beforeSetHtml = e.beforeSetHtml,
				n.afterSetHtml = e.afterSetHtml;
				var r = j(e.themesPath, ""),
				i = e.bodyClass,
				s = e.cssPath,
				o = e.cssData,
				u = location.host.replace(/:\d+/, "") !== document.domain,
				a = "document.open();" + (u ? 'document.domain="' + document.domain + '";' : "") + "document.close();",
				a = l ? ' src="javascript:void(function(){' + encodeURIComponent(a) + '}())"' : "";
				n.iframe = f('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"' + a + "></iframe>").css("width", "100%"),
				n.textarea = f('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width", "100%"),
				n.width && n.setWidth(n.width),
				n.height && n.setHeight(n.height),
				n.designMode ? n.textarea.hide() : n.iframe.hide(),
				u && n.iframe.bind("load", function () {
					n.iframe.unbind("load"),
					l ? t() : setTimeout(t, 0)
				}),
				n.div.append(n.iframe),
				n.div.append(n.textarea),
				n.srcElement.hide(),
				!u && t()
			},
			setWidth : function (e) {
				return this.div.css("width", s(e)),
				this
			},
			setHeight : function (e) {
				e = s(e),
				this.div.css("height", e),
				this.iframe.css("height", e);
				if (l && z < 8 || O)
					e = s(t(e) - 2);
				return this.textarea.css("height", e),
				this
			},
			remove : function () {
				var e = this.doc;
				f(e.body).unbind(),
				f(e).unbind(),
				f(this.win).unbind(),
				this._mousedownHandler && f(document).unbind("mousedown", this._mousedownHandler),
				oa(this.srcElement, this.html()),
				this.srcElement.show(),
				e.write(""),
				this.iframe.unbind(),
				this.textarea.unbind(),
				pa.parent.remove.call(this)
			},
			html : function (e, t) {
				var n = this.doc;
				return this.designMode ? (n = n.body, e === o ? (e = t ? "<!doctype html><html>" + n.parentNode.innerHTML + "</html>" : n.innerHTML, this.beforeGetHtml && (e = this.beforeGetHtml(e)), ea && e == "<br />" && (e = ""), e) : (this.beforeSetHtml && (e = this.beforeSetHtml(e)), l && z >= 9 && (e = e.replace(/(<.*?checked=")checked(".*>)/ig, "$1$2")), f(n).html(e), this.afterSetHtml && this.afterSetHtml(), this)) : e === o ? this.textarea.val() : (this.textarea.val(e), this)
			},
			design : function (e) {
				return (e === o ? !this.designMode : e) ? this.designMode || (e = this.html(), this.designMode = !0, this.html(e), this.textarea.hide(), this.iframe.show()) : this.designMode && (e = this.html(), this.designMode = !1, this.html(e), this.iframe.hide(), this.textarea.show()),
				this.focus()
			},
			focus : function () {
				return this.designMode ? this.win.focus() : this.textarea[0].focus(),
				this
			},
			blur : function () {
				if (l) {
					var e = f('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />', this.div);
					this.div.append(e),
					e[0].focus(),
					e.remove()
				} else
					this.designMode ? this.win.blur() : this.textarea[0].blur();
				return this
			},
			afterChange : function (e) {
				function t(t) {
					setTimeout(function () {
						e(t)
					}, 1)
				}
				var n = this.doc,
				r = n.body;
				return f(n).keyup(function (t) {
					!t.ctrlKey && !t.altKey && ab[t.which] && e(t)
				}),
				f(n).mouseup(e).contextmenu(e),
				f(this.win).blur(e),
				f(r).bind("paste", t),
				f(r).bind("cut", t),
				this
			}
		}),
		f.EditClass = pa,
		f.edit = yb,
		f.iframeDoc = Ta,
		E(Aa, R, {
			init : function (e) {
				function t(e) {
					e = f(e);
					if (e.hasClass("ke-outline"))
						return e;
					if (e.hasClass("ke-toolbar-icon"))
						return e.parent()
				}
				function n(e, n) {
					var r = t(e.target);
					r && !r.hasClass("ke-disabled") && !r.hasClass("ke-selected") && r[n]("ke-on")
				}
				var r = this;
				Aa.parent.init.call(r, e),
				r.disableMode = j(e.disableMode, !1),
				r.noDisableItemMap = u(j(e.noDisableItems, [])),
				r._itemMap = {},
				r.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove", function (e) {
					e.preventDefault()
				}).attr("unselectable", "on"),
				r.div.mouseover(function (e) {
					n(e, "addClass")
				}).mouseout(function (e) {
					n(e, "removeClass")
				}).click(function (e) {
					var n = t(e.target);
					n && !n.hasClass("ke-disabled") && r.options.click.call(this, e, n.attr("data-name"))
				})
			},
			get : function (e) {
				return this._itemMap[e] ? this._itemMap[e] : this._itemMap[e] = f("span.ke-icon-" + e, this.div).parent()
			},
			select : function (e) {
				return zb.call(this, e, function (e) {
					e.addClass("ke-selected")
				}),
				self
			},
			unselect : function (e) {
				return zb.call(this, e, function (e) {
					e.removeClass("ke-selected").removeClass("ke-on")
				}),
				self
			},
			enable : function (e) {
				if (e = e.get ? e : this.get(e))
					e.removeClass("ke-disabled"), e.opacity(1);
				return this
			},
			disable : function (e) {
				if (e = e.get ? e : this.get(e))
					e.removeClass("ke-selected").addClass("ke-disabled"), e.opacity(.5);
				return this
			},
			disableAll : function (e, t) {
				var n = this,
				r = n.noDisableItemMap;
				return t && (r = u(t)),
				(e === o ? !n.disableMode : e) ? (f("span.ke-outline", n.div).each(function () {
						var e = f(this),
						t = e[0].getAttribute("data-name", 2);
						r[t] || n.disable(e)
					}), n.disableMode = !0) : (f("span.ke-outline", n.div).each(function () {
						var e = f(this),
						t = e[0].getAttribute("data-name", 2);
						r[t] || n.enable(e)
					}), n.disableMode = !1),
				n
			}
		}),
		f.ToolbarClass = Aa,
		f.toolbar = Ab,
		E(qa, R, {
			init : function (e) {
				e.z = e.z || 811213,
				qa.parent.init.call(this, e),
				this.centerLineMode = j(e.centerLineMode, !0),
				this.div.addClass("ke-menu").bind("click,mousedown", function (e) {
					e.stopPropagation()
				}).attr("unselectable", "on")
			},
			addItem : function (e) {
				if (e.title !== "-") {
					var t = f('<div class="ke-menu-item" unselectable="on"></div>'),
					n = f('<div class="ke-inline-block ke-menu-item-left"></div>'),
					r = f('<div class="ke-inline-block ke-menu-item-right"></div>'),
					i = s(e.height),
					o = j(e.iconClass, "");
					this.div.append(t),
					i && (t.css("height", i), r.css("line-height", i));
					var u;
					return this.centerLineMode && (u = f('<div class="ke-inline-block ke-menu-item-center"></div>'), i && u.css("height", i)),
					t.mouseover(function () {
						f(this).addClass("ke-menu-item-on"),
						u && u.addClass("ke-menu-item-center-on")
					}).mouseout(function () {
						f(this).removeClass("ke-menu-item-on"),
						u && u.removeClass("ke-menu-item-center-on")
					}).click(function (t) {
						e.click.call(f(this)),
						t.stopPropagation()
					}).append(n),
					u && t.append(u),
					t.append(r),
					e.checked && (o = "ke-icon-checked"),
					o !== "" && n.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url ' + o + '"></span>'),
					r.html(e.title),
					this
				}
				this.div.append(f('<div class="ke-menu-separator"></div>'))
			},
			remove : function () {
				return this.options.beforeRemove && this.options.beforeRemove.call(this),
				f(".ke-menu-item", this.div[0]).unbind(),
				qa.parent.remove.call(this),
				this
			}
		}),
		f.MenuClass = qa,
		f.menu = Wa,
		E(ra, R, {
			init : function (e) {
				e.z = e.z || 811213,
				ra.parent.init.call(this, e);
				var t = e.colors || [["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]];
				this.selectedColor = (e.selectedColor || "").toLowerCase(),
				this._cells = [],
				this.div.addClass("ke-colorpicker").bind("click,mousedown", function (e) {
					e.stopPropagation()
				}).attr("unselectable", "on"),
				e = this.doc.createElement("table"),
				this.div.append(e),
				e.className = "ke-colorpicker-table",
				e.cellPadding = 0,
				e.cellSpacing = 0,
				e.border = 0;
				var n = e.insertRow(0),
				r = n.insertCell(0);
				r.colSpan = t[0].length,
				this._addAttr(r, "", "ke-colorpicker-cell-top");
				for (var i = 0; i < t.length; i++)
					for (var n = e.insertRow(i + 1), s = 0; s < t[i].length; s++)
						r = n.insertCell(s), this._addAttr(r, t[i][s], "ke-colorpicker-cell")
			},
			_addAttr : function (e, t, n) {
				var r = this,
				e = f(e).addClass(n);
				r.selectedColor === t.toLowerCase() && e.addClass("ke-colorpicker-cell-selected"),
				e.attr("title", t || r.options.noColor),
				e.mouseover(function () {
					f(this).addClass("ke-colorpicker-cell-on")
				}),
				e.mouseout(function () {
					f(this).removeClass("ke-colorpicker-cell-on")
				}),
				e.click(function (e) {
					e.stop(),
					r.options.click.call(f(this), t)
				}),
				t ? e.append(f('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color", t)) : e.html(r.options.noColor),
				f(e).attr("unselectable", "on"),
				r._cells.push(e)
			},
			remove : function () {
				return m(this._cells, function () {
					this.unbind()
				}),
				ra.parent.remove.call(this),
				this
			}
		}),
		f.ColorPickerClass = ra,
		f.colorpicker = Bb,
		E(Xa, {
			init : function (e) {
				var t = f(e.button),
				n = e.fieldName || "file",
				r = e.url || "",
				i = t.val(),
				s = e.extraParams || {},
				o = t[0].className || "",
				u = e.target || "kindeditor_upload_iframe_" + (new Date).getTime();
				e.afterError = e.afterError || function (e) {
					alert(e)
				};
				var a = [],
				l;
				for (l in s)
					a.push('<input type="hidden" name="' + l + '" value="' + s[l] + '" />');
				n = ['<div class="ke-inline-block ' + o + '">', e.target ? "" : '<iframe name="' + u + '" style="display:none;"></iframe>', e.form ? '<div class="ke-upload-area">' : '<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="' + u + '" action="' + r + '">', '<span class="ke-button-common">', a.join(""), '<input type="button" class="ke-button-common ke-button" value="' + i + '" />', "</span>", '<input type="file" class="ke-upload-file" name="' + n + '" tabindex="-1" />', e.form ? "</div>" : "</form>", "</div>"].join(""),
				n = f(n, t.doc),
				t.hide(),
				t.before(n),
				this.div = n,
				this.button = t,
				this.iframe = e.target ? f('iframe[name="' + u + '"]') : f("iframe", n),
				this.form = e.form ? f(e.form) : f("form", n),
				t = e.width || f(".ke-button-common", n).width(),
				this.fileBox = f(".ke-upload-file", n).width(t),
				this.options = e
			},
			submit : function () {
				var e = this,
				t = e.iframe;
				return t.bind("load", function () {
					t.unbind();
					var n = document.createElement("form");
					e.fileBox.before(n),
					f(n).append(e.fileBox),
					n.reset(),
					f(n).remove(!0);
					var n = f.iframeDoc(t),
					r = n.getElementsByTagName("pre")[0],
					i = "",
					s,
					i = r ? r.innerHTML : n.body.innerHTML,
					i = fa(i);
					t[0].src = "javascript:false";
					try {
						s = f.json(i)
					} catch (o) {
						e.options.afterError.call(e, "<!doctype html><html>" + n.body.parentNode.innerHTML + "</html>")
					}
					s && e.options.afterUpload.call(e, s)
				}),
				e.form[0].submit(),
				e
			},
			remove : function () {
				return this.fileBox && this.fileBox.unbind(),
				this.iframe.remove(),
				this.div.remove(),
				this.button.show(),
				this
			}
		}),
		f.UploadButtonClass = Xa,
		f.uploadbutton = function (e) {
			return new Xa(e)
		},
		E(sa, R, {
			init : function (e) {
				var n = j(e.shadowMode, !0);
				e.z = e.z || 811213,
				e.shadowMode = !1,
				e.autoScroll = j(e.autoScroll, !0),
				sa.parent.init.call(this, e);
				var r = e.title,
				i = f(e.body, this.doc),
				s = e.previewBtn,
				o = e.yesBtn,
				u = e.noBtn,
				a = e.closeBtn,
				c = j(e.showMask, !0);
				this.div.addClass("ke-dialog").bind("click,mousedown", function (e) {
					e.stopPropagation()
				});
				var h = f('<div class="ke-dialog-content"></div>').appendTo(this.div);
				l && z < 7 ? this.iframeMask = f('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(this.div) : n && f('<div class="ke-dialog-shadow"></div>').appendTo(this.div),
				n = f('<div class="ke-dialog-header"></div>'),
				h.append(n),
				n.html(r),
				this.closeIcon = f('<span class="ke-dialog-icon-close" title="' + a.name + '"></span>').click(a.click),
				n.append(this.closeIcon),
				this.draggable({
					clickEl : n,
					beforeDrag : e.beforeDrag
				}),
				e = f('<div class="ke-dialog-body"></div>'),
				h.append(e),
				e.append(i);
				var p = f('<div class="ke-dialog-footer"></div>');
				(s || o || u) && h.append(p),
				m([{
							btn : s,
							name : "preview"
						}, {
							btn : o,
							name : "yes"
						}, {
							btn : u,
							name : "no"
						}
					], function () {
					if (this.btn) {
						var e = this.btn,
						e = e || {},
						t = e.name || "",
						n = f('<span class="ke-button-common ke-button-outer" title="' + t + '"></span>'),
						t = f('<input class="ke-button-common ke-button" type="button" value="' + t + '" />');
						e.click && t.click(e.click),
						n.append(t),
						n.addClass("ke-dialog-" + this.name),
						p.append(n)
					}
				}),
				this.height && e.height(t(this.height) - n.height() - p.height()),
				this.div.width(this.div.width()),
				this.div.height(this.div.height()),
				this.mask = null,
				c && (i = G(this.doc), this.mask = Ua({
							x : 0,
							y : 0,
							z : this.z - 1,
							cls : "ke-dialog-mask",
							width : Math.max(i.scrollWidth, i.clientWidth),
							height : Math.max(i.scrollHeight, i.clientHeight)
						})),
				this.autoPos(this.div.width(), this.div.height()),
				this.footerDiv = p,
				this.bodyDiv = e,
				this.headerDiv = n,
				this.isLoading = !1
			},
			setMaskIndex : function (e) {
				this.mask.div.css("z-index", e)
			},
			showLoading : function (e) {
				var e = j(e, ""),
				t = this.bodyDiv;
				return this.loading = f('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:' + Math.round(t.height() / 3) + 'px;">' + e + "</div></div>").width(t.width()).height(t.height()).css("top", this.headerDiv.height() + "px"),
				t.css("visibility", "hidden").after(this.loading),
				this.isLoading = !0,
				this
			},
			hideLoading : function () {
				return this.loading && this.loading.remove(),
				this.bodyDiv.css("visibility", "visible"),
				this.isLoading = !1,
				this
			},
			remove : function () {
				return this.options.beforeRemove && this.options.beforeRemove.call(this),
				this.mask && this.mask.remove(),
				this.iframeMask && this.iframeMask.remove(),
				this.closeIcon.unbind(),
				f("input", this.div).unbind(),
				f("button", this.div).unbind(),
				this.footerDiv.unbind(),
				this.bodyDiv.unbind(),
				this.headerDiv.unbind(),
				f("iframe", this.div).each(function () {
					f(this).remove()
				}),
				sa.parent.remove.call(this),
				this
			}
		}),
		f.DialogClass = sa,
		f.dialog = Cb,
		f.tabs = function (e) {
			var t = Ua(e),
			n = t.remove,
			r = e.afterSelect,
			e = t.div,
			i = [];
			e.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove", function (e) {
				e.preventDefault()
			});
			var s = f('<ul class="ke-tabs-ul ke-clearfix"></ul>');
			return e.append(s),
			t.add = function (e) {
				var t = f('<li class="ke-tabs-li">' + e.title + "</li>");
				t.data("tab", e),
				i.push(t),
				s.append(t)
			},
			t.selectedIndex = 0,
			t.select = function (e) {
				t.selectedIndex = e,
				m(i, function (n, r) {
					r.unbind(),
					n === e ? (r.addClass("ke-tabs-li-selected"), f(r.data("tab").panel).show("")) : (r.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function () {
							f(this).addClass("ke-tabs-li-on")
						}).mouseout(function () {
							f(this).removeClass("ke-tabs-li-on")
						}).click(function () {
							t.select(n)
						}), f(r.data("tab").panel).hide())
				}),
				r && r.call(t, e)
			},
			t.remove = function () {
				m(i, function () {
					this.remove()
				}),
				s.remove(),
				n.call(t)
			},
			t
		},
		f.loadScript = Ya,
		f.loadStyle = Za,
		f.ajax = function (e, t, n, r, i) {
			var n = n || "GET",
			i = i || "json",
			s = A.XMLHttpRequest ? new A.XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP");
			s.open(n, e, !0),
			s.onreadystatechange = function () {
				if (s.readyState == 4 && s.status == 200 && t) {
					var e = B(s.responseText);
					i == "json" && (e = cb(e)),
					t(e)
				}
			};
			if (n == "POST") {
				var o = [];
				m(r, function (e, t) {
					o.push(encodeURIComponent(e) + "=" + encodeURIComponent(t))
				});
				try {
					s.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
				} catch (u) {}

				s.send(o.join("&"))
			} else
				s.send(null)
		};
		var V = {},
		M = {};
		ta.prototype = {
			lang : function (e) {
				return Gb(e, this.langType)
			},
			loadPlugin : function (e, t) {
				var n = this;
				return V[e] ? n._calledPlugins[e] ? (t && t.call(n), n) : (V[e].call(n, KindEditor), t && t.call(n), n._calledPlugins[e] = !0, n) : n.isLoading ? n : (n.isLoading = !0, Ya(n.pluginsPath + e + "/" + e + ".js?ver=" + encodeURIComponent(f.DEBUG ? Ca : Da), function () {
						n.isLoading = !1,
						V[e] && n.loadPlugin(e, t)
					}), n)
			},
			handler : function (e, t) {
				var n = this;
				return n._handlers[e] || (n._handlers[e] = []),
				bb(t) ? (n._handlers[e].push(t), n) : (m(n._handlers[e], function () {
						t = this.call(n, t)
					}), t)
			},
			clickToolbar : function (e, t) {
				var n = this,
				r = "clickToolbar" + e;
				return t === o ? n._handlers[r] ? n.handler(r) : (n.loadPlugin(e, function () {
						n.handler(r)
					}), n) : n.handler(r, t)
			},
			updateState : function () {
				var e = this;
				return m("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","), function (t, n) {
					e.cmd.state(n) ? e.toolbar.select(n) : e.toolbar.unselect(n)
				}),
				e
			},
			addContextmenu : function (e) {
				return this._contextmenus.push(e),
				this
			},
			afterCreate : function (e) {
				return this.handler("afterCreate", e)
			},
			beforeRemove : function (e) {
				return this.handler("beforeRemove", e)
			},
			beforeGetHtml : function (e) {
				return this.handler("beforeGetHtml", e)
			},
			beforeSetHtml : function (e) {
				return this.handler("beforeSetHtml", e)
			},
			afterSetHtml : function (e) {
				return this.handler("afterSetHtml", e)
			},
			create : function () {
				function e() {
					h.height() === 0 ? setTimeout(e, 100) : n.resize(i, o, !1)
				}
				var n = this,
				r = n.fullscreenMode;
				if (n.isCreated)
					return n;
				if (n.srcElement.data("kindeditor"))
					return n;
				n.srcElement.data("kindeditor", "true"),
				r ? G().style.overflow = "hidden" : G().style.overflow = "";
				var i = r ? G().clientWidth + "px" : n.width,
				o = r ? G().clientHeight + "px" : n.height;
				if (l && z < 8 || O)
					o = s(t(o) + 2);
				var u = n.container = f(n.layout);
				r ? f(document.body).append(u) : n.srcElement.before(u);
				var a = f(".toolbar", u),
				c = f(".edit", u),
				h = n.statusbar = f(".statusbar", u);
				u.removeClass("container").addClass("ke-container ke-container-" + n.themeType).css("width", i),
				r ? (u.css({
						position : "absolute",
						left : 0,
						top : 0,
						"z-index" : 811211
					}), ea || (n._scrollPos = ba()), A.scrollTo(0, 0), f(document.body).css({
						height : "1px",
						overflow : "hidden"
					}), f(document.body.parentNode).css("overflow", "hidden"), n._fullscreenExecuted = !0) : (n._fullscreenExecuted && (f(document.body).css({
							height : "",
							overflow : ""
						}), f(document.body.parentNode).css("overflow", "")), n._scrollPos && A.scrollTo(n._scrollPos.x, n._scrollPos.y));
				var p = [];
				f.each(n.items, function (e, t) {
					t == "|" ? p.push('<span class="ke-inline-block ke-separator"></span>') : t == "/" ? p.push('<div class="ke-hr"></div>') : (p.push('<span class="ke-outline" data-name="' + t + '" title="' + n.lang(t) + '" unselectable="on">'), p.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-' + t + '" unselectable="on"></span></span>'))
				});
				var a = n.toolbar = Ab({
						src : a,
						html : p.join(""),
						noDisableItems : n.noDisableItems,
						click : function (e, t) {
							e.stop();
							if (n.menu) {
								var r = n.menu.name;
								n.hideMenu();
								if (r === t)
									return
							}
							n.clickToolbar(t)
						}
					}),
				d = t(o) - a.div.height(),
				v = n.edit = yb({
						height : d > 0 && t(o) > n.minHeight ? d : n.minHeight,
						src : c,
						srcElement : n.srcElement,
						designMode : n.designMode,
						themesPath : n.themesPath,
						bodyClass : n.bodyClass,
						cssPath : n.cssPath,
						cssData : n.cssData,
						beforeGetHtml : function (e) {
							return e = n.beforeGetHtml(e),
							S(e, n.filterMode ? n.htmlTags : null, n.urlType, n.wellFormatMode, n.indentChar)
						},
						beforeSetHtml : function (e) {
							return e = S(e, n.filterMode ? n.htmlTags : null, "", !1),
							n.beforeSetHtml(e)
						},
						afterSetHtml : function () {
							n.edit = v = this,
							n.afterSetHtml()
						},
						afterCreate : function () {
							n.edit = v = this,
							n.cmd = v.cmd,
							n._docMousedownFn = function () {
								n.menu && n.hideMenu()
							},
							f(v.doc, document).mousedown(n._docMousedownFn),
							Yb.call(n),
							Zb.call(n),
							$b.call(n),
							ac.call(n),
							v.afterChange(function () {
								v.designMode && (n.updateState(), n.addBookmark(), n.options.afterChange && n.options.afterChange.call(n))
							}),
							v.textarea.keyup(function (e) {
								!e.ctrlKey && !e.altKey && Nb[e.which] && n.options.afterChange && n.options.afterChange.call(n)
							}),
							n.readonlyMode && n.readonly(),
							n.isCreated = !0,
							n.initContent === "" && (n.initContent = n.html()),
							n.afterCreate(),
							n.options.afterCreate && n.options.afterCreate.call(n)
						}
					});
				return h.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),
				n._fullscreenResizeHandler && (f(A).unbind("resize", n._fullscreenResizeHandler), n._fullscreenResizeHandler = null),
				e(),
				r ? (n._fullscreenResizeHandler = function () {
					n.isCreated && n.resize(G().clientWidth, G().clientHeight, !1)
				}, f(A).bind("resize", n._fullscreenResizeHandler), a.select("fullscreen"), h.first().css("visibility", "hidden"), h.last().css("visibility", "hidden")) : (ea && f(A).bind("scroll", function () {
						n._scrollPos = ba()
					}), n.resizeType > 0 ? Sa({
						moveEl : u,
						clickEl : h,
						moveFn : function (e, t, r, i, s, o) {
							i += o,
							n.resize(null, i)
						}
					}) : h.first().css("visibility", "hidden"), n.resizeType === 2 ? Sa({
						moveEl : u,
						clickEl : h.last(),
						moveFn : function (e, t, r, i, s, o) {
							r += s,
							i += o,
							n.resize(r, i)
						}
					}) : h.last().css("visibility", "hidden")),
				n
			},
			remove : function () {
				var e = this;
				return e.isCreated ? (e.beforeRemove(), e.srcElement.data("kindeditor", ""), e.menu && e.hideMenu(), m(e.dialogs, function () {
						e.hideDialog()
					}), f(document).unbind("mousedown", e._docMousedownFn), e.toolbar.remove(), e.edit.remove(), e.statusbar.last().unbind(), e.statusbar.unbind(), e.container.remove(), e.container = e.toolbar = e.edit = e.menu = null, e.dialogs = [], e.isCreated = !1, e) : e
			},
			resize : function (e, n, r) {
				return r = j(r, !0),
				e && (/%/.test(e) || (e = t(e), e = e < this.minWidth ? this.minWidth : e), this.container.css("width", s(e)), r) && (this.width = s(e)),
				n && (n = t(n), editHeight = t(n) - this.toolbar.div.height() - this.statusbar.height(), editHeight = editHeight < this.minHeight ? this.minHeight : editHeight, this.edit.setHeight(editHeight), r) && (this.height = s(n)),
				this
			},
			select : function () {
				return this.isCreated && this.cmd.select(),
				this
			},
			html : function (e) {
				return e === o ? this.isCreated ? this.edit.html() : oa(this.srcElement) : (this.isCreated ? this.edit.html(e) : oa(this.srcElement, e), this.isCreated && this.cmd.selection(), this)
			},
			fullHtml : function () {
				return this.isCreated ? this.edit.html(o, !0) : ""
			},
			text : function (e) {
				return e === o ? B(this.html().replace(/<(?!img|embed).*?>/ig, "").replace(/&nbsp;/ig, " ")) : this.html(C(e))
			},
			isEmpty : function () {
				return B(this.text().replace(/\r\n|\n|\r/, "")) === ""
			},
			isDirty : function () {
				return B(this.initContent.replace(/\r\n|\n|\r|t/g, "")) !== B(this.html().replace(/\r\n|\n|\r|t/g, ""))
			},
			selectedHtml : function () {
				return this.isCreated ? this.cmd.range.html() : ""
			},
			count : function (e) {
				return e = (e || "html").toLowerCase(),
				e === "html" ? X($a(this.html())).length : e === "text" ? this.text().replace(/<(?:img|embed).*?>/ig, "K").replace(/\r\n|\n|\r/g, "").length : 0
			},
			exec : function (e) {
				var e = e.toLowerCase(),
				t = this.cmd,
				n = N(e, "selectall,copy,paste,print".split(",")) < 0;
				return n && this.addBookmark(!1),
				t[e].apply(t, Fa(arguments, 1)),
				n && (this.updateState(), this.addBookmark(!1), this.options.afterChange && this.options.afterChange.call(this)),
				this
			},
			insertHtml : function (e, t) {
				return this.isCreated ? (e = this.beforeSetHtml(e), this.exec("inserthtml", e, t), this) : this
			},
			appendHtml : function (e) {
				return this.html(this.html() + e),
				this.isCreated && (e = this.cmd, e.range.selectNodeContents(e.doc.body).collapse(!1), e.select()),
				this
			},
			sync : function () {
				return oa(this.srcElement, this.html()),
				this
			},
			focus : function () {
				return this.isCreated ? this.edit.focus() : this.srcElement[0].focus(),
				this
			},
			blur : function () {
				return this.isCreated ? this.edit.blur() : this.srcElement[0].blur(),
				this
			},
			addBookmark : function (e) {
				var e = j(e, !0),
				t = this.edit,
				n = t.doc.body,
				r = $a(n.innerHTML);
				return e && this._undoStack.length > 0 && Math.abs(r.length - X(this._undoStack[this._undoStack.length - 1].html).length) < this.minChangeSize ? this : (t.designMode && !this._firstAddBookmark ? (t = this.cmd.range, e = t.createBookmark(!0), e.html = $a(n.innerHTML), t.moveToBookmark(e)) : e = {
						html : r
					}, this._firstAddBookmark = !1, Hb(this._undoStack, e), this)
			},
			undo : function () {
				return Ib.call(this, this._undoStack, this._redoStack)
			},
			redo : function () {
				return Ib.call(this, this._redoStack, this._undoStack)
			},
			fullscreen : function (e) {
				return this.fullscreenMode = e === o ? !this.fullscreenMode : e,
				this.remove().create()
			},
			readonly : function (e) {
				var e = j(e, !0),
				t = this,
				n = t.edit,
				r = n.doc;
				t.designMode ? t.toolbar.disableAll(e, []) : m(t.noDisableItems, function () {
					t.toolbar[e ? "disable" : "enable"](this)
				}),
				l ? r.body.contentEditable = !e : r.designMode = e ? "off" : "on",
				n.textarea[0].disabled = e
			},
			createMenu : function (e) {
				var t = this.toolbar.get(e.name),
				n = t.pos();
				return e.x = n.x,
				e.y = n.y + t.height(),
				e.z = this.options.zIndex,
				e.shadowMode = j(e.shadowMode, this.shadowMode),
				e.selectedColor !== o ? (e.cls = "ke-colorpicker-" + this.themeType, e.noColor = this.lang("noColor"), this.menu = Bb(e)) : (e.cls = "ke-menu-" + this.themeType, e.centerLineMode = !1, this.menu = Wa(e)),
				this.menu
			},
			hideMenu : function () {
				return this.menu.remove(),
				this.menu = null,
				this
			},
			hideContextmenu : function () {
				return this.contextmenu.remove(),
				this.contextmenu = null,
				this
			},
			createDialog : function (e) {
				var t = this;
				e.z = t.options.zIndex,
				e.shadowMode = j(e.shadowMode, t.shadowMode),
				e.closeBtn = j(e.closeBtn, {
						name : t.lang("close"),
						click : function () {
							t.hideDialog(),
							l && t.cmd && t.cmd.select()
						}
					}),
				e.noBtn = j(e.noBtn, {
						name : t.lang(e.yesBtn ? "no" : "close"),
						click : function () {
							t.hideDialog(),
							l && t.cmd && t.cmd.select()
						}
					}),
				t.dialogAlignType != "page" && (e.alignEl = t.container),
				e.cls = "ke-dialog-" + t.themeType;
				if (t.dialogs.length > 0) {
					var n = t.dialogs[t.dialogs.length - 1];
					t.dialogs[0].setMaskIndex(n.z + 2),
					e.z = n.z + 3,
					e.showMask = !1
				}
				return e = Cb(e),
				t.dialogs.push(e),
				e
			},
			hideDialog : function () {
				return this.dialogs.length > 0 && this.dialogs.pop().remove(),
				this.dialogs.length > 0 && this.dialogs[0].setMaskIndex(this.dialogs[this.dialogs.length - 1].z - 1),
				this
			},
			errorDialog : function (e) {
				var t = this.createDialog({
						width : 750,
						title : this.lang("uploadError"),
						body : '<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'
					}),
				t = f("iframe", t.div),
				n = f.iframeDoc(t);
				return n.open(),
				n.write(e),
				n.close(),
				f(n.body).css("background-color", "#FFF"),
				t[0].contentWindow.focus(),
				this
			}
		},
		_instances = [],
		f.remove = function (e) {
			Kb(e, function (e) {
				this.remove(),
				_instances.splice(e, 1)
			})
		},
		f.sync = function (e) {
			Kb(e, function () {
				this.sync()
			})
		},
		l && z < 7 && P(document, "BackgroundImageCache", !0),
		f.EditorClass = ta,
		f.editor = function (e) {
			return new ta(e)
		},
		f.create = Jb,
		f.instances = _instances,
		f.plugin = Eb,
		f.lang = Gb,
		Eb("core", function (e) {
			var n = this,
			r = {
				undo : "Z",
				redo : "Y",
				bold : "B",
				italic : "I",
				underline : "U",
				print : "P",
				selectall : "A"
			};
			n.afterSetHtml(function () {
				n.options.afterChange && n.options.afterChange.call(n)
			}),
			n.afterCreate(function () {
				if (n.syncType == "form") {
					for (var t = e(n.srcElement), r = !1; t = t.parent(); )
						if (t.name == "form") {
							r = !0;
							break
						}
					if (r) {
						t.bind("submit", function () {
							n.sync(),
							e(A).bind("unload", function () {
								n.edit.textarea.remove()
							})
						});
						var i = e('[type="reset"]', t);
						i.click(function () {
							n.html(n.initContent),
							n.cmd.selection()
						}),
						n.beforeRemove(function () {
							t.unbind(),
							i.unbind()
						})
					}
				}
			}),
			n.clickToolbar("source", function () {
				n.edit.designMode ? (n.toolbar.disableAll(!0), n.edit.design(!1), n.toolbar.select("source")) : (n.toolbar.disableAll(!1), n.edit.design(!0), n.toolbar.unselect("source"), n.cmd.selection()),
				n.designMode = n.edit.designMode
			}),
			n.afterCreate(function () {
				n.designMode || n.toolbar.disableAll(!0).select("source")
			}),
			n.clickToolbar("fullscreen", function () {
				n.fullscreen()
			});
			if (n.fullscreenShortcut) {
				var i = !1;
				n.afterCreate(function () {
					e(n.edit.doc, n.edit.textarea).keyup(function (e) {
						e.which == 27 && setTimeout(function () {
							n.fullscreen()
						}, 0)
					});
					if (i) {
						if (l && !n.designMode)
							return;
						n.focus()
					}
					i || (i = !0)
				})
			}
			m("undo,redo".split(","), function (e, t) {
				r[t] && n.afterCreate(function () {
					Ga(this.edit.doc, r[t], function () {
						n.clickToolbar(t)
					})
				}),
				n.clickToolbar(t, function () {
					n[t]()
				})
			}),
			n.clickToolbar("formatblock", function () {
				var e = n.lang("formatblock.formatBlock"),
				t = {
					h1 : 28,
					h2 : 24,
					h3 : 18,
					H4 : 14,
					p : 12
				},
				r = n.cmd.val("formatblock"),
				i = n.createMenu({
						name : "formatblock",
						width : n.langType == "en" ? 200 : 150
					});
				m(e, function (e, s) {
					var o = "font-size:" + t[e] + "px;";
					e.charAt(0) === "h" && (o += "font-weight:bold;"),
					i.addItem({
						title : '<span style="' + o + '" unselectable="on">' + s + "</span>",
						height : t[e] + 12,
						checked : r === e || r === s,
						click : function () {
							n.select().exec("formatblock", "<" + e + ">").hideMenu()
						}
					})
				})
			}),
			n.clickToolbar("fontname", function () {
				var e = n.cmd.val("fontname"),
				t = n.createMenu({
						name : "fontname",
						width : 150
					});
				m(n.lang("fontname.fontName"), function (r, i) {
					t.addItem({
						title : '<span style="font-family: ' + r + ';" unselectable="on">' + i + "</span>",
						checked : e === r.toLowerCase() || e === i.toLowerCase(),
						click : function () {
							n.exec("fontname", r).hideMenu()
						}
					})
				})
			}),
			n.clickToolbar("fontsize", function () {
				var e = n.cmd.val("fontsize"),
				r = n.createMenu({
						name : "fontsize",
						width : 150
					});
				m(n.fontSizeTable, function (i, s) {
					r.addItem({
						title : '<span style="font-size:' + s + ';" unselectable="on">' + s + "</span>",
						height : t(s) + 12,
						checked : e === s,
						click : function () {
							n.exec("fontsize", s).hideMenu()
						}
					})
				})
			}),
			m("forecolor,hilitecolor".split(","), function (e, t) {
				n.clickToolbar(t, function () {
					n.createMenu({
						name : t,
						selectedColor : n.cmd.val(t) || "default",
						colors : n.colorTable,
						click : function (e) {
							n.exec(t, e).hideMenu()
						}
					})
				})
			}),
			m("cut,copy,paste".split(","), function (e, t) {
				n.clickToolbar(t, function () {
					n.focus();
					try {
						n.exec(t, null)
					} catch (e) {
						alert(n.lang(t + "Error"))
					}
				})
			}),
			n.clickToolbar("about", function () {
				var e = '<div style="margin:20px;"><div>KindEditor ' + Da + '</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';
				n.createDialog({
					name : "about",
					width : 350,
					title : n.lang("about"),
					body : e
				})
			}),
			n.plugin.getSelectedLink = function () {
				return n.cmd.commonAncestor("a")
			},
			n.plugin.getSelectedImage = function () {
				return Ba(n.edit.cmd.range, function (e) {
					return !/^ke-\w+$/i.test(e[0].className)
				})
			},
			n.plugin.getSelectedFlash = function () {
				return Ba(n.edit.cmd.range, function (e) {
					return e[0].className == "ke-flash"
				})
			},
			n.plugin.getSelectedMedia = function () {
				return Ba(n.edit.cmd.range, function (e) {
					return e[0].className == "ke-media" || e[0].className == "ke-rm"
				})
			},
			n.plugin.getSelectedAnchor = function () {
				return Ba(n.edit.cmd.range, function (e) {
					return e[0].className == "ke-anchor"
				})
			},
			m("link,image,flash,media,anchor".split(","), function (e, t) {
				var r = t.charAt(0).toUpperCase() + t.substr(1);
				m("edit,delete".split(","), function (e, i) {
					n.addContextmenu({
						title : n.lang(i + r),
						click : function () {
							n.loadPlugin(t, function () {
								n.plugin[t][i](),
								n.hideMenu()
							})
						},
						cond : n.plugin["getSelected" + r],
						width : 150,
						iconClass : i == "edit" ? "ke-icon-" + t : o
					})
				}),
				n.addContextmenu({
					title : "-"
				})
			}),
			n.plugin.getSelectedTable = function () {
				return n.cmd.commonAncestor("table")
			},
			n.plugin.getSelectedRow = function () {
				return n.cmd.commonAncestor("tr")
			},
			n.plugin.getSelectedCell = function () {
				return n.cmd.commonAncestor("td")
			},
			m("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","), function (e, t) {
				var r = N(t, ["prop", "delete"]) < 0 ? n.plugin.getSelectedCell : n.plugin.getSelectedTable;
				n.addContextmenu({
					title : n.lang("table" + t),
					click : function () {
						n.loadPlugin("table", function () {
							n.plugin.table[t](),
							n.hideMenu()
						})
					},
					cond : r,
					width : 170,
					iconClass : "ke-icon-table" + t
				})
			}),
			n.addContextmenu({
				title : "-"
			}),
			m("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","), function (e, t) {
				r[t] && n.afterCreate(function () {
					Ga(this.edit.doc, r[t], function () {
						n.cmd.selection(),
						n.clickToolbar(t)
					})
				}),
				n.clickToolbar(t, function () {
					n.focus().exec(t, null)
				})
			}),
			n.afterCreate(function () {
				function t() {
					i.range.moveToBookmark(s),
					i.select(),
					W && (e("div." + u, o).each(function () {
							e(this).after("<br />").remove(!0)
						}), e("span.Apple-style-span", o).remove(!0), e("span.Apple-tab-span", o).remove(!0), e("span[style]", o).each(function () {
							e(this).css("white-space") == "nowrap" && e(this).remove(!0)
						}), e("meta", o).remove());
					var t = o[0].innerHTML;
					o.remove(),
					t !== "" && (W && (t = t.replace(/(<br>)\1/ig, "$1")), n.pasteType === 2 && (t = t.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/ig, ""), /schemas-microsoft-com|worddocument|mso-\w+/i.test(t) ? t = lb(t, n.filterMode ? n.htmlTags : e.options.htmlTags) : (t = S(t, n.filterMode ? n.htmlTags : null), t = n.beforeSetHtml(t))), n.pasteType === 1 && (t = t.replace(/&nbsp;/ig, " "), t = t.replace(/\n\s*\n/g, "\n"), t = t.replace(/<br[^>]*>/ig, "\n"), t = t.replace(/<\/p><p[^>]*>/ig, "\n"), t = t.replace(/<[^>]+>/g, ""), t = t.replace(/ {2}/g, " &nbsp;"), n.newlineTag == "p" ? /\n/.test(t) && (t = t.replace(/^/, "<p>").replace(/$/, "<br /></p>").replace(/\n/g, "<br /></p><p>")) : t = t.replace(/\n/g, "<br />$&")), n.insertHtml(t, !0))
				}
				var r = n.edit.doc,
				i,
				s,
				o,
				u = "__kindeditor_paste__",
				f = !1;
				e(r.body).bind("paste", function (h) {
					if (n.pasteType === 0)
						h.stop();
					else if (!f) {
						f = !0,
						e("div." + u, r).remove(),
						i = n.cmd.selection(),
						s = i.range.createBookmark(),
						o = e('<div class="' + u + '"></div>', r).css({
								position : "absolute",
								width : "1px",
								height : "1px",
								overflow : "hidden",
								left : "-1981px",
								top : e(s.start).pos().y + "px",
								"white-space" : "nowrap"
							}),
						e(r.body).append(o);
						if (l) {
							var p = i.range.get(!0);
							p.moveToElementText(o[0]),
							p.select(),
							p.execCommand("paste"),
							h.preventDefault()
						} else
							i.range.selectNodeContents(o[0]), i.select();
						setTimeout(function () {
							t(),
							f = !1
						}, 0)
					}
				})
			}),
			n.beforeGetHtml(function (e) {
				return l && z <= 8 && (e = e.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/ig, function (e, t) {
							return unescape(t)
						}), e = e.replace(/(<input)((?:\s+[^>]*)?>)/ig, function (e, t, n) {
							return /\s+type="[^"]+"/i.test(e) ? e : t + ' type="text"' + n
						})),
				e.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/ig, function (e, t, n, r) {
					return t + fa(n).replace(/\s+/g, " ") + r
				}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/ig, function (e) {
					var e = H(e),
					n = aa(e.style || ""),
					r = nb(e["data-ke-tag"]);
					return r.width = j(e.width, t(j(n.width, ""))),
					r.height = j(e.height, t(j(n.height, ""))),
					Ia(r)
				}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/ig, function (e) {
					return e = H(e),
					'<a name="' + unescape(e["data-ke-name"]) + '"></a>'
				}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/ig, function (e, t, n) {
					return "<script" + unescape(t) + ">" + unescape(n) + "</script>"
				}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/ig, function (e, t, n) {
					return "<noscript" + unescape(t) + ">" + unescape(n) + "</noscript>"
				}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/ig, function (e, t, n) {
					return e = e.replace(/(\s+(?:href|src)=")[^"]*(")/i, function (e, t, r) {
							return t + fa(n) + r
						}),
					e = e.replace(/\s+data-ke-src="[^"]*"/i, "")
				}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/ig, function (e, t, n) {
					return t + n
				})
			}),
			n.beforeSetHtml(function (e) {
				return l && z <= 8 && (e = e.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/ig, function (e) {
							var t = H(e);
							return aa(t.style || "").display == "none" ? '<div class="ke-display-none" data-ke-input-tag="' + escape(e) + '"></div>' : e
						})),
				e.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/ig, function (e) {
					return e = H(e),
					e.src = j(e.src, ""),
					e.width = j(e.width, 0),
					e.height = j(e.height, 0),
					ob(n.themesPath + "common/blank.gif", e)
				}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/ig, function (e) {
					var t = H(e);
					return t.href !== o ? e : '<img class="ke-anchor" src="' + n.themesPath + 'common/anchor.gif" data-ke-name="' + escape(t.name) + '" />'
				}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/ig, function (e, t, n) {
					return '<div class="ke-script" data-ke-script-attr="' + escape(t) + '">' + escape(n) + "</div>"
				}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/ig, function (e, t, n) {
					return '<div class="ke-noscript" data-ke-noscript-attr="' + escape(t) + '">' + escape(n) + "</div>"
				}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/ig, function (e, t, n, r, i) {
					return e.match(/\sdata-ke-src="[^"]*"/i) ? e : e = t + n + '="' + r + '" data-ke-src="' + C(r) + '"' + i
				}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/ig, function (e, t, n) {
					return t + "data-ke-" + n
				}).replace(/<table[^>]*\s+border="0"[^>]*>/ig, function (e) {
					return e.indexOf("ke-zeroborder") >= 0 ? e : Qb(e, "ke-zeroborder")
				})
			})
		})
	}
}
(window), define("lib/kindeditor-min", function () {}), define("lib/kindeditor-zh_CN", ["lib/kindeditor-min"], function () {
	KindEditor.lang({
		source : "HTML代码",
		preview : "预览",
		undo : "后退(Ctrl+Z)",
		redo : "前进(Ctrl+Y)",
		cut : "剪切(Ctrl+X)",
		copy : "复制(Ctrl+C)",
		paste : "粘贴(Ctrl+V)",
		plainpaste : "粘贴为无格式文本",
		wordpaste : "从Word粘贴",
		selectall : "全选(Ctrl+A)",
		justifyleft : "左对齐",
		justifycenter : "居中",
		justifyright : "右对齐",
		justifyfull : "两端对齐",
		insertorderedlist : "编号",
		insertunorderedlist : "项目符号",
		indent : "增加缩进",
		outdent : "减少缩进",
		subscript : "下标",
		superscript : "上标",
		formatblock : "段落",
		fontname : "字体",
		fontsize : "文字大小",
		forecolor : "文字颜色",
		hilitecolor : "文字背景",
		bold : "粗体(Ctrl+B)",
		italic : "斜体(Ctrl+I)",
		underline : "下划线(Ctrl+U)",
		strikethrough : "删除线",
		removeformat : "删除格式",
		image : "图片",
		multiimage : "批量图片上传",
		flash : "Flash",
		media : "视音频",
		table : "表格",
		tablecell : "单元格",
		hr : "插入横线",
		emoticons : "插入表情",
		link : "超级链接",
		unlink : "取消超级链接",
		fullscreen : "全屏显示",
		about : "关于",
		print : "打印(Ctrl+P)",
		filemanager : "文件空间",
		code : "插入程序代码",
		map : "Google地图",
		baidumap : "百度地图",
		lineheight : "行距",
		clearhtml : "清理HTML代码",
		pagebreak : "插入分页符",
		quickformat : "一键排版",
		insertfile : "插入文件",
		template : "插入模板",
		anchor : "锚点",
		yes : "确定",
		no : "取消",
		close : "关闭",
		editImage : "图片属性",
		deleteImage : "删除图片",
		editFlash : "Flash属性",
		deleteFlash : "删除Flash",
		editMedia : "视音频属性",
		deleteMedia : "删除视音频",
		editLink : "超级链接属性",
		deleteLink : "取消超级链接",
		editAnchor : "锚点属性",
		deleteAnchor : "删除锚点",
		tableprop : "表格属性",
		tablecellprop : "单元格属性",
		tableinsert : "插入表格",
		tabledelete : "删除表格",
		tablecolinsertleft : "左侧插入列",
		tablecolinsertright : "右侧插入列",
		tablerowinsertabove : "上方插入行",
		tablerowinsertbelow : "下方插入行",
		tablerowmerge : "向下合并单元格",
		tablecolmerge : "向右合并单元格",
		tablerowsplit : "拆分行",
		tablecolsplit : "拆分列",
		tablecoldelete : "删除列",
		tablerowdelete : "删除行",
		noColor : "无颜色",
		pleaseSelectFile : "请选择文件。",
		invalidImg : "请输入有效的URL地址。\n只允许jpg,gif,bmp,png格式。",
		invalidMedia : "请输入有效的URL地址。\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。",
		invalidWidth : "宽度必须为数字。",
		invalidHeight : "高度必须为数字。",
		invalidBorder : "边框必须为数字。",
		invalidUrl : "请输入有效的URL地址。",
		invalidRows : "行数为必选项，只允许输入大于0的数字。",
		invalidCols : "列数为必选项，只允许输入大于0的数字。",
		invalidPadding : "边距必须为数字。",
		invalidSpacing : "间距必须为数字。",
		invalidJson : "服务器发生故障。",
		uploadSuccess : "上传成功。",
		cutError : "您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。",
		copyError : "您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。",
		pasteError : "您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。",
		ajaxLoading : "加载中，请稍候 ...",
		uploadLoading : "上传中，请稍候 ...",
		uploadError : "上传错误",
		"plainpaste.comment" : "请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。",
		"wordpaste.comment" : "请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。",
		"code.pleaseInput" : "请输入程序代码。",
		"link.url" : "URL",
		"link.linkType" : "打开类型",
		"link.newWindow" : "新窗口",
		"link.selfWindow" : "当前窗口",
		"flash.url" : "URL",
		"flash.width" : "宽度",
		"flash.height" : "高度",
		"flash.upload" : "上传",
		"flash.viewServer" : "文件空间",
		"media.url" : "URL",
		"media.width" : "宽度",
		"media.height" : "高度",
		"media.autostart" : "自动播放",
		"media.upload" : "上传",
		"media.viewServer" : "文件空间",
		"image.remoteImage" : "网络图片",
		"image.localImage" : "本地上传",
		"image.remoteUrl" : "图片地址",
		"image.localUrl" : "上传文件",
		"image.size" : "图片大小",
		"image.width" : "宽",
		"image.height" : "高",
		"image.resetSize" : "重置大小",
		"image.align" : "对齐方式",
		"image.defaultAlign" : "默认方式",
		"image.leftAlign" : "左对齐",
		"image.rightAlign" : "右对齐",
		"image.imgTitle" : "图片说明",
		"image.upload" : "浏览...",
		"image.viewServer" : "图片空间",
		"multiimage.uploadDesc" : "允许用户同时上传<%=uploadLimit%>张图片，单张图片容量不超过<%=sizeLimit%>",
		"multiimage.startUpload" : "开始上传",
		"multiimage.clearAll" : "全部清空",
		"multiimage.insertAll" : "全部插入",
		"multiimage.queueLimitExceeded" : "文件数量超过限制。",
		"multiimage.fileExceedsSizeLimit" : "文件大小超过限制。",
		"multiimage.zeroByteFile" : "无法上传空文件。",
		"multiimage.invalidFiletype" : "文件类型不正确。",
		"multiimage.unknownError" : "发生异常，无法上传。",
		"multiimage.pending" : "等待上传",
		"multiimage.uploadError" : "上传失败",
		"filemanager.emptyFolder" : "空文件夹",
		"filemanager.moveup" : "移到上一级文件夹",
		"filemanager.viewType" : "显示方式：",
		"filemanager.viewImage" : "缩略图",
		"filemanager.listImage" : "详细信息",
		"filemanager.orderType" : "排序方式：",
		"filemanager.fileName" : "名称",
		"filemanager.fileSize" : "大小",
		"filemanager.fileType" : "类型",
		"insertfile.url" : "URL",
		"insertfile.title" : "文件说明",
		"insertfile.upload" : "上传",
		"insertfile.viewServer" : "文件空间",
		"table.cells" : "单元格数",
		"table.rows" : "行数",
		"table.cols" : "列数",
		"table.size" : "大小",
		"table.width" : "宽度",
		"table.height" : "高度",
		"table.percent" : "%",
		"table.px" : "px",
		"table.space" : "边距间距",
		"table.padding" : "边距",
		"table.spacing" : "间距",
		"table.align" : "对齐方式",
		"table.textAlign" : "水平对齐",
		"table.verticalAlign" : "垂直对齐",
		"table.alignDefault" : "默认",
		"table.alignLeft" : "左对齐",
		"table.alignCenter" : "居中",
		"table.alignRight" : "右对齐",
		"table.alignTop" : "顶部",
		"table.alignMiddle" : "中部",
		"table.alignBottom" : "底部",
		"table.alignBaseline" : "基线",
		"table.border" : "边框",
		"table.borderWidth" : "边框",
		"table.borderColor" : "颜色",
		"table.backgroundColor" : "背景颜色",
		"map.address" : "地址: ",
		"map.search" : "搜索",
		"baidumap.address" : "地址: ",
		"baidumap.search" : "搜索",
		"baidumap.insertDynamicMap" : "插入动态地图",
		"anchor.name" : "锚点名称",
		"formatblock.formatBlock" : {
			h1 : "标题 1",
			h2 : "标题 2",
			h3 : "标题 3",
			h4 : "标题 4",
			p : "正 文"
		},
		"fontname.fontName" : {
			SimSun : "宋体",
			NSimSun : "新宋体",
			FangSong_GB2312 : "仿宋_GB2312",
			KaiTi_GB2312 : "楷体_GB2312",
			SimHei : "黑体",
			"Microsoft YaHei" : "微软雅黑",
			Arial : "Arial",
			"Arial Black" : "Arial Black",
			"Times New Roman" : "Times New Roman",
			"Courier New" : "Courier New",
			Tahoma : "Tahoma",
			Verdana : "Verdana"
		},
		"lineheight.lineHeight" : [{
				1 : "单倍行距"
			}, {
				1.5 : "1.5倍行距"
			}, {
				2 : "2倍行距"
			}, {
				2.5 : "2.5倍行距"
			}, {
				3 : "3倍行距"
			}
		],
		"template.selectTemplate" : "可选模板",
		"template.replaceContent" : "替换当前内容",
		"template.fileList" : {
			"1.html" : "图片和文字",
			"2.html" : "表格",
			"3.html" : "项目编号"
		}
	}, "zh_CN")
}), function ($) {
	var settings = {},
	roots = {},
	caches = {},
	_consts = {
		event : {
			NODECREATED : "ztree_nodeCreated",
			CLICK : "ztree_click",
			EXPAND : "ztree_expand",
			COLLAPSE : "ztree_collapse",
			ASYNC_SUCCESS : "ztree_async_success",
			ASYNC_ERROR : "ztree_async_error"
		},
		id : {
			A : "_a",
			ICON : "_ico",
			SPAN : "_span",
			SWITCH : "_switch",
			UL : "_ul"
		},
		line : {
			ROOT : "root",
			ROOTS : "roots",
			CENTER : "center",
			BOTTOM : "bottom",
			NOLINE : "noline",
			LINE : "line"
		},
		folder : {
			OPEN : "open",
			CLOSE : "close",
			DOCU : "docu"
		},
		node : {
			CURSELECTED : "curSelectedNode"
		}
	},
	_setting = {
		treeId : "",
		treeObj : null,
		view : {
			addDiyDom : null,
			autoCancelSelected : !0,
			dblClickExpand : !0,
			expandSpeed : "fast",
			fontCss : {},
			nameIsHTML : !1,
			selectedMulti : !0,
			showIcon : !0,
			showLine : !0,
			showTitle : !0
		},
		data : {
			key : {
				children : "children",
				name : "name",
				title : "",
				url : "url"
			},
			simpleData : {
				enable : !1,
				idKey : "id",
				pIdKey : "pId",
				rootPId : null
			},
			keep : {
				parent : !1,
				leaf : !1
			}
		},
		async : {
			enable : !1,
			contentType : "application/x-www-form-urlencoded",
			type : "post",
			dataType : "text",
			url : "",
			autoParam : [],
			otherParam : [],
			dataFilter : null
		},
		callback : {
			beforeAsync : null,
			beforeClick : null,
			beforeDblClick : null,
			beforeRightClick : null,
			beforeMouseDown : null,
			beforeMouseUp : null,
			beforeExpand : null,
			beforeCollapse : null,
			beforeRemove : null,
			onAsyncError : null,
			onAsyncSuccess : null,
			onNodeCreated : null,
			onClick : null,
			onDblClick : null,
			onRightClick : null,
			onMouseDown : null,
			onMouseUp : null,
			onExpand : null,
			onCollapse : null,
			onRemove : null
		}
	},
	_initRoot = function (e) {
		var t = data.getRoot(e);
		t || (t = {}, data.setRoot(e, t)),
		t[e.data.key.children] = [],
		t.expandTriggerFlag = !1,
		t.curSelectedList = [],
		t.noSelection = !0,
		t.createdNodes = [],
		t.zId = 0,
		t._ver = (new Date).getTime()
	},
	_initCache = function (e) {
		var t = data.getCache(e);
		t || (t = {}, data.setCache(e, t)),
		t.nodes = [],
		t.doms = []
	},
	_bindEvent = function (e) {
		var t = e.treeObj,
		n = consts.event;
		t.bind(n.NODECREATED, function (t, n, r) {
			tools.apply(e.callback.onNodeCreated, [t, n, r])
		}),
		t.bind(n.CLICK, function (t, n, r, i, s) {
			tools.apply(e.callback.onClick, [n, r, i, s])
		}),
		t.bind(n.EXPAND, function (t, n, r) {
			tools.apply(e.callback.onExpand, [t, n, r])
		}),
		t.bind(n.COLLAPSE, function (t, n, r) {
			tools.apply(e.callback.onCollapse, [t, n, r])
		}),
		t.bind(n.ASYNC_SUCCESS, function (t, n, r, i) {
			tools.apply(e.callback.onAsyncSuccess, [t, n, r, i])
		}),
		t.bind(n.ASYNC_ERROR, function (t, n, r, i, s, o) {
			tools.apply(e.callback.onAsyncError, [t, n, r, i, s, o])
		})
	},
	_unbindEvent = function (e) {
		var t = e.treeObj,
		n = consts.event;
		t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR)
	},
	_eventProxy = function (e) {
		var t = e.target,
		n = data.getSetting(e.data.treeId),
		r = "",
		i = null,
		s = "",
		o = "",
		u = null,
		a = null,
		f = null;
		tools.eqs(e.type, "mousedown") ? o = "mousedown" : tools.eqs(e.type, "mouseup") ? o = "mouseup" : tools.eqs(e.type, "contextmenu") ? o = "contextmenu" : tools.eqs(e.type, "click") ? tools.eqs(t.tagName, "span") && t.getAttribute("treeNode" + consts.id.SWITCH) !== null ? (r = ($(t).parent("li").get(0) || $(t).parentsUntil("li").parent().get(0)).id, s = "switchNode") : (f = tools.getMDom(n, t, [{
								tagName : "a",
								attrName : "treeNode" + consts.id.A
							}
						]), f && (r = ($(f).parent("li").get(0) || $(f).parentsUntil("li").parent().get(0)).id, s = "clickNode")) : tools.eqs(e.type, "dblclick") && (o = "dblclick", f = tools.getMDom(n, t, [{
								tagName : "a",
								attrName : "treeNode" + consts.id.A
							}
						]), f && (r = ($(f).parent("li").get(0) || $(f).parentsUntil("li").parent().get(0)).id, s = "switchNode")),
		o.length > 0 && r.length == 0 && (f = tools.getMDom(n, t, [{
							tagName : "a",
							attrName : "treeNode" + consts.id.A
						}
					]), f && (r = ($(f).parent("li").get(0) || $(f).parentsUntil("li").parent().get(0)).id));
		if (r.length > 0) {
			i = data.getNodeCache(n, r);
			switch (s) {
			case "switchNode":
				i.isParent ? tools.eqs(e.type, "click") || tools.eqs(e.type, "dblclick") && tools.apply(n.view.dblClickExpand, [n.treeId, i], n.view.dblClickExpand) ? u = handler.onSwitchNode : s = "" : s = "";
				break;
			case "clickNode":
				u = handler.onClickNode
			}
		}
		switch (o) {
		case "mousedown":
			a = handler.onZTreeMousedown;
			break;
		case "mouseup":
			a = handler.onZTreeMouseup;
			break;
		case "dblclick":
			a = handler.onZTreeDblclick;
			break;
		case "contextmenu":
			a = handler.onZTreeContextmenu
		}
		var l = {
			stop : !1,
			node : i,
			nodeEventType : s,
			nodeEventCallback : u,
			treeEventType : o,
			treeEventCallback : a
		};
		return l
	},
	_initNode = function (e, t, n, r, i, s, o) {
		if (!n)
			return;
		var u = data.getRoot(e),
		a = e.data.key.children;
		n.level = t,
		n.tId = e.treeId + "_" + ++u.zId,
		n.parentTId = r ? r.tId : null,
		n[a] && n[a].length > 0 ? (typeof n.open == "string" && (n.open = tools.eqs(n.open, "true")), n.open = !!n.open, n.isParent = !0, n.zAsync = !0) : (n.open = !1, typeof n.isParent == "string" && (n.isParent = tools.eqs(n.isParent, "true")), n.isParent = !!n.isParent, n.zAsync = !n.isParent),
		n.isFirstNode = i,
		n.isLastNode = s,
		n.getParentNode = function () {
			return data.getNodeCache(e, n.parentTId)
		},
		n.getPreNode = function () {
			return data.getPreNode(e, n)
		},
		n.getNextNode = function () {
			return data.getNextNode(e, n)
		},
		n.isAjaxing = !1,
		data.fixPIdKeyValue(e, n)
	},
	_init = {
		bind : [_bindEvent],
		unbind : [_unbindEvent],
		caches : [_initCache],
		nodes : [_initNode],
		proxys : [_eventProxy],
		roots : [_initRoot],
		beforeA : [],
		afterA : [],
		innerBeforeA : [],
		innerAfterA : [],
		zTreeTools : []
	},
	data = {
		addNodeCache : function (e, t) {
			data.getCache(e).nodes[data.getNodeCacheId(t.tId)] = t
		},
		getNodeCacheId : function (e) {
			return e.substring(e.lastIndexOf("_") + 1)
		},
		addAfterA : function (e) {
			_init.afterA.push(e)
		},
		addBeforeA : function (e) {
			_init.beforeA.push(e)
		},
		addInnerAfterA : function (e) {
			_init.innerAfterA.push(e)
		},
		addInnerBeforeA : function (e) {
			_init.innerBeforeA.push(e)
		},
		addInitBind : function (e) {
			_init.bind.push(e)
		},
		addInitUnBind : function (e) {
			_init.unbind.push(e)
		},
		addInitCache : function (e) {
			_init.caches.push(e)
		},
		addInitNode : function (e) {
			_init.nodes.push(e)
		},
		addInitProxy : function (e) {
			_init.proxys.push(e)
		},
		addInitRoot : function (e) {
			_init.roots.push(e)
		},
		addNodesData : function (e, t, n) {
			var r = e.data.key.children;
			t[r] || (t[r] = []),
			t[r].length > 0 && (t[r][t[r].length - 1].isLastNode = !1, view.setNodeLineIcos(e, t[r][t[r].length - 1])),
			t.isParent = !0,
			t[r] = t[r].concat(n)
		},
		addSelectedNode : function (e, t) {
			var n = data.getRoot(e);
			data.isSelectedNode(e, t) || n.curSelectedList.push(t)
		},
		addCreatedNode : function (e, t) {
			if (!!e.callback.onNodeCreated || !!e.view.addDiyDom) {
				var n = data.getRoot(e);
				n.createdNodes.push(t)
			}
		},
		addZTreeTools : function (e) {
			_init.zTreeTools.push(e)
		},
		exSetting : function (e) {
			$.extend(!0, _setting, e)
		},
		fixPIdKeyValue : function (e, t) {
			e.data.simpleData.enable && (t[e.data.simpleData.pIdKey] = t.parentTId ? t.getParentNode()[e.data.simpleData.idKey] : e.data.simpleData.rootPId)
		},
		getAfterA : function (e, t, n) {
			for (var r = 0, i = _init.afterA.length; r < i; r++)
				_init.afterA[r].apply(this, arguments)
		},
		getBeforeA : function (e, t, n) {
			for (var r = 0, i = _init.beforeA.length; r < i; r++)
				_init.beforeA[r].apply(this, arguments)
		},
		getInnerAfterA : function (e, t, n) {
			for (var r = 0, i = _init.innerAfterA.length; r < i; r++)
				_init.innerAfterA[r].apply(this, arguments)
		},
		getInnerBeforeA : function (e, t, n) {
			for (var r = 0, i = _init.innerBeforeA.length; r < i; r++)
				_init.innerBeforeA[r].apply(this, arguments)
		},
		getCache : function (e) {
			return caches[e.treeId]
		},
		getNextNode : function (e, t) {
			if (!t)
				return null;
			var n = e.data.key.children,
			r = t.parentTId ? t.getParentNode() : data.getRoot(e);
			for (var i = 0, s = r[n].length - 1; i <= s; i++)
				if (r[n][i] === t)
					return i == s ? null : r[n][i + 1];
			return null
		},
		getNodeByParam : function (e, t, n, r) {
			if (!t || !n)
				return null;
			var i = e.data.key.children;
			for (var s = 0, o = t.length; s < o; s++) {
				if (t[s][n] == r)
					return t[s];
				var u = data.getNodeByParam(e, t[s][i], n, r);
				if (u)
					return u
			}
			return null
		},
		getNodeCache : function (e, t) {
			if (!t)
				return null;
			var n = caches[e.treeId].nodes[data.getNodeCacheId(t)];
			return n ? n : null
		},
		getNodeName : function (e, t) {
			var n = e.data.key.name;
			return "" + t[n]
		},
		getNodeTitle : function (e, t) {
			var n = e.data.key.title === "" ? e.data.key.name : e.data.key.title;
			return "" + t[n]
		},
		getNodes : function (e) {
			return data.getRoot(e)[e.data.key.children]
		},
		getNodesByParam : function (e, t, n, r) {
			if (!t || !n)
				return [];
			var i = e.data.key.children,
			s = [];
			for (var o = 0, u = t.length; o < u; o++)
				t[o][n] == r && s.push(t[o]), s = s.concat(data.getNodesByParam(e, t[o][i], n, r));
			return s
		},
		getNodesByParamFuzzy : function (e, t, n, r) {
			if (!t || !n)
				return [];
			var i = e.data.key.children,
			s = [];
			for (var o = 0, u = t.length; o < u; o++)
				typeof t[o][n] == "string" && t[o][n].indexOf(r) > -1 && s.push(t[o]), s = s.concat(data.getNodesByParamFuzzy(e, t[o][i], n, r));
			return s
		},
		getNodesByFilter : function (e, t, n, r, i) {
			if (!t)
				return r ? null : [];
			var s = e.data.key.children,
			o = r ? null : [];
			for (var u = 0, a = t.length; u < a; u++) {
				if (tools.apply(n, [t[u], i], !1)) {
					if (r)
						return t[u];
					o.push(t[u])
				}
				var f = data.getNodesByFilter(e, t[u][s], n, r, i);
				if (r && !!f)
					return f;
				o = r ? f : o.concat(f)
			}
			return o
		},
		getPreNode : function (e, t) {
			if (!t)
				return null;
			var n = e.data.key.children,
			r = t.parentTId ? t.getParentNode() : data.getRoot(e);
			for (var i = 0, s = r[n].length; i < s; i++)
				if (r[n][i] === t)
					return i == 0 ? null : r[n][i - 1];
			return null
		},
		getRoot : function (e) {
			return e ? roots[e.treeId] : null
		},
		getSetting : function (e) {
			return settings[e]
		},
		getSettings : function () {
			return settings
		},
		getZTreeTools : function (e) {
			var t = this.getRoot(this.getSetting(e));
			return t ? t.treeTools : null
		},
		initCache : function (e) {
			for (var t = 0, n = _init.caches.length; t < n; t++)
				_init.caches[t].apply(this, arguments)
		},
		initNode : function (e, t, n, r, i, s) {
			for (var o = 0, u = _init.nodes.length; o < u; o++)
				_init.nodes[o].apply(this, arguments)
		},
		initRoot : function (e) {
			for (var t = 0, n = _init.roots.length; t < n; t++)
				_init.roots[t].apply(this, arguments)
		},
		isSelectedNode : function (e, t) {
			var n = data.getRoot(e);
			for (var r = 0, i = n.curSelectedList.length; r < i; r++)
				if (t === n.curSelectedList[r])
					return !0;
			return !1
		},
		removeNodeCache : function (e, t) {
			var n = e.data.key.children;
			if (t[n])
				for (var r = 0, i = t[n].length; r < i; r++)
					arguments.callee(e, t[n][r]);
			data.getCache(e).nodes[data.getNodeCacheId(t.tId)] = null
		},
		removeSelectedNode : function (e, t) {
			var n = data.getRoot(e);
			for (var r = 0, i = n.curSelectedList.length; r < i; r++)
				if (t === n.curSelectedList[r] || !data.getNodeCache(e, n.curSelectedList[r].tId))
					n.curSelectedList.splice(r, 1), r--, i--
		},
		setCache : function (e, t) {
			caches[e.treeId] = t
		},
		setRoot : function (e, t) {
			roots[e.treeId] = t
		},
		setZTreeTools : function (e, t) {
			for (var n = 0, r = _init.zTreeTools.length; n < r; n++)
				_init.zTreeTools[n].apply(this, arguments)
		},
		transformToArrayFormat : function (e, t) {
			if (!t)
				return [];
			var n = e.data.key.children,
			r = [];
			if (tools.isArray(t))
				for (var i = 0, s = t.length; i < s; i++)
					r.push(t[i]), t[i][n] && (r = r.concat(data.transformToArrayFormat(e, t[i][n])));
			else
				r.push(t), t[n] && (r = r.concat(data.transformToArrayFormat(e, t[n])));
			return r
		},
		transformTozTreeFormat : function (e, t) {
			var n,
			r,
			i = e.data.simpleData.idKey,
			s = e.data.simpleData.pIdKey,
			o = e.data.key.children;
			if (!i || i == "" || !t)
				return [];
			if (tools.isArray(t)) {
				var u = [],
				a = [];
				for (n = 0, r = t.length; n < r; n++)
					a[t[n][i]] = t[n];
				for (n = 0, r = t.length; n < r; n++)
					a[t[n][s]] && t[n][i] != t[n][s] ? (a[t[n][s]][o] || (a[t[n][s]][o] = []), a[t[n][s]][o].push(t[n])) : u.push(t[n]);
				return u
			}
			return [t]
		}
	},
	event = {
		bindEvent : function (e) {
			for (var t = 0, n = _init.bind.length; t < n; t++)
				_init.bind[t].apply(this, arguments)
		},
		unbindEvent : function (e) {
			for (var t = 0, n = _init.unbind.length; t < n; t++)
				_init.unbind[t].apply(this, arguments)
		},
		bindTree : function (e) {
			var t = {
				treeId : e.treeId
			},
			n = e.treeObj;
			n.bind("click", t, event.proxy),
			n.bind("dblclick", t, event.proxy),
			n.bind("mouseover", t, event.proxy),
			n.bind("mouseout", t, event.proxy),
			n.bind("mousedown", t, event.proxy),
			n.bind("mouseup", t, event.proxy),
			n.bind("contextmenu", t, event.proxy)
		},
		unbindTree : function (e) {
			var t = e.treeObj;
			t.unbind("click", event.proxy).unbind("dblclick", event.proxy).unbind("mouseover", event.proxy).unbind("mouseout", event.proxy).unbind("mousedown", event.proxy).unbind("mouseup", event.proxy).unbind("contextmenu", event.proxy)
		},
		doProxy : function (e) {
			var t = [];
			for (var n = 0, r = _init.proxys.length; n < r; n++) {
				var i = _init.proxys[n].apply(this, arguments);
				t.push(i);
				if (i.stop)
					break
			}
			return t
		},
		proxy : function (e) {
			var t = data.getSetting(e.data.treeId);
			if (!tools.uCanDo(t, e))
				return !0;
			var n = event.doProxy(e),
			r = !0,
			i = !1;
			for (var s = 0, o = n.length; s < o; s++) {
				var u = n[s];
				u.nodeEventCallback && (i = !0, r = u.nodeEventCallback.apply(u, [e, u.node]) && r),
				u.treeEventCallback && (i = !0, r = u.treeEventCallback.apply(u, [e, u.node]) && r)
			}
			try {
				i && $("input:focus").length == 0 && tools.noSel(t)
			} catch (e) {}

			return r
		}
	},
	handler = {
		onSwitchNode : function (e, t) {
			var n = data.getSetting(e.data.treeId);
			if (t.open) {
				if (tools.apply(n.callback.beforeCollapse, [n.treeId, t], true) == 0)
					return !0;
				data.getRoot(n).expandTriggerFlag = !0,
				view.switchNode(n, t)
			} else {
				if (tools.apply(n.callback.beforeExpand, [n.treeId, t], true) == 0)
					return !0;
				data.getRoot(n).expandTriggerFlag = !0,
				view.switchNode(n, t)
			}
			return !0
		},
		onClickNode : function (e, t) {
			var n = data.getSetting(e.data.treeId),
			r = n.view.autoCancelSelected && e.ctrlKey && data.isSelectedNode(n, t) ? 0 : n.view.autoCancelSelected && e.ctrlKey && n.view.selectedMulti ? 2 : 1;
			return tools.apply(n.callback.beforeClick, [n.treeId, t, r], true) == 0 ? !0 : (r === 0 ? view.cancelPreSelectedNode(n, t) : view.selectNode(n, t, r === 2), n.treeObj.trigger(consts.event.CLICK, [e, n.treeId, t, r]), !0)
		},
		onZTreeMousedown : function (e, t) {
			var n = data.getSetting(e.data.treeId);
			return tools.apply(n.callback.beforeMouseDown, [n.treeId, t], !0) && tools.apply(n.callback.onMouseDown, [e, n.treeId, t]),
			!0
		},
		onZTreeMouseup : function (e, t) {
			var n = data.getSetting(e.data.treeId);
			return tools.apply(n.callback.beforeMouseUp, [n.treeId, t], !0) && tools.apply(n.callback.onMouseUp, [e, n.treeId, t]),
			!0
		},
		onZTreeDblclick : function (e, t) {
			var n = data.getSetting(e.data.treeId);
			return tools.apply(n.callback.beforeDblClick, [n.treeId, t], !0) && tools.apply(n.callback.onDblClick, [e, n.treeId, t]),
			!0
		},
		onZTreeContextmenu : function (e, t) {
			var n = data.getSetting(e.data.treeId);
			return tools.apply(n.callback.beforeRightClick, [n.treeId, t], !0) && tools.apply(n.callback.onRightClick, [e, n.treeId, t]),
			typeof n.callback.onRightClick != "function"
		}
	},
	tools = {
		apply : function (e, t, n) {
			return typeof e == "function" ? e.apply(zt, t ? t : []) : n
		},
		canAsync : function (e, t) {
			var n = e.data.key.children;
			return e.async.enable && t && t.isParent && !(t.zAsync || t[n] && t[n].length > 0)
		},
		clone : function (e) {
			if (e === null)
				return null;
			var t = e.constructor === Array ? [] : {};
			for (var n in e)
				t[n] = e[n]instanceof Date ? new Date(e[n].getTime()) : typeof e[n] == "object" ? arguments.callee(e[n]) : e[n];
			return t
		},
		eqs : function (e, t) {
			return e.toLowerCase() === t.toLowerCase()
		},
		isArray : function (e) {
			return Object.prototype.toString.apply(e) === "[object Array]"
		},
		getMDom : function (e, t, n) {
			if (!t)
				return null;
			while (t && t.id !== e.treeId) {
				for (var r = 0, i = n.length; t.tagName && r < i; r++)
					if (tools.eqs(t.tagName, n[r].tagName) && t.getAttribute(n[r].attrName) !== null)
						return t;
				t = t.parentNode
			}
			return null
		},
		noSel : function (e) {
			var t = data.getRoot(e);
			if (t.noSelection)
				try {
					window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty()
				} catch (n) {}

		},
		uCanDo : function (e, t) {
			return !0
		}
	},
	view = {
		addNodes : function (e, t, n, r) {
			if (e.data.keep.leaf && t && !t.isParent)
				return;
			tools.isArray(n) || (n = [n]),
			e.data.simpleData.enable && (n = data.transformTozTreeFormat(e, n));
			if (t) {
				var i = $("#" + t.tId + consts.id.SWITCH),
				s = $("#" + t.tId + consts.id.ICON),
				o = $("#" + t.tId + consts.id.UL);
				t.open || (view.replaceSwitchClass(t, i, consts.folder.CLOSE), view.replaceIcoClass(t, s, consts.folder.CLOSE), t.open = !1, o.css({
						display : "none"
					})),
				data.addNodesData(e, t, n),
				view.createNodes(e, t.level + 1, n, t),
				r || view.expandCollapseParentNode(e, t, !0)
			} else
				data.addNodesData(e, data.getRoot(e), n), view.createNodes(e, 0, n, null)
		},
		appendNodes : function (e, t, n, r, i, s) {
			if (!n)
				return [];
			var o = [],
			u = e.data.key.children;
			for (var a = 0, f = n.length; a < f; a++) {
				var l = n[a];
				if (i) {
					var c = r ? r : data.getRoot(e),
					h = c[u],
					p = h.length == n.length && a == 0,
					d = a == n.length - 1;
					data.initNode(e, t, l, r, p, d, s),
					data.addNodeCache(e, l)
				}
				var v = [];
				l[u] && l[u].length > 0 && (v = view.appendNodes(e, t + 1, l[u], l, i, s && l.open)),
				s && (view.makeDOMNodeMainBefore(o, e, l), view.makeDOMNodeLine(o, e, l), data.getBeforeA(e, l, o), view.makeDOMNodeNameBefore(o, e, l), data.getInnerBeforeA(e, l, o), view.makeDOMNodeIcon(o, e, l), data.getInnerAfterA(e, l, o), view.makeDOMNodeNameAfter(o, e, l), data.getAfterA(e, l, o), l.isParent && l.open && view.makeUlHtml(e, l, o, v.join("")), view.makeDOMNodeMainAfter(o, e, l), data.addCreatedNode(e, l))
			}
			return o
		},
		appendParentULDom : function (e, t) {
			var n = [],
			r = $("#" + t.tId),
			i = $("#" + t.tId + consts.id.UL),
			s = e.data.key.children,
			o = view.appendNodes(e, t.level + 1, t[s], t, !1, !0);
			view.makeUlHtml(e, t, n, o.join("")),
			!r.get(0) && !!t.parentTId && (view.appendParentULDom(e, t.getParentNode()), r = $("#" + t.tId)),
			i.get(0) && i.remove(),
			r.append(n.join(""))
		},
		asyncNode : function (setting, node, isSilent, callback) {
			var i,
			l;
			if (node && !node.isParent)
				return tools.apply(callback), !1;
			if (node && node.isAjaxing)
				return !1;
			if (tools.apply(setting.callback.beforeAsync, [setting.treeId, node], true) == 0)
				return tools.apply(callback), !1;
			if (node) {
				node.isAjaxing = !0;
				var icoObj = $("#" + node.tId + consts.id.ICON);
				icoObj.attr({
					style : "",
					"class" : "button ico_loading"
				})
			}
			var isJson = setting.async.contentType == "application/json",
			tmpParam = isJson ? "{" : "",
			jTemp = "";
			for (i = 0, l = setting.async.autoParam.length; node && i < l; i++) {
				var pKey = setting.async.autoParam[i].split("="),
				spKey = pKey;
				pKey.length > 1 && (spKey = pKey[1], pKey = pKey[0]),
				isJson ? (jTemp = typeof node[pKey] == "string" ? '"' : "", tmpParam += '"' + spKey + ('":' + jTemp + node[pKey]).replace(/'/g, "\\'") + jTemp + ",") : tmpParam += spKey + ("=" + node[pKey]).replace(/&/g, "%26") + "&"
			}
			if (tools.isArray(setting.async.otherParam))
				for (i = 0, l = setting.async.otherParam.length; i < l; i += 2)
					isJson ? (jTemp = typeof setting.async.otherParam[i + 1] == "string" ? '"' : "", tmpParam += '"' + setting.async.otherParam[i] + ('":' + jTemp + setting.async.otherParam[i + 1]).replace(/'/g, "\\'") + jTemp + ",") : tmpParam += setting.async.otherParam[i] + ("=" + setting.async.otherParam[i + 1]).replace(/&/g, "%26") + "&";
			else
				for (var p in setting.async.otherParam)
					isJson ? (jTemp = typeof setting.async.otherParam[p] == "string" ? '"' : "", tmpParam += '"' + p + ('":' + jTemp + setting.async.otherParam[p]).replace(/'/g, "\\'") + jTemp + ",") : tmpParam += p + ("=" + setting.async.otherParam[p]).replace(/&/g, "%26") + "&";
			tmpParam.length > 1 && (tmpParam = tmpParam.substring(0, tmpParam.length - 1)),
			isJson && (tmpParam += "}");
			var _tmpV = data.getRoot(setting)._ver;
			return $.ajax({
				contentType : setting.async.contentType,
				type : setting.async.type,
				url : tools.apply(setting.async.url, [setting.treeId, node], setting.async.url),
				data : tmpParam,
				dataType : setting.async.dataType,
				success : function (msg) {
					if (_tmpV != data.getRoot(setting)._ver)
						return;
					var newNodes = [];
					try {
						!msg || msg.length == 0 ? newNodes = [] : typeof msg == "string" ? newNodes = eval("(" + msg + ")") : newNodes = msg
					} catch (err) {
						newNodes = msg
					}
					node && (node.isAjaxing = null, node.zAsync = !0),
					view.setNodeLineIcos(setting, node),
					newNodes && newNodes !== "" ? (newNodes = tools.apply(setting.async.dataFilter, [setting.treeId, node, newNodes], newNodes), view.addNodes(setting, node, newNodes ? tools.clone(newNodes) : [], !!isSilent)) : view.addNodes(setting, node, [], !!isSilent),
					setting.treeObj.trigger(consts.event.ASYNC_SUCCESS, [setting.treeId, node, msg]),
					tools.apply(callback)
				},
				error : function (e, t, n) {
					if (_tmpV != data.getRoot(setting)._ver)
						return;
					node && (node.isAjaxing = null),
					view.setNodeLineIcos(setting, node),
					setting.treeObj.trigger(consts.event.ASYNC_ERROR, [setting.treeId, node, e, t, n])
				}
			}),
			!0
		},
		cancelPreSelectedNode : function (e, t) {
			var n = data.getRoot(e).curSelectedList;
			for (var r = 0, i = n.length - 1; i >= r; i--)
				if (!t || t === n[i]) {
					$("#" + n[i].tId + consts.id.A).removeClass(consts.node.CURSELECTED);
					if (t) {
						data.removeSelectedNode(e, t);
						break
					}
				}
			t || (data.getRoot(e).curSelectedList = [])
		},
		createNodeCallback : function (e) {
			if (!!e.callback.onNodeCreated || !!e.view.addDiyDom) {
				var t = data.getRoot(e);
				while (t.createdNodes.length > 0) {
					var n = t.createdNodes.shift();
					tools.apply(e.view.addDiyDom, [e.treeId, n]),
					!e.callback.onNodeCreated || e.treeObj.trigger(consts.event.NODECREATED, [e.treeId, n])
				}
			}
		},
		createNodes : function (e, t, n, r) {
			if (!n || n.length == 0)
				return;
			var i = data.getRoot(e),
			s = e.data.key.children,
			o = !r || r.open || !!$("#" + r[s][0].tId).get(0);
			i.createdNodes = [];
			var u = view.appendNodes(e, t, n, r, !0, o);
			if (!r)
				e.treeObj.append(u.join(""));
			else {
				var a = $("#" + r.tId + consts.id.UL);
				a.get(0) && a.append(u.join(""))
			}
			view.createNodeCallback(e)
		},
		destroy : function (e) {
			if (!e)
				return;
			data.initCache(e),
			data.initRoot(e),
			event.unbindTree(e),
			event.unbindEvent(e),
			e.treeObj.empty()
		},
		expandCollapseNode : function (e, t, n, r, i) {
			var s = data.getRoot(e),
			o = e.data.key.children;
			if (!t) {
				tools.apply(i, []);
				return
			}
			if (s.expandTriggerFlag) {
				var u = i;
				i = function () {
					u && u(),
					t.open ? e.treeObj.trigger(consts.event.EXPAND, [e.treeId, t]) : e.treeObj.trigger(consts.event.COLLAPSE, [e.treeId, t])
				},
				s.expandTriggerFlag = !1
			}
			!t.open && t.isParent && (!$("#" + t.tId + consts.id.UL).get(0) || t[o] && t[o].length > 0 && !$("#" + t[o][0].tId).get(0)) && (view.appendParentULDom(e, t), view.createNodeCallback(e));
			if (t.open == n) {
				tools.apply(i, []);
				return
			}
			var a = $("#" + t.tId + consts.id.UL),
			f = $("#" + t.tId + consts.id.SWITCH),
			l = $("#" + t.tId + consts.id.ICON);
			t.isParent ? (t.open = !t.open, t.iconOpen && t.iconClose && l.attr("style", view.makeNodeIcoStyle(e, t)), t.open ? (view.replaceSwitchClass(t, f, consts.folder.OPEN), view.replaceIcoClass(t, l, consts.folder.OPEN), r == 0 || e.view.expandSpeed == "" ? (a.show(), tools.apply(i, [])) : t[o] && t[o].length > 0 ? a.slideDown(e.view.expandSpeed, i) : (a.show(), tools.apply(i, []))) : (view.replaceSwitchClass(t, f, consts.folder.CLOSE), view.replaceIcoClass(t, l, consts.folder.CLOSE), r == 0 || e.view.expandSpeed == "" || !(t[o] && t[o].length > 0) ? (a.hide(), tools.apply(i, [])) : a.slideUp(e.view.expandSpeed, i))) : tools.apply(i, [])
		},
		expandCollapseParentNode : function (e, t, n, r, i) {
			if (!t)
				return;
			if (!t.parentTId) {
				view.expandCollapseNode(e, t, n, r, i);
				return
			}
			view.expandCollapseNode(e, t, n, r),
			t.parentTId && view.expandCollapseParentNode(e, t.getParentNode(), n, r, i)
		},
		expandCollapseSonNode : function (e, t, n, r, i) {
			var s = data.getRoot(e),
			o = e.data.key.children,
			u = t ? t[o] : s[o],
			a = t ? !1 : r,
			f = data.getRoot(e).expandTriggerFlag;
			data.getRoot(e).expandTriggerFlag = !1;
			if (u)
				for (var l = 0, c = u.length; l < c; l++)
					u[l] && view.expandCollapseSonNode(e, u[l], n, a);
			data.getRoot(e).expandTriggerFlag = f,
			view.expandCollapseNode(e, t, n, r, i)
		},
		makeDOMNodeIcon : function (e, t, n) {
			var r = data.getNodeName(t, n),
			i = t.view.nameIsHTML ? r : r.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
			e.push("<span id='", n.tId, consts.id.ICON, "' title='' treeNode", consts.id.ICON, " class='", view.makeNodeIcoClass(t, n), "' style='", view.makeNodeIcoStyle(t, n), "'></span><span id='", n.tId, consts.id.SPAN, "'>", i, "</span>")
		},
		makeDOMNodeLine : function (e, t, n) {
			e.push("<span id='", n.tId, consts.id.SWITCH, "' title='' class='", view.makeNodeLineClass(t, n), "' treeNode", consts.id.SWITCH, "></span>")
		},
		makeDOMNodeMainAfter : function (e, t, n) {
			e.push("</li>")
		},
		makeDOMNodeMainBefore : function (e, t, n) {
			var r = "";
			n.isParent || (r += "horizontal"),
			r += " level",
			e.push("<li id='", n.tId, "' class='" + r, n.level, "' tabindex='0' hidefocus='true' treenode>")
		},
		makeDOMNodeNameAfter : function (e, t, n) {
			e.push("</a>")
		},
		makeDOMNodeNameBefore : function (e, t, n) {
			var r = data.getNodeTitle(t, n),
			i = view.makeNodeUrl(t, n),
			s = view.makeNodeFontCss(t, n),
			o = [];
			for (var u in s)
				o.push(u, ":", s[u], ";");
			e.push("<a id='", n.tId, consts.id.A, "' class='level", n.level, "' treeNode", consts.id.A, ' onclick="', n.click || "", '" ', i != null && i.length > 0 ? "href='" + i + "'" : "", " target='", view.makeNodeTarget(n), "' style='", o.join(""), "'"),
			tools.apply(t.view.showTitle, [t.treeId, n], t.view.showTitle) && r && e.push("title='", r.replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "'"),
			e.push(">")
		},
		makeNodeFontCss : function (e, t) {
			var n = tools.apply(e.view.fontCss, [e.treeId, t], e.view.fontCss);
			return n && typeof n != "function" ? n : {}

		},
		makeNodeIcoClass : function (e, t) {
			var n = ["ico"];
			return t.isAjaxing || (n[0] = (t.iconSkin ? t.iconSkin + "_" : "") + n[0], t.isParent ? n.push(t.open ? consts.folder.OPEN : consts.folder.CLOSE) : n.push(consts.folder.DOCU)),
			"button " + n.join("_")
		},
		makeNodeIcoStyle : function (e, t) {
			var n = [];
			if (!t.isAjaxing) {
				var r = t.isParent && t.iconOpen && t.iconClose ? t.open ? t.iconOpen : t.iconClose : t.icon;
				r && n.push("background:url(", r, ") 0 0 no-repeat;"),
				(e.view.showIcon == 0 || !tools.apply(e.view.showIcon, [e.treeId, t], !0)) && n.push("width:0px;height:0px;")
			}
			return n.join("")
		},
		makeNodeLineClass : function (e, t) {
			var n = [];
			return e.view.showLine ? t.level == 0 && t.isFirstNode && t.isLastNode ? n.push(consts.line.ROOT) : t.level == 0 && t.isFirstNode ? n.push(consts.line.ROOTS) : t.isLastNode ? n.push(consts.line.BOTTOM) : n.push(consts.line.CENTER) : n.push(consts.line.NOLINE),
			t.isParent ? n.push(t.open ? consts.folder.OPEN : consts.folder.CLOSE) : n.push(consts.folder.DOCU),
			view.makeNodeLineClassEx(t) + n.join("_")
		},
		makeNodeLineClassEx : function (e) {
			return "button level" + e.level + " switch "
		},
		makeNodeTarget : function (e) {
			return e.target || "_blank"
		},
		makeNodeUrl : function (e, t) {
			var n = e.data.key.url;
			return t[n] ? t[n] : null
		},
		makeUlHtml : function (e, t, n, r) {
			n.push("<ul id='", t.tId, consts.id.UL, "' class='level", t.level, " ", view.makeUlLineClass(e, t), "' style='display:", t.open ? "block" : "none", "'>"),
			n.push(r),
			n.push("</ul>")
		},
		makeUlLineClass : function (e, t) {
			return e.view.showLine && !t.isLastNode ? consts.line.LINE : ""
		},
		removeChildNodes : function (e, t) {
			if (!t)
				return;
			var n = e.data.key.children,
			r = t[n];
			if (!r)
				return;
			for (var i = 0, s = r.length; i < s; i++)
				data.removeNodeCache(e, r[i]);
			data.removeSelectedNode(e),
			delete t[n];
			if (!e.data.keep.parent) {
				t.isParent = !1,
				t.open = !1;
				var o = $("#" + t.tId + consts.id.SWITCH),
				u = $("#" + t.tId + consts.id.ICON);
				view.replaceSwitchClass(t, o, consts.folder.DOCU),
				view.replaceIcoClass(t, u, consts.folder.DOCU),
				$("#" + t.tId + consts.id.UL).remove()
			} else
				$("#" + t.tId + consts.id.UL).empty()
		},
		setFirstNode : function (e, t) {
			var n = e.data.key.children,
			r = t[n].length;
			r > 0 && (t[n][0].isFirstNode = !0)
		},
		setLastNode : function (e, t) {
			var n = e.data.key.children,
			r = t[n].length;
			r > 0 && (t[n][r - 1].isLastNode = !0)
		},
		removeNode : function (e, t) {
			var n = data.getRoot(e),
			r = e.data.key.children,
			i = t.parentTId ? t.getParentNode() : n;
			t.isFirstNode = !1,
			t.isLastNode = !1,
			t.getPreNode = function () {
				return null
			},
			t.getNextNode = function () {
				return null
			};
			if (!data.getNodeCache(e, t.tId))
				return;
			$("#" + t.tId).remove(),
			data.removeNodeCache(e, t),
			data.removeSelectedNode(e, t);
			for (var s = 0, o = i[r].length; s < o; s++)
				if (i[r][s].tId == t.tId) {
					i[r].splice(s, 1);
					break
				}
			view.setFirstNode(e, i),
			view.setLastNode(e, i);
			var u,
			a,
			f,
			l = i[r].length;
			if (!e.data.keep.parent && l == 0)
				i.isParent = !1, i.open = !1, u = $("#" + i.tId + consts.id.UL), a = $("#" + i.tId + consts.id.SWITCH), f = $("#" + i.tId + consts.id.ICON), view.replaceSwitchClass(i, a, consts.folder.DOCU), view.replaceIcoClass(i, f, consts.folder.DOCU), u.css("display", "none");
			else if (e.view.showLine && l > 0) {
				var c = i[r][l - 1];
				u = $("#" + c.tId + consts.id.UL),
				a = $("#" + c.tId + consts.id.SWITCH),
				f = $("#" + c.tId + consts.id.ICON);
				if (i == n)
					if (i[r].length == 1)
						view.replaceSwitchClass(c, a, consts.line.ROOT);
					else {
						var h = $("#" + i[r][0].tId + consts.id.SWITCH);
						view.replaceSwitchClass(i[r][0], h, consts.line.ROOTS),
						view.replaceSwitchClass(c, a, consts.line.BOTTOM)
					}
				else
					view.replaceSwitchClass(c, a, consts.line.BOTTOM);
				u.removeClass(consts.line.LINE)
			}
		},
		replaceIcoClass : function (e, t, n) {
			if (!t || e.isAjaxing)
				return;
			var r = t.attr("class");
			if (r == undefined)
				return;
			var i = r.split("_");
			switch (n) {
			case consts.folder.OPEN:
			case consts.folder.CLOSE:
			case consts.folder.DOCU:
				i[i.length - 1] = n
			}
			t.attr("class", i.join("_"))
		},
		replaceSwitchClass : function (e, t, n) {
			if (!t)
				return;
			var r = t.attr("class");
			if (r == undefined)
				return;
			var i = r.split("_");
			switch (n) {
			case consts.line.ROOT:
			case consts.line.ROOTS:
			case consts.line.CENTER:
			case consts.line.BOTTOM:
			case consts.line.NOLINE:
				i[0] = view.makeNodeLineClassEx(e) + n;
				break;
			case consts.folder.OPEN:
			case consts.folder.CLOSE:
			case consts.folder.DOCU:
				i[1] = n
			}
			t.attr("class", i.join("_")),
			n !== consts.folder.DOCU ? t.removeAttr("disabled") : t.attr("disabled", "disabled")
		},
		selectNode : function (e, t, n) {
			n || view.cancelPreSelectedNode(e),
			$("#" + t.tId + consts.id.A).addClass(consts.node.CURSELECTED),
			data.addSelectedNode(e, t)
		},
		setNodeFontCss : function (e, t) {
			var n = $("#" + t.tId + consts.id.A),
			r = view.makeNodeFontCss(e, t);
			r && n.css(r)
		},
		setNodeLineIcos : function (e, t) {
			if (!t)
				return;
			var n = $("#" + t.tId + consts.id.SWITCH),
			r = $("#" + t.tId + consts.id.UL),
			i = $("#" + t.tId + consts.id.ICON),
			s = view.makeUlLineClass(e, t);
			s.length == 0 ? r.removeClass(consts.line.LINE) : r.addClass(s),
			n.attr("class", view.makeNodeLineClass(e, t)),
			t.isParent ? n.removeAttr("disabled") : n.attr("disabled", "disabled"),
			i.removeAttr("style"),
			i.attr("style", view.makeNodeIcoStyle(e, t)),
			i.attr("class", view.makeNodeIcoClass(e, t))
		},
		setNodeName : function (e, t) {
			var n = data.getNodeTitle(e, t),
			r = $("#" + t.tId + consts.id.SPAN);
			r.empty(),
			e.view.nameIsHTML ? r.html(data.getNodeName(e, t)) : r.text(data.getNodeName(e, t));
			if (tools.apply(e.view.showTitle, [e.treeId, t], e.view.showTitle)) {
				var i = $("#" + t.tId + consts.id.A);
				i.attr("title", n ? n : "")
			}
		},
		setNodeTarget : function (e) {
			var t = $("#" + e.tId + consts.id.A);
			t.attr("target", view.makeNodeTarget(e))
		},
		setNodeUrl : function (e, t) {
			var n = $("#" + t.tId + consts.id.A),
			r = view.makeNodeUrl(e, t);
			r == null || r.length == 0 ? n.removeAttr("href") : n.attr("href", r)
		},
		switchNode : function (e, t) {
			if (t.open || !tools.canAsync(e, t))
				view.expandCollapseNode(e, t, !t.open);
			else if (e.async.enable) {
				if (!view.asyncNode(e, t)) {
					view.expandCollapseNode(e, t, !t.open);
					return
				}
			} else
				t && view.expandCollapseNode(e, t, !t.open)
		}
	};
	$.fn.zTree = {
		consts : _consts,
		_z : {
			tools : tools,
			view : view,
			event : event,
			data : data
		},
		getZTreeObj : function (e) {
			var t = data.getZTreeTools(e);
			return t ? t : null
		},
		destroy : function (e) {
			if (!!e && e.length > 0)
				view.destroy(data.getSetting(e));
			else
				for (var t in settings)
					view.destroy(settings[t])
		},
		init : function (e, t, n) {
			var r = tools.clone(_setting);
			$.extend(!0, r, t),
			r.treeId = e.attr("id"),
			r.treeObj = e,
			r.treeObj.empty(),
			settings[r.treeId] = r,
			$.browser.msie && parseInt($.browser.version) < 7 && (r.view.expandSpeed = ""),
			data.initRoot(r);
			var i = data.getRoot(r),
			s = r.data.key.children;
			n = n ? tools.clone(tools.isArray(n) ? n : [n]) : [],
			r.data.simpleData.enable ? i[s] = data.transformTozTreeFormat(r, n) : i[s] = n,
			data.initCache(r),
			event.unbindTree(r),
			event.bindTree(r),
			event.unbindEvent(r),
			event.bindEvent(r);
			var o = {
				setting : r,
				addNodes : function (e, t, n) {
					function s() {
						view.addNodes(r, e, i, n == 1)
					}
					if (!t)
						return null;
					e || (e = null);
					if (e && !e.isParent && r.data.keep.leaf)
						return null;
					var i = tools.clone(tools.isArray(t) ? t : [t]);
					return tools.canAsync(r, e) ? view.asyncNode(r, e, n, s) : s(),
					i
				},
				cancelSelectedNode : function (e) {
					view.cancelPreSelectedNode(this.setting, e)
				},
				destroy : function () {
					view.destroy(this.setting)
				},
				expandAll : function (e) {
					return e = !!e,
					view.expandCollapseSonNode(this.setting, null, e, !0),
					e
				},
				expandNode : function (e, t, n, i, s) {
					if (!e || !e.isParent)
						return null;
					t !== !0 && t !== !1 && (t = !e.open),
					s = !!s;
					if (s && t && tools.apply(r.callback.beforeExpand, [r.treeId, e], true) == 0)
						return null;
					if (s && !t && tools.apply(r.callback.beforeCollapse, [r.treeId, e], true) == 0)
						return null;
					t && e.parentTId && view.expandCollapseParentNode(this.setting, e.getParentNode(), t, !1);
					if (t === e.open && !n)
						return null;
					data.getRoot(r).expandTriggerFlag = s;
					if (n)
						view.expandCollapseSonNode(this.setting, e, t, !0, function () {
							if (i !== !1)
								try {
									$("#" + e.tId).focus().blur()
								} catch (t) {}

						});
					else {
						e.open = !t,
						view.switchNode(this.setting, e);
						if (i !== !1)
							try {
								$("#" + e.tId).focus().blur()
							} catch (o) {}

					}
					return t
				},
				getNodes : function () {
					return data.getNodes(this.setting)
				},
				getNodeByParam : function (e, t, n) {
					return e ? data.getNodeByParam(this.setting, n ? n[this.setting.data.key.children] : data.getNodes(this.setting), e, t) : null
				},
				getNodeByTId : function (e) {
					return data.getNodeCache(this.setting, e)
				},
				getNodesByParam : function (e, t, n) {
					return e ? data.getNodesByParam(this.setting, n ? n[this.setting.data.key.children] : data.getNodes(this.setting), e, t) : null
				},
				getNodesByParamFuzzy : function (e, t, n) {
					return e ? data.getNodesByParamFuzzy(this.setting, n ? n[this.setting.data.key.children] : data.getNodes(this.setting), e, t) : null
				},
				getNodesByFilter : function (e, t, n, r) {
					return t = !!t,
					!e || typeof e != "function" ? t ? null : [] : data.getNodesByFilter(this.setting, n ? n[this.setting.data.key.children] : data.getNodes(this.setting), e, t, r)
				},
				getNodeIndex : function (e) {
					if (!e)
						return null;
					var t = r.data.key.children,
					n = e.parentTId ? e.getParentNode() : data.getRoot(this.setting);
					for (var i = 0, s = n[t].length; i < s; i++)
						if (n[t][i] == e)
							return i;
					return -1
				},
				getSelectedNodes : function () {
					var e = [],
					t = data.getRoot(this.setting).curSelectedList;
					for (var n = 0, r = t.length; n < r; n++)
						e.push(t[n]);
					return e
				},
				isSelectedNode : function (e) {
					return data.isSelectedNode(this.setting, e)
				},
				reAsyncChildNodes : function (e, t, n) {
					if (!this.setting.async.enable)
						return;
					var i = !e;
					i && (e = data.getRoot(this.setting));
					if (t == "refresh") {
						var s = this.setting.data.key.children;
						for (var o = 0, u = e[s] ? e[s].length : 0; o < u; o++)
							data.removeNodeCache(r, e[s][o]);
						data.removeSelectedNode(r),
						e[s] = [];
						if (i)
							this.setting.treeObj.empty();
						else {
							var a = $("#" + e.tId + consts.id.UL);
							a.empty()
						}
					}
					view.asyncNode(this.setting, i ? null : e, !!n)
				},
				refresh : function () {
					this.setting.treeObj.empty();
					var e = data.getRoot(this.setting),
					t = e[this.setting.data.key.children];
					data.initRoot(this.setting),
					e[this.setting.data.key.children] = t,
					data.initCache(this.setting),
					view.createNodes(this.setting, 0, e[this.setting.data.key.children])
				},
				removeChildNodes : function (e) {
					if (!e)
						return null;
					var t = r.data.key.children,
					n = e[t];
					return view.removeChildNodes(r, e),
					n ? n : null
				},
				removeNode : function (e, t) {
					if (!e)
						return;
					t = !!t;
					if (t && tools.apply(r.callback.beforeRemove, [r.treeId, e], true) == 0)
						return;
					view.removeNode(r, e),
					t && this.setting.treeObj.trigger(consts.event.REMOVE, [r.treeId, e])
				},
				selectNode : function (e, t) {
					if (!e)
						return;
					if (tools.uCanDo(this.setting)) {
						t = r.view.selectedMulti && t;
						if (e.parentTId)
							view.expandCollapseParentNode(this.setting, e.getParentNode(), !0, !1, function () {
								try {
									$("#" + e.tId).focus().blur()
								} catch (t) {}

							});
						else
							try {
								$("#" + e.tId).focus().blur()
							} catch (n) {}

						view.selectNode(this.setting, e, t)
					}
				},
				transformTozTreeNodes : function (e) {
					return data.transformTozTreeFormat(this.setting, e)
				},
				transformToArray : function (e) {
					return data.transformToArrayFormat(this.setting, e)
				},
				updateNode : function (e, t) {
					if (!e)
						return;
					var n = $("#" + e.tId);
					n.get(0) && tools.uCanDo(this.setting) && (view.setNodeName(this.setting, e), view.setNodeTarget(e), view.setNodeUrl(this.setting, e), view.setNodeLineIcos(this.setting, e), view.setNodeFontCss(this.setting, e))
				}
			};
			return i.treeTools = o,
			data.setZTreeTools(r, o),
			i[s] && i[s].length > 0 ? view.createNodes(r, 0, i[s]) : r.async.enable && r.async.url && r.async.url !== "" && view.asyncNode(r),
			o
		}
	};
	var zt = $.fn.zTree,
	consts = zt.consts
}
(jQuery), function (e) {
	var t = {
		event : {
			CHECK : "ztree_check"
		},
		id : {
			CHECK : "_check"
		},
		checkbox : {
			STYLE : "checkbox",
			DEFAULT : "chk",
			DISABLED : "disable",
			FALSE : "false",
			TRUE : "true",
			FULL : "full",
			PART : "part",
			FOCUS : "focus"
		},
		radio : {
			STYLE : "radio",
			TYPE_ALL : "all",
			TYPE_LEVEL : "level"
		}
	},
	n = {
		check : {
			enable : !1,
			autoCheckTrigger : !1,
			chkStyle : t.checkbox.STYLE,
			nocheckInherit : !1,
			radioType : t.radio.TYPE_LEVEL,
			chkboxType : {
				Y : "ps",
				N : "ps"
			}
		},
		data : {
			key : {
				checked : "checked"
			}
		},
		callback : {
			beforeCheck : null,
			onCheck : null
		}
	},
	r = function (e) {
		var t = E.getRoot(e);
		t.radioCheckedList = []
	},
	i = function (e) {},
	s = function (e) {
		var t = e.treeObj,
		n = b.event;
		t.bind(n.CHECK, function (t, n, r, i) {
			y.apply(e.callback.onCheck, [n ? n : t, r, i])
		})
	},
	o = function (e) {
		var t = e.treeObj,
		n = b.event;
		t.unbind(n.CHECK)
	},
	u = function (e) {
		var t = e.target,
		n = E.getSetting(e.data.treeId),
		r = "",
		i = null,
		s = "",
		o = "",
		u = null,
		a = null;
		y.eqs(e.type, "mouseover") ? n.check.enable && y.eqs(t.tagName, "span") && t.getAttribute("treeNode" + b.id.CHECK) !== null && (r = t.parentNode.id, s = "mouseoverCheck") : y.eqs(e.type, "mouseout") ? n.check.enable && y.eqs(t.tagName, "span") && t.getAttribute("treeNode" + b.id.CHECK) !== null && (r = t.parentNode.id, s = "mouseoutCheck") : y.eqs(e.type, "click") && n.check.enable && y.eqs(t.tagName, "span") && t.getAttribute("treeNode" + b.id.CHECK) !== null && (r = t.parentNode.id, s = "checkNode");
		if (r.length > 0) {
			i = E.getNodeCache(n, r);
			switch (s) {
			case "checkNode":
				u = p.onCheckNode;
				break;
			case "mouseoverCheck":
				u = p.onMouseoverCheck;
				break;
			case "mouseoutCheck":
				u = p.onMouseoutCheck
			}
		}
		var f = {
			stop : !1,
			node : i,
			nodeEventType : s,
			nodeEventCallback : u,
			treeEventType : o,
			treeEventCallback : a
		};
		return f
	},
	a = function (e, t, n, r, i, s, o) {
		if (!n)
			return;
		var u = e.data.key.checked;
		typeof n[u] == "string" && (n[u] = y.eqs(n[u], "true")),
		n[u] = !!n[u],
		n.checkedOld = n[u],
		typeof n.nocheck == "string" && (n.nocheck = y.eqs(n.nocheck, "true")),
		n.nocheck = !!n.nocheck || e.check.nocheckInherit && r && !!r.nocheck,
		typeof n.chkDisabled == "string" && (n.chkDisabled = y.eqs(n.chkDisabled, "true")),
		n.chkDisabled = !!n.chkDisabled || r && !!r.chkDisabled,
		typeof n.halfCheck == "string" && (n.halfCheck = y.eqs(n.halfCheck, "true")),
		n.halfCheck = !!n.halfCheck,
		n.check_Child_State = -1,
		n.check_Focus = !1,
		n.getCheckStatus = function () {
			return E.getCheckStatus(e, n)
		}
	},
	f = function (e, t, n) {
		var r = e.data.key.checked;
		if (e.check.enable) {
			E.makeChkFlag(e, t);
			if (e.check.chkStyle == b.radio.STYLE && e.check.radioType == b.radio.TYPE_ALL && t[r]) {
				var i = E.getRoot(e);
				i.radioCheckedList.push(t)
			}
			n.push("<span ID='", t.tId, b.id.CHECK, "' class='", w.makeChkClass(e, t), "' treeNode", b.id.CHECK, t.nocheck === !0 ? " style='display:none;'" : "", "></span>")
		}
	},
	l = function (t, n) {
		n.checkNode = function (n, r, i, s) {
			var o = this.setting.data.key.checked;
			if (n.chkDisabled === !0)
				return;
			r !== !0 && r !== !1 && (r = !n[o]),
			s = !!s;
			if (n[o] === r && !i)
				return;
			if (s && y.apply(this.setting.callback.beforeCheck, [this.setting.treeId, n], true) == 0)
				return;
			if (y.uCanDo(this.setting) && this.setting.check.enable && n.nocheck !== !0) {
				n[o] = r;
				var u = e("#" + n.tId + b.id.CHECK);
				(i || this.setting.check.chkStyle === b.radio.STYLE) && w.checkNodeRelation(this.setting, n),
				w.setChkClass(this.setting, u, n),
				w.repairParentChkClassWithSelf(this.setting, n),
				s && t.treeObj.trigger(b.event.CHECK, [null, t.treeId, n])
			}
		},
		n.checkAllNodes = function (e) {
			w.repairAllChk(this.setting, !!e)
		},
		n.getCheckedNodes = function (e) {
			var n = this.setting.data.key.children;
			return e = e !== !1,
			E.getTreeCheckedNodes(this.setting, E.getRoot(t)[n], e)
		},
		n.getChangeCheckedNodes = function () {
			var e = this.setting.data.key.children;
			return E.getTreeChangeCheckedNodes(this.setting, E.getRoot(t)[e])
		},
		n.setChkDisabled = function (e, t) {
			t = !!t,
			w.repairSonChkDisabled(this.setting, e, t),
			t || w.repairParentChkDisabled(this.setting, e, t)
		};
		var r = n.updateNode;
		n.updateNode = function (t, i) {
			r && r.apply(n, arguments);
			if (!t || !this.setting.check.enable)
				return;
			var s = e("#" + t.tId);
			if (s.get(0) && y.uCanDo(this.setting)) {
				var o = e("#" + t.tId + b.id.CHECK);
				(i == 1 || this.setting.check.chkStyle === b.radio.STYLE) && w.checkNodeRelation(this.setting, t),
				w.setChkClass(this.setting, o, t),
				w.repairParentChkClassWithSelf(this.setting, t)
			}
		}
	},
	c = {
		getRadioCheckedList : function (e) {
			var t = E.getRoot(e).radioCheckedList;
			for (var n = 0, r = t.length; n < r; n++)
				E.getNodeCache(e, t[n].tId) || (t.splice(n, 1), n--, r--);
			return t
		},
		getCheckStatus : function (e, t) {
			if (!e.check.enable || t.nocheck)
				return null;
			var n = e.data.key.checked,
			r = {
				checked : t[n],
				half : t.halfCheck ? t.halfCheck : e.check.chkStyle == b.radio.STYLE ? t.check_Child_State === 2 : t[n] ? t.check_Child_State > -1 && t.check_Child_State < 2 : t.check_Child_State > 0
			};
			return r
		},
		getTreeCheckedNodes : function (e, t, n, r) {
			if (!t)
				return [];
			var i = e.data.key.children,
			s = e.data.key.checked,
			o = n && e.check.chkStyle == b.radio.STYLE && e.check.radioType == b.radio.TYPE_ALL;
			r = r ? r : [];
			for (var u = 0, a = t.length; u < a; u++) {
				if (t[u].nocheck !== !0 && t[u][s] == n) {
					r.push(t[u]);
					if (o)
						break
				}
				E.getTreeCheckedNodes(e, t[u][i], n, r);
				if (o && r.length > 0)
					break
			}
			return r
		},
		getTreeChangeCheckedNodes : function (e, t, n) {
			if (!t)
				return [];
			var r = e.data.key.children,
			i = e.data.key.checked;
			n = n ? n : [];
			for (var s = 0, o = t.length; s < o; s++)
				t[s].nocheck !== !0 && t[s][i] != t[s].checkedOld && n.push(t[s]), E.getTreeChangeCheckedNodes(e, t[s][r], n);
			return n
		},
		makeChkFlag : function (e, t) {
			if (!t)
				return;
			var n = e.data.key.children,
			r = e.data.key.checked,
			i = -1;
			if (t[n]) {
				var s = !1;
				for (var o = 0, u = t[n].length; o < u; o++) {
					var a = t[n][o],
					f = -1;
					if (e.check.chkStyle == b.radio.STYLE) {
						a.nocheck === !0 ? f = a.check_Child_State : a.halfCheck === !0 ? f = 2 : a.nocheck !== !0 && a[r] ? f = 2 : f = a.check_Child_State > 0 ? 2 : 0;
						if (f == 2) {
							i = 2;
							break
						}
						f == 0 && (i = 0)
					} else if (e.check.chkStyle == b.checkbox.STYLE) {
						a.nocheck === !0 ? f = a.check_Child_State : a.halfCheck === !0 ? f = 1 : a.nocheck !== !0 && a[r] ? f = a.check_Child_State === -1 || a.check_Child_State === 2 ? 2 : 1 : f = a.check_Child_State > 0 ? 1 : 0;
						if (f === 1) {
							i = 1;
							break
						}
						if (f === 2 && s && f !== i) {
							i = 1;
							break
						}
						if (i === 2 && f > -1 && f < 2) {
							i = 1;
							break
						}
						f > -1 && (i = f),
						s || (s = a.nocheck !== !0)
					}
				}
			}
			t.check_Child_State = i
		}
	},
	h = {},
	p = {
		onCheckNode : function (t, n) {
			if (n.chkDisabled === !0)
				return !1;
			var r = E.getSetting(t.data.treeId),
			i = r.data.key.checked;
			if (y.apply(r.callback.beforeCheck, [r.treeId, n], true) == 0)
				return !0;
			n[i] = !n[i],
			w.checkNodeRelation(r, n);
			var s = e("#" + n.tId + b.id.CHECK);
			return w.setChkClass(r, s, n),
			w.repairParentChkClassWithSelf(r, n),
			r.treeObj.trigger(b.event.CHECK, [t, r.treeId, n]),
			!0
		},
		onMouseoverCheck : function (t, n) {
			if (n.chkDisabled === !0)
				return !1;
			var r = E.getSetting(t.data.treeId),
			i = e("#" + n.tId + b.id.CHECK);
			return n.check_Focus = !0,
			w.setChkClass(r, i, n),
			!0
		},
		onMouseoutCheck : function (t, n) {
			if (n.chkDisabled === !0)
				return !1;
			var r = E.getSetting(t.data.treeId),
			i = e("#" + n.tId + b.id.CHECK);
			return n.check_Focus = !1,
			w.setChkClass(r, i, n),
			!0
		}
	},
	d = {},
	v = {
		checkNodeRelation : function (t, n) {
			var r,
			i,
			s,
			o = t.data.key.children,
			u = t.data.key.checked,
			a = b.radio;
			if (t.check.chkStyle == a.STYLE) {
				var f = E.getRadioCheckedList(t);
				if (n[u])
					if (t.check.radioType == a.TYPE_ALL) {
						for (i = f.length - 1; i >= 0; i--)
							r = f[i], r[u] = !1, f.splice(i, 1), w.setChkClass(t, e("#" + r.tId + b.id.CHECK), r), r.parentTId != n.parentTId && w.repairParentChkClassWithSelf(t, r);
						f.push(n)
					} else {
						var l = n.parentTId ? n.getParentNode() : E.getRoot(t);
						for (i = 0, s = l[o].length; i < s; i++)
							r = l[o][i], r[u] && r != n && (r[u] = !1, w.setChkClass(t, e("#" + r.tId + b.id.CHECK), r))
					}
				else if (t.check.radioType == a.TYPE_ALL)
					for (i = 0, s = f.length; i < s; i++)
						if (n == f[i]) {
							f.splice(i, 1);
							break
						}
			} else
				n[u] && (!n[o] || n[o].length == 0 || t.check.chkboxType.Y.indexOf("s") > -1) && w.setSonNodeCheckBox(t, n, !0), !n[u] && (!n[o] || n[o].length == 0 || t.check.chkboxType.N.indexOf("s") > -1) && w.setSonNodeCheckBox(t, n, !1), n[u] && t.check.chkboxType.Y.indexOf("p") > -1 && w.setParentNodeCheckBox(t, n, !0), !n[u] && t.check.chkboxType.N.indexOf("p") > -1 && w.setParentNodeCheckBox(t, n, !1)
		},
		makeChkClass : function (e, t) {
			var n = e.data.key.checked,
			r = b.checkbox,
			i = b.radio,
			s = "";
			t.chkDisabled === !0 ? s = r.DISABLED : t.halfCheck ? s = r.PART : e.check.chkStyle == i.STYLE ? s = t.check_Child_State < 1 ? r.FULL : r.PART : s = t[n] ? t.check_Child_State === 2 || t.check_Child_State === -1 ? r.FULL : r.PART : t.check_Child_State < 1 ? r.FULL : r.PART;
			var o = e.check.chkStyle + "_" + (t[n] ? r.TRUE : r.FALSE) + "_" + s;
			return o = t.check_Focus && t.chkDisabled !== !0 ? o + "_" + r.FOCUS : o,
			"button " + r.DEFAULT + " " + o
		},
		repairAllChk : function (e, t) {
			if (e.check.enable && e.check.chkStyle === b.checkbox.STYLE) {
				var n = e.data.key.checked,
				r = e.data.key.children,
				i = E.getRoot(e);
				for (var s = 0, o = i[r].length; s < o; s++) {
					var u = i[r][s];
					u.nocheck !== !0 && (u[n] = t),
					w.setSonNodeCheckBox(e, u, t)
				}
			}
		},
		repairChkClass : function (t, n) {
			if (!n)
				return;
			E.makeChkFlag(t, n);
			var r = e("#" + n.tId + b.id.CHECK);
			w.setChkClass(t, r, n)
		},
		repairParentChkClass : function (e, t) {
			if (!t || !t.parentTId)
				return;
			var n = t.getParentNode();
			w.repairChkClass(e, n),
			w.repairParentChkClass(e, n)
		},
		repairParentChkClassWithSelf : function (e, t) {
			if (!t)
				return;
			var n = e.data.key.children;
			t[n] && t[n].length > 0 ? w.repairParentChkClass(e, t[n][0]) : w.repairParentChkClass(e, t)
		},
		repairSonChkDisabled : function (e, t, n) {
			if (!t)
				return;
			var r = e.data.key.children;
			t.chkDisabled != n && (t.chkDisabled = n, t.nocheck !== !0 && w.repairChkClass(e, t));
			if (t[r])
				for (var i = 0, s = t[r].length; i < s; i++) {
					var o = t[r][i];
					w.repairSonChkDisabled(e, o, n)
				}
		},
		repairParentChkDisabled : function (e, t, n) {
			if (!t)
				return;
			t.chkDisabled != n && (t.chkDisabled = n, t.nocheck !== !0 && w.repairChkClass(e, t)),
			w.repairParentChkDisabled(e, t.getParentNode(), n)
		},
		setChkClass : function (e, t, n) {
			if (!t)
				return;
			n.nocheck === !0 ? t.hide() : t.show(),
			t.removeClass(),
			t.addClass(w.makeChkClass(e, n))
		},
		setParentNodeCheckBox : function (t, n, r, i) {
			var s = t.data.key.children,
			o = t.data.key.checked,
			u = e("#" + n.tId + b.id.CHECK);
			i || (i = n),
			E.makeChkFlag(t, n),
			n.nocheck !== !0 && n.chkDisabled !== !0 && (n[o] = r, w.setChkClass(t, u, n), t.check.autoCheckTrigger && n != i && n.nocheck !== !0 && t.treeObj.trigger(b.event.CHECK, [null, t.treeId, n]));
			if (n.parentTId) {
				var a = !0;
				if (!r) {
					var f = n.getParentNode()[s];
					for (var l = 0, c = f.length; l < c; l++)
						if (f[l].nocheck !== !0 && f[l][o] || f[l].nocheck === !0 && f[l].check_Child_State > 0) {
							a = !1;
							break
						}
				}
				a && w.setParentNodeCheckBox(t, n.getParentNode(), r, i)
			}
		},
		setSonNodeCheckBox : function (t, n, r, i) {
			if (!n)
				return;
			var s = t.data.key.children,
			o = t.data.key.checked,
			u = e("#" + n.tId + b.id.CHECK);
			i || (i = n);
			var a = !1;
			if (n[s])
				for (var f = 0, l = n[s].length; f < l && n.chkDisabled !== !0; f++) {
					var c = n[s][f];
					w.setSonNodeCheckBox(t, c, r, i),
					c.chkDisabled === !0 && (a = !0)
				}
			n != E.getRoot(t) && n.chkDisabled !== !0 && (a && n.nocheck !== !0 && E.makeChkFlag(t, n), n.nocheck !== !0 ? (n[o] = r, a || (n.check_Child_State = n[s] && n[s].length > 0 ? r ? 2 : 0 : -1)) : n.check_Child_State = -1, w.setChkClass(t, u, n), t.check.autoCheckTrigger && n != i && n.nocheck !== !0 && t.treeObj.trigger(b.event.CHECK, [null, t.treeId, n]))
		}
	},
	m = {
		tools : d,
		view : v,
		event : h,
		data : c
	};
	e.extend(!0, e.fn.zTree.consts, t),
	e.extend(!0, e.fn.zTree._z, m);
	var g = e.fn.zTree,
	y = g._z.tools,
	b = g.consts,
	w = g._z.view,
	E = g._z.data,
	S = g._z.event;
	E.exSetting(n),
	E.addInitBind(s),
	E.addInitUnBind(o),
	E.addInitCache(i),
	E.addInitNode(a),
	E.addInitProxy(u),
	E.addInitRoot(r),
	E.addBeforeA(f),
	E.addZTreeTools(l);
	var x = w.createNodes;
	w.createNodes = function (e, t, n, r) {
		x && x.apply(w, arguments);
		if (!n)
			return;
		w.repairParentChkClassWithSelf(e, r)
	};
	var T = w.removeNode;
	w.removeNode = function (e, t) {
		var n = t.getParentNode();
		T && T.apply(w, arguments);
		if (!t || !n)
			return;
		w.repairChkClass(e, n),
		w.repairParentChkClass(e, n)
	};
	var N = w.appendNodes;
	w.appendNodes = function (e, t, n, r, i, s) {
		var o = "";
		return N && (o = N.apply(w, arguments)),
		r && E.makeChkFlag(e, r),
		o
	}
}
(jQuery), function (e) {
	var t = {
		event : {
			DRAG : "ztree_drag",
			DROP : "ztree_drop",
			REMOVE : "ztree_remove",
			RENAME : "ztree_rename"
		},
		id : {
			EDIT : "_edit",
			INPUT : "_input",
			REMOVE : "_remove"
		},
		move : {
			TYPE_INNER : "inner",
			TYPE_PREV : "prev",
			TYPE_NEXT : "next"
		},
		node : {
			CURSELECTED_EDIT : "curSelectedNode_Edit",
			TMPTARGET_TREE : "tmpTargetzTree",
			TMPTARGET_NODE : "tmpTargetNode"
		}
	},
	n = {
		edit : {
			enable : !1,
			editNameSelectAll : !1,
			showRemoveBtn : !0,
			showRenameBtn : !0,
			removeTitle : "remove",
			renameTitle : "rename",
			drag : {
				autoExpandTrigger : !1,
				isCopy : !0,
				isMove : !0,
				prev : !0,
				next : !0,
				inner : !0,
				minMoveSize : 5,
				borderMax : 10,
				borderMin : -5,
				maxShowNodeNum : 5,
				autoOpenTime : 500
			}
		},
		view : {
			addHoverDom : null,
			removeHoverDom : null
		},
		callback : {
			beforeDrag : null,
			beforeDragOpen : null,
			beforeDrop : null,
			beforeEditName : null,
			beforeRename : null,
			onDrag : null,
			onDrop : null,
			onRename : null
		}
	},
	r = function (e) {
		var t = w.getRoot(e);
		t.curEditNode = null,
		t.curEditInput = null,
		t.curHoverNode = null,
		t.dragFlag = 0,
		t.dragNodeShowBefore = [],
		t.dragMaskList = new Array,
		t.showHoverDom = !0
	},
	i = function (e) {},
	s = function (e) {
		var t = e.treeObj,
		n = y.event;
		t.bind(n.RENAME, function (t, n, r) {
			g.apply(e.callback.onRename, [t, n, r])
		}),
		t.bind(n.REMOVE, function (t, n, r) {
			g.apply(e.callback.onRemove, [t, n, r])
		}),
		t.bind(n.DRAG, function (t, n, r, i) {
			g.apply(e.callback.onDrag, [n, r, i])
		}),
		t.bind(n.DROP, function (t, n, r, i, s, o, u) {
			g.apply(e.callback.onDrop, [n, r, i, s, o, u])
		})
	},
	o = function (e) {
		var t = e.treeObj,
		n = y.event;
		t.unbind(n.RENAME),
		t.unbind(n.REMOVE),
		t.unbind(n.DRAG),
		t.unbind(n.DROP)
	},
	u = function (e) {
		var t = e.target,
		n = w.getSetting(e.data.treeId),
		r = e.relatedTarget,
		i = "",
		s = null,
		o = "",
		u = "",
		a = null,
		f = null,
		l = null;
		g.eqs(e.type, "mouseover") ? (l = g.getMDom(n, t, [{
							tagName : "a",
							attrName : "treeNode" + y.id.A
						}
					]), l && (i = l.parentNode.id, o = "hoverOverNode")) : g.eqs(e.type, "mouseout") ? (l = g.getMDom(n, r, [{
							tagName : "a",
							attrName : "treeNode" + y.id.A
						}
					]), l || (i = "remove", o = "hoverOutNode")) : g.eqs(e.type, "mousedown") && (l = g.getMDom(n, t, [{
							tagName : "a",
							attrName : "treeNode" + y.id.A
						}
					]), l && (i = l.parentNode.id, o = "mousedownNode"));
		if (i.length > 0) {
			s = w.getNodeCache(n, i);
			switch (o) {
			case "mousedownNode":
				a = h.onMousedownNode;
				break;
			case "hoverOverNode":
				a = h.onHoverOverNode;
				break;
			case "hoverOutNode":
				a = h.onHoverOutNode
			}
		}
		var c = {
			stop : !1,
			node : s,
			nodeEventType : o,
			nodeEventCallback : a,
			treeEventType : u,
			treeEventCallback : f
		};
		return c
	},
	a = function (e, t, n, r, i, s, o) {
		if (!n)
			return;
		n.isHover = !1,
		n.editNameFlag = !1
	},
	f = function (t, n) {
		n.cancelEditName = function (e) {
			var n = w.getRoot(t),
			r = t.data.key.name,
			i = n.curEditNode;
			if (!n.curEditNode)
				return;
			b.cancelCurEditNode(t, e ? e : i[r])
		},
		n.copyNode = function (e, n, r, i) {
			if (!n)
				return null;
			if (e && !e.isParent && t.data.keep.leaf && r === y.move.TYPE_INNER)
				return null;
			var s = g.clone(n);
			e || (e = null, r = y.move.TYPE_INNER);
			if (r == y.move.TYPE_INNER) {
				function o() {
					b.addNodes(t, e, [s], i)
				}
				g.canAsync(t, e) ? b.asyncNode(t, e, i, o) : o()
			} else
				b.addNodes(t, e.parentNode, [s], i), b.moveNode(t, e, s, r, !1, i);
			return s
		},
		n.editName = function (e) {
			if (!e || !e.tId || e !== w.getNodeCache(t, e.tId))
				return;
			e.parentTId && b.expandCollapseParentNode(t, e.getParentNode(), !0),
			b.editNode(t, e)
		},
		n.moveNode = function (n, r, i, s) {
			function o() {
				b.moveNode(t, n, r, i, !1, s)
			}
			return r ? n && !n.isParent && t.data.keep.leaf && i === y.move.TYPE_INNER ? null : n && (r.parentTId == n.tId && i == y.move.TYPE_INNER || e("#" + r.tId).find("#" + n.tId).length > 0) ? null : (n || (n = null), g.canAsync(t, n) ? b.asyncNode(t, n, s, o) : o(), r) : r
		},
		n.setEditable = function (e) {
			return t.edit.enable = e,
			this.refresh()
		}
	},
	l = {
		setSonNodeLevel : function (e, t, n) {
			if (!n)
				return;
			var r = e.data.key.children;
			n.level = t ? t.level + 1 : 0;
			if (!n[r])
				return;
			for (var i = 0, s = n[r].length; i < s; i++)
				n[r][i] && w.setSonNodeLevel(e, n, n[r][i])
		}
	},
	c = {},
	h = {
		onHoverOverNode : function (e, t) {
			var n = w.getSetting(e.data.treeId),
			r = w.getRoot(n);
			r.curHoverNode != t && h.onHoverOutNode(e),
			r.curHoverNode = t,
			b.addHoverDom(n, t)
		},
		onHoverOutNode : function (e, t) {
			var n = w.getSetting(e.data.treeId),
			r = w.getRoot(n);
			r.curHoverNode && !w.isSelectedNode(n, r.curHoverNode) && (b.removeTreeDom(n, r.curHoverNode), r.curHoverNode = null)
		},
		onMousedownNode : function (n, r) {
			function O(n) {
				if (u.dragFlag == 0 && Math.abs(k - n.clientX) < o.edit.drag.minMoveSize && Math.abs(L - n.clientY) < o.edit.drag.minMoveSize)
					return !0;
				var r,
				i,
				s,
				a,
				f,
				O = o.data.key.children;
				g.noSel(o),
				e("body").css("cursor", "pointer");
				if (u.dragFlag == 0) {
					if (g.apply(o.callback.beforeDrag, [o.treeId, l], true) == 0)
						return M(n), !0;
					for (r = 0, i = l.length; r < i; r++)
						r == 0 && (u.dragNodeShowBefore = []), s = l[r], s.isParent && s.open ? (b.expandCollapseNode(o, s, !s.open), u.dragNodeShowBefore[s.tId] = !0) : u.dragNodeShowBefore[s.tId] = !1;
					u.dragFlag = 1,
					u.showHoverDom = !1,
					g.showIfameMask(o, !0);
					var _ = !0,
					D = -1;
					if (l.length > 1) {
						var P = l[0].parentTId ? l[0].getParentNode()[O] : w.getNodes(o);
						f = [];
						for (r = 0, i = P.length; r < i; r++) {
							u.dragNodeShowBefore[P[r].tId] !== undefined && (_ && D > -1 && D + 1 !== r && (_ = !1), f.push(P[r]), D = r);
							if (l.length === f.length) {
								l = f;
								break
							}
						}
					}
					_ && (E = l[0].getPreNode(), S = l[l.length - 1].getNextNode()),
					h = e("<ul class='zTreeDragUL'></ul>");
					for (r = 0, i = l.length; r < i; r++) {
						s = l[r],
						s.editNameFlag = !1,
						b.selectNode(o, s, r > 0),
						b.removeTreeDom(o, s),
						a = e("<li id='" + s.tId + "_tmp'></li>"),
						a.append(e("#" + s.tId + y.id.A).clone()),
						a.css("padding", "0"),
						a.children("#" + s.tId + y.id.A).removeClass(y.node.CURSELECTED),
						h.append(a);
						if (r == o.edit.drag.maxShowNodeNum - 1) {
							a = e("<li id='" + s.tId + "_moretmp'><a>  ...  </a></li>"),
							h.append(a);
							break
						}
					}
					h.attr("id", l[0].tId + y.id.UL + "_tmp"),
					h.addClass(o.treeObj.attr("class")),
					h.appendTo("body"),
					p = e("<span class='tmpzTreeMove_arrow'></span>"),
					p.attr("id", "zTreeMove_arrow_tmp"),
					p.appendTo("body"),
					o.treeObj.trigger(y.event.DRAG, [n, o.treeId, l])
				}
				if (u.dragFlag == 1) {
					if (d && p.attr("id") == n.target.id && N && n.clientX + c.scrollLeft() + 2 > e("#" + N + y.id.A, d).offset().left) {
						var H = e("#" + N + y.id.A, d);
						n.target = H.length > 0 ? H.get(0) : n.target
					} else
						d && (d.removeClass(y.node.TMPTARGET_TREE), N && e("#" + N + y.id.A, d).removeClass(y.node.TMPTARGET_NODE + "_" + y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE + "_" + t.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE + "_" + t.move.TYPE_INNER));
					d = null,
					N = null,
					v = !1,
					m = o;
					var B = w.getSettings();
					for (var j in B)
						B[j].treeId && B[j].edit.enable && B[j].treeId != o.treeId && (n.target.id == B[j].treeId || e(n.target).parents("#" + B[j].treeId).length > 0) && (v = !0, m = B[j]);
					var F = c.scrollTop(),
					I = c.scrollLeft(),
					q = m.treeObj.offset(),
					R = m.treeObj.get(0).scrollHeight,
					U = m.treeObj.get(0).scrollWidth,
					z = n.clientY + F - q.top,
					W = m.treeObj.height() + q.top - n.clientY - F,
					X = n.clientX + I - q.left,
					V = m.treeObj.width() + q.left - n.clientX - I,
					J = z < o.edit.drag.borderMax && z > o.edit.drag.borderMin,
					K = W < o.edit.drag.borderMax && W > o.edit.drag.borderMin,
					Q = X < o.edit.drag.borderMax && X > o.edit.drag.borderMin,
					G = V < o.edit.drag.borderMax && V > o.edit.drag.borderMin,
					Y = z > o.edit.drag.borderMin && W > o.edit.drag.borderMin && X > o.edit.drag.borderMin && V > o.edit.drag.borderMin,
					Z = J && m.treeObj.scrollTop() <= 0,
					et = K && m.treeObj.scrollTop() + m.treeObj.height() + 10 >= R,
					tt = Q && m.treeObj.scrollLeft() <= 0,
					nt = G && m.treeObj.scrollLeft() + m.treeObj.width() + 10 >= U;
					if (n.target.id && m.treeObj.find("#" + n.target.id).length > 0) {
						var rt = n.target;
						while (rt && rt.tagName && !g.eqs(rt.tagName, "li") && rt.id != m.treeId)
							rt = rt.parentNode;
						var it = !0;
						for (r = 0, i = l.length; r < i; r++) {
							s = l[r];
							if (rt.id === s.tId) {
								it = !1;
								break
							}
							if (e("#" + s.tId).find("#" + rt.id).length > 0) {
								it = !1;
								break
							}
						}
						it && n.target.id && (n.target.id == rt.id + y.id.A || e(n.target).parents("#" + rt.id + y.id.A).length > 0) && (d = e(rt), N = rt.id)
					}
					s = l[0],
					Y && (n.target.id == m.treeId || e(n.target).parents("#" + m.treeId).length > 0) && (!d && (n.target.id == m.treeId || Z || et || tt || nt) && (v || !v && s.parentTId) && (d = m.treeObj), J ? m.treeObj.scrollTop(m.treeObj.scrollTop() - 10) : K && m.treeObj.scrollTop(m.treeObj.scrollTop() + 10), Q ? m.treeObj.scrollLeft(m.treeObj.scrollLeft() - 10) : G && m.treeObj.scrollLeft(m.treeObj.scrollLeft() + 10), d && d != m.treeObj && d.offset().left < m.treeObj.offset().left && m.treeObj.scrollLeft(m.treeObj.scrollLeft() + d.offset().left - m.treeObj.offset().left)),
					h.css({
						top : n.clientY + F + 3 + "px",
						left : n.clientX + I + 3 + "px"
					});
					var st = 0,
					ot = 0;
					if (d && d.attr("id") != m.treeId) {
						var ut = N == null ? null : w.getNodeCache(m, N),
						at = n.ctrlKey && o.edit.drag.isMove && o.edit.drag.isCopy || !o.edit.drag.isMove && o.edit.drag.isCopy,
						ft = !!E && N === E.tId,
						lt = !!S && N === S.tId,
						ct = s.parentTId && s.parentTId == N,
						ht = (at || !lt) && g.apply(m.edit.drag.prev, [m.treeId, l, ut], !!m.edit.drag.prev),
						pt = (at || !ft) && g.apply(m.edit.drag.next, [m.treeId, l, ut], !!m.edit.drag.next),
						dt = (at || !ct) && (!m.data.keep.leaf || !!ut.isParent) && g.apply(m.edit.drag.inner, [m.treeId, l, ut], !!m.edit.drag.inner);
						if (!ht && !pt && !dt)
							d = null, N = "", C = y.move.TYPE_INNER, p.css({
								display : "none"
							}), window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null);
						else {
							var vt = e("#" + N + y.id.A, d),
							mt = ut.isLastNode ? null : e("#" + ut.getNextNode().tId + y.id.A, d.next()),
							gt = vt.offset().top,
							yt = vt.offset().left,
							bt = ht ? dt ? .25 : pt ? .5 : 1 : -1,
							wt = pt ? dt ? .75 : ht ? .5 : 0 : -1,
							Et = (n.clientY + F - gt) / vt.height();
							(bt == 1 || Et <= bt && Et >= -0.2) && ht ? (st = 1 - p.width(), ot = gt - p.height() / 2, C = y.move.TYPE_PREV) : (wt == 0 || Et >= wt && Et <= 1.2) && pt ? (st = 1 - p.width(), ot = mt == null || ut.isParent && ut.open ? gt + vt.height() - p.height() / 2 : mt.offset().top - p.height() / 2, C = y.move.TYPE_NEXT) : (st = 5 - p.width(), ot = gt, C = y.move.TYPE_INNER),
							p.css({
								display : "block",
								top : ot + "px",
								left : yt + st + "px"
							}),
							vt.addClass(y.node.TMPTARGET_NODE + "_" + C);
							if (x != N || T != C)
								A = (new Date).getTime();
							if (ut && ut.isParent && C == y.move.TYPE_INNER) {
								var St = !0;
								window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId !== ut.tId ? (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null) : window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId === ut.tId && (St = !1),
								St && (window.zTreeMoveTimer = setTimeout(function () {
											if (C != y.move.TYPE_INNER)
												return;
											ut && ut.isParent && !ut.open && (new Date).getTime() - A > m.edit.drag.autoOpenTime && g.apply(m.callback.beforeDragOpen, [m.treeId, ut], !0) && (b.switchNode(m, ut), m.edit.drag.autoExpandTrigger && m.treeObj.trigger(y.event.EXPAND, [m.treeId, ut]))
										}, m.edit.drag.autoOpenTime + 50), window.zTreeMoveTargetNodeTId = ut.tId)
							}
						}
					} else
						C = y.move.TYPE_INNER, d && g.apply(m.edit.drag.inner, [m.treeId, l, null], !!m.edit.drag.inner) ? d.addClass(y.node.TMPTARGET_TREE) : d = null, p.css({
							display : "none"
						}), window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null);
					x = N,
					T = C
				}
				return !1
			}
			function M(n) {
				window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null),
				x = null,
				T = null,
				c.unbind("mousemove", O),
				c.unbind("mouseup", M),
				c.unbind("selectstart", _),
				e("body").css("cursor", "auto"),
				d && (d.removeClass(y.node.TMPTARGET_TREE), N && e("#" + N + y.id.A, d).removeClass(y.node.TMPTARGET_NODE + "_" + y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE + "_" + t.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE + "_" + t.move.TYPE_INNER)),
				g.showIfameMask(o, !1),
				u.showHoverDom = !0;
				if (u.dragFlag == 0)
					return;
				u.dragFlag = 0;
				var r,
				i,
				s;
				for (r = 0, i = l.length; r < i; r++)
					s = l[r], s.isParent && u.dragNodeShowBefore[s.tId] && !s.open && (b.expandCollapseNode(o, s, !s.open), delete u.dragNodeShowBefore[s.tId]);
				h && h.remove(),
				p && p.remove();
				var a = n.ctrlKey && o.edit.drag.isMove && o.edit.drag.isCopy || !o.edit.drag.isMove && o.edit.drag.isCopy;
				!a && d && N && l[0].parentTId && N == l[0].parentTId && C == y.move.TYPE_INNER && (d = null);
				if (d) {
					var f = N == null ? null : w.getNodeCache(m, N);
					if (g.apply(o.callback.beforeDrop, [m.treeId, l, f, C, a], true) == 0)
						return;
					var E = a ? g.clone(l) : l;
					function S() {
						if (v) {
							if (!a)
								for (var t = 0, n = l.length; t < n; t++)
									b.removeNode(o, l[t]);
							if (C == y.move.TYPE_INNER)
								b.addNodes(m, f, E);
							else {
								b.addNodes(m, f.getParentNode(), E);
								if (C == y.move.TYPE_PREV)
									for (t = 0, n = E.length; t < n; t++)
										b.moveNode(m, f, E[t], C, !1);
								else
									for (t = -1, n = E.length - 1; t < n; n--)
										b.moveNode(m, f, E[n], C, !1)
							}
						} else if (a && C == y.move.TYPE_INNER)
							b.addNodes(m, f, E);
						else {
							a && b.addNodes(m, f.getParentNode(), E);
							if (C != y.move.TYPE_NEXT)
								for (t = 0, n = E.length; t < n; t++)
									b.moveNode(m, f, E[t], C, !1);
							else
								for (t = -1, n = E.length - 1; t < n; n--)
									b.moveNode(m, f, E[n], C, !1)
						}
						for (t = 0, n = E.length; t < n; t++)
							b.selectNode(m, E[t], t > 0);
						e("#" + E[0].tId).focus().blur()
					}
					C == y.move.TYPE_INNER && g.canAsync(m, f) ? b.asyncNode(m, f, !1, S) : S(),
					o.treeObj.trigger(y.event.DROP, [n, m.treeId, E, f, C, a])
				} else {
					for (r = 0, i = l.length; r < i; r++)
						b.selectNode(m, l[r], r > 0);
					o.treeObj.trigger(y.event.DROP, [n, o.treeId, l, null, null, null])
				}
			}
			function _() {
				return !1
			}
			var i,
			s,
			o = w.getSetting(n.data.treeId),
			u = w.getRoot(o);
			if (n.button == 2 || !o.edit.enable || !o.edit.drag.isCopy && !o.edit.drag.isMove)
				return !0;
			var a = n.target,
			f = w.getRoot(o).curSelectedList,
			l = [];
			if (!w.isSelectedNode(o, r))
				l = [r];
			else
				for (i = 0, s = f.length; i < s; i++) {
					if (f[i].editNameFlag && g.eqs(a.tagName, "input") && a.getAttribute("treeNode" + y.id.INPUT) !== null)
						return !0;
					l.push(f[i]);
					if (l[0].parentTId !== f[i].parentTId) {
						l = [r];
						break
					}
				}
			b.editNodeBlur = !0,
			b.cancelCurEditNode(o, null, !0);
			var c = e(document),
			h,
			p,
			d,
			v = !1,
			m = o,
			E,
			S,
			x = null,
			T = null,
			N = null,
			C = y.move.TYPE_INNER,
			k = n.clientX,
			L = n.clientY,
			A = (new Date).getTime();
			return g.uCanDo(o) && c.bind("mousemove", O),
			c.bind("mouseup", M),
			c.bind("selectstart", _),
			n.preventDefault && n.preventDefault(),
			!0
		}
	},
	p = {
		getAbs : function (e) {
			var t = e.getBoundingClientRect();
			return [t.left, t.top]
		},
		inputFocus : function (e) {
			e.get(0) && (e.focus(), g.setCursorPosition(e.get(0), e.val().length))
		},
		inputSelect : function (e) {
			e.get(0) && (e.focus(), e.select())
		},
		setCursorPosition : function (e, t) {
			if (e.setSelectionRange)
				e.focus(), e.setSelectionRange(t, t);
			else if (e.createTextRange) {
				var n = e.createTextRange();
				n.collapse(!0),
				n.moveEnd("character", t),
				n.moveStart("character", t),
				n.select()
			}
		},
		showIfameMask : function (t, n) {
			var r = w.getRoot(t);
			while (r.dragMaskList.length > 0)
				r.dragMaskList[0].remove(), r.dragMaskList.shift();
			if (n) {
				var i = e("iframe");
				for (var s = 0, o = i.length; s < o; s++) {
					var u = i.get(s),
					a = g.getAbs(u),
					f = e("<div id='zTreeMask_" + s + "' class='zTreeMask' style='top:" + a[1] + "px; left:" + a[0] + "px; width:" + u.offsetWidth + "px; height:" + u.offsetHeight + "px;'></div>");
					f.appendTo("body"),
					r.dragMaskList.push(f)
				}
			}
		}
	},
	d = {
		addEditBtn : function (t, n) {
			if (n.editNameFlag || e("#" + n.tId + y.id.EDIT).length > 0)
				return;
			if (!g.apply(t.edit.showRenameBtn, [t.treeId, n], t.edit.showRenameBtn))
				return;
			var r = e("#" + n.tId + y.id.A),
			i = "<span class='button edit' id='" + n.tId + y.id.EDIT + "' title='" + g.apply(t.edit.renameTitle, [t.treeId, n], t.edit.renameTitle) + "' treeNode" + y.id.EDIT + " style='display:none;'></span>";
			r.append(i),
			e("#" + n.tId + y.id.EDIT).bind("click", function () {
				return !g.uCanDo(t) || g.apply(t.callback.beforeEditName, [t.treeId, n], true) == 0 ? !1 : (b.editNode(t, n), !1)
			}).show()
		},
		addRemoveBtn : function (t, n) {
			if (n.editNameFlag || e("#" + n.tId + y.id.REMOVE).length > 0)
				return;
			if (!g.apply(t.edit.showRemoveBtn, [t.treeId, n], t.edit.showRemoveBtn))
				return;
			var r = e("#" + n.tId + y.id.A),
			i = "<span class='button remove' id='" + n.tId + y.id.REMOVE + "' title='" + g.apply(t.edit.removeTitle, [t.treeId, n], t.edit.removeTitle) + "' treeNode" + y.id.REMOVE + " style='display:none;'></span>";
			r.append(i),
			e("#" + n.tId + y.id.REMOVE).bind("click", function () {
				return !g.uCanDo(t) || g.apply(t.callback.beforeRemove, [t.treeId, n], true) == 0 ? !1 : (b.removeNode(t, n), t.treeObj.trigger(y.event.REMOVE, [t.treeId, n]), !1)
			}).bind("mousedown", function (e) {
				return !0
			}).show()
		},
		addHoverDom : function (e, t) {
			w.getRoot(e).showHoverDom && (t.isHover = !0, e.edit.enable && (b.addEditBtn(e, t), b.addRemoveBtn(e, t)), g.apply(e.view.addHoverDom, [e.treeId, t]))
		},
		cancelCurEditNode : function (t, n) {
			var r = w.getRoot(t),
			i = t.data.key.name,
			s = r.curEditNode;
			if (s) {
				var o = r.curEditInput,
				u = n ? n : o.val();
				if (!n && g.apply(t.callback.beforeRename, [t.treeId, s, u], !0) === !1)
					return !1;
				s[i] = u ? u : o.val(),
				n || t.treeObj.trigger(y.event.RENAME, [t.treeId, s]);
				var a = e("#" + s.tId + y.id.A);
				a.removeClass(y.node.CURSELECTED_EDIT),
				o.unbind(),
				b.setNodeName(t, s),
				s.editNameFlag = !1,
				r.curEditNode = null,
				r.curEditInput = null,
				b.selectNode(t, s, !1)
			}
			return r.noSelection = !0,
			!0
		},
		editNode : function (t, n) {
			var r = w.getRoot(t);
			b.editNodeBlur = !1;
			if (w.isSelectedNode(t, n) && r.curEditNode == n && n.editNameFlag) {
				setTimeout(function () {
					g.inputFocus(r.curEditInput)
				}, 0);
				return
			}
			var i = t.data.key.name;
			n.editNameFlag = !0,
			b.removeTreeDom(t, n),
			b.cancelCurEditNode(t),
			b.selectNode(t, n, !1),
			e("#" + n.tId + y.id.SPAN).html("<input type=text class='rename' id='" + n.tId + y.id.INPUT + "' treeNode" + y.id.INPUT + " >");
			var s = e("#" + n.tId + y.id.INPUT);
			s.attr("value", n[i]),
			t.edit.editNameSelectAll ? g.inputSelect(s) : g.inputFocus(s),
			s.bind("blur", function (e) {
				b.editNodeBlur || b.cancelCurEditNode(t)
			}).bind("keydown", function (e) {
				e.keyCode == "13" ? (b.editNodeBlur = !0, b.cancelCurEditNode(t, null, !0)) : e.keyCode == "27" && b.cancelCurEditNode(t, n[i])
			}).bind("click", function (e) {
				return !1
			}).bind("dblclick", function (e) {
				return !1
			}),
			e("#" + n.tId + y.id.A).addClass(y.node.CURSELECTED_EDIT),
			r.curEditInput = s,
			r.noSelection = !1,
			r.curEditNode = n
		},
		moveNode : function (t, n, r, i, s, o) {
			var u = w.getRoot(t),
			a = t.data.key.children;
			if (n == r)
				return;
			if (t.data.keep.leaf && n && !n.isParent && i == y.move.TYPE_INNER)
				return;
			var f = r.parentTId ? r.getParentNode() : u,
			l = n === null || n == u;
			l && n === null && (n = u),
			l && (i = y.move.TYPE_INNER);
			var c = n.parentTId ? n.getParentNode() : u;
			i != y.move.TYPE_PREV && i != y.move.TYPE_NEXT && (i = y.move.TYPE_INNER),
			i == y.move.TYPE_INNER && (l ? r.parentTId = null : (n.isParent || (n.isParent = !0, n.open = !!n.open, b.setNodeLineIcos(t, n)), r.parentTId = n.tId));
			var h,
			p;
			if (l)
				h = t.treeObj, p = h;
			else {
				!o && i == y.move.TYPE_INNER ? b.expandCollapseNode(t, n, !0, !1) : o || b.expandCollapseNode(t, n.getParentNode(), !0, !1),
				h = e("#" + n.tId),
				p = e("#" + n.tId + y.id.UL);
				if (!!h.get(0) && !p.get(0)) {
					var d = [];
					b.makeUlHtml(t, n, d, ""),
					h.append(d.join(""))
				}
				p = e("#" + n.tId + y.id.UL)
			}
			var v = e("#" + r.tId);
			v.get(0) ? h.get(0) || v.remove() : v = b.appendNodes(t, r.level, [r], null, !1, !0).join(""),
			p.get(0) && i == y.move.TYPE_INNER ? p.append(v) : h.get(0) && i == y.move.TYPE_PREV ? h.before(v) : h.get(0) && i == y.move.TYPE_NEXT && h.after(v);
			var m,
			g,
			E = -1,
			S = 0,
			x = null,
			T = null,
			N = r.level;
			if (r.isFirstNode)
				E = 0, f[a].length > 1 && (x = f[a][1], x.isFirstNode = !0);
			else if (r.isLastNode)
				E = f[a].length - 1, x = f[a][E - 1], x.isLastNode = !0;
			else
				for (m = 0, g = f[a].length; m < g; m++)
					if (f[a][m].tId == r.tId) {
						E = m;
						break
					}
			E >= 0 && f[a].splice(E, 1);
			if (i != y.move.TYPE_INNER)
				for (m = 0, g = c[a].length; m < g; m++)
					c[a][m].tId == n.tId && (S = m);
			i == y.move.TYPE_INNER ? (n[a] || (n[a] = new Array), n[a].length > 0 && (T = n[a][n[a].length - 1], T.isLastNode = !1), n[a].splice(n[a].length, 0, r), r.isLastNode = !0, r.isFirstNode = n[a].length == 1) : n.isFirstNode && i == y.move.TYPE_PREV ? (c[a].splice(S, 0, r), T = n, T.isFirstNode = !1, r.parentTId = n.parentTId, r.isFirstNode = !0, r.isLastNode = !1) : n.isLastNode && i == y.move.TYPE_NEXT ? (c[a].splice(S + 1, 0, r), T = n, T.isLastNode = !1, r.parentTId = n.parentTId, r.isFirstNode = !1, r.isLastNode = !0) : (i == y.move.TYPE_PREV ? c[a].splice(S, 0, r) : c[a].splice(S + 1, 0, r), r.parentTId = n.parentTId, r.isFirstNode = !1, r.isLastNode = !1),
			w.fixPIdKeyValue(t, r),
			w.setSonNodeLevel(t, r.getParentNode(), r),
			b.setNodeLineIcos(t, r),
			b.repairNodeLevelClass(t, r, N);
			if (!t.data.keep.parent && f[a].length < 1) {
				f.isParent = !1,
				f.open = !1;
				var C = e("#" + f.tId + y.id.UL),
				k = e("#" + f.tId + y.id.SWITCH),
				L = e("#" + f.tId + y.id.ICON);
				b.replaceSwitchClass(f, k, y.folder.DOCU),
				b.replaceIcoClass(f, L, y.folder.DOCU),
				C.css("display", "none")
			} else
				x && b.setNodeLineIcos(t, x);
			T && b.setNodeLineIcos(t, T),
			!!t.check && t.check.enable && b.repairChkClass && (b.repairChkClass(t, f), b.repairParentChkClassWithSelf(t, f), f != r.parent && b.repairParentChkClassWithSelf(t, r)),
			o || b.expandCollapseParentNode(t, r.getParentNode(), !0, s)
		},
		removeEditBtn : function (t) {
			e("#" + t.tId + y.id.EDIT).unbind().remove()
		},
		removeRemoveBtn : function (t) {
			e("#" + t.tId + y.id.REMOVE).unbind().remove()
		},
		removeTreeDom : function (e, t) {
			t.isHover = !1,
			b.removeEditBtn(t),
			b.removeRemoveBtn(t),
			g.apply(e.view.removeHoverDom, [e.treeId, t])
		},
		repairNodeLevelClass : function (t, n, r) {
			if (r === n.level)
				return;
			var i = e("#" + n.tId),
			s = e("#" + n.tId + y.id.A),
			o = e("#" + n.tId + y.id.UL),
			u = "level" + r,
			a = "level" + n.level;
			i.removeClass(u),
			i.addClass(a),
			s.removeClass(u),
			s.addClass(a),
			o.removeClass(u),
			o.addClass(a)
		}
	},
	v = {
		tools : p,
		view : d,
		event : c,
		data : l
	};
	e.extend(!0, e.fn.zTree.consts, t),
	e.extend(!0, e.fn.zTree._z, v);
	var m = e.fn.zTree,
	g = m._z.tools,
	y = m.consts,
	b = m._z.view,
	w = m._z.data,
	E = m._z.event;
	w.exSetting(n),
	w.addInitBind(s),
	w.addInitUnBind(o),
	w.addInitCache(i),
	w.addInitNode(a),
	w.addInitProxy(u),
	w.addInitRoot(r),
	w.addZTreeTools(f);
	var S = b.cancelPreSelectedNode;
	b.cancelPreSelectedNode = function (e, t) {
		var n = w.getRoot(e).curSelectedList;
		for (var r = 0, i = n.length; r < i; r++)
			if (!t || t === n[r]) {
				b.removeTreeDom(e, n[r]);
				if (t)
					break
			}
		S && S.apply(b, arguments)
	};
	var x = b.createNodes;
	b.createNodes = function (e, t, n, r) {
		x && x.apply(b, arguments);
		if (!n)
			return;
		b.repairParentChkClassWithSelf && b.repairParentChkClassWithSelf(e, r)
	};
	var T = b.makeNodeUrl;
	b.makeNodeUrl = function (e, t) {
		return e.edit.enable ? null : T.apply(b, arguments)
	};
	var N = b.removeNode;
	b.removeNode = function (e, t) {
		var n = w.getRoot(e);
		n.curEditNode === t && (n.curEditNode = null),
		N && N.apply(b, arguments)
	};
	var C = b.selectNode;
	b.selectNode = function (e, t, n) {
		var r = w.getRoot(e);
		return w.isSelectedNode(e, t) && r.curEditNode == t && t.editNameFlag ? !1 : (C && C.apply(b, arguments), b.addHoverDom(e, t), !0)
	};
	var k = g.uCanDo;
	g.uCanDo = function (e, t) {
		var n = w.getRoot(e);
		return t && (g.eqs(t.type, "mouseover") || g.eqs(t.type, "mouseout") || g.eqs(t.type, "mousedown") || g.eqs(t.type, "mouseup")) ? !0 : !n.curEditNode && (k ? k.apply(b, arguments) : !0)
	}
}
(jQuery), define("lib/jquery.ztree.all-3.5.min", function () {}), function () {
	function e(e, t) {
		var n;
		e || (e = {});
		for (n in t)
			e[n] = t[n];
		return e
	}
	function t() {
		var e,
		t = arguments.length,
		n = {},
		r = function (e, t) {
			var n,
			i;
			typeof e != "object" && (e = {});
			for (i in t)
				t.hasOwnProperty(i) && (n = t[i], e[i] = n && typeof n == "object" && Object.prototype.toString.call(n) !== "[object Array]" && typeof n.nodeType != "number" ? r(e[i] || {}, n) : t[i]);
			return e
		};
		for (e = 0; e < t; e++)
			n = r(n, arguments[e]);
		return n
	}
	function n() {
		for (var e = 0, t = arguments, n = t.length, r = {}; e < n; e++)
			r[t[e++]] = t[e];
		return r
	}
	function r(e, t) {
		return parseInt(e, t || 10)
	}
	function i(e) {
		return typeof e == "string"
	}
	function s(e) {
		return typeof e == "object"
	}
	function o(e) {
		return Object.prototype.toString.call(e) === "[object Array]"
	}
	function u(e) {
		return typeof e == "number"
	}
	function a(e) {
		return Q.log(e) / Q.LN10
	}
	function f(e) {
		return Q.pow(10, e)
	}
	function l(e, t) {
		for (var n = e.length; n--; )
			if (e[n] === t) {
				e.splice(n, 1);
				break
			}
	}
	function c(e) {
		return e !== $ && e !== null
	}
	function h(e, t, n) {
		var r,
		o;
		if (i(t))
			c(n) ? e.setAttribute(t, n) : e && e.getAttribute && (o = e.getAttribute(t));
		else if (c(t) && s(t))
			for (r in t)
				e.setAttribute(r, t[r]);
		return o
	}
	function p(e) {
		return o(e) ? e : [e]
	}
	function d() {
		var e = arguments,
		t,
		n,
		r = e.length;
		for (t = 0; t < r; t++)
			if (n = e[t], typeof n != "undefined" && n !== null)
				return n
	}
	function v(t, n) {
		ft && n && n.opacity !== $ && (n.filter = "alpha(opacity=" + n.opacity * 100 + ")"),
		e(t.style, n)
	}
	function m(t, n, r, i, s) {
		return t = J.createElement(t),
		n && e(t, n),
		s && v(t, {
			padding : 0,
			border : Mt,
			margin : 0
		}),
		r && v(t, r),
		i && i.appendChild(t),
		t
	}
	function g(t, n) {
		var r = function () {};
		return r.prototype = new t,
		e(r.prototype, n),
		r
	}
	function y(e, t, n, i) {
		var s = xt.lang,
		e = +e || 0,
		o = t === -1 ? (e.toString().split(".")[1] || "").length : isNaN(t = nt(t)) ? 2 : t,
		t = n === void 0 ? s.decimalPoint : n,
		i = i === void 0 ? s.thousandsSep : i,
		s = e < 0 ? "-" : "",
		n = String(r(e = nt(e).toFixed(o))),
		u = n.length > 3 ? n.length % 3 : 0;
		return s + (u ? n.substr(0, u) + i : "") + n.substr(u).replace(/(\d{3})(?=\d)/g, "$1" + i) + (o ? t + nt(e - n).toFixed(o).slice(2) : "")
	}
	function b(e, t) {
		return Array((t || 2) + 1 - String(e).length).join(0) + e
	}
	function w(e, t, n) {
		var r = e[t];
		e[t] = function () {
			var e = Array.prototype.slice.call(arguments);
			return e.unshift(r),
			n.apply(this, e)
		}
	}
	function E(e, t) {
		for (var n = "{", r = !1, i, s, o, u, a, f = []; (n = e.indexOf(n)) !== -1; ) {
			i = e.slice(0, n);
			if (r) {
				s = i.split(":"),
				o = s.shift().split("."),
				a = o.length,
				i = t;
				for (u = 0; u < a; u++)
					i = i[o[u]];
				s.length && (s = s.join(":"), o = /\.([0-9])/, u = xt.lang, a = void 0, /f$/.test(s) ? (a = (a = s.match(o)) ? a[1] : -1, i = y(i, a, u.decimalPoint, s.indexOf(",") > -1 ? u.thousandsSep : "")) : i = Tt(s, i))
			}
			f.push(i),
			e = e.slice(n + 1),
			n = (r = !r) ? "}" : "{"
		}
		return f.push(e),
		f.join("")
	}
	function S(e) {
		return Q.pow(10, Y(Q.log(e) / Q.LN10))
	}
	function x(e, t, n, r) {
		var i,
		n = d(n, 1);
		i = e / n,
		t || (t = [1, 2, 2.5, 5, 10], r && r.allowDecimals === !1 && (n === 1 ? t = [1, 2, 5, 10] : n <= .1 && (t = [1 / n])));
		for (r = 0; r < t.length; r++)
			if (e = t[r], i <= (t[r] + (t[r + 1] || t[r])) / 2)
				break;
		return e *= n,
		e
	}
	function T(e, t) {
		var n = t || [[Dt, [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], [Pt, [1, 2, 5, 10, 15, 30]], [Ht, [1, 2, 5, 10, 15, 30]], [Bt, [1, 2, 3, 4, 6, 8, 12]], [jt, [1, 2]], [Ft, [1, 2]], [It, [1, 2, 3, 4, 6]], [qt, null]],
		r = n[n.length - 1],
		i = kt[r[0]],
		s = r[1],
		o;
		for (o = 0; o < n.length; o++)
			if (r = n[o], i = kt[r[0]], s = r[1], n[o + 1] && e <= (i * s[s.length - 1] + kt[n[o + 1][0]]) / 2)
				break;
		return i === kt[qt] && e < 5 * i && (s = [1, 2, 5]),
		n = x(e / i, s, r[0] === qt ? S(e / i) : 1), {
			unitRange : i,
			count : n,
			unitName : r[0]
		}
	}
	function N(t, n, r, i) {
		var s = [],
		o = {},
		u = xt.global.useUTC,
		a,
		f = new Date(n),
		l = t.unitRange,
		h = t.count;
		if (c(n)) {
			l >= kt[Pt] && (f.setMilliseconds(0), f.setSeconds(l >= kt[Ht] ? 0 : h * Y(f.getSeconds() / h))),
			l >= kt[Ht] && f[Kt](l >= kt[Bt] ? 0 : h * Y(f[zt]() / h)),
			l >= kt[Bt] && f[Qt](l >= kt[jt] ? 0 : h * Y(f[Wt]() / h)),
			l >= kt[jt] && f[Gt](l >= kt[It] ? 1 : h * Y(f[Vt]() / h)),
			l >= kt[It] && (f[Yt](l >= kt[qt] ? 0 : h * Y(f[$t]() / h)), a = f[Jt]()),
			l >= kt[qt] && (a -= a % h, f[Zt](a)),
			l === kt[Ft] && f[Gt](f[Vt]() - f[Xt]() + d(i, 1)),
			n = 1,
			a = f[Jt]();
			for (var i = f.getTime(), p = f[$t](), v = f[Vt](), m = u ? 0 : (864e5 + f.getTimezoneOffset() * 6e4) % 864e5; i < r; )
				s.push(i), l === kt[qt] ? i = Ut(a + n * h, 0) : l === kt[It] ? i = Ut(a, p + n * h) : !!u || l !== kt[jt] && l !== kt[Ft] ? i += l * h : i = Ut(a, p, v + n * h * (l === kt[jt] ? 1 : 7)), n++;
			s.push(i),
			un(an(s, function (e) {
					return l <= kt[Bt] && e % kt[jt] === m
				}), function (e) {
				o[e] = jt
			})
		}
		return s.info = e(t, {
				higherRanks : o,
				totalRange : l * h
			}),
		s
	}
	function C() {
		this.symbol = this.color = 0
	}
	function k(e, t) {
		var n = e.length,
		r,
		i;
		for (i = 0; i < n; i++)
			e[i].ss_i = i;
		e.sort(function (e, n) {
			return r = t(e, n),
			r === 0 ? e.ss_i - n.ss_i : r
		});
		for (i = 0; i < n; i++)
			delete e[i].ss_i
	}
	function L(e) {
		for (var t = e.length, n = e[0]; t--; )
			e[t] < n && (n = e[t]);
		return n
	}
	function A(e) {
		for (var t = e.length, n = e[0]; t--; )
			e[t] > n && (n = e[t]);
		return n
	}
	function O(e, t) {
		for (var n in e)
			e[n] && e[n] !== t && e[n].destroy && e[n].destroy(), delete e[n]
	}
	function M(e) {
		St || (St = m(Ot)),
		e && St.appendChild(e),
		St.innerHTML = ""
	}
	function _(e, t) {
		var n = "Highcharts error #" + e + ": www.highcharts.com/errors/" + e;
		if (t)
			throw n;
		K.console && console.log(n)
	}
	function D(e) {
		return parseFloat(e.toPrecision(14))
	}
	function P(e, t) {
		Nt = d(e, t.animation)
	}
	function H() {
		var e = xt.global.useUTC,
		t = e ? "getUTC" : "get",
		n = e ? "setUTC" : "set";
		Ut = e ? Date.UTC : function (e, t, n, r, i, s) {
			return (new Date(e, t, d(n, 1), d(r, 0), d(i, 0), d(s, 0))).getTime()
		},
		zt = t + "Minutes",
		Wt = t + "Hours",
		Xt = t + "Day",
		Vt = t + "Date",
		$t = t + "Month",
		Jt = t + "FullYear",
		Kt = n + "Minutes",
		Qt = n + "Hours",
		Gt = n + "Date",
		Yt = n + "Month",
		Zt = n + "FullYear"
	}
	function B() {}

	function j(e, t, n, r) {
		this.axis = e,
		this.pos = t,
		this.type = n || "",
		this.isNew = !0,
		!n && !r && this.addLabel()
	}
	function F(e, t) {
		this.axis = e,
		t && (this.options = t, this.id = t.id)
	}
	function I(e, t, n, r, i, s) {
		var o = e.chart.inverted;
		this.axis = e,
		this.isNegative = n,
		this.options = t,
		this.x = r,
		this.total = null,
		this.points = {},
		this.stack = i,
		this.percent = s === "percent",
		this.alignOptions = {
			align : t.align || (o ? n ? "left" : "right" : "center"),
			verticalAlign : t.verticalAlign || (o ? "middle" : n ? "bottom" : "top"),
			y : d(t.y, o ? 4 : n ? 14 : -6),
			x : d(t.x, o ? n ? -6 : 6 : 0)
		},
		this.textAlign = t.textAlign || (o ? n ? "right" : "left" : "center")
	}
	function q() {
		this.init.apply(this, arguments)
	}
	function R() {
		this.init.apply(this, arguments)
	}
	function U(e, t) {
		this.init(e, t)
	}
	function z(e, t) {
		this.init(e, t)
	}
	function W() {
		this.init.apply(this, arguments)
	}
	function X(e) {
		var t = e.options,
		n = t.navigator,
		r = n.enabled,
		t = t.scrollbar,
		i = t.enabled,
		s = r ? n.height : 0,
		o = i ? t.height : 0;
		this.handles = [],
		this.scrollbarButtons = [],
		this.elementsToDestroy = [],
		this.chart = e,
		this.setBaseSeries(),
		this.height = s,
		this.scrollbarHeight = o,
		this.scrollbarEnabled = i,
		this.navigatorEnabled = r,
		this.navigatorOptions = n,
		this.scrollbarOptions = t,
		this.outlineHeight = s + o,
		this.init()
	}
	function V(e) {
		this.init(e)
	}
	var $,
	J = document,
	K = window,
	Q = Math,
	G = Q.round,
	Y = Q.floor,
	Z = Q.ceil,
	et = Q.max,
	tt = Q.min,
	nt = Q.abs,
	rt = Q.cos,
	it = Q.sin,
	st = Q.PI,
	ot = st * 2 / 360,
	ut = navigator.userAgent,
	at = K.opera,
	ft = /msie/i.test(ut) && !at,
	lt = J.documentMode === 8,
	ct = /AppleWebKit/.test(ut),
	ht = /Firefox/.test(ut),
	pt = /(Mobile|Android|Windows Phone)/.test(ut),
	dt = "http://www.w3.org/2000/svg",
	vt = !!J.createElementNS && !!J.createElementNS(dt, "svg").createSVGRect,
	mt = ht && parseInt(ut.split("Firefox/")[1], 10) < 4,
	gt = !vt && !ft && !!J.createElement("canvas").getContext,
	yt,
	bt = J.documentElement.ontouchstart !== $,
	wt = {},
	Et = 0,
	St,
	xt,
	Tt,
	Nt,
	Ct,
	kt,
	Lt = function () {},
	At = [],
	Ot = "div",
	Mt = "none",
	_t = "rgba(192,192,192," + (vt ? 1e-4 : .002) + ")",
	Dt = "millisecond",
	Pt = "second",
	Ht = "minute",
	Bt = "hour",
	jt = "day",
	Ft = "week",
	It = "month",
	qt = "year",
	Rt = "stroke-width",
	Ut,
	zt,
	Wt,
	Xt,
	Vt,
	$t,
	Jt,
	Kt,
	Qt,
	Gt,
	Yt,
	Zt,
	en = {};
	K.Highcharts = K.Highcharts ? _(16, !0) : {},
	Tt = function (t, n, r) {
		if (!c(n) || isNaN(n))
			return "Invalid date";
		var t = d(t, "%Y-%m-%d %H:%M:%S"),
		i = new Date(n),
		s,
		o = i[Wt](),
		u = i[Xt](),
		a = i[Vt](),
		f = i[$t](),
		l = i[Jt](),
		h = xt.lang,
		p = h.weekdays,
		i = e({
				a : p[u].substr(0, 3),
				A : p[u],
				d : b(a),
				e : a,
				b : h.shortMonths[f],
				B : h.months[f],
				m : b(f + 1),
				y : l.toString().substr(2, 2),
				Y : l,
				H : b(o),
				I : b(o % 12 || 12),
				l : o % 12 || 12,
				M : b(i[zt]()),
				p : o < 12 ? "AM" : "PM",
				P : o < 12 ? "am" : "pm",
				S : b(i.getSeconds()),
				L : b(G(n % 1e3), 3)
			}, Highcharts.dateFormats);
		for (s in i)
			for (; t.indexOf("%" + s) !== -1; )
				t = t.replace("%" + s, typeof i[s] == "function" ? i[s](n) : i[s]);
		return r ? t.substr(0, 1).toUpperCase() + t.substr(1) : t
	},
	C.prototype = {
		wrapColor : function (e) {
			this.color >= e && (this.color = 0)
		},
		wrapSymbol : function (e) {
			this.symbol >= e && (this.symbol = 0)
		}
	},
	kt = n(Dt, 1, Pt, 1e3, Ht, 6e4, Bt, 36e5, jt, 864e5, Ft, 6048e5, It, 26784e5, qt, 31556952e3),
	Ct = {
		init : function (e, t, n) {
			var t = t || "",
			r = e.shift,
			i = t.indexOf("C") > -1,
			s = i ? 7 : 3,
			o,
			t = t.split(" "),
			n = [].concat(n),
			u,
			a,
			f = function (e) {
				for (o = e.length; o--; )
					e[o] === "M" && e.splice(o + 1, 0, e[o + 1], e[o + 2], e[o + 1], e[o + 2])
			};
			i && (f(t), f(n)),
			e.isArea && (u = t.splice(t.length - 6, 6), a = n.splice(n.length - 6, 6));
			if (r <= n.length / s && t.length === n.length)
				for (; r--; )
					n = [].concat(n).splice(0, s).concat(n);
			e.shift = 0;
			if (t.length)
				for (e = n.length; t.length < e; )
					r = [].concat(t).splice(t.length - s, s), i && (r[s - 6] = r[s - 2], r[s - 5] = r[s - 1]), t = t.concat(r);
			return u && (t = t.concat(u), n = n.concat(a)),
			[t, n]
		},
		step : function (e, t, n, r) {
			var i = [],
			s = e.length;
			if (n === 1)
				i = r;
			else if (s === t.length && n < 1)
				for (; s--; )
					r = parseFloat(e[s]), i[s] = isNaN(r) ? e[s] : n * parseFloat(t[s] - r) + r;
			else
				i = t;
			return i
		}
	},
	function (t) {
		K.HighchartsAdapter = K.HighchartsAdapter || t && {
			init : function (e) {
				var n = t.fx,
				r = n.step,
				s,
				o = t.Tween,
				u = o && o.propHooks;
				s = t.cssHooks.opacity,
				t.extend(t.easing, {
					easeOutQuad : function (e, t, n, r, i) {
						return -r * (t /= i) * (t - 2) + n
					}
				}),
				t.each(["cur", "_default", "width", "height", "opacity"], function (e, t) {
					var i = r,
					s,
					a;
					t === "cur" ? i = n.prototype : t === "_default" && o && (i = u[t], t = "set"),
					(s = i[t]) && (i[t] = function (n) {
						n = e ? n : this;
						if (n.prop !== "align")
							return a = n.elem, a.attr ? a.attr(n.prop, t === "cur" ? $ : n.now) : s.apply(this, arguments)
					})
				}),
				w(s, "get", function (e, t, n) {
					return t.attr ? t.opacity || 0 : e.call(this, t, n)
				}),
				s = function (t) {
					var n = t.elem,
					r;
					t.started || (r = e.init(n, n.d, n.toD), t.start = r[0], t.end = r[1], t.started = !0),
					n.attr("d", e.step(t.start, t.end, t.pos, n.toD))
				},
				o ? u.d = {
					set : s
				}
				 : r.d = s,
				this.each = Array.prototype.forEach ? function (e, t) {
					return Array.prototype.forEach.call(e, t)
				}
				 : function (e, t) {
					for (var n = 0, r = e.length; n < r; n++)
						if (t.call(e[n], e[n], n, e) === !1)
							return n
				},
				t.fn.highcharts = function () {
					var e = "Chart",
					t = arguments,
					n,
					r;
					return i(t[0]) && (e = t[0], t = Array.prototype.slice.call(t, 1)),
					n = t[0],
					n !== $ && (n.chart = n.chart || {}, n.chart.renderTo = this[0], new Highcharts[e](n, t[1]), r = this),
					n === $ && (r = At[h(this[0], "data-highcharts-chart")]),
					r
				}
			},
			getScript : t.getScript,
			inArray : t.inArray,
			adapterRun : function (e, n) {
				return t(e)[n]()
			},
			grep : t.grep,
			map : function (e, t) {
				for (var n = [], r = 0, i = e.length; r < i; r++)
					n[r] = t.call(e[r], e[r], r, e);
				return n
			},
			offset : function (e) {
				return t(e).offset()
			},
			addEvent : function (e, n, r) {
				t(e).bind(n, r)
			},
			removeEvent : function (e, n, r) {
				var i = J.removeEventListener ? "removeEventListener" : "detachEvent";
				J[i] && e && !e[i] && (e[i] = function () {}),
				t(e).unbind(n, r)
			},
			fireEvent : function (n, r, i, s) {
				var o = t.Event(r),
				u = "detached" + r,
				a;
				!ft && i && (delete i.layerX, delete i.layerY),
				e(o, i),
				n[r] && (n[u] = n[r], n[r] = null),
				t.each(["preventDefault", "stopPropagation"], function (e, t) {
					var n = o[t];
					o[t] = function () {
						try {
							n.call(o)
						} catch (e) {
							t === "preventDefault" && (a = !0)
						}
					}
				}),
				t(n).trigger(o),
				n[u] && (n[r] = n[u], n[u] = null),
				s && !o.isDefaultPrevented() && !a && s(o)
			},
			washMouseEvent : function (e) {
				var t = e.originalEvent || e;
				return t.pageX === $ && (t.pageX = e.pageX, t.pageY = e.pageY),
				t
			},
			animate : function (e, n, r) {
				var i = t(e);
				e.style || (e.style = {}),
				n.d && (e.toD = n.d, n.d = 1),
				i.stop(),
				n.opacity !== $ && e.attr && (n.opacity += "px"),
				i.animate(n, r)
			},
			stop : function (e) {
				t(e).stop()
			}
		}
	}
	(K.jQuery);
	var tn = K.HighchartsAdapter,
	nn = tn || {};
	tn && tn.init.call(tn, Ct);
	var rn = nn.adapterRun,
	sn = nn.getScript,
	on = nn.inArray,
	un = nn.each,
	an = nn.grep,
	fn = nn.offset,
	ln = nn.map,
	cn = nn.addEvent,
	hn = nn.removeEvent,
	pn = nn.fireEvent,
	dn = nn.washMouseEvent,
	vn = nn.animate,
	mn = nn.stop,
	nn = {
		enabled : !0,
		x : 0,
		y : 15,
		style : {
			color : "#666",
			cursor : "default",
			fontSize : "11px",
			lineHeight : "14px"
		}
	};
	xt = {
		colors : "#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),
		symbols : ["circle", "diamond", "square", "triangle", "triangle-down"],
		lang : {
			loading : "Loading...",
			months : "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
			shortMonths : "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
			weekdays : "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
			decimalPoint : ".",
			numericSymbols : "k,M,G,T,P,E".split(","),
			resetZoom : "Reset zoom",
			resetZoomTitle : "Reset zoom level 1:1",
			thousandsSep : ","
		},
		global : {
			useUTC : !0,
			canvasToolsURL : "http://code.highcharts.com/stock/1.3.6/modules/canvas-tools.js",
			VMLRadialGradientURL : "http://code.highcharts.com/stock/1.3.6/gfx/vml-radial-gradient.png"
		},
		chart : {
			borderColor : "#4572A7",
			borderRadius : 5,
			defaultSeriesType : "line",
			ignoreHiddenSeries : !0,
			spacing : [10, 10, 15, 10],
			style : {
				fontFamily : '"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',
				fontSize : "12px"
			},
			backgroundColor : "#FFFFFF",
			plotBorderColor : "#C0C0C0",
			resetZoomButton : {
				theme : {
					zIndex : 20
				},
				position : {
					align : "right",
					x : -10,
					y : 10
				}
			}
		},
		title : {
			text : "Chart title",
			align : "center",
			margin : 15,
			style : {
				color : "#274b6d",
				fontSize : "16px"
			}
		},
		subtitle : {
			text : "",
			align : "center",
			style : {
				color : "#4d759e"
			}
		},
		plotOptions : {
			line : {
				allowPointSelect : !1,
				showCheckbox : !1,
				animation : {
					duration : 1e3
				},
				events : {},
				lineWidth : 2,
				marker : {
					enabled : !0,
					lineWidth : 0,
					radius : 4,
					lineColor : "#FFFFFF",
					states : {
						hover : {
							enabled : !0
						},
						select : {
							fillColor : "#FFFFFF",
							lineColor : "#000000",
							lineWidth : 2
						}
					}
				},
				point : {
					events : {}

				},
				dataLabels : t(nn, {
					align : "center",
					enabled : !1,
					formatter : function () {
						return this.y === null ? "" : y(this.y, -1)
					},
					verticalAlign : "bottom",
					y : 0
				}),
				cropThreshold : 300,
				pointRange : 0,
				showInLegend : !0,
				states : {
					hover : {
						marker : {}

					},
					select : {
						marker : {}

					}
				},
				stickyTracking : !0
			}
		},
		labels : {
			style : {
				position : "absolute",
				color : "#3E576F"
			}
		},
		legend : {
			enabled : !0,
			align : "center",
			layout : "horizontal",
			labelFormatter : function () {
				return this.name
			},
			borderWidth : 1,
			borderColor : "#909090",
			borderRadius : 5,
			navigation : {
				activeColor : "#274b6d",
				inactiveColor : "#CCC"
			},
			shadow : !1,
			itemStyle : {
				cursor : "pointer",
				color : "#274b6d",
				fontSize : "12px"
			},
			itemHoverStyle : {
				color : "#000"
			},
			itemHiddenStyle : {
				color : "#CCC"
			},
			itemCheckboxStyle : {
				position : "absolute",
				width : "13px",
				height : "13px"
			},
			symbolWidth : 16,
			symbolPadding : 5,
			verticalAlign : "bottom",
			x : 0,
			y : 0,
			title : {
				style : {
					fontWeight : "bold"
				}
			}
		},
		loading : {
			labelStyle : {
				fontWeight : "bold",
				position : "relative",
				top : "1em"
			},
			style : {
				position : "absolute",
				backgroundColor : "white",
				opacity : .5,
				textAlign : "center"
			}
		},
		tooltip : {
			enabled : !0,
			animation : vt,
			backgroundColor : "rgba(255, 255, 255, .85)",
			borderWidth : 1,
			borderRadius : 3,
			dateTimeLabelFormats : {
				millisecond : "%A, %b %e, %H:%M:%S.%L",
				second : "%A, %b %e, %H:%M:%S",
				minute : "%A, %b %e, %H:%M",
				hour : "%A, %b %e, %H:%M",
				day : "%A, %b %e, %Y",
				week : "Week from %A, %b %e, %Y",
				month : "%B %Y",
				year : "%Y"
			},
			headerFormat : '<span style="font-size: 10px">{point.key}</span><br/>',
			pointFormat : '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
			shadow : !0,
			snap : pt ? 25 : 10,
			style : {
				color : "#333333",
				cursor : "default",
				fontSize : "12px",
				padding : "8px",
				whiteSpace : "nowrap"
			}
		},
		credits : {
			enabled : !0,
			text : "Highcharts.com",
			href : "http://www.highcharts.com",
			position : {
				align : "right",
				x : -10,
				verticalAlign : "bottom",
				y : -5
			},
			style : {
				cursor : "pointer",
				color : "#909090",
				fontSize : "9px"
			}
		}
	};
	var gn = xt.plotOptions,
	tn = gn.line;
	H();
	var yn = function (e) {
		var n = [],
		i,
		s;
		return function (e) {
			e && e.stops ? s = ln(e.stops, function (e) {
					return yn(e[1])
				}) : (i = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e)) ? n = [r(i[1]), r(i[2]), r(i[3]), parseFloat(i[4], 10)] : (i = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e)) ? n = [r(i[1], 16), r(i[2], 16), r(i[3], 16), 1] : (i = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e)) && (n = [r(i[1]), r(i[2]), r(i[3]), 1])
		}
		(e), {
			get : function (r) {
				var i;
				return s ? (i = t(e), i.stops = [].concat(i.stops), un(s, function (e, t) {
						i.stops[t] = [i.stops[t][0], e.get(r)]
					})) : i = n && !isNaN(n[0]) ? r === "rgb" ? "rgb(" + n[0] + "," + n[1] + "," + n[2] + ")" : r === "a" ? n[3] : "rgba(" + n.join(",") + ")" : e,
				i
			},
			brighten : function (e) {
				if (s)
					un(s, function (t) {
						t.brighten(e)
					});
				else if (u(e) && e !== 0) {
					var t;
					for (t = 0; t < 3; t++)
						n[t] += r(e * 255), n[t] < 0 && (n[t] = 0), n[t] > 255 && (n[t] = 255)
				}
				return this
			},
			rgba : n,
			setOpacity : function (e) {
				return n[3] = e,
				this
			}
		}
	};
	B.prototype = {
		init : function (e, t) {
			this.element = t === "span" ? m(t) : J.createElementNS(dt, t),
			this.renderer = e,
			this.attrSetters = {}

		},
		opacity : 1,
		animate : function (e, n, r) {
			n = d(n, Nt, !0),
			mn(this),
			n ? (n = t(n), r && (n.complete = r), vn(this, e, n)) : (this.attr(e), r && r())
		},
		attr : function (e, t) {
			var n,
			s,
			o,
			u,
			a = this.element,
			f = a.nodeName.toLowerCase(),
			l = this.renderer,
			p,
			v = this.attrSetters,
			m = this.shadows,
			g,
			y,
			b = this;
			i(e) && c(t) && (n = e, e = {}, e[n] = t);
			if (i(e))
				n = e, f === "circle" ? n = {
					x : "cx",
					y : "cy"
				}
			[n] || n : n === "strokeWidth" && (n = "stroke-width"),
			b = h(a, n) || this[n] || 0,
			n !== "d" && n !== "visibility" && n !== "fill" && (b = parseFloat(b));
			else {
				for (n in e)
					if (p = !1, s = e[n], o = v[n] && v[n].call(this, s, n), o !== !1) {
						o !== $ && (s = o);
						if (n === "d")
							s && s.join && (s = s.join(" ")), /(NaN| {2}|^$)/.test(s) && (s = "M 0 0");
						else if (n === "x" && f === "text")
							for (o = 0; o < a.childNodes.length; o++)
								u = a.childNodes[o], h(u, "x") === h(a, "x") && h(u, "x", s);
						else if (!this.rotation || n !== "x" && n !== "y")
							if (n === "fill")
								s = l.color(s, a, n);
							else if (f !== "circle" || n !== "x" && n !== "y")
								if (f === "rect" && n === "r")
									h(a, {
										rx : s,
										ry : s
									}), p = !0;
								else if (n === "translateX" || n === "translateY" || n === "rotation" || n === "verticalAlign" || n === "scaleX" || n === "scaleY")
									p = y = !0;
								else if (n === "stroke")
									s = l.color(s, a, n);
								else if (n === "dashstyle") {
									if (n = "stroke-dasharray", s = s && s.toLowerCase(), s === "solid")
										s = Mt;
									else if (s) {
										s = s.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(",");
										for (o = s.length; o--; )
											s[o] = r(s[o]) * d(e["stroke-width"], this["stroke-width"]);
										s = s.join(",")
									}
								} else
									n === "width" ? s = r(s) : n === "align" ? (n = "text-anchor", s = {
												left : "start",
												center : "middle",
												right : "end"
											}
											[s]) : n === "title" && (o = a.getElementsByTagName("title")[0], o || (o = J.createElementNS(dt, "title"), a.appendChild(o)), o.textContent = s);
							else
								n = {
									x : "cx",
									y : "cy"
								}
						[n] || n;
						else
							y = !0;
						n === "strokeWidth" && (n = "stroke-width");
						if (n === "stroke-width" || n === "stroke")
							this[n] = s, this.stroke && this["stroke-width"] ? (h(a, "stroke", this.stroke), h(a, "stroke-width", this["stroke-width"]), this.hasStroke = !0) : n === "stroke-width" && s === 0 && this.hasStroke && (a.removeAttribute("stroke"), this.hasStroke = !1), p = !0;
						this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n) && (g || (this.symbolAttr(e), g = !0), p = !0);
						if (m && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n))
							for (o = m.length; o--; )
								h(m[o], n, n === "height" ? et(s - (m[o].cutHeight || 0), 0) : s);
						(n === "width" || n === "height") && f === "rect" && s < 0 && (s = 0),
						this[n] = s,
						n === "text" ? (s !== this.textStr && delete this.bBox, this.textStr = s, this.added && l.buildText(this)) : p || h(a, n, s)
					}
				y && this.updateTransform()
			}
			return b
		},
		addClass : function (e) {
			var t = this.element,
			n = h(t, "class") || "";
			return n.indexOf(e) === -1 && h(t, "class", n + " " + e),
			this
		},
		symbolAttr : function (e) {
			var t = this;
			un("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","), function (n) {
				t[n] = d(e[n], t[n])
			}),
			t.attr({
				d : t.renderer.symbols[t.symbolName](t.x, t.y, t.width, t.height, t)
			})
		},
		clip : function (e) {
			return this.attr("clip-path", e ? "url(" + this.renderer.url + "#" + e.id + ")" : Mt)
		},
		crisp : function (e, t, n, r, i) {
			var s,
			o = {},
			u = {},
			a,
			e = e || this.strokeWidth || this.attr && this.attr("stroke-width") || 0;
			a = G(e) % 2 / 2,
			u.x = Y(t || this.x || 0) + a,
			u.y = Y(n || this.y || 0) + a,
			u.width = Y((r || this.width || 0) - 2 * a),
			u.height = Y((i || this.height || 0) - 2 * a),
			u.strokeWidth = e;
			for (s in u)
				this[s] !== u[s] && (this[s] = o[s] = u[s]);
			return o
		},
		css : function (t) {
			var n = this.element,
			r = t && t.width && n.nodeName.toLowerCase() === "text",
			i,
			s = "",
			o = function (e, t) {
				return "-" + t.toLowerCase()
			};
			t && t.color && (t.fill = t.color),
			this.styles = t = e(this.styles, t),
			gt && r && delete t.width;
			if (ft && !vt)
				r && delete t.width, v(this.element, t);
			else {
				for (i in t)
					s += i.replace(/([A-Z])/g, o) + ":" + t[i] + ";";
				h(n, "style", s)
			}
			return r && this.added && this.renderer.buildText(this),
			this
		},
		on : function (e, t) {
			var n = this,
			r = n.element;
			return bt && e === "click" ? (r.ontouchstart = function (e) {
				n.touchEventFired = Date.now(),
				e.preventDefault(),
				t.call(r, e)
			}, r.onclick = function (e) {
				(ut.indexOf("Android") === -1 || Date.now() - (n.touchEventFired || 0) > 1100) && t.call(r, e)
			}) : r["on" + e] = t,
			this
		},
		setRadialReference : function (e) {
			return this.element.radialReference = e,
			this
		},
		translate : function (e, t) {
			return this.attr({
				translateX : e,
				translateY : t
			})
		},
		invert : function () {
			return this.inverted = !0,
			this.updateTransform(),
			this
		},
		htmlCss : function (t) {
			var n = this.element;
			if (n = t && n.tagName === "SPAN" && t.width)
				delete t.width, this.textWidth = n, this.updateTransform();
			return this.styles = e(this.styles, t),
			v(this.element, t),
			this
		},
		htmlGetBBox : function () {
			var e = this.element,
			t = this.bBox;
			return t || (e.nodeName === "text" && (e.style.position = "absolute"), t = this.bBox = {
					x : e.offsetLeft,
					y : e.offsetTop,
					width : e.offsetWidth,
					height : e.offsetHeight
				}),
			t
		},
		htmlUpdateTransform : function () {
			if (this.added) {
				var e = this.renderer,
				t = this.element,
				n = this.translateX || 0,
				i = this.translateY || 0,
				s = this.x || 0,
				o = this.y || 0,
				u = this.textAlign || "left",
				a = {
					left : 0,
					center : .5,
					right : 1
				}
				[u],
				f = u && u !== "left",
				l = this.shadows;
				v(t, {
					marginLeft : n,
					marginTop : i
				}),
				l && un(l, function (e) {
					v(e, {
						marginLeft : n + 1,
						marginTop : i + 1
					})
				}),
				this.inverted && un(t.childNodes, function (n) {
					e.invertChild(n, t)
				});
				if (t.tagName === "SPAN") {
					var h,
					p,
					l = this.rotation,
					m;
					h = 0;
					var g = 1,
					y = 0,
					b;
					m = r(this.textWidth);
					var w = this.xCorr || 0,
					E = this.yCorr || 0,
					S = [l, u, t.innerHTML, this.textWidth].join(",");
					S !== this.cTT && (c(l) && (h = l * ot, g = rt(h), y = it(h), this.setSpanRotation(l, y, g)), h = d(this.elemWidth, t.offsetWidth), p = d(this.elemHeight, t.offsetHeight), h > m && /[ \-]/.test(t.textContent || t.innerText) && (v(t, {
								width : m + "px",
								display : "block",
								whiteSpace : "normal"
							}), h = m), m = e.fontMetrics(t.style.fontSize).b, w = g < 0 && -h, E = y < 0 && -p, b = g * y < 0, w += y * m * (b ? 1 - a : a), E -= g * m * (l ? b ? a : 1 - a : 1), f && (w -= h * a * (g < 0 ? -1 : 1), l && (E -= p * a * (y < 0 ? -1 : 1)), v(t, {
								textAlign : u
							})), this.xCorr = w, this.yCorr = E),
					v(t, {
						left : s + w + "px",
						top : o + E + "px"
					}),
					ct && (p = t.offsetHeight),
					this.cTT = S
				}
			} else
				this.alignOnAdd = !0
		},
		setSpanRotation : function (e) {
			var t = {};
			t[ft ? "-ms-transform" : ct ? "-webkit-transform" : ht ? "MozTransform" : at ? "-o-transform" : ""] = t.transform = "rotate(" + e + "deg)",
			v(this.element, t)
		},
		updateTransform : function () {
			var e = this.translateX || 0,
			t = this.translateY || 0,
			n = this.scaleX,
			r = this.scaleY,
			i = this.inverted,
			s = this.rotation;
			i && (e += this.attr("width"), t += this.attr("height")),
			e = ["translate(" + e + "," + t + ")"],
			i ? e.push("rotate(90) scale(-1,1)") : s && e.push("rotate(" + s + " " + (this.x || 0) + " " + (this.y || 0) + ")"),
			(c(n) || c(r)) && e.push("scale(" + d(n, 1) + " " + d(r, 1) + ")"),
			e.length && h(this.element, "transform", e.join(" "))
		},
		toFront : function () {
			var e = this.element;
			return e.parentNode.appendChild(e),
			this
		},
		align : function (e, t, n) {
			var r,
			s,
			o,
			u,
			a = {};
			s = this.renderer,
			o = s.alignedObjects;
			if (e) {
				if (this.alignOptions = e, this.alignByTranslate = t, !n || i(n))
					this.alignTo = r = n || "renderer", l(o, this), o.push(this), n = null
			} else
				e = this.alignOptions, t = this.alignByTranslate, r = this.alignTo;
			n = d(n, s[r], s),
			r = e.align,
			s = e.verticalAlign,
			o = (n.x || 0) + (e.x || 0),
			u = (n.y || 0) + (e.y || 0);
			if (r === "right" || r === "center")
				o += (n.width - (e.width || 0)) / {
					right : 1,
					center : 2
				}
			[r];
			a[t ? "translateX" : "x"] = G(o);
			if (s === "bottom" || s === "middle")
				u += (n.height - (e.height || 0)) / ({
					bottom : 1,
					middle : 2
				}
					[s] || 1);
			return a[t ? "translateY" : "y"] = G(u),
			this[this.placed ? "animate" : "attr"](a),
			this.placed = !0,
			this.alignAttr = a,
			this
		},
		getBBox : function () {
			var t = this.bBox,
			n = this.renderer,
			r,
			i = this.rotation;
			r = this.element;
			var s = this.styles,
			o = i * ot;
			if (!t) {
				if (r.namespaceURI === dt || n.forExport) {
					try {
						t = r.getBBox ? e({}, r.getBBox()) : {
							width : r.offsetWidth,
							height : r.offsetHeight
						}
					} catch (u) {}

					if (!t || t.width < 0)
						t = {
							width : 0,
							height : 0
						}
				} else
					t = this.htmlGetBBox();
				n.isSVG && (n = t.width, r = t.height, ft && s && s.fontSize === "11px" && r.toPrecision(3) === "22.7" && (t.height = r = 14), i && (t.width = nt(r * it(o)) + nt(n * rt(o)), t.height = nt(r * rt(o)) + nt(n * it(o)))),
				this.bBox = t
			}
			return t
		},
		show : function () {
			return this.attr({
				visibility : "visible"
			})
		},
		hide : function () {
			return this.attr({
				visibility : "hidden"
			})
		},
		fadeOut : function (e) {
			var t = this;
			t.animate({
				opacity : 0
			}, {
				duration : e || 150,
				complete : function () {
					t.hide()
				}
			})
		},
		add : function (e) {
			var t = this.renderer,
			n = e || t,
			i = n.element || t.box,
			s = i.childNodes,
			o = this.element,
			u = h(o, "zIndex"),
			a;
			e && (this.parentGroup = e),
			this.parentInverted = e && e.inverted,
			this.textStr !== void 0 && t.buildText(this),
			u && (n.handleZ = !0, u = r(u));
			if (n.handleZ)
				for (n = 0; n < s.length; n++)
					if (e = s[n], t = h(e, "zIndex"), e !== o && (r(t) > u || !c(u) && c(t))) {
						i.insertBefore(o, e),
						a = !0;
						break
					}
			return a || i.appendChild(o),
			this.added = !0,
			pn(this, "add"),
			this
		},
		safeRemoveChild : function (e) {
			var t = e.parentNode;
			t && t.removeChild(e)
		},
		destroy : function () {
			var e = this,
			t = e.element || {},
			n = e.shadows,
			r = e.renderer.isSVG && t.nodeName === "SPAN" && t.parentNode,
			i,
			s;
			t.onclick = t.onmouseout = t.onmouseover = t.onmousemove = t.point = null,
			mn(e),
			e.clipPath && (e.clipPath = e.clipPath.destroy());
			if (e.stops) {
				for (s = 0; s < e.stops.length; s++)
					e.stops[s] = e.stops[s].destroy();
				e.stops = null
			}
			e.safeRemoveChild(t);
			for (n && un(n, function (t) {
					e.safeRemoveChild(t)
				}); r && r.childNodes.length === 0; )
				t = r.parentNode, e.safeRemoveChild(r), r = t;
			e.alignTo && l(e.renderer.alignedObjects, e);
			for (i in e)
				delete e[i];
			return null
		},
		shadow : function (e, t, n) {
			var r = [],
			i,
			s,
			o = this.element,
			u,
			a,
			f,
			l;
			if (e) {
				a = d(e.width, 3),
				f = (e.opacity || .15) / a,
				l = this.parentInverted ? "(-1,-1)" : "(" + d(e.offsetX, 1) + ", " + d(e.offsetY, 1) + ")";
				for (i = 1; i <= a; i++)
					s = o.cloneNode(0), u = a * 2 + 1 - 2 * i, h(s, {
						isShadow : "true",
						stroke : e.color || "black",
						"stroke-opacity" : f * i,
						"stroke-width" : u,
						transform : "translate" + l,
						fill : Mt
					}), n && (h(s, "height", et(h(s, "height") - u, 0)), s.cutHeight = u), t ? t.element.appendChild(s) : o.parentNode.insertBefore(s, o), r.push(s);
				this.shadows = r
			}
			return this
		}
	};
	var bn = function () {
		this.init.apply(this, arguments)
	};
	bn.prototype = {
		Element : B,
		init : function (e, t, n, r) {
			var i = location,
			s,
			o;
			s = this.createElement("svg").attr({
					version : "1.1"
				}),
			o = s.element,
			e.appendChild(o),
			e.innerHTML.indexOf("xmlns") === -1 && h(o, "xmlns", dt),
			this.isSVG = !0,
			this.box = o,
			this.boxWrapper = s,
			this.alignedObjects = [],
			this.url = (ht || ct) && J.getElementsByTagName("base").length ? i.href.replace(/#.*?$/, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "",
			this.createElement("desc").add().element.appendChild(J.createTextNode("Created with Highstock 1.3.6")),
			this.defs = this.createElement("defs").add(),
			this.forExport = r,
			this.gradients = {},
			this.setSize(t, n, !1);
			var u;
			ht && e.getBoundingClientRect && (this.subPixelFix = t = function () {
				v(e, {
					left : 0,
					top : 0
				}),
				u = e.getBoundingClientRect(),
				v(e, {
					left : Z(u.left) - u.left + "px",
					top : Z(u.top) - u.top + "px"
				})
			}, t(), cn(K, "resize", t))
		},
		isHidden : function () {
			return !this.boxWrapper.getBBox().width
		},
		destroy : function () {
			var e = this.defs;
			return this.box = null,
			this.boxWrapper = this.boxWrapper.destroy(),
			O(this.gradients || {}),
			this.gradients = null,
			e && (this.defs = e.destroy()),
			this.subPixelFix && hn(K, "resize", this.subPixelFix),
			this.alignedObjects = null
		},
		createElement : function (e) {
			var t = new this.Element;
			return t.init(this, e),
			t
		},
		draw : function () {},
		buildText : function (e) {
			for (var t = e.element, n = this, i = n.forExport, s = d(e.textStr, "").toString().replace(/<(b|strong)>/g, '<span style="font-weight:bold">').replace(/<(i|em)>/g, '<span style="font-style:italic">').replace(/<a/g, "<span").replace(/<\/(b|strong|i|em|a)>/g, "</span>").split(/<br.*?>/g), o = t.childNodes, u = /style="([^"]+)"/, a = /href="(http[^"]+)"/, f = h(t, "x"), l = e.styles, c = l && l.width && r(l.width), p = l && l.lineHeight, m = o.length; m--; )
				t.removeChild(o[m]);
			c && !e.added && this.box.appendChild(t),
			s[s.length - 1] === "" && s.pop(),
			un(s, function (s, o) {
				var d,
				m = 0,
				s = s.replace(/<span/g, "|||<span").replace(/<\/span>/g, "</span>|||");
				d = s.split("|||"),
				un(d, function (s) {
					if (s !== "" || d.length === 1) {
						var g = {},
						y = J.createElementNS(dt, "tspan"),
						b;
						u.test(s) && (b = s.match(u)[1].replace(/(;| |^)color([ :])/, "$1fill$2"), h(y, "style", b)),
						a.test(s) && !i && (h(y, "onclick", 'location.href="' + s.match(a)[1] + '"'), v(y, {
								cursor : "pointer"
							})),
						s = (s.replace(/<(.|\n)*?>/g, "") || " ").replace(/&lt;/g, "<").replace(/&gt;/g, ">");
						if (s !== " " && (y.appendChild(J.createTextNode(s)), m ? g.dx = 0 : g.x = f, h(y, g), !m && o && (!vt && i && v(y, {
										display : "block"
									}), h(y, "dy", p || n.fontMetrics(/px$/.test(y.style.fontSize) ? y.style.fontSize : l.fontSize).h, ct && y.offsetHeight)), t.appendChild(y), m++, c))
							for (var s = s.replace(/([^\^])-/g, "$1- ").split(" "), w, E, g = e._clipHeight, S = [], x = r(p || 16), T = 1; s.length || S.length; )
								delete e.bBox, w = e.getBBox(), E = w.width, w = E > c, !w || s.length === 1 ? (s = S, S = [], s.length && (T++, g && T * x > g ? (s = ["..."], e.attr("title", e.textStr)) : (y = J.createElementNS(dt, "tspan"), h(y, {
												dy : x,
												x : f
											}), b && h(y, "style", b), t.appendChild(y), E > c && (c = E)))) : (y.removeChild(y.firstChild), S.unshift(s.pop())), s.length && y.appendChild(J.createTextNode(s.join(" ").replace(/- /g, "-")))
					}
				})
			})
		},
		button : function (n, r, i, s, o, u, a, f) {
			var l = this.label(n, r, i, null, null, null, null, null, "button"),
			c = 0,
			h,
			p,
			d,
			v,
			m,
			g,
			n = {
				x1 : 0,
				y1 : 0,
				x2 : 0,
				y2 : 1
			},
			o = t({
					"stroke-width" : 1,
					stroke : "#CCCCCC",
					fill : {
						linearGradient : n,
						stops : [[0, "#FEFEFE"], [1, "#F6F6F6"]]
					},
					r : 2,
					padding : 5,
					style : {
						color : "black"
					}
				}, o);
			return d = o.style,
			delete o.style,
			u = t(o, {
					stroke : "#68A",
					fill : {
						linearGradient : n,
						stops : [[0, "#FFF"], [1, "#ACF"]]
					}
				}, u),
			v = u.style,
			delete u.style,
			a = t(o, {
					stroke : "#68A",
					fill : {
						linearGradient : n,
						stops : [[0, "#9BD"], [1, "#CDF"]]
					}
				}, a),
			m = a.style,
			delete a.style,
			f = t(o, {
					style : {
						color : "#CCC"
					}
				}, f),
			g = f.style,
			delete f.style,
			cn(l.element, ft ? "mouseover" : "mouseenter", function () {
				c !== 3 && l.attr(u).css(v)
			}),
			cn(l.element, ft ? "mouseout" : "mouseleave", function () {
				c !== 3 && (h = [o, u, a][c], p = [d, v, m][c], l.attr(h).css(p))
			}),
			l.setState = function (e) {
				(l.state = c = e) ? e === 2 ? l.attr(a).css(m) : e === 3 && l.attr(f).css(g) : l.attr(o).css(d)
			},
			l.on("click", function () {
				c !== 3 && s.call(l)
			}).attr(o).css(e({
					cursor : "default"
				}, d))
		},
		crispLine : function (e, t) {
			return e[1] === e[4] && (e[1] = e[4] = G(e[1]) - t % 2 / 2),
			e[2] === e[5] && (e[2] = e[5] = G(e[2]) + t % 2 / 2),
			e
		},
		path : function (t) {
			var n = {
				fill : Mt
			};
			return o(t) ? n.d = t : s(t) && e(n, t),
			this.createElement("path").attr(n)
		},
		circle : function (e, t, n) {
			return e = s(e) ? e : {
				x : e,
				y : t,
				r : n
			},
			this.createElement("circle").attr(e)
		},
		arc : function (e, t, n, r, i, o) {
			return s(e) && (t = e.y, n = e.r, r = e.innerR, i = e.start, o = e.end, e = e.x),
			e = this.symbol("arc", e || 0, t || 0, n || 0, n || 0, {
					innerR : r || 0,
					start : i || 0,
					end : o || 0
				}),
			e.r = n,
			e
		},
		rect : function (e, t, n, r, i, o) {
			return i = s(e) ? e.r : i,
			i = this.createElement("rect").attr({
					rx : i,
					ry : i,
					fill : Mt
				}),
			i.attr(s(e) ? e : i.crisp(o, e, t, et(n, 0), et(r, 0)))
		},
		setSize : function (e, t, n) {
			var r = this.alignedObjects,
			i = r.length;
			this.width = e,
			this.height = t;
			for (this.boxWrapper[d(n, !0) ? "animate" : "attr"]({
					width : e,
					height : t
				}); i--; )
				r[i].align()
		},
		g : function (e) {
			var t = this.createElement("g");
			return c(e) ? t.attr({
				"class" : "highcharts-" + e
			}) : t
		},
		image : function (t, n, r, i, s) {
			var o = {
				preserveAspectRatio : Mt
			};
			return arguments.length > 1 && e(o, {
				x : n,
				y : r,
				width : i,
				height : s
			}),
			o = this.createElement("image").attr(o),
			o.element.setAttributeNS ? o.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", t) : o.element.setAttribute("hc-svg-href", t),
			o
		},
		symbol : function (t, n, r, i, s, o) {
			var u,
			a = this.symbols[t],
			a = a && a(G(n), G(r), i, s, o),
			f = /^url\((.*?)\)$/,
			l,
			c;
			return a ? (u = this.path(a), e(u, {
					symbolName : t,
					x : n,
					y : r,
					width : i,
					height : s
				}), o && e(u, o)) : f.test(t) && (c = function (e, t) {
				e.element && (e.attr({
						width : t[0],
						height : t[1]
					}), e.alignByTranslate || e.translate(G((i - t[0]) / 2), G((s - t[1]) / 2)))
			}, l = t.match(f)[1], t = wt[l], u = this.image(l).attr({
						x : n,
						y : r
					}), u.isImg = !0, t ? c(u, t) : (u.attr({
						width : 0,
						height : 0
					}), m("img", {
						onload : function () {
							c(u, wt[l] = [this.width, this.height])
						},
						src : l
					}))),
			u
		},
		symbols : {
			circle : function (e, t, n, r) {
				var i = .166 * n;
				return ["M", e + n / 2, t, "C", e + n + i, t, e + n + i, t + r, e + n / 2, t + r, "C", e - i, t + r, e - i, t, e + n / 2, t, "Z"]
			},
			square : function (e, t, n, r) {
				return ["M", e, t, "L", e + n, t, e + n, t + r, e, t + r, "Z"]
			},
			triangle : function (e, t, n, r) {
				return ["M", e + n / 2, t, "L", e + n, t + r, e, t + r, "Z"]
			},
			"triangle-down" : function (e, t, n, r) {
				return ["M", e, t, "L", e + n, t, e + n / 2, t + r, "Z"]
			},
			diamond : function (e, t, n, r) {
				return ["M", e + n / 2, t, "L", e + n, t + r / 2, e + n / 2, t + r, e, t + r / 2, "Z"]
			},
			arc : function (e, t, n, r, i) {
				var s = i.start,
				n = i.r || n || r,
				o = i.end - .001,
				r = i.innerR,
				u = i.open,
				a = rt(s),
				f = it(s),
				l = rt(o),
				o = it(o),
				i = i.end - s < st ? 0 : 1;
				return ["M", e + n * a, t + n * f, "A", n, n, 0, i, 1, e + n * l, t + n * o, u ? "M" : "L", e + r * l, t + r * o, "A", r, r, 0, i, 0, e + r * a, t + r * f, u ? "" : "Z"]
			}
		},
		clipRect : function (e, t, n, r) {
			var i = "highcharts-" + Et++,
			s = this.createElement("clipPath").attr({
					id : i
				}).add(this.defs),
			e = this.rect(e, t, n, r, 0).add(s);
			return e.id = i,
			e.clipPath = s,
			e
		},
		color : function (e, n, r) {
			var i = this,
			s,
			u = /^rgba/,
			a,
			f,
			l,
			p,
			d,
			v,
			m,
			g = [];
			e && e.linearGradient ? a = "linearGradient" : e && e.radialGradient && (a = "radialGradient");
			if (a) {
				r = e[a],
				f = i.gradients,
				p = e.stops,
				n = n.radialReference,
				o(r) && (e[a] = r = {
						x1 : r[0],
						y1 : r[1],
						x2 : r[2],
						y2 : r[3],
						gradientUnits : "userSpaceOnUse"
					}),
				a === "radialGradient" && n && !c(r.gradientUnits) && (r = t(r, {
							cx : n[0] - n[2] / 2 + r.cx * n[2],
							cy : n[1] - n[2] / 2 + r.cy * n[2],
							r : r.r * n[2],
							gradientUnits : "userSpaceOnUse"
						}));
				for (m in r)
					m !== "id" && g.push(m, r[m]);
				for (m in p)
					g.push(p[m]);
				return g = g.join(","),
				f[g] ? e = f[g].id : (r.id = e = "highcharts-" + Et++, f[g] = l = i.createElement(a).attr(r).add(i.defs), l.stops = [], un(p, function (e) {
							u.test(e[1]) ? (s = yn(e[1]), d = s.get("rgb"), v = s.get("a")) : (d = e[1], v = 1),
							e = i.createElement("stop").attr({
									offset : e[0],
									"stop-color" : d,
									"stop-opacity" : v
								}).add(l),
							l.stops.push(e)
						})),
				"url(" + i.url + "#" + e + ")"
			}
			return u.test(e) ? (s = yn(e), h(n, r + "-opacity", s.get("a")), s.get("rgb")) : (n.removeAttribute(r + "-opacity"), e)
		},
		text : function (e, t, n, r) {
			var i = xt.chart.style,
			s = gt || !vt && this.forExport;
			return r && !this.forExport ? this.html(e, t, n) : (t = G(d(t, 0)), n = G(d(n, 0)), e = this.createElement("text").attr({
						x : t,
						y : n,
						text : e
					}).css({
						fontFamily : i.fontFamily,
						fontSize : i.fontSize
					}), s && e.css({
					position : "absolute"
				}), e.x = t, e.y = n, e)
		},
		html : function (t, n, r) {
			var i = xt.chart.style,
			s = this.createElement("span"),
			o = s.attrSetters,
			u = s.element,
			a = s.renderer;
			return o.text = function (e) {
				return e !== u.innerHTML && delete this.bBox,
				u.innerHTML = e,
				!1
			},
			o.x = o.y = o.align = function (e, t) {
				return t === "align" && (t = "textAlign"),
				s[t] = e,
				s.htmlUpdateTransform(),
				!1
			},
			s.attr({
				text : t,
				x : G(n),
				y : G(r)
			}).css({
				position : "absolute",
				whiteSpace : "nowrap",
				fontFamily : i.fontFamily,
				fontSize : i.fontSize
			}),
			s.css = s.htmlCss,
			a.isSVG && (s.add = function (t) {
				var n,
				r = a.box.parentNode,
				i = [];
				if (t) {
					if (n = t.div, !n) {
						for (; t; )
							i.push(t), t = t.parentGroup;
						un(i.reverse(), function (t) {
							var i;
							n = t.div = t.div || m(Ot, {
									className : h(t.element, "class")
								}, {
									position : "absolute",
									left : (t.translateX || 0) + "px",
									top : (t.translateY || 0) + "px"
								}, n || r),
							i = n.style,
							e(t.attrSetters, {
								translateX : function (e) {
									i.left = e + "px"
								},
								translateY : function (e) {
									i.top = e + "px"
								},
								visibility : function (e, t) {
									i[t] = e
								}
							})
						})
					}
				} else
					n = r;
				return n.appendChild(u),
				s.added = !0,
				s.alignOnAdd && s.htmlUpdateTransform(),
				s
			}),
			s
		},
		fontMetrics : function (e) {
			var e = r(e || 11),
			e = e < 24 ? e + 4 : G(e * 1.2),
			t = G(e * .8);
			return {
				h : e,
				b : t
			}
		},
		label : function (n, r, i, s, o, u, a, f, l) {
			function h() {
				var e,
				n;
				e = y.element.style,
				w = (T === void 0 || N === void 0 || g.styles.textAlign) && y.getBBox(),
				g.width = (T || w.width || 0) + 2 * S + x,
				g.height = (N || w.height || 0) + 2 * S,
				O = S + m.fontMetrics(e && e.fontSize).b,
				M && (b || (e = G(-E * S), n = f ? -O : 0, g.box = b = s ? m.symbol(s, e, n, g.width, g.height) : m.rect(e, n, g.width, g.height, 0, A[Rt]), b.add(g)), b.isImg || b.attr(t({
							width : g.width,
							height : g.height
						}, A)), A = null)
			}
			function p() {
				var e = g.styles,
				e = e && e.textAlign,
				t = x + S * (1 - E),
				n;
				n = f ? 0 : O,
				c(T) && (e === "center" || e === "right") && (t += {
					center : .5,
					right : 1
				}
					[e] * (T - w.width)),
				(t !== y.x || n !== y.y) && y.attr({
					x : t,
					y : n
				}),
				y.x = t,
				y.y = n
			}
			function d(e, t) {
				b ? b.attr(e, t) : A[e] = t
			}
			function v() {
				y.add(g),
				g.attr({
					text : n,
					x : r,
					y : i
				}),
				b && c(o) && g.attr({
					anchorX : o,
					anchorY : u
				})
			}
			var m = this,
			g = m.g(l),
			y = m.text("", 0, 0, a).attr({
					zIndex : 1
				}),
			b,
			w,
			E = 0,
			S = 3,
			x = 0,
			T,
			N,
			C,
			k,
			L = 0,
			A = {},
			O,
			a = g.attrSetters,
			M;
			cn(g, "add", v),
			a.width = function (e) {
				return T = e,
				!1
			},
			a.height = function (e) {
				return N = e,
				!1
			},
			a.padding = function (e) {
				return c(e) && e !== S && (S = e, p()),
				!1
			},
			a.paddingLeft = function (e) {
				return c(e) && e !== x && (x = e, p()),
				!1
			},
			a.align = function (e) {
				return E = {
					left : 0,
					center : .5,
					right : 1
				}
				[e],
				!1
			},
			a.text = function (e, t) {
				return y.attr(t, e),
				h(),
				p(),
				!1
			},
			a[Rt] = function (e, t) {
				return M = !0,
				L = e % 2 / 2,
				d(t, e),
				!1
			},
			a.stroke = a.fill = a.r = function (e, t) {
				return t === "fill" && (M = !0),
				d(t, e),
				!1
			},
			a.anchorX = function (e, t) {
				return o = e,
				d(t, e + L - C),
				!1
			},
			a.anchorY = function (e, t) {
				return u = e,
				d(t, e - k),
				!1
			},
			a.x = function (e) {
				return g.x = e,
				e -= E * ((T || w.width) + S),
				C = G(e),
				g.attr("translateX", C),
				!1
			},
			a.y = function (e) {
				return k = g.y = G(e),
				g.attr("translateY", k),
				!1
			};
			var _ = g.css;
			return e(g, {
				css : function (e) {
					if (e) {
						var n = {},
						e = t(e);
						un("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","), function (t) {
							e[t] !== $ && (n[t] = e[t], delete e[t])
						}),
						y.css(n)
					}
					return _.call(g, e)
				},
				getBBox : function () {
					return {
						width : w.width + 2 * S,
						height : w.height + 2 * S,
						x : w.x - S,
						y : w.y - S
					}
				},
				shadow : function (e) {
					return b && b.shadow(e),
					g
				},
				destroy : function () {
					hn(g, "add", v),
					hn(g.element, "mouseenter"),
					hn(g.element, "mouseleave"),
					y && (y = y.destroy()),
					b && (b = b.destroy()),
					B.prototype.destroy.call(g),
					g = m = h = p = d = v = null
				}
			})
		}
	},
	yt = bn;
	var wn,
	En;
	!vt && !gt && (Highcharts.VMLElement = En = {
			init : function (e, t) {
				var n = ["<", t, ' filled="f" stroked="f"'],
				r = ["position: ", "absolute", ";"],
				i = t === Ot;
				(t === "shape" || i) && r.push("left:0;top:0;width:1px;height:1px;"),
				r.push("visibility: ", i ? "hidden" : "visible"),
				n.push(' style="', r.join(""), '"/>'),
				t && (n = i || t === "span" || t === "img" ? n.join("") : e.prepVML(n), this.element = m(n)),
				this.renderer = e,
				this.attrSetters = {}

			},
			add : function (e) {
				var t = this.renderer,
				n = this.element,
				r = t.box,
				r = e ? e.element || e : r;
				return e && e.inverted && t.invertChild(n, r),
				r.appendChild(n),
				this.added = !0,
				this.alignOnAdd && !this.deferUpdateTransform && this.updateTransform(),
				pn(this, "add"),
				this
			},
			updateTransform : B.prototype.htmlUpdateTransform,
			setSpanRotation : function (e, t, n) {
				v(this.element, {
					filter : e ? ["progid:DXImageTransform.Microsoft.Matrix(M11=", n, ", M12=", -t, ", M21=", t, ", M22=", n, ", sizingMethod='auto expand')"].join("") : Mt
				})
			},
			pathToVML : function (e) {
				for (var t = e.length, n = [], r; t--; )
					if (u(e[t]))
						n[t] = G(e[t] * 10) - 5;
					else if (e[t] === "Z")
						n[t] = "x";
					else if (n[t] = e[t], e.isArc && (e[t] === "wa" || e[t] === "at"))
						r = e[t] === "wa" ? 1 : -1, n[t + 5] === n[t + 7] && (n[t + 7] -= r), n[t + 6] === n[t + 8] && (n[t + 8] -= r);
				return n.join(" ") || "x"
			},
			attr : function (e, t) {
				var n,
				r,
				s,
				o = this.element || {},
				a = o.style,
				f = o.nodeName,
				l = this.renderer,
				p = this.symbolName,
				d,
				v = this.shadows,
				g,
				y = this.attrSetters,
				b = this;
				i(e) && c(t) && (n = e, e = {}, e[n] = t);
				if (i(e))
					n = e, b = n === "strokeWidth" || n === "stroke-width" ? this.strokeweight : this[n];
				else
					for (n in e)
						if (r = e[n], g = !1, s = y[n] && y[n].call(this, r, n), s !== !1 && r !== null) {
							s !== $ && (r = s);
							if (p && /^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))
								d || (this.symbolAttr(e), d = !0), g = !0;
							else if (n === "d") {
								r = r || [],
								this.d = r.join(" "),
								o.path = r = this.pathToVML(r);
								if (v)
									for (s = v.length; s--; )
										v[s].path = v[s].cutOff ? this.cutOffPath(r, v[s].cutOff) : r;
								g = !0
							} else if (n === "visibility") {
								if (v)
									for (s = v.length; s--; )
										v[s].style[n] = r;
								f === "DIV" && (r = r === "hidden" ? "-999em" : 0, lt || (a[n] = r ? "visible" : "hidden"), n = "top"),
								a[n] = r,
								g = !0
							} else
								n === "zIndex" ? (r && (a[n] = r), g = !0) : on(n, ["x", "y", "width", "height"]) !== -1 ? (this[n] = r, n === "x" || n === "y" ? n = {
										x : "left",
										y : "top"
									}
									[n] : r = et(0, r), this.updateClipping ? (this[n] = r, this.updateClipping()) : a[n] = r, g = !0) : n === "class" && f === "DIV" ? o.className = r : n === "stroke" ? (r = l.color(r, o, n), n = "strokecolor") : n === "stroke-width" || n === "strokeWidth" ? (o.stroked = r ? !0 : !1, n = "strokeweight", this[n] = r, u(r) && (r += "px")) : n === "dashstyle" ? ((o.getElementsByTagName("stroke")[0] || m(l.prepVML(["<stroke/>"]), null, null, o))[n] = r || "solid", this.dashstyle = r, g = !0) : n === "fill" ? f === "SPAN" ? a.color = r : f !== "IMG" && (o.filled = r !== Mt ? !0 : !1, r = l.color(r, o, n, this), n = "fillcolor") : n === "opacity" ? g = !0 : f === "shape" && n === "rotation" ? (this[n] = o.style[n] = r, o.style.left = -G(it(r * ot) + 1) + "px", o.style.top = G(rt(r * ot)) + "px") : n === "translateX" || n === "translateY" || n === "rotation" ? (this[n] = r, this.updateTransform(), g = !0) : n === "text" && (this.bBox = null, o.innerHTML = r, g = !0);
							g || (lt ? o[n] = r : h(o, n, r))
						}
				return b
			},
			clip : function (e) {
				var t = this,
				n;
				return e ? (n = e.members, l(n, t), n.push(t), t.destroyClip = function () {
					l(n, t)
				}, e = e.getCSS(t)) : (t.destroyClip && t.destroyClip(), e = {
						clip : lt ? "inherit" : "rect(auto)"
					}),
				t.css(e)
			},
			css : B.prototype.htmlCss,
			safeRemoveChild : function (e) {
				e.parentNode && M(e)
			},
			destroy : function () {
				return this.destroyClip && this.destroyClip(),
				B.prototype.destroy.apply(this)
			},
			on : function (e, t) {
				return this.element["on" + e] = function () {
					var e = K.event;
					e.target = e.srcElement,
					t(e)
				},
				this
			},
			cutOffPath : function (e, t) {
				var n,
				e = e.split(/[ ,]/);
				n = e.length;
				if (n === 9 || n === 11)
					e[n - 4] = e[n - 2] = r(e[n - 2]) - 10 * t;
				return e.join(" ")
			},
			shadow : function (e, t, n) {
				var i = [],
				s,
				o = this.element,
				u = this.renderer,
				a,
				f = o.style,
				l,
				c = o.path,
				h,
				p,
				v,
				g;
				c && typeof c.value != "string" && (c = "x"),
				p = c;
				if (e) {
					v = d(e.width, 3),
					g = (e.opacity || .15) / v;
					for (s = 1; s <= 3; s++)
						h = v * 2 + 1 - 2 * s, n && (p = this.cutOffPath(c.value, h + .5)), l = ['<shape isShadow="true" strokeweight="', h, '" filled="false" path="', p, '" coordsize="10 10" style="', o.style.cssText, '" />'], a = m(u.prepVML(l), null, {
								left : r(f.left) + d(e.offsetX, 1),
								top : r(f.top) + d(e.offsetY, 1)
							}), n && (a.cutOff = h + 1), l = ['<stroke color="', e.color || "black", '" opacity="', g * s, '"/>'], m(u.prepVML(l), null, null, a), t ? t.element.appendChild(a) : o.parentNode.insertBefore(a, o), i.push(a);
					this.shadows = i
				}
				return this
			}
		}, En = g(B, En), En = {
			Element : En,
			isIE8 : ut.indexOf("MSIE 8.0") > -1,
			init : function (e, t, n) {
				var r,
				i;
				this.alignedObjects = [],
				r = this.createElement(Ot),
				i = r.element,
				i.style.position = "relative",
				e.appendChild(r.element),
				this.isVML = !0,
				this.box = i,
				this.boxWrapper = r,
				this.setSize(t, n, !1),
				J.namespaces.hcv || (J.namespaces.add("hcv", "urn:schemas-microsoft-com:vml"), (J.styleSheets.length ? J.styleSheets[0] : J.createStyleSheet()).cssText += "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")
			},
			isHidden : function () {
				return !this.box.offsetWidth
			},
			clipRect : function (t, n, r, i) {
				var o = this.createElement(),
				u = s(t);
				return e(o, {
					members : [],
					left : (u ? t.x : t) + 1,
					top : (u ? t.y : n) + 1,
					width : (u ? t.width : r) - 1,
					height : (u ? t.height : i) - 1,
					getCSS : function (t) {
						var n = t.element,
						r = n.nodeName,
						t = t.inverted,
						i = this.top - (r === "shape" ? n.offsetTop : 0),
						s = this.left,
						n = s + this.width,
						o = i + this.height,
						i = {
							clip : "rect(" + G(t ? s : i) + "px," + G(t ? o : n) + "px," + G(t ? n : o) + "px," + G(t ? i : s) + "px)"
						};
						return !t && lt && r === "DIV" && e(i, {
							width : n + "px",
							height : o + "px"
						}),
						i
					},
					updateClipping : function () {
						un(o.members, function (e) {
							e.css(o.getCSS(e))
						})
					}
				})
			},
			color : function (e, t, n, r) {
				var i = this,
				s,
				o = /^rgba/,
				u,
				a,
				f = Mt;
				e && e.linearGradient ? a = "gradient" : e && e.radialGradient && (a = "pattern");
				if (a) {
					var l,
					c,
					h = e.linearGradient || e.radialGradient,
					p,
					d,
					v,
					g,
					y,
					b = "",
					e = e.stops,
					w,
					E = [],
					S = function () {
						u = ['<fill colors="' + E.join(",") + '" opacity="', v, '" o:opacity2="', d, '" type="', a, '" ', b, 'focus="100%" method="any" />'],
						m(i.prepVML(u), null, null, t)
					};
					p = e[0],
					w = e[e.length - 1],
					p[0] > 0 && e.unshift([0, p[1]]),
					w[0] < 1 && e.push([1, w[1]]),
					un(e, function (e, t) {
						o.test(e[1]) ? (s = yn(e[1]), l = s.get("rgb"), c = s.get("a")) : (l = e[1], c = 1),
						E.push(e[0] * 100 + "% " + l),
						t ? (v = c, g = l) : (d = c, y = l)
					});
					if (n === "fill")
						if (a === "gradient")
							n = h.x1 || h[0] || 0, e = h.y1 || h[1] || 0, p = h.x2 || h[2] || 0, h = h.y2 || h[3] || 0, b = 'angle="' + (90 - Q.atan((h - e) / (p - n)) * 180 / st) + '"', S();
						else {
							var f = h.r,
							x = f * 2,
							T = f * 2,
							N = h.cx,
							C = h.cy,
							k = t.radialReference,
							L,
							f = function () {
								k && (L = r.getBBox(), N += (k[0] - L.x) / L.width - .5, C += (k[1] - L.y) / L.height - .5, x *= k[2] / L.width, T *= k[2] / L.height),
								b = 'src="' + xt.global.VMLRadialGradientURL + '" size="' + x + "," + T + '" origin="0.5,0.5" position="' + N + "," + C + '" color2="' + y + '" ',
								S()
							};
							r.added ? f() : cn(r, "add", f),
							f = g
						}
					else
						f = l
				} else
					o.test(e) && t.tagName !== "IMG" ? (s = yn(e), u = ["<", n, ' opacity="', s.get("a"), '"/>'], m(this.prepVML(u), null, null, t), f = s.get("rgb")) : (f = t.getElementsByTagName(n), f.length && (f[0].opacity = 1, f[0].type = "solid"), f = e);
				return f
			},
			prepVML : function (e) {
				var t = this.isIE8,
				e = e.join("");
				return t ? (e = e.replace("/>", ' xmlns="urn:schemas-microsoft-com:vml" />'), e = e.indexOf('style="') === -1 ? e.replace("/>", ' style="display:inline-block;behavior:url(#default#VML);" />') : e.replace('style="', 'style="display:inline-block;behavior:url(#default#VML);')) : e = e.replace("<", "<hcv:"),
				e
			},
			text : bn.prototype.html,
			path : function (t) {
				var n = {
					coordsize : "10 10"
				};
				return o(t) ? n.d = t : s(t) && e(n, t),
				this.createElement("shape").attr(n)
			},
			circle : function (e, t, n) {
				var r = this.symbol("circle");
				return s(e) && (n = e.r, t = e.y, e = e.x),
				r.isCircle = !0,
				r.r = n,
				r.attr({
					x : e,
					y : t
				})
			},
			g : function (e) {
				var t;
				return e && (t = {
						className : "highcharts-" + e,
						"class" : "highcharts-" + e
					}),
				this.createElement(Ot).attr(t)
			},
			image : function (e, t, n, r, i) {
				var s = this.createElement("img").attr({
						src : e
					});
				return arguments.length > 1 && s.attr({
					x : t,
					y : n,
					width : r,
					height : i
				}),
				s
			},
			rect : function (e, t, n, r, i, o) {
				var u = this.symbol("rect");
				return u.r = s(e) ? e.r : i,
				u.attr(s(e) ? e : u.crisp(o, e, t, et(n, 0), et(r, 0)))
			},
			invertChild : function (e, t) {
				var n = t.style;
				v(e, {
					flip : "x",
					left : r(n.width) - 1,
					top : r(n.height) - 1,
					rotation : -90
				})
			},
			symbols : {
				arc : function (e, t, n, r, i) {
					var s = i.start,
					o = i.end,
					u = i.r || n || r,
					n = i.innerR,
					r = rt(s),
					a = it(s),
					f = rt(o),
					l = it(o);
					return o - s === 0 ? ["x"] : (s = ["wa", e - u, t - u, e + u, t + u, e + u * r, t + u * a, e + u * f, t + u * l], i.open && !n && s.push("e", "M", e, t), s.push("at", e - n, t - n, e + n, t + n, e + n * f, t + n * l, e + n * r, t + n * a, "x", "e"), s.isArc = !0, s)
				},
				circle : function (e, t, n, r, i) {
					return i && (n = r = 2 * i.r),
					i && i.isCircle && (e -= n / 2, t -= r / 2),
					["wa", e, t, e + n, t + r, e + n, t + r / 2, e + n, t + r / 2, "e"]
				},
				rect : function (e, t, n, r, i) {
					var s = e + n,
					o = t + r,
					u;
					return !c(i) || !i.r ? s = bn.prototype.symbols.square.apply(0, arguments) : (u = tt(i.r, n, r), s = ["M", e + u, t, "L", s - u, t, "wa", s - 2 * u, t, s, t + 2 * u, s - u, t, s, t + u, "L", s, o - u, "wa", s - 2 * u, o - 2 * u, s, o, s, o - u, s - u, o, "L", e + u, o, "wa", e, o - 2 * u, e + 2 * u, o, e + u, o, e, o - u, "L", e, t + u, "wa", e, t, e + 2 * u, t + 2 * u, e, t + u, e + u, t, "x", "e"]),
					s
				}
			}
		}, Highcharts.VMLRenderer = wn = function () {
		this.init.apply(this, arguments)
	}, wn.prototype = t(bn.prototype, En), yt = wn);
	var Sn;
	gt && (Highcharts.CanVGRenderer = En = function () {
		dt = "http://www.w3.org/1999/xhtml"
	}, En.prototype.symbols = {}, Sn = function () {
		function e() {
			var e = t.length,
			n;
			for (n = 0; n < e; n++)
				t[n]();
			t = []
		}
		var t = [];
		return {
			push : function (n, r) {
				t.length === 0 && sn(r, e),
				t.push(n)
			}
		}
	}
		(), yt = En),
	j.prototype = {
		addLabel : function () {
			var t = this.axis,
			n = t.options,
			r = t.chart,
			i = t.horiz,
			s = t.categories,
			o = t.series[0] && t.series[0].names,
			a = this.pos,
			l = n.labels,
			h = t.tickPositions,
			i = i && s && !l.step && !l.staggerLines && !l.rotation && r.plotWidth / h.length || !i && (r.margin[3] || r.chartWidth * .33),
			p = a === h[0],
			v = a === h[h.length - 1],
			m,
			o = s ? d(s[a], o && o[a], a) : a,
			s = this.label,
			g = h.info;
			t.isDatetimeAxis && g && (m = n.dateTimeLabelFormats[g.higherRanks[a] || g.unitName]),
			this.isFirst = p,
			this.isLast = v,
			n = t.labelFormatter.call({
					axis : t,
					chart : r,
					isFirst : p,
					isLast : v,
					dateTimeLabelFormat : m,
					value : t.isLog ? D(f(o)) : o
				}),
			a = i && {
				width : et(1, G(i - 2 * (l.padding || 10))) + "px"
			},
			a = e(a, l.style),
			c(s) ? s && s.attr({
				text : n
			}).css(a) : (m = {
					align : t.labelAlign
				}, u(l.rotation) && (m.rotation = l.rotation), i && l.ellipsis && (m._clipHeight = t.len / h.length), this.label = c(n) && l.enabled ? r.renderer.text(n, 0, 0, l.useHTML).attr(m).css(a).add(t.labelGroup) : null)
		},
		getLabelSize : function () {
			var e = this.label,
			t = this.axis;
			return e ? (this.labelBBox = e.getBBox())[t.horiz ? "height" : "width"] : 0
		},
		getLabelSides : function () {
			var e = this.axis,
			t = this.labelBBox.width,
			e = t * {
				left : 0,
				center : .5,
				right : 1
			}
			[e.labelAlign] - e.options.labels.x;
			return [-e, t - e]
		},
		handleOverflow : function (e, t) {
			var n = !0,
			r = this.axis,
			i = r.chart,
			s = this.isFirst,
			o = this.isLast,
			u = t.x,
			a = r.reversed,
			f = r.tickPositions;
			if (s || o) {
				var l = this.getLabelSides(),
				c = l[0],
				l = l[1],
				i = i.plotLeft,
				h = i + r.len,
				f = (r = r.ticks[f[e + (s ? 1 : -1)]]) && r.label.xy && r.label.xy.x + r.getLabelSides()[s ? 0 : 1];
				s && !a || o && a ? u + c < i && (u = i - c, r && u + l > f && (n = !1)) : u + l > h && (u = h - l, r && u + c < f && (n = !1)),
				t.x = u
			}
			return n
		},
		getPosition : function (e, t, n, r) {
			var i = this.axis,
			s = i.chart,
			o = r && s.oldChartHeight || s.chartHeight;
			return {
				x : e ? i.translate(t + n, null, null, r) + i.transB : i.left + i.offset + (i.opposite ? (r && s.oldChartWidth || s.chartWidth) - i.right - i.left : 0),
				y : e ? o - i.bottom + i.offset - (i.opposite ? i.height : 0) : o - i.translate(t + n, null, null, r) - i.transB
			}
		},
		getLabelPosition : function (e, t, n, r, i, s, o, u) {
			var a = this.axis,
			f = a.transA,
			l = a.reversed,
			h = a.staggerLines,
			p = a.chart.renderer.fontMetrics(i.style.fontSize).b,
			d = i.rotation,
			e = e + i.x - (s && r ? s * f * (l ? -1 : 1) : 0),
			t = t + i.y - (s && !r ? s * f * (l ? 1 : -1) : 0);
			return d && a.side === 2 && (t -= p - p * rt(d * ot)),
			!c(i.y) && !d && (t += p - n.getBBox().height / 2),
			h && (t += o / (u || 1) % h * (a.labelOffset / h)), {
				x : e,
				y : t
			}
		},
		getMarkPath : function (e, t, n, r, i, s) {
			return s.crispLine(["M", e, t, "L", e + (i ? 0 : -n), t + (i ? n : 0)], r)
		},
		render : function (e, t, n) {
			var r = this.axis,
			i = r.options,
			s = r.chart.renderer,
			o = r.horiz,
			u = this.type,
			a = this.label,
			f = this.pos,
			l = i.labels,
			c = this.gridLine,
			h = u ? u + "Grid" : "grid",
			p = u ? u + "Tick" : "tick",
			v = i[h + "LineWidth"],
			m = i[h + "LineColor"],
			g = i[h + "LineDashStyle"],
			y = i[p + "Length"],
			h = i[p + "Width"] || 0,
			b = i[p + "Color"],
			w = i[p + "Position"],
			p = this.mark,
			E = l.step,
			S = !0,
			x = r.tickmarkOffset,
			T = this.getPosition(o, f, x, t),
			N = T.x,
			T = T.y,
			C = o && N === r.pos + r.len || !o && T === r.pos ? -1 : 1,
			k = r.staggerLines;
			this.isActive = !0,
			v && (f = r.getPlotLinePath(f + x, v * C, t, !0), c === $ && (c = {
						stroke : m,
						"stroke-width" : v
					}, g && (c.dashstyle = g), u || (c.zIndex = 1), t && (c.opacity = 0), this.gridLine = c = v ? s.path(f).attr(c).add(r.gridGroup) : null), !t && c && f && c[this.isNew ? "attr" : "animate"]({
					d : f,
					opacity : n
				})),
			h && y && (w === "inside" && (y = -y), r.opposite && (y = -y), t = this.getMarkPath(N, T, y, h * C, o, s), p ? p.animate({
					d : t,
					opacity : n
				}) : this.mark = s.path(t).attr({
						stroke : b,
						"stroke-width" : h,
						opacity : n
					}).add(r.axisGroup)),
			a && !isNaN(N) && (a.xy = T = this.getLabelPosition(N, T, a, o, l, x, e, E), this.isFirst && !this.isLast && !d(i.showFirstLabel, 1) || this.isLast && !this.isFirst && !d(i.showLastLabel, 1) ? S = !1 : !k && o && l.overflow === "justify" && !this.handleOverflow(e, T) && (S = !1), E && e % E && (S = !1), S && !isNaN(T.y) ? (T.opacity = n, a[this.isNew ? "attr" : "animate"](T), this.isNew = !1) : a.attr("y", -9999))
		},
		destroy : function () {
			O(this, this.axis)
		}
	},
	F.prototype = {
		render : function () {
			var e = this,
			n = e.axis,
			r = n.horiz,
			i = (n.pointRange || 0) / 2,
			s = e.options,
			o = s.label,
			u = e.label,
			f = s.width,
			l = s.to,
			h = s.from,
			p = c(h) && c(l),
			v = s.value,
			m = s.dashStyle,
			g = e.svgElem,
			y = [],
			b,
			w = s.color,
			E = s.zIndex,
			S = s.events,
			x = n.chart.renderer;
			n.isLog && (h = a(h), l = a(l), v = a(v));
			if (f) {
				if (y = n.getPlotLinePath(v, f), i = {
						stroke : w,
						"stroke-width" : f
					}, m)
					i.dashstyle = m
			} else {
				if (!p)
					return;
				if (h = et(h, n.min - i), l = tt(l, n.max + i), y = n.getPlotBandPath(h, l, s), i = {
						fill : w
					}, s.borderWidth)
					i.stroke = s.borderColor, i["stroke-width"] = s.borderWidth
			}
			c(E) && (i.zIndex = E);
			if (g)
				y ? g.animate({
					d : y
				}, null, g.onGetPath) : (g.hide(), g.onGetPath = function () {
					g.show()
				});
			else if (y && y.length && (e.svgElem = g = x.path(y).attr(i).add(), S))
				for (b in s = function (t) {
					g.on(t, function (n) {
						S[t].apply(e, [n])
					})
				}, S)
					s(b);
			return o && c(o.text) && y && y.length && n.width > 0 && n.height > 0 ? (o = t({
						align : r && p && "center",
						x : r ? !p && 4 : 10,
						verticalAlign : !r && p && "middle",
						y : r ? p ? 16 : 10 : p ? 6 : -4,
						rotation : r && !p && 90
					}, o), u || (e.label = u = x.text(o.text, 0, 0, o.useHTML).attr({
							align : o.textAlign || o.align,
							rotation : o.rotation,
							zIndex : E
						}).css(o.style).add()), n = [y[1], y[4], d(y[6], y[1])], y = [y[2], y[5], d(y[7], y[2])], r = L(n), p = L(y), u.align(o, !1, {
					x : r,
					y : p,
					width : A(n) - r,
					height : A(y) - p
				}), u.show()) : u && u.hide(),
			e
		},
		destroy : function () {
			l(this.axis.plotLinesAndBands, this),
			delete this.axis,
			O(this)
		}
	},
	I.prototype = {
		destroy : function () {
			O(this, this.axis)
		},
		render : function (e) {
			var t = this.options,
			n = t.format,
			n = n ? E(n, this) : t.formatter.call(this);
			this.label ? this.label.attr({
				text : n,
				visibility : "hidden"
			}) : this.label = this.axis.chart.renderer.text(n, 0, 0, t.useHTML).css(t.style).attr({
					align : this.textAlign,
					rotation : t.rotation,
					visibility : "hidden"
				}).add(e)
		},
		setOffset : function (e, t) {
			var n = this.axis,
			r = n.chart,
			i = r.inverted,
			s = this.isNegative,
			o = n.translate(this.percent ? 100 : this.total, 0, 0, 0, 1),
			n = n.translate(0),
			n = nt(o - n),
			u = r.xAxis[0].translate(this.x) + e,
			a = r.plotHeight,
			s = {
				x : i ? s ? o : o - n : u,
				y : i ? a - u - t : s ? a - o - n : a - o,
				width : i ? n : t,
				height : i ? t : n
			};
			if (i = this.label)
				i.align(this.alignOptions, null, s), s = i.alignAttr, i.attr({
					visibility : this.options.crop === !1 || r.isInsidePlot(s.x, s.y) ? vt ? "inherit" : "visible" : "hidden"
				})
		}
	},
	q.prototype = {
		defaultOptions : {
			dateTimeLabelFormats : {
				millisecond : "%H:%M:%S.%L",
				second : "%H:%M:%S",
				minute : "%H:%M",
				hour : "%H:%M",
				day : "%e. %b",
				week : "%e. %b",
				month : "%b '%y",
				year : "%Y"
			},
			endOnTick : !1,
			gridLineColor : "#C0C0C0",
			labels : nn,
			lineColor : "#C0D0E0",
			lineWidth : 1,
			minPadding : .01,
			maxPadding : .01,
			minorGridLineColor : "#E0E0E0",
			minorGridLineWidth : 1,
			minorTickColor : "#A0A0A0",
			minorTickLength : 2,
			minorTickPosition : "outside",
			startOfWeek : 1,
			startOnTick : !1,
			tickColor : "#C0D0E0",
			tickLength : 5,
			tickmarkPlacement : "between",
			tickPixelInterval : 100,
			tickPosition : "outside",
			tickWidth : 1,
			title : {
				align : "middle",
				style : {
					color : "#4d759e",
					fontWeight : "bold"
				}
			},
			type : "linear"
		},
		defaultYAxisOptions : {
			endOnTick : !0,
			gridLineWidth : 1,
			tickPixelInterval : 72,
			showLastLabel : !0,
			labels : {
				x : -8,
				y : 3
			},
			lineWidth : 0,
			maxPadding : .05,
			minPadding : .05,
			startOnTick : !0,
			tickWidth : 0,
			title : {
				rotation : 270,
				text : "Values"
			},
			stackLabels : {
				enabled : !1,
				formatter : function () {
					return y(this.total, -1)
				},
				style : nn.style
			}
		},
		defaultLeftAxisOptions : {
			labels : {
				x : -8,
				y : null
			},
			title : {
				rotation : 270
			}
		},
		defaultRightAxisOptions : {
			labels : {
				x : 8,
				y : null
			},
			title : {
				rotation : 90
			}
		},
		defaultBottomAxisOptions : {
			labels : {
				x : 0,
				y : 14
			},
			title : {
				rotation : 0
			}
		},
		defaultTopAxisOptions : {
			labels : {
				x : 0,
				y : -5
			},
			title : {
				rotation : 0
			}
		},
		init : function (e, t) {
			var n = t.isX;
			this.horiz = e.inverted ? !n : n,
			this.xOrY = (this.isXAxis = n) ? "x" : "y",
			this.opposite = t.opposite,
			this.side = this.horiz ? this.opposite ? 0 : 2 : this.opposite ? 1 : 3,
			this.setOptions(t);
			var r = this.options,
			i = r.type;
			this.labelFormatter = r.labels.formatter || this.defaultLabelFormatter,
			this.userOptions = t,
			this.minPixelPadding = 0,
			this.chart = e,
			this.reversed = r.reversed,
			this.zoomEnabled = r.zoomEnabled !== !1,
			this.categories = r.categories || i === "category",
			this.isLog = i === "logarithmic",
			this.isDatetimeAxis = i === "datetime",
			this.isLinked = c(r.linkedTo),
			this.tickmarkOffset = this.categories && r.tickmarkPlacement === "between" ? .5 : 0,
			this.ticks = {},
			this.minorTicks = {},
			this.plotLinesAndBands = [],
			this.alternateBands = {},
			this.len = 0,
			this.minRange = this.userMinRange = r.minRange || r.maxZoom,
			this.range = r.range,
			this.offset = r.offset || 0,
			this.stacks = {},
			this.oldStacks = {},
			this.stackExtremes = {},
			this.min = this.max = null;
			var s,
			r = this.options.events;
			on(this, e.axes) === -1 && (e.axes.push(this), e[n ? "xAxis" : "yAxis"].push(this)),
			this.series = this.series || [],
			e.inverted && n && this.reversed === $ && (this.reversed = !0),
			this.removePlotLine = this.removePlotBand = this.removePlotBandOrLine;
			for (s in r)
				cn(this, s, r[s]);
			this.isLog && (this.val2lin = a, this.lin2val = f)
		},
		setOptions : function (e) {
			this.options = t(this.defaultOptions, this.isXAxis ? {}

					 : this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], t(xt[this.isXAxis ? "xAxis" : "yAxis"], e))
		},
		update : function (n, r) {
			var i = this.chart,
			n = i.options[this.xOrY + "Axis"][this.options.index] = t(this.userOptions, n);
			this.destroy(!0),
			this._addedPlotLB = this.userMin = this.userMax = $,
			this.init(i, e(n, {
					events : $
				})),
			i.isDirtyBox = !0,
			d(r, !0) && i.redraw()
		},
		remove : function (e) {
			var t = this.chart,
			n = this.xOrY + "Axis";
			un(this.series, function (e) {
				e.remove(!1)
			}),
			l(t.axes, this),
			l(t[n], this),
			t.options[n].splice(this.options.index, 1),
			un(t[n], function (e, t) {
				e.options.index = t
			}),
			this.destroy(),
			t.isDirtyBox = !0,
			d(e, !0) && t.redraw()
		},
		defaultLabelFormatter : function () {
			var e = this.axis,
			t = this.value,
			n = e.categories,
			r = this.dateTimeLabelFormat,
			i = xt.lang.numericSymbols,
			s = i && i.length,
			o,
			u = e.options.labels.format,
			e = e.isLog ? t : e.tickInterval;
			if (u)
				o = E(u, this);
			else if (n)
				o = t;
			else if (r)
				o = Tt(r, t);
			else if (s && e >= 1e3)
				for (; s-- && o === $; )
					n = Math.pow(1e3, s + 1), e >= n && i[s] !== null && (o = y(t / n, -1) + i[s]);
			return o === $ && (o = t >= 1e3 ? y(t, 0) : y(t, -1)),
			o
		},
		getSeriesExtremes : function () {
			var e = this,
			t = e.chart;
			e.hasVisibleSeries = !1,
			e.dataMin = e.dataMax = null,
			e.stackExtremes = {},
			e.buildStacks(),
			un(e.series, function (n) {
				if (n.visible || !t.options.chart.ignoreHiddenSeries) {
					var r;
					r = n.options.threshold;
					var i;
					e.hasVisibleSeries = !0,
					e.isLog && r <= 0 && (r = null);
					if (e.isXAxis) {
						if (r = n.xData, r.length)
							e.dataMin = tt(d(e.dataMin, r[0]), L(r)), e.dataMax = et(d(e.dataMax, r[0]), A(r))
					} else
						n.getExtremes(), i = n.dataMax, n = n.dataMin, c(n) && c(i) && (e.dataMin = tt(d(e.dataMin, n), n), e.dataMax = et(d(e.dataMax, i), i)), c(r) && (e.dataMin >= r ? (e.dataMin = r, e.ignoreMinPadding = !0) : e.dataMax < r && (e.dataMax = r, e.ignoreMaxPadding = !0))
				}
			})
		},
		translate : function (e, t, n, r, i, s) {
			var o = this.len,
			a = 1,
			f = 0,
			l = r ? this.oldTransA : this.transA,
			r = r ? this.oldMin : this.min,
			c = this.minPixelPadding,
			i = (this.options.ordinal || this.isLog && i) && this.lin2val;
			return l || (l = this.transA),
			n && (a *= -1, f = o),
			this.reversed && (a *= -1, f -= a * o),
			t ? (e = e * a + f, e -= c, e = e / l + r, i && (e = this.lin2val(e))) : (i && (e = this.val2lin(e)), s === "between" && (s = .5), e = a * (e - r) * l + f + a * c + (u(s) ? l * s * this.pointRange : 0)),
			e
		},
		toPixels : function (e, t) {
			return this.translate(e, !1, !this.horiz, null, !0) + (t ? 0 : this.pos)
		},
		toValue : function (e, t) {
			return this.translate(e - (t ? 0 : this.pos), !0, !this.horiz, null, !0)
		},
		getPlotLinePath : function (e, t, n, r) {
			var i = this.chart,
			s = this.left,
			o = this.top,
			u,
			a,
			f,
			e = this.translate(e, null, null, n),
			l = n && i.oldChartHeight || i.chartHeight,
			c = n && i.oldChartWidth || i.chartWidth,
			h;
			u = this.transB,
			n = a = G(e + u),
			u = f = G(l - e - u);
			if (isNaN(e))
				h = !0;
			else if (this.horiz) {
				if (u = o, f = l - this.bottom, n < s || n > s + this.width)
					h = !0
			} else if (n = s, a = c - this.right, u < o || u > o + this.height)
				h = !0;
			return h && !r ? null : i.renderer.crispLine(["M", n, u, "L", a, f], t || 0)
		},
		getPlotBandPath : function (e, t) {
			var n = this.getPlotLinePath(t),
			r = this.getPlotLinePath(e);
			return r && n ? r.push(n[4], n[5], n[1], n[2]) : r = null,
			r
		},
		getLinearTickPositions : function (e, t, n) {
			for (var r, t = D(Y(t / e) * e), n = D(Z(n / e) * e), i = []; t <= n; ) {
				i.push(t),
				t = D(t + e);
				if (t === r)
					break;
				r = t
			}
			return i
		},
		getLogTickPositions : function (e, t, n, r) {
			var i = this.options,
			s = this.len,
			o = [];
			r || (this._minorAutoInterval = null);
			if (e >= .5)
				e = G(e), o = this.getLinearTickPositions(e, t, n);
			else if (e >= .08)
				for (var s = Y(t), u, l, c, h, p, i = e > .3 ? [1, 2, 4] : e > .15 ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; s < n + 1 && !p; s++) {
					l = i.length;
					for (u = 0; u < l && !p; u++)
						c = a(f(s) * i[u]), c > t && (!r || h <= n) && o.push(h), h > n && (p = !0), h = c
				}
			else if (t = f(t), n = f(n), e = i[r ? "minorTickInterval" : "tickInterval"], e = d(e === "auto" ? null : e, this._minorAutoInterval, (n - t) * (i.tickPixelInterval / (r ? 5 : 1)) / ((r ? s / this.tickPositions.length : s) || 1)), e = x(e, null, S(e)), o = ln(this.getLinearTickPositions(e, t, n), a), !r)
				this._minorAutoInterval = e / 5;
			return r || (this.tickInterval = e),
			o
		},
		getMinorTickPositions : function () {
			var e = this.options,
			t = this.tickPositions,
			n = this.minorTickInterval,
			r = [],
			i;
			if (this.isLog) {
				i = t.length;
				for (e = 1; e < i; e++)
					r = r.concat(this.getLogTickPositions(n, t[e - 1], t[e], !0))
			} else if (this.isDatetimeAxis && e.minorTickInterval === "auto")
				r = r.concat(N(T(n), this.min, this.max, e.startOfWeek)), r[0] < this.min && r.shift();
			else
				for (t = this.min + (t[0] - this.min) % n; t <= this.max; t += n)
					r.push(t);
			return r
		},
		adjustForMinRange : function () {
			var e = this.options,
			t = this.min,
			n = this.max,
			r,
			i = this.dataMax - this.dataMin >= this.minRange,
			s,
			o,
			u,
			a,
			f;
			this.isXAxis && this.minRange === $ && !this.isLog && (c(e.min) || c(e.max) ? this.minRange = null : (un(this.series, function (e) {
							a = e.xData;
							for (o = f = e.xIncrement ? 1 : a.length - 1; o > 0; o--)
								if (u = a[o] - a[o - 1], s === $ || u < s)
									s = u
						}), this.minRange = tt(s * 5, this.dataMax - this.dataMin)));
			if (n - t < this.minRange) {
				var l = this.minRange;
				r = (l - n + t) / 2,
				r = [t - r, d(e.min, t - r)],
				i && (r[2] = this.dataMin),
				t = A(r),
				n = [t + l, d(e.max, t + l)],
				i && (n[2] = this.dataMax),
				n = L(n),
				n - t < l && (r[0] = n - l, r[1] = d(e.min, n - l), t = A(r))
			}
			this.min = t,
			this.max = n
		},
		setAxisTranslation : function (e) {
			var t = this.max - this.min,
			n = 0,
			r,
			s = 0,
			o = 0,
			u = this.linkedParent,
			a = this.transA;
			this.isXAxis && (u ? (s = u.minPointOffset, o = u.pointRangePadding) : un(this.series, function (e) {
					var u = e.pointRange,
					a = e.options.pointPlacement,
					f = e.closestPointRange;
					u > t && (u = 0),
					n = et(n, u),
					s = et(s, i(a) ? 0 : u / 2),
					o = et(o, a === "on" ? 0 : u),
					!e.noSharedTooltip && c(f) && (r = c(r) ? tt(r, f) : f)
				}), u = this.ordinalSlope && r ? this.ordinalSlope / r : 1, this.minPointOffset = s *= u, this.pointRangePadding = o *= u, this.pointRange = tt(n, t), this.closestPointRange = r),
			e && (this.oldTransA = a),
			this.translationSlope = this.transA = a = this.len / (t + o || 1),
			this.transB = this.horiz ? this.left : this.bottom,
			this.minPixelPadding = a * s
		},
		setTickPositions : function (e) {
			var t = this,
			n = t.chart,
			r = t.options,
			i = t.isLog,
			s = t.isDatetimeAxis,
			o = t.isXAxis,
			u = t.isLinked,
			f = t.options.tickPositioner,
			l = r.maxPadding,
			h = r.minPadding,
			p = r.tickInterval,
			v = r.minTickInterval,
			m = r.tickPixelInterval,
			g,
			y = t.categories;
			u ? (t.linkedParent = n[o ? "xAxis" : "yAxis"][r.linkedTo], n = t.linkedParent.getExtremes(), t.min = d(n.min, n.dataMin), t.max = d(n.max, n.dataMax), r.type !== t.linkedParent.options.type && _(11, 1)) : (t.min = d(t.userMin, r.min, t.dataMin), t.max = d(t.userMax, r.max, t.dataMax)),
			i && (!e && tt(t.min, d(t.dataMin, t.min)) <= 0 && _(10, 1), t.min = D(a(t.min)), t.max = D(a(t.max))),
			t.range && (t.userMin = t.min = et(t.min, t.max - t.range), t.userMax = t.max, e) && (t.range = null),
			t.beforePadding && t.beforePadding(),
			t.adjustForMinRange(),
			!y && !t.usePercentage && !u && c(t.min) && c(t.max) && (n = t.max - t.min) && (!c(r.min) && !c(t.userMin) && h && (t.dataMin < 0 || !t.ignoreMinPadding) && (t.min -= n * h), !c(r.max) && !c(t.userMax) && l && (t.dataMax > 0 || !t.ignoreMaxPadding) && (t.max += n * l)),
			t.min === t.max || t.min === void 0 || t.max === void 0 ? t.tickInterval = 1 : u && !p && m === t.linkedParent.options.tickPixelInterval ? t.tickInterval = t.linkedParent.tickInterval : (t.tickInterval = d(p, y ? 1 : (t.max - t.min) * m / et(t.len, m)), !c(p) && t.len < m && !this.isRadial && (g = !0, t.tickInterval /= 4)),
			o && !e && un(t.series, function (e) {
				e.processData(t.min !== t.oldMin || t.max !== t.oldMax)
			}),
			t.setAxisTranslation(!0),
			t.beforeSetTickPositions && t.beforeSetTickPositions(),
			t.postProcessTickInterval && (t.tickInterval = t.postProcessTickInterval(t.tickInterval)),
			t.pointRange && (t.tickInterval = et(t.pointRange, t.tickInterval)),
			!p && t.tickInterval < v && (t.tickInterval = v),
			!s && !i && !p && (t.tickInterval = x(t.tickInterval, null, S(t.tickInterval), r)),
			t.minorTickInterval = r.minorTickInterval === "auto" && t.tickInterval ? t.tickInterval / 5 : r.minorTickInterval,
			t.tickPositions = e = r.tickPositions ? [].concat(r.tickPositions) : f && f.apply(t, [t.min, t.max]),
			e || (!t.ordinalPositions && (t.max - t.min) / t.tickInterval > et(2 * t.len, 200) && _(19, !0), e = s ? (t.getNonLinearTimeTicks || N)(T(t.tickInterval, r.units), t.min, t.max, r.startOfWeek, t.ordinalPositions, t.closestPointRange, !0) : i ? t.getLogTickPositions(t.tickInterval, t.min, t.max) : t.getLinearTickPositions(t.tickInterval, t.min, t.max), g && e.splice(1, e.length - 2), t.tickPositions = e),
			u || (i = e[0], s = e[e.length - 1], u = t.minPointOffset || 0, r.startOnTick ? t.min = i : t.min - u > i && e.shift(), r.endOnTick ? t.max = s : t.max + u < s && e.pop(), e.length === 1 && (t.min -= .001, t.max += .001))
		},
		setMaxTicks : function () {
			var e = this.chart,
			t = e.maxTicks || {},
			n = this.tickPositions,
			r = this._maxTicksKey = [this.xOrY, this.pos, this.len].join("-");
			!this.isLinked && !this.isDatetimeAxis && n && n.length > (t[r] || 0) && this.options.alignTicks !== !1 && (t[r] = n.length),
			e.maxTicks = t
		},
		adjustTickAmount : function () {
			var e = this._maxTicksKey,
			t = this.tickPositions,
			n = this.chart.maxTicks;
			if (n && n[e] && !this.isDatetimeAxis && !this.categories && !this.isLinked && this.options.alignTicks !== !1) {
				var r = this.tickAmount,
				i = t.length;
				this.tickAmount = e = n[e];
				if (i < e) {
					for (; t.length < e; )
						t.push(D(t[t.length - 1] + this.tickInterval));
					this.transA *= (i - 1) / (e - 1),
					this.max = t[t.length - 1]
				}
				c(r) && e !== r && (this.isDirty = !0)
			}
		},
		setScale : function () {
			var e = this.stacks,
			t,
			n,
			r,
			i;
			this.oldMin = this.min,
			this.oldMax = this.max,
			this.oldAxisLength = this.len,
			this.setAxisSize(),
			i = this.len !== this.oldAxisLength,
			un(this.series, function (e) {
				if (e.isDirtyData || e.isDirty || e.xAxis.isDirty)
					r = !0
			});
			if (i || r || this.isLinked || this.forceRedraw || this.userMin !== this.oldUserMin || this.userMax !== this.oldUserMax) {
				if (!this.isXAxis)
					for (t in e)
						delete e[t];
				this.forceRedraw = !1,
				this.getSeriesExtremes(),
				this.setTickPositions(),
				this.oldUserMin = this.userMin,
				this.oldUserMax = this.userMax,
				this.isDirty || (this.isDirty = i || this.min !== this.oldMin || this.max !== this.oldMax)
			} else if (!this.isXAxis) {
				this.oldStacks && (e = this.stacks = this.oldStacks);
				for (t in e)
					for (n in e[t])
						e[t][n].cum = e[t][n].total
			}
			this.setMaxTicks()
		},
		setExtremes : function (t, n, r, i, s) {
			var o = this,
			u = o.chart,
			r = d(r, !0),
			s = e(s, {
					min : t,
					max : n
				});
			pn(o, "setExtremes", s, function () {
				o.userMin = t,
				o.userMax = n,
				o.eventArgs = s,
				o.isDirtyExtremes = !0,
				r && u.redraw(i)
			})
		},
		zoom : function (e, t) {
			return this.allowZoomOutside || (c(this.dataMin) && e <= this.dataMin && (e = $), c(this.dataMax) && t >= this.dataMax && (t = $)),
			this.displayBtn = e !== $ || t !== $,
			this.setExtremes(e, t, !1, $, {
				trigger : "zoom"
			}),
			!0
		},
		setAxisSize : function () {
			var e = this.chart,
			t = this.options,
			n = t.offsetLeft || 0,
			r = t.offsetRight || 0,
			i = this.horiz,
			s,
			o;
			this.left = o = d(t.left, e.plotLeft + n),
			this.top = s = d(t.top, e.plotTop),
			this.width = n = d(t.width, e.plotWidth - n + r),
			this.height = t = d(t.height, e.plotHeight),
			this.bottom = e.chartHeight - t - s,
			this.right = e.chartWidth - n - o,
			this.len = et(i ? n : t, 0),
			this.pos = i ? o : s
		},
		getExtremes : function () {
			var e = this.isLog;
			return {
				min : e ? D(f(this.min)) : this.min,
				max : e ? D(f(this.max)) : this.max,
				dataMin : this.dataMin,
				dataMax : this.dataMax,
				userMin : this.userMin,
				userMax : this.userMax
			}
		},
		getThreshold : function (e) {
			var t = this.isLog,
			n = t ? f(this.min) : this.min,
			t = t ? f(this.max) : this.max;
			return n > e || e === null ? e = n : t < e && (e = t),
			this.translate(e, 0, 1, 0, 1)
		},
		addPlotBand : function (e) {
			this.addPlotBandOrLine(e, "plotBands")
		},
		addPlotLine : function (e) {
			this.addPlotBandOrLine(e, "plotLines")
		},
		addPlotBandOrLine : function (e, t) {
			var n = (new F(this, e)).render(),
			r = this.userOptions;
			return n && (t && (r[t] = r[t] || [], r[t].push(e)), this.plotLinesAndBands.push(n)),
			n
		},
		autoLabelAlign : function (e) {
			return e = (d(e, 0) - this.side * 90 + 720) % 360,
			e > 15 && e < 165 ? "right" : e > 195 && e < 345 ? "left" : "center"
		},
		getOffset : function () {
			var e = this,
			t = e.chart,
			n = t.renderer,
			r = e.options,
			i = e.tickPositions,
			s = e.ticks,
			o = e.horiz,
			u = e.side,
			a = t.inverted ? [1, 0, 3, 2][u] : u,
			f,
			l = 0,
			h,
			p = 0,
			v = r.title,
			m = r.labels,
			g = 0,
			y = t.axisOffset,
			b = t.clipOffset,
			w = [-1, 1, 1, -1][u],
			E,
			S = 1,
			x = d(m.maxStaggerLines, 5),
			T,
			N,
			C,
			k;
			e.hasData = f = e.hasVisibleSeries || c(e.min) && c(e.max) && !!i,
			e.showAxis = t = f || d(r.showEmpty, !0),
			e.staggerLines = e.horiz && m.staggerLines,
			e.axisGroup || (e.gridGroup = n.g("grid").attr({
						zIndex : r.gridZIndex || 1
					}).add(), e.axisGroup = n.g("axis").attr({
						zIndex : r.zIndex || 2
					}).add(), e.labelGroup = n.g("axis-labels").attr({
						zIndex : m.zIndex || 7
					}).add());
			if (f || e.isLinked) {
				e.labelAlign = d(m.align || e.autoLabelAlign(m.rotation)),
				un(i, function (t) {
					s[t] ? s[t].addLabel() : s[t] = new j(e, t)
				});
				if (e.horiz && !e.staggerLines && x && !m.rotation) {
					for (E = e.reversed ? [].concat(i).reverse() : i; S < x; ) {
						f = [],
						T = !1;
						for (m = 0; m < E.length; m++)
							N = E[m], C = (C = s[N].label && s[N].label.getBBox()) ? C.width : 0, k = m % S, C && (N = e.translate(N), f[k] !== $ && N < f[k] && (T = !0), f[k] = N + C);
						if (!T)
							break;
						S++
					}
					S > 1 && (e.staggerLines = S)
				}
				un(i, function (t) {
					if (u === 0 || u === 2 || {
						1 : "left",
						3 : "right"
					}
						[u] === e.labelAlign)
						g = et(s[t].getLabelSize(), g)
				}),
				e.staggerLines && (g *= e.staggerLines, e.labelOffset = g)
			} else
				for (E in s)
					s[E].destroy(), delete s[E];
			v && v.text && v.enabled !== !1 && (e.axisTitle || (e.axisTitle = n.text(v.text, 0, 0, v.useHTML).attr({
							zIndex : 7,
							rotation : v.rotation || 0,
							align : v.textAlign || {
								low : "left",
								middle : "center",
								high : "right"
							}
							[v.align]
						}).css(v.style).add(e.axisGroup), e.axisTitle.isNew = !0), t && (l = e.axisTitle.getBBox()[o ? "height" : "width"], p = d(v.margin, o ? 5 : 10), h = v.offset), e.axisTitle[t ? "show" : "hide"]()),
			e.offset = w * d(r.offset, y[u]),
			e.axisTitleMargin = d(h, g + p + (u !== 2 && g && w * r.labels[o ? "y" : "x"])),
			y[u] = et(y[u], e.axisTitleMargin + l + w * e.offset),
			b[a] = et(b[a], Y(r.lineWidth / 2) * 2)
		},
		getLinePath : function (e) {
			var t = this.chart,
			n = this.opposite,
			r = this.offset,
			i = this.horiz,
			s = this.left + (n ? this.width : 0) + r,
			r = t.chartHeight - this.bottom - (n ? this.height : 0) + r;
			return n && (e *= -1),
			t.renderer.crispLine(["M", i ? this.left : s, i ? r : this.top, "L", i ? t.chartWidth - this.right : s, i ? r : t.chartHeight - this.bottom], e)
		},
		getTitlePosition : function () {
			var e = this.horiz,
			t = this.left,
			n = this.top,
			i = this.len,
			s = this.options.title,
			o = e ? t : n,
			u = this.opposite,
			a = this.offset,
			f = r(s.style.fontSize || 12),
			i = {
				low : o + (e ? 0 : i),
				middle : o + i / 2,
				high : o + (e ? i : 0)
			}
			[s.align],
			t = (e ? n + this.height : t) + (e ? 1 : -1) * (u ? -1 : 1) * this.axisTitleMargin + (this.side === 2 ? f : 0);
			return {
				x : e ? i : t + (u ? this.width : 0) + a + (s.x || 0),
				y : e ? t - (u ? this.height : 0) + a : i + (s.y || 0)
			}
		},
		render : function () {
			var e = this,
			t = e.chart,
			n = t.renderer,
			r = e.options,
			i = e.isLog,
			s = e.isLinked,
			o = e.tickPositions,
			u = e.axisTitle,
			a = e.stacks,
			l = e.ticks,
			h = e.minorTicks,
			p = e.alternateBands,
			d = r.stackLabels,
			v = r.alternateGridColor,
			m = e.tickmarkOffset,
			g = r.lineWidth,
			y,
			b = t.hasRendered && c(e.oldMin) && !isNaN(e.oldMin);
			y = e.hasData;
			var w = e.showAxis,
			E,
			S;
			un([l, h, p], function (e) {
				for (var t in e)
					e[t].isActive = !1
			});
			if (y || s)
				if (e.minorTickInterval && !e.categories && un(e.getMinorTickPositions(), function (t) {
						h[t] || (h[t] = new j(e, t, "minor")),
						b && h[t].isNew && h[t].render(null, !0),
						h[t].render(null, !1, 1)
					}), o.length && (un(o.slice(1).concat([o[0]]), function (t, n) {
							n = n === o.length - 1 ? 0 : n + 1;
							if (!s || t >= e.min && t <= e.max)
								l[t] || (l[t] = new j(e, t)) , b && l[t].isNew && l[t].render(n, !0), l[t].render(n, !1, 1)
							}), m && e.min === 0 && (l[-1] || (l[-1] = new j(e, -1, null, !0)), l[-1].render(-1))), v && un(o, function (t, n) {
							n % 2 === 0 && t < e.max && (p[t] || (p[t] = new F(e)), E = t + m, S = o[n + 1] !== $ ? o[n + 1] + m : e.max, p[t].options = {
									from : i ? f(E) : E,
									to : i ? f(S) : S,
									color : v
								}, p[t].render(), p[t].isActive = !0)
						}), !e._addedPlotLB)un((r.plotLines || []).concat(r.plotBands || []), function (t) {
						e.addPlotBandOrLine(t)
					}), e._addedPlotLB = !0;
			un([l, h, p], function (e) {
				var n,
				r,
				i = [],
				s = Nt ? Nt.duration || 500 : 0,
				o = function () {
					for (r = i.length; r--; )
						e[i[r]] && !e[i[r]].isActive && (e[i[r]].destroy(), delete e[i[r]])
				};
				for (n in e)
					e[n].isActive || (e[n].render(n, !1, 0), e[n].isActive = !1, i.push(n));
				e === p || !t.hasRendered || !s ? o() : s && setTimeout(o, s)
			}),
			g && (y = e.getLinePath(g), e.axisLine ? e.axisLine.animate({
					d : y
				}) : e.axisLine = n.path(y).attr({
						stroke : r.lineColor,
						"stroke-width" : g,
						zIndex : 7
					}).add(e.axisGroup), e.axisLine[w ? "show" : "hide"]()),
			u && w && (u[u.isNew ? "attr" : "animate"](e.getTitlePosition()), u.isNew = !1);
			if (d && d.enabled) {
				var x,
				T,
				r = e.stackTotalGroup;
				r || (e.stackTotalGroup = r = n.g("stack-labels").attr({
							visibility : "visible",
							zIndex : 6
						}).add()),
				r.translate(t.plotLeft, t.plotTop);
				for (x in a)
					for (T in n = a[x], n)
						n[T].render(r)
			}
			e.isDirty = !1
		},
		removePlotBandOrLine : function (e) {
			for (var t = this.plotLinesAndBands, n = this.options, r = this.userOptions, i = t.length; i--; )
				t[i].id === e && t[i].destroy();
			un([n.plotLines || [], r.plotLines || [], n.plotBands || [], r.plotBands || []], function (t) {
				for (i = t.length; i--; )
					t[i].id === e && l(t, t[i])
			})
		},
		setTitle : function (e, t) {
			this.update({
				title : e
			}, t)
		},
		redraw : function () {
			var e = this.chart.pointer;
			e.reset && e.reset(!0),
			this.render(),
			un(this.plotLinesAndBands, function (e) {
				e.render()
			}),
			un(this.series, function (e) {
				e.isDirty = !0
			})
		},
		buildStacks : function () {
			var e = this.series,
			t = e.length;
			if (!this.isXAxis) {
				for (; t--; )
					e[t].setStackedPoints();
				if (this.usePercentage)
					for (t = 0; t < e.length; t++)
						e[t].setPercentStacks()
			}
		},
		setCategories : function (e, t) {
			this.update({
				categories : e
			}, t)
		},
		destroy : function (e) {
			var t = this,
			n = t.stacks,
			r,
			i = t.plotLinesAndBands;
			e || hn(t);
			for (r in n)
				O(n[r]), n[r] = null;
			un([t.ticks, t.minorTicks, t.alternateBands], function (e) {
				O(e)
			});
			for (e = i.length; e--; )
				i[e].destroy();
			un("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","), function (e) {
				t[e] && (t[e] = t[e].destroy())
			})
		}
	},
	R.prototype = {
		init : function (e, t) {
			var n = t.borderWidth,
			i = t.style,
			s = r(i.padding);
			this.chart = e,
			this.options = t,
			this.crosshairs = [],
			this.now = {
				x : 0,
				y : 0
			},
			this.isHidden = !0,
			this.label = e.renderer.label("", 0, 0, t.shape, null, null, t.useHTML, null, "tooltip").attr({
					padding : s,
					fill : t.backgroundColor,
					"stroke-width" : n,
					r : t.borderRadius,
					zIndex : 8
				}).css(i).css({
					padding : 0
				}).add().attr({
					y : -999
				}),
			gt || this.label.shadow(t.shadow),
			this.shared = t.shared
		},
		destroy : function () {
			un(this.crosshairs, function (e) {
				e && e.destroy()
			}),
			this.label && (this.label = this.label.destroy()),
			clearTimeout(this.hideTimer),
			clearTimeout(this.tooltipTimeout)
		},
		move : function (t, n, r, i) {
			var s = this,
			o = s.now,
			u = s.options.animation !== !1 && !s.isHidden;
			e(o, {
				x : u ? (2 * o.x + t) / 3 : t,
				y : u ? (o.y + n) / 2 : n,
				anchorX : u ? (2 * o.anchorX + r) / 3 : r,
				anchorY : u ? (o.anchorY + i) / 2 : i
			}),
			s.label.attr(o),
			u && (nt(t - o.x) > 1 || nt(n - o.y) > 1) && (clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function () {
						s && s.move(t, n, r, i)
					}, 32))
		},
		hide : function () {
			var e = this,
			t;
			clearTimeout(this.hideTimer),
			this.isHidden || (t = this.chart.hoverPoints, this.hideTimer = setTimeout(function () {
						e.label.fadeOut(),
						e.isHidden = !0
					}, d(this.options.hideDelay, 500)), t && un(t, function (e) {
					e.setState()
				}), this.chart.hoverPoints = null)
		},
		hideCrosshairs : function () {
			un(this.crosshairs, function (e) {
				e && e.hide()
			})
		},
		getAnchor : function (e, t) {
			var n,
			r = this.chart,
			i = r.inverted,
			s = r.plotTop,
			o = 0,
			u = 0,
			a,
			e = p(e);
			return n = e[0].tooltipPos,
			this.followPointer && t && (t.chartX === $ && (t = r.pointer.normalize(t)), n = [t.chartX - r.plotLeft, t.chartY - s]),
			n || (un(e, function (e) {
					a = e.series.yAxis,
					o += e.plotX,
					u += (e.plotLow ? (e.plotLow + e.plotHigh) / 2 : e.plotY) + (!i && a ? a.top - s : 0)
				}), o /= e.length, u /= e.length, n = [i ? r.plotWidth - u : o, this.shared && !i && e.length > 1 && t ? t.chartY - s : i ? r.plotHeight - o : u]),
			ln(n, G)
		},
		getPosition : function (e, t, n) {
			var r = this.chart,
			i = r.plotLeft,
			s = r.plotTop,
			o = r.plotWidth,
			u = r.plotHeight,
			a = d(this.options.distance, 12),
			f = n.plotX,
			n = n.plotY,
			r = f + i + (r.inverted ? a : -e - a),
			l = n - t + s + 15,
			c;
			return r < 7 && (r = i + et(f, 0) + a),
			r + e > i + o && (r -= r + e - (i + o), l = n - t + s - a, c = !0),
			l < s + 5 && (l = s + 5, c && n >= l && n <= l + t && (l = n + s + a)),
			l + t > s + u && (l = et(s, s + u - t - a)), {
				x : r,
				y : l
			}
		},
		defaultFormatter : function (e) {
			var t = this.points || p(this),
			n = t[0].series,
			r;
			return r = [n.tooltipHeaderFormatter(t[0])],
			un(t, function (e) {
				n = e.series,
				r.push(n.tooltipFormatter && n.tooltipFormatter(e) || e.point.tooltipFormatter(n.tooltipOptions.pointFormat))
			}),
			r.push(e.options.footerFormat || ""),
			r.join("")
		},
		refresh : function (e, t) {
			var n = this.chart,
			r = this.label,
			i = this.options,
			s,
			o,
			u = {},
			f,
			l = [];
			f = i.formatter || this.defaultFormatter;
			var u = n.hoverPoints,
			c,
			h = i.crosshairs,
			v = this.shared;
			clearTimeout(this.hideTimer),
			this.followPointer = p(e)[0].series.tooltipOptions.followPointer,
			o = this.getAnchor(e, t),
			s = o[0],
			o = o[1],
			v && (!e.series || !e.series.noSharedTooltip) ? (n.hoverPoints = e, u && un(u, function (e) {
					e.setState()
				}), un(e, function (e) {
					e.setState("hover"),
					l.push(e.getLabelConfig())
				}), u = {
					x : e[0].category,
					y : e[0].y
				}, u.points = l, e = e[0]) : u = e.getLabelConfig(),
			f = f.call(u, this),
			u = e.series,
			f === !1 ? this.hide() : (this.isHidden && (mn(r), r.attr("opacity", 1).show()), r.attr({
					text : f
				}), c = i.borderColor || e.color || u.color || "#606060", r.attr({
					stroke : c
				}), this.updatePosition({
					plotX : s,
					plotY : o
				}), this.isHidden = !1);
			if (h) {
				h = p(h);
				for (r = h.length; r--; )
					if (v = e.series, i = v[r ? "yAxis" : "xAxis"], h[r] && i)
						(u = r ? d(e.stackY, e.y) : e.x, i.isLog && (u = a(u)), r === 1 && v.modifyValue && (u = v.modifyValue(u)), i = i.getPlotLinePath(u, 1), this.crosshairs[r]) ? this.crosshairs[r].attr({
							d : i,
							visibility : "visible"
						}) : (u = {
								"stroke-width" : h[r].width || 1,
								stroke : h[r].color || "#C0C0C0",
								zIndex : h[r].zIndex || 2
							}, h[r].dashStyle && (u.dashstyle = h[r].dashStyle), this.crosshairs[r] = n.renderer.path(i).attr(u).add())
			}
			pn(n, "tooltipRefresh", {
				text : f,
				x : s + n.plotLeft,
				y : o + n.plotTop,
				borderColor : c
			})
		},
		updatePosition : function (e) {
			var t = this.chart,
			n = this.label,
			n = (this.options.positioner || this.getPosition).call(this, n.width, n.height, e);
			this.move(G(n.x), G(n.y), e.plotX + t.plotLeft, e.plotY + t.plotTop)
		}
	},
	U.prototype = {
		init : function (e, t) {
			var n = t.chart,
			r = n.events,
			i = gt ? "" : n.zoomType,
			n = e.inverted,
			s;
			this.options = t,
			this.chart = e,
			this.zoomX = s = /x/.test(i),
			this.zoomY = i = /y/.test(i),
			this.zoomHor = s && !n || i && n,
			this.zoomVert = i && !n || s && n,
			this.runChartClick = r && !!r.click,
			this.pinchDown = [],
			this.lastValidTouch = {},
			t.tooltip.enabled && (e.tooltip = new R(e, t.tooltip)),
			this.setDOMEvents()
		},
		normalize : function (t, n) {
			var r,
			i,
			t = t || K.event;
			return t.target || (t.target = t.srcElement),
			t = dn(t),
			i = t.touches ? t.touches.item(0) : t,
			n || (this.chartPosition = n = fn(this.chart.container)),
			i.pageX === $ ? (r = et(t.x, t.clientX - n.left), i = t.y) : (r = i.pageX - n.left, i = i.pageY - n.top),
			e(t, {
				chartX : G(r),
				chartY : G(i)
			})
		},
		getCoordinates : function (e) {
			var t = {
				xAxis : [],
				yAxis : []
			};
			return un(this.chart.axes, function (n) {
				t[n.isXAxis ? "xAxis" : "yAxis"].push({
					axis : n,
					value : n.toValue(e[n.horiz ? "chartX" : "chartY"])
				})
			}),
			t
		},
		getIndex : function (e) {
			var t = this.chart;
			return t.inverted ? t.plotHeight + t.plotTop - e.chartY : e.chartX - t.plotLeft
		},
		runPointActions : function (e) {
			var t = this.chart,
			n = t.series,
			r = t.tooltip,
			i,
			s = t.hoverPoint,
			o = t.hoverSeries,
			u,
			a,
			f = t.chartWidth,
			l = this.getIndex(e);
			if (r && this.options.tooltip.shared && (!o || !o.noSharedTooltip)) {
				i = [],
				u = n.length;
				for (a = 0; a < u; a++)
					n[a].visible && n[a].options.enableMouseTracking !== !1 && !n[a].noSharedTooltip && n[a].tooltipPoints.length && (t = n[a].tooltipPoints[l]) && t.series && (t._dist = nt(l - t.clientX), f = tt(f, t._dist), i.push(t));
				for (u = i.length; u--; )
					i[u]._dist > f && i.splice(u, 1);
				i.length && i[0].clientX !== this.hoverX && (r.refresh(i, e), this.hoverX = i[0].clientX)
			}
			o && o.tracker ? (t = o.tooltipPoints[l]) && t !== s && t.onMouseOver(e) : r && r.followPointer && !r.isHidden && (e = r.getAnchor([{}

						], e), r.updatePosition({
					plotX : e[0],
					plotY : e[1]
				}))
		},
		reset : function (e) {
			var t = this.chart,
			n = t.hoverSeries,
			r = t.hoverPoint,
			i = t.tooltip,
			t = i && i.shared ? t.hoverPoints : r;
			(e = e && i && t) && p(t)[0].plotX === $ && (e = !1),
			e ? i.refresh(t) : (r && r.onMouseOut(), n && n.onMouseOut(), i && (i.hide(), i.hideCrosshairs()), this.hoverX = null)
		},
		scaleGroups : function (e, t) {
			var n = this.chart,
			r;
			un(n.series, function (i) {
				r = e || i.getPlotBox(),
				i.xAxis && i.xAxis.zoomEnabled && (i.group.attr(r), i.markerGroup && (i.markerGroup.attr(r), i.markerGroup.clip(t ? n.clipRect : null)), i.dataLabelsGroup && i.dataLabelsGroup.attr(r))
			}),
			n.clipRect.attr(t || n.clipBox)
		},
		pinchTranslateDirection : function (e, t, n, r, i, s, o) {
			var u = this.chart,
			a = e ? "x" : "y",
			f = e ? "X" : "Y",
			l = "chart" + f,
			c = e ? "width" : "height",
			h = u["plot" + (e ? "Left" : "Top")],
			p,
			d,
			v = 1,
			m = u.inverted,
			g = u.bounds[e ? "h" : "v"],
			y = t.length === 1,
			b = t[0][l],
			w = n[0][l],
			E = !y && t[1][l],
			S = !y && n[1][l],
			x,
			n = function () {
				!y && nt(b - E) > 20 && (v = nt(w - S) / nt(b - E)),
				d = (h - w) / v + b,
				p = u["plot" + (e ? "Width" : "Height")] / v
			};
			n(),
			t = d,
			t < g.min ? (t = g.min, x = !0) : t + p > g.max && (t = g.max - p, x = !0),
			x ? (w -= .8 * (w - o[a][0]), y || (S -= .8 * (S - o[a][1])), n()) : o[a] = [w, S],
			m || (s[a] = d - h, s[c] = p),
			s = m ? 1 / v : v,
			i[c] = p,
			i[a] = t,
			r[m ? e ? "scaleY" : "scaleX" : "scale" + f] = v,
			r["translate" + f] = s * h + (w - s * b)
		},
		pinch : function (t) {
			var n = this,
			r = n.chart,
			i = n.pinchDown,
			s = r.tooltip && r.tooltip.options.followTouchMove,
			o = t.touches,
			u = o.length,
			a = n.lastValidTouch,
			f = n.zoomHor || n.pinchHor,
			l = n.zoomVert || n.pinchVert,
			c = f || l,
			h = n.selectionMarker,
			p = {},
			d = u === 1 && (n.inClass(t.target, "highcharts-tracker") && r.runTrackerClick || r.runChartClick),
			v = {};
			(c || s) && !d && t.preventDefault(),
			ln(o, function (e) {
				return n.normalize(e)
			}),
			t.type === "touchstart" ? (un(o, function (e, t) {
					i[t] = {
						chartX : e.chartX,
						chartY : e.chartY
					}
				}), a.x = [i[0].chartX, i[1] && i[1].chartX], a.y = [i[0].chartY, i[1] && i[1].chartY], un(r.axes, function (e) {
					if (e.zoomEnabled) {
						var t = r.bounds[e.horiz ? "h" : "v"],
						n = e.minPixelPadding,
						i = e.toPixels(e.dataMin),
						s = e.toPixels(e.dataMax),
						o = tt(i, s),
						i = et(i, s);
						t.min = tt(e.pos, o - n),
						t.max = et(e.pos + e.len, i + n)
					}
				})) : i.length && (h || (n.selectionMarker = h = e({
							destroy : Lt
						}, r.plotBox)), f && n.pinchTranslateDirection(!0, i, o, p, h, v, a), l && n.pinchTranslateDirection(!1, i, o, p, h, v, a), n.hasPinched = c, n.scaleGroups(p, v), !c && s && u === 1 && this.runPointActions(n.normalize(t)))
		},
		dragStart : function (e) {
			var t = this.chart;
			t.mouseIsDown = e.type,
			t.cancelClick = !1,
			t.mouseDownX = this.mouseDownX = e.chartX,
			t.mouseDownY = this.mouseDownY = e.chartY
		},
		drag : function (e) {
			var t = this.chart,
			n = t.options.chart,
			r = e.chartX,
			i = e.chartY,
			s = this.zoomHor,
			o = this.zoomVert,
			u = t.plotLeft,
			a = t.plotTop,
			f = t.plotWidth,
			l = t.plotHeight,
			c,
			h = this.mouseDownX,
			p = this.mouseDownY;
			r < u ? r = u : r > u + f && (r = u + f),
			i < a ? i = a : i > a + l && (i = a + l),
			this.hasDragged = Math.sqrt(Math.pow(h - r, 2) + Math.pow(p - i, 2)),
			this.hasDragged > 10 && (c = t.isInsidePlot(h - u, p - a), t.hasCartesianSeries && (this.zoomX || this.zoomY) && c && !this.selectionMarker && (this.selectionMarker = t.renderer.rect(u, a, s ? 1 : f, o ? 1 : l, 0).attr({
							fill : n.selectionMarkerFill || "rgba(69,114,167,0.25)",
							zIndex : 7
						}).add()), this.selectionMarker && s && (r -= h, this.selectionMarker.attr({
						width : nt(r),
						x : (r > 0 ? 0 : r) + h
					})), this.selectionMarker && o && (r = i - p, this.selectionMarker.attr({
						height : nt(r),
						y : (r > 0 ? 0 : r) + p
					})), c && !this.selectionMarker && n.panning && t.pan(e, n.panning))
		},
		drop : function (t) {
			var n = this.chart,
			r = this.hasPinched;
			if (this.selectionMarker) {
				var i = {
					xAxis : [],
					yAxis : [],
					originalEvent : t.originalEvent || t
				},
				s = this.selectionMarker,
				o = s.x,
				u = s.y,
				a;
				if (this.hasDragged || r)
					un(n.axes, function (e) {
						if (e.zoomEnabled) {
							var t = e.horiz,
							n = e.toValue(t ? o : u),
							t = e.toValue(t ? o + s.width : u + s.height);
							!isNaN(n) && !isNaN(t) && (i[e.xOrY + "Axis"].push({
									axis : e,
									min : tt(n, t),
									max : et(n, t)
								}), a = !0)
						}
					}), a && pn(n, "selection", i, function (t) {
						n.zoom(e(t, r ? {
								animation : !1
							}
								 : null))
					});
				this.selectionMarker = this.selectionMarker.destroy(),
				r && this.scaleGroups()
			}
			n && (v(n.container, {
					cursor : n._cursor
				}), n.cancelClick = this.hasDragged > 10, n.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
		},
		onContainerMouseDown : function (e) {
			e = this.normalize(e),
			e.preventDefault && e.preventDefault(),
			this.dragStart(e)
		},
		onDocumentMouseUp : function (e) {
			this.drop(e)
		},
		onDocumentMouseMove : function (e) {
			var t = this.chart,
			n = this.chartPosition,
			r = t.hoverSeries,
			e = this.normalize(e, n);
			n && r && !this.inClass(e.target, "highcharts-tracker") && !t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) && this.reset()
		},
		onContainerMouseLeave : function () {
			this.reset(),
			this.chartPosition = null
		},
		onContainerMouseMove : function (e) {
			var t = this.chart,
			e = this.normalize(e);
			e.returnValue = !1,
			t.mouseIsDown === "mousedown" && this.drag(e),
			(this.inClass(e.target, "highcharts-tracker") || t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop)) && !t.openMenu && this.runPointActions(e)
		},
		inClass : function (e, t) {
			for (var n; e; ) {
				if (n = h(e, "class")) {
					if (n.indexOf(t) !== -1)
						return !0;
					if (n.indexOf("highcharts-container") !== -1)
						return !1
				}
				e = e.parentNode
			}
		},
		onTrackerMouseOut : function (e) {
			var t = this.chart.hoverSeries;
			t && !t.options.stickyTracking && !this.inClass(e.toElement || e.relatedTarget, "highcharts-tooltip") && t.onMouseOut()
		},
		onContainerClick : function (t) {
			var n = this.chart,
			r = n.hoverPoint,
			i = n.plotLeft,
			s = n.plotTop,
			o = n.inverted,
			u,
			a,
			f,
			t = this.normalize(t);
			t.cancelBubble = !0,
			n.cancelClick || (r && this.inClass(t.target, "highcharts-tracker") ? (u = this.chartPosition, a = r.plotX, f = r.plotY, e(r, {
						pageX : u.left + i + (o ? n.plotWidth - f : a),
						pageY : u.top + s + (o ? n.plotHeight - a : f)
					}), pn(r.series, "click", e(t, {
							point : r
						})), n.hoverPoint && r.firePointEvent("click", t)) : (e(t, this.getCoordinates(t)), n.isInsidePlot(t.chartX - i, t.chartY - s) && pn(n, "click", t)))
		},
		onContainerTouchStart : function (e) {
			var t = this.chart;
			e.touches.length === 1 ? (e = this.normalize(e), t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) ? (this.runPointActions(e), this.pinch(e)) : this.reset()) : e.touches.length === 2 && this.pinch(e)
		},
		onContainerTouchMove : function (e) {
			(e.touches.length === 1 || e.touches.length === 2) && this.pinch(e)
		},
		onDocumentTouchEnd : function (e) {
			this.drop(e)
		},
		setDOMEvents : function () {
			var e = this,
			t = e.chart.container,
			n;
			this._events = n = [[t, "onmousedown", "onContainerMouseDown"], [t, "onmousemove", "onContainerMouseMove"], [t, "onclick", "onContainerClick"], [t, "mouseleave", "onContainerMouseLeave"], [J, "mousemove", "onDocumentMouseMove"], [J, "mouseup", "onDocumentMouseUp"]],
			bt && n.push([t, "ontouchstart", "onContainerTouchStart"], [t, "ontouchmove", "onContainerTouchMove"], [J, "touchend", "onDocumentTouchEnd"]),
			un(n, function (t) {
				e["_" + t[2]] = function (n) {
					e[t[2]](n)
				},
				t[1].indexOf("on") === 0 ? t[0][t[1]] = e["_" + t[2]] : cn(t[0], t[1], e["_" + t[2]])
			})
		},
		destroy : function () {
			var e = this;
			un(e._events, function (t) {
				t[1].indexOf("on") === 0 ? t[0][t[1]] = null : hn(t[0], t[1], e["_" + t[2]])
			}),
			delete e._events,
			clearInterval(e.tooltipTimeout)
		}
	},
	z.prototype = {
		init : function (e, n) {
			var i = this,
			s = n.itemStyle,
			o = d(n.padding, 8),
			u = n.itemMarginTop || 0;
			this.options = n,
			n.enabled && (i.baseline = r(s.fontSize) + 3 + u, i.itemStyle = s, i.itemHiddenStyle = t(s, n.itemHiddenStyle), i.itemMarginTop = u, i.padding = o, i.initialItemX = o, i.initialItemY = o - 5, i.maxItemWidth = 0, i.chart = e, i.itemHeight = 0, i.lastLineHeight = 0, i.render(), cn(i.chart, "endResize", function () {
					i.positionCheckboxes()
				}))
		},
		colorizeItem : function (e, t) {
			var n = this.options,
			r = e.legendItem,
			i = e.legendLine,
			s = e.legendSymbol,
			o = this.itemHiddenStyle.color,
			n = t ? n.itemStyle.color : o,
			u = t ? e.color : o,
			o = e.options && e.options.marker,
			a = {
				stroke : u,
				fill : u
			},
			f;
			r && r.css({
				fill : n,
				color : n
			}),
			i && i.attr({
				stroke : u
			});
			if (s) {
				if (o && s.isMarker)
					for (f in o = e.convertAttribs(o), o)
						r = o[f], r !== $ && (a[f] = r);
				s.attr(a)
			}
		},
		positionItem : function (e) {
			var t = this.options,
			n = t.symbolPadding,
			t = !t.rtl,
			r = e._legendItemPos,
			i = r[0],
			r = r[1],
			s = e.checkbox;
			e.legendGroup && e.legendGroup.translate(t ? i : this.legendWidth - i - 2 * n - 4, r),
			s && (s.x = i, s.y = r)
		},
		destroyItem : function (e) {
			var t = e.checkbox;
			un(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function (t) {
				e[t] && (e[t] = e[t].destroy())
			}),
			t && M(e.checkbox)
		},
		destroy : function () {
			var e = this.group,
			t = this.box;
			t && (this.box = t.destroy()),
			e && (this.group = e.destroy())
		},
		positionCheckboxes : function (e) {
			var t = this.group.alignAttr,
			n,
			r = this.clipHeight || this.legendHeight;
			t && (n = t.translateY, un(this.allItems, function (i) {
					var s = i.checkbox,
					o;
					s && (o = n + s.y + (e || 0) + 3, v(s, {
							left : t.translateX + i.legendItemWidth + s.x - 20 + "px",
							top : o + "px",
							display : o > n - 6 && o < n + r - 6 ? "" : Mt
						}))
				}))
		},
		renderTitle : function () {
			var e = this.padding,
			t = this.options.title,
			n = 0;
			t.text && (this.title || (this.title = this.chart.renderer.label(t.text, e - 3, e - 4, null, null, null, null, null, "legend-title").attr({
							zIndex : 1
						}).css(t.style).add(this.group)), e = this.title.getBBox(), n = e.height, this.offsetWidth = e.width, this.contentGroup.attr({
					translateY : n
				})),
			this.titleHeight = n
		},
		renderItem : function (e) {
			var n,
			r = this,
			i = r.chart,
			s = i.renderer,
			o = r.options,
			u = o.layout === "horizontal",
			a = o.symbolWidth,
			f = o.symbolPadding,
			l = r.itemStyle,
			c = r.itemHiddenStyle,
			h = r.padding,
			p = u ? d(o.itemDistance, 8) : 0,
			v = !o.rtl,
			g = o.width,
			y = o.itemMarginBottom || 0,
			b = r.itemMarginTop,
			w = r.initialItemX,
			S = e.legendItem,
			x = e.series || e,
			T = x.options,
			N = T.showCheckbox,
			C = o.useHTML;
			!S && (e.legendGroup = s.g("legend-item").attr({
						zIndex : 1
					}).add(r.scrollGroup), x.drawLegendSymbol(r, e), e.legendItem = S = s.text(o.labelFormat ? E(o.labelFormat, e) : o.labelFormatter.call(e), v ? a + f : -f, r.baseline, C).css(t(e.visible ? l : c)).attr({
						align : v ? "left" : "right",
						zIndex : 2
					}).add(e.legendGroup), (C ? S : e.legendGroup).on("mouseover", function () {
					e.setState("hover"),
					S.css(r.options.itemHoverStyle)
				}).on("mouseout", function () {
					S.css(e.visible ? l : c),
					e.setState()
				}).on("click", function (t) {
					var n = function () {
						e.setVisible()
					},
					t = {
						browserEvent : t
					};
					e.firePointEvent ? e.firePointEvent("legendItemClick", t, n) : pn(e, "legendItemClick", t, n)
				}), r.colorizeItem(e, e.visible), T && N) && (e.checkbox = m("input", {
						type : "checkbox",
						checked : e.selected,
						defaultChecked : e.selected
					}, o.itemCheckboxStyle, i.container), cn(e.checkbox, "click", function (t) {
					pn(e, "checkboxClick", {
						checked : t.target.checked
					}, function () {
						e.select()
					})
				})),
			s = S.getBBox(),
			n = e.legendItemWidth = o.itemWidth || a + f + s.width + p + (N ? 20 : 0),
			o = n,
			r.itemHeight = a = s.height,
			u && r.itemX - w + o > (g || i.chartWidth - 2 * h - w) && (r.itemX = w, r.itemY += b + r.lastLineHeight + y, r.lastLineHeight = 0),
			r.maxItemWidth = et(r.maxItemWidth, o),
			r.lastItemY = b + r.itemY + y,
			r.lastLineHeight = et(a, r.lastLineHeight),
			e._legendItemPos = [r.itemX, r.itemY],
			u ? r.itemX += o : (r.itemY += b + a + y, r.lastLineHeight = a),
			r.offsetWidth = g || et((u ? r.itemX - w - p : o) + h, r.offsetWidth)
		},
		render : function () {
			var t = this,
			n = t.chart,
			r = n.renderer,
			i = t.group,
			s,
			o,
			u,
			a,
			f = t.box,
			l = t.options,
			h = t.padding,
			p = l.borderWidth,
			d = l.backgroundColor;
			t.itemX = t.initialItemX,
			t.itemY = t.initialItemY,
			t.offsetWidth = 0,
			t.lastItemY = 0,
			i || (t.group = i = r.g("legend").attr({
						zIndex : 7
					}).add(), t.contentGroup = r.g().attr({
						zIndex : 1
					}).add(i), t.scrollGroup = r.g().add(t.contentGroup)),
			t.renderTitle(),
			s = [],
			un(n.series, function (e) {
				var t = e.options;
				t.showInLegend && !c(t.linkedTo) && (s = s.concat(e.legendItems || (t.legendType === "point" ? e.data : e)))
			}),
			k(s, function (e, t) {
				return (e.options && e.options.legendIndex || 0) - (t.options && t.options.legendIndex || 0)
			}),
			l.reversed && s.reverse(),
			t.allItems = s,
			t.display = o = !!s.length,
			un(s, function (e) {
				t.renderItem(e)
			}),
			u = l.width || t.offsetWidth,
			a = t.lastItemY + t.lastLineHeight + t.titleHeight,
			a = t.handleOverflow(a);
			if (p || d)
				u += h, a += h, f ? u > 0 && a > 0 && (f[f.isNew ? "attr" : "animate"](f.crisp(null, null, null, u, a)), f.isNew = !1) : (t.box = f = r.rect(0, 0, u, a, l.borderRadius, p || 0).attr({
							stroke : l.borderColor,
							"stroke-width" : p || 0,
							fill : d || Mt
						}).add(i).shadow(l.shadow), f.isNew = !0), f[o ? "show" : "hide"]();
			t.legendWidth = u,
			t.legendHeight = a,
			un(s, function (e) {
				t.positionItem(e)
			}),
			o && i.align(e({
					width : u,
					height : a
				}, l), !0, "spacingBox"),
			n.isResizing || this.positionCheckboxes()
		},
		handleOverflow : function (e) {
			var t = this,
			n = this.chart,
			r = n.renderer,
			i = this.options,
			s = i.y,
			s = n.spacingBox.height + (i.verticalAlign === "top" ? -s : s) - this.padding,
			o = i.maxHeight,
			u = this.clipRect,
			a = i.navigation,
			f = d(a.animation, !0),
			l = a.arrowSize || 12,
			c = this.nav;
			return i.layout === "horizontal" && (s /= 2),
			o && (s = tt(s, o)),
			e > s && !i.useHTML ? (this.clipHeight = n = s - 20 - this.titleHeight, this.pageCount = Z(e / n), this.currentPage = d(this.currentPage, 1), this.fullHeight = e, u || (u = t.clipRect = r.clipRect(0, 0, 9999, 0), t.contentGroup.clip(u)), u.attr({
					height : n
				}), c || (this.nav = c = r.g().attr({
							zIndex : 1
						}).add(this.group), this.up = r.symbol("triangle", 0, 0, l, l).on("click", function () {
							t.scroll(-1, f)
						}).add(c), this.pager = r.text("", 15, 10).css(a.style).add(c), this.down = r.symbol("triangle-down", 0, 0, l, l).on("click", function () {
							t.scroll(1, f)
						}).add(c)), t.scroll(0), e = s) : c && (u.attr({
					height : n.chartHeight
				}), c.hide(), this.scrollGroup.attr({
					translateY : 1
				}), this.clipHeight = 0),
			e
		},
		scroll : function (e, t) {
			var n = this.pageCount,
			r = this.currentPage + e,
			i = this.clipHeight,
			s = this.options.navigation,
			o = s.activeColor,
			u = s.inactiveColor,
			s = this.pager,
			a = this.padding;
			r > n && (r = n),
			r > 0 && (t !== $ && P(t, this.chart), this.nav.attr({
					translateX : a,
					translateY : i + 7 + this.titleHeight,
					visibility : "visible"
				}), this.up.attr({
					fill : r === 1 ? u : o
				}).css({
					cursor : r === 1 ? "default" : "pointer"
				}), s.attr({
					text : r + "/" + this.pageCount
				}), this.down.attr({
					x : 18 + this.pager.getBBox().width,
					fill : r === n ? u : o
				}).css({
					cursor : r === n ? "default" : "pointer"
				}), i = -tt(i * (r - 1), this.fullHeight - i + a) + 1, this.scrollGroup.animate({
					translateY : i
				}), s.attr({
					text : r + "/" + n
				}), this.currentPage = r, this.positionCheckboxes(i))
		}
	},
	/Trident.*?11\.0/.test(ut) && w(z.prototype, "positionItem", function (e, t) {
		var n = this;
		setTimeout(function () {
			e.call(n, t)
		})
	}),
	W.prototype = {
		init : function (e, n) {
			var r,
			i = e.series;
			e.series = null,
			r = t(xt, e),
			r.series = e.series = i,
			i = r.chart,
			this.margin = this.splashArray("margin", i),
			this.spacing = this.splashArray("spacing", i);
			var s = i.events;
			this.bounds = {
				h : {},
				v : {}

			},
			this.callback = n,
			this.isResizing = 0,
			this.options = r,
			this.axes = [],
			this.series = [],
			this.hasCartesianSeries = i.showAxes;
			var o = this,
			u;
			o.index = At.length,
			At.push(o),
			i.reflow !== !1 && cn(o, "load", function () {
				o.initReflow()
			});
			if (s)
				for (u in s)
					cn(o, u, s[u]);
			o.xAxis = [],
			o.yAxis = [],
			o.animation = gt ? !1 : d(i.animation, !0),
			o.pointCount = 0,
			o.counters = new C,
			o.firstRender()
		},
		initSeries : function (e) {
			var t = this.options.chart;
			return (t = en[e.type || t.type || t.defaultSeriesType]) || _(17, !0),
			t = new t,
			t.init(this, e),
			t
		},
		addSeries : function (e, t, n) {
			var r,
			i = this;
			return e && (t = d(t, !0), pn(i, "addSeries", {
					options : e
				}, function () {
					r = i.initSeries(e),
					i.isDirtyLegend = !0,
					i.linkSeries(),
					t && i.redraw(n)
				})),
			r
		},
		addAxis : function (e, n, r, i) {
			var s = n ? "xAxis" : "yAxis",
			o = this.options;
			new q(this, t(e, {
					index : this[s].length,
					isX : n
				})),
			o[s] = p(o[s] || {}),
			o[s].push(e),
			d(r, !0) && this.redraw(i)
		},
		isInsidePlot : function (e, t, n) {
			var r = n ? t : e,
			e = n ? e : t;
			return r >= 0 && r <= this.plotWidth && e >= 0 && e <= this.plotHeight
		},
		adjustTickAmounts : function () {
			this.options.chart.alignTicks !== !1 && un(this.axes, function (e) {
				e.adjustTickAmount()
			}),
			this.maxTicks = null
		},
		redraw : function (t) {
			var n = this.axes,
			r = this.series,
			i = this.pointer,
			s = this.legend,
			o = this.isDirtyLegend,
			u,
			a,
			f = this.isDirtyBox,
			l = r.length,
			c = l,
			h = this.renderer,
			p = h.isHidden(),
			d = [];
			P(t, this),
			p && this.cloneRenderTo();
			for (this.layOutTitles(); c--; )
				if (t = r[c], t.options.stacking && (u = !0, t.isDirty)) {
					a = !0;
					break
				}
			if (a)
				for (c = l; c--; )
					if (t = r[c], t.options.stacking)
						t.isDirty = !0;
			un(r, function (e) {
				e.isDirty && e.options.legendType === "point" && (o = !0)
			}),
			o && s.options.enabled && (s.render(), this.isDirtyLegend = !1),
			u && this.getStacks(),
			this.hasCartesianSeries && (this.isResizing || (this.maxTicks = null, un(n, function (e) {
						e.setScale()
					})), this.adjustTickAmounts(), this.getMargins(), un(n, function (e) {
					e.isDirty && (f = !0)
				}), un(n, function (t) {
					t.isDirtyExtremes && (t.isDirtyExtremes = !1, d.push(function () {
							pn(t, "afterSetExtremes", e(t.eventArgs, t.getExtremes())),
							delete t.eventArgs
						})),
					(f || u) && t.redraw()
				})),
			f && this.drawChartBox(),
			un(r, function (e) {
				e.isDirty && e.visible && (!e.isCartesian || e.xAxis) && e.redraw()
			}),
			i && i.reset && i.reset(!0),
			h.draw(),
			pn(this, "redraw"),
			p && this.cloneRenderTo(!0),
			un(d, function (e) {
				e.call()
			})
		},
		showLoading : function (t) {
			var n = this.options,
			r = this.loadingDiv,
			i = n.loading;
			r || (this.loadingDiv = r = m(Ot, {
						className : "highcharts-loading"
					}, e(i.style, {
							zIndex : 10,
							display : Mt
						}), this.container), this.loadingSpan = m("span", null, i.labelStyle, r)),
			this.loadingSpan.innerHTML = t || n.lang.loading,
			this.loadingShown || (v(r, {
					opacity : 0,
					display : "",
					left : this.plotLeft + "px",
					top : this.plotTop + "px",
					width : this.plotWidth + "px",
					height : this.plotHeight + "px"
				}), vn(r, {
					opacity : i.style.opacity
				}, {
					duration : i.showDuration || 0
				}), this.loadingShown = !0)
		},
		hideLoading : function () {
			var e = this.options,
			t = this.loadingDiv;
			t && vn(t, {
				opacity : 0
			}, {
				duration : e.loading.hideDuration || 100,
				complete : function () {
					v(t, {
						display : Mt
					})
				}
			}),
			this.loadingShown = !1
		},
		get : function (e) {
			var t = this.axes,
			n = this.series,
			r,
			i;
			for (r = 0; r < t.length; r++)
				if (t[r].options.id === e)
					return t[r];
			for (r = 0; r < n.length; r++)
				if (n[r].options.id === e)
					return n[r];
			for (r = 0; r < n.length; r++) {
				i = n[r].points || [];
				for (t = 0; t < i.length; t++)
					if (i[t].id === e)
						return i[t]
			}
			return null
		},
		getAxes : function () {
			var e = this,
			t = this.options,
			n = t.xAxis = p(t.xAxis || {}),
			t = t.yAxis = p(t.yAxis || {});
			un(n, function (e, t) {
				e.index = t,
				e.isX = !0
			}),
			un(t, function (e, t) {
				e.index = t
			}),
			n = n.concat(t),
			un(n, function (t) {
				new q(e, t)
			}),
			e.adjustTickAmounts()
		},
		getSelectedPoints : function () {
			var e = [];
			return un(this.series, function (t) {
				e = e.concat(an(t.points || [], function (e) {
							return e.selected
						}))
			}),
			e
		},
		getSelectedSeries : function () {
			return an(this.series, function (e) {
				return e.selected
			})
		},
		getStacks : function () {
			var e = this;
			un(e.yAxis, function (e) {
				e.stacks && e.hasVisibleSeries && (e.oldStacks = e.stacks)
			}),
			un(e.series, function (t) {
				t.options.stacking && (t.visible === !0 || e.options.chart.ignoreHiddenSeries === !1) && (t.stackKey = t.type + d(t.options.stack, ""))
			})
		},
		showResetZoom : function () {
			var e = this,
			t = xt.lang,
			n = e.options.chart.resetZoomButton,
			r = n.theme,
			i = r.states,
			s = n.relativeTo === "chart" ? null : "plotBox";
			this.resetZoomButton = e.renderer.button(t.resetZoom, null, null, function () {
					e.zoomOut()
				}, r, i && i.hover).attr({
					align : n.position.align,
					title : t.resetZoomTitle
				}).add().align(n.position, !1, s)
		},
		zoomOut : function () {
			var e = this;
			pn(e, "selection", {
				resetSelection : !0
			}, function () {
				e.zoom()
			})
		},
		zoom : function (e) {
			var t,
			n = this.pointer,
			r = !1,
			i;
			!e || e.resetSelection ? un(this.axes, function (e) {
				t = e.zoom()
			}) : un(e.xAxis.concat(e.yAxis), function (e) {
				var i = e.axis,
				s = i.isXAxis;
				if (n[s ? "zoomX" : "zoomY"] || n[s ? "pinchX" : "pinchY"])
					t = i.zoom(e.min, e.max), i.displayBtn && (r = !0)
			}),
			i = this.resetZoomButton,
			r && !i ? this.showResetZoom() : !r && s(i) && (this.resetZoomButton = i.destroy()),
			t && this.redraw(d(this.options.chart.animation, e && e.animation, this.pointCount < 100))
		},
		pan : function (e, t) {
			var n = this,
			r = n.hoverPoints,
			i;
			r && un(r, function (e) {
				e.setState()
			}),
			un(t === "xy" ? [1, 0] : [1], function (t) {
				var r = e[t ? "chartX" : "chartY"],
				s = n[t ? "xAxis" : "yAxis"][0],
				o = n[t ? "mouseDownX" : "mouseDownY"],
				u = (s.pointRange || 0) / 2,
				a = s.getExtremes(),
				f = s.toValue(o - r, !0) + u,
				o = s.toValue(o + n[t ? "plotWidth" : "plotHeight"] - r, !0) - u;
				s.series.length && f > tt(a.dataMin, a.min) && o < et(a.dataMax, a.max) && (s.setExtremes(f, o, !1, !1, {
						trigger : "pan"
					}), i = !0),
				n[t ? "mouseDownX" : "mouseDownY"] = r
			}),
			i && n.redraw(!1),
			v(n.container, {
				cursor : "move"
			})
		},
		setTitle : function (e, n) {
			var r,
			i = this,
			s = i.options,
			o;
			o = s.title = t(s.title, e),
			r = s.subtitle = t(s.subtitle, n),
			s = r,
			un([["title", e, o], ["subtitle", n, s]], function (e) {
				var t = e[0],
				n = i[t],
				r = e[1],
				e = e[2];
				n && r && (i[t] = n = n.destroy()),
				e && e.text && !n && (i[t] = i.renderer.text(e.text, 0, 0, e.useHTML).attr({
							align : e.align,
							"class" : "highcharts-" + t,
							zIndex : e.zIndex || 4
						}).css(e.style).add())
			}),
			i.layOutTitles()
		},
		layOutTitles : function () {
			var t = 0,
			n = this.title,
			r = this.subtitle,
			i = this.options,
			s = i.title,
			i = i.subtitle,
			o = this.spacingBox.width - 44;
			n && (n.css({
					width : (s.width || o) + "px"
				}).align(e({
						y : 15
					}, s), !1, "spacingBox"), !s.floating && !s.verticalAlign) && (t = n.getBBox().height, t >= 18 && t <= 25 && (t = 15)),
			r && (r.css({
					width : (i.width || o) + "px"
				}).align(e({
						y : t + s.margin
					}, i), !1, "spacingBox"), !i.floating && !i.verticalAlign && (t = Z(t + r.getBBox().height))),
			this.titleOffset = t
		},
		getChartSize : function () {
			var e = this.options.chart,
			t = this.renderToClone || this.renderTo;
			this.containerWidth = rn(t, "width"),
			this.containerHeight = rn(t, "height"),
			this.chartWidth = et(0, e.width || this.containerWidth || 600),
			this.chartHeight = et(0, d(e.height, this.containerHeight > 19 ? this.containerHeight : 400))
		},
		cloneRenderTo : function (e) {
			var t = this.renderToClone,
			n = this.container;
			e ? t && (this.renderTo.appendChild(n), M(t), delete this.renderToClone) : (n && n.parentNode === this.renderTo && this.renderTo.removeChild(n), this.renderToClone = t = this.renderTo.cloneNode(0), v(t, {
					position : "absolute",
					top : "-9999px",
					display : "block"
				}), J.body.appendChild(t), n && t.appendChild(n))
		},
		getContainer : function () {
			var t,
			n = this.options.chart,
			s,
			o,
			u;
			this.renderTo = t = n.renderTo,
			u = "highcharts-" + Et++,
			i(t) && (this.renderTo = t = J.getElementById(t)),
			t || _(13, !0),
			s = r(h(t, "data-highcharts-chart")),
			!isNaN(s) && At[s] && At[s].destroy(),
			h(t, "data-highcharts-chart", this.index),
			t.innerHTML = "",
			t.offsetWidth || this.cloneRenderTo(),
			this.getChartSize(),
			s = this.chartWidth,
			o = this.chartHeight,
			this.container = t = m(Ot, {
					className : "highcharts-container" + (n.className ? " " + n.className : ""),
					id : u
				}, e({
						position : "relative",
						overflow : "hidden",
						width : s + "px",
						height : o + "px",
						textAlign : "left",
						lineHeight : "normal",
						zIndex : 0,
						"-webkit-tap-highlight-color" : "rgba(0,0,0,0)"
					}, n.style), this.renderToClone || t),
			this._cursor = t.style.cursor,
			this.renderer = n.forExport ? new bn(t, s, o, !0) : new yt(t, s, o),
			gt && this.renderer.create(this, t, s, o)
		},
		getMargins : function () {
			var e = this.spacing,
			t,
			n = this.legend,
			r = this.margin,
			i = this.options.legend,
			s = d(i.margin, 10),
			o = i.x,
			u = i.y,
			a = i.align,
			f = i.verticalAlign,
			l = this.titleOffset;
			this.resetMargins(),
			t = this.axisOffset,
			l && !c(r[0]) && (this.plotTop = et(this.plotTop, l + this.options.title.margin + e[0])),
			n.display && !i.floating && (a === "right" ? c(r[1]) || (this.marginRight = et(this.marginRight, n.legendWidth - o + s + e[1])) : a === "left" ? c(r[3]) || (this.plotLeft = et(this.plotLeft, n.legendWidth + o + s + e[3])) : f === "top" ? c(r[0]) || (this.plotTop = et(this.plotTop, n.legendHeight + u + s + e[0])) : f === "bottom" && !c(r[2]) && (this.marginBottom = et(this.marginBottom, n.legendHeight - u + s + e[2]))),
			this.extraBottomMargin && (this.marginBottom += this.extraBottomMargin),
			this.extraTopMargin && (this.plotTop += this.extraTopMargin),
			this.hasCartesianSeries && un(this.axes, function (e) {
				e.getOffset()
			}),
			c(r[3]) || (this.plotLeft += t[3]),
			c(r[0]) || (this.plotTop += t[0]),
			c(r[2]) || (this.marginBottom += t[2]),
			c(r[1]) || (this.marginRight += t[1]),
			this.setChartSize()
		},
		initReflow : function () {
			function e(e) {
				var s = n.width || rn(r, "width"),
				o = n.height || rn(r, "height"),
				e = e ? e.target : K;
				if (!t.hasUserSize && s && o && (e === K || e === J)) {
					if (s !== t.containerWidth || o !== t.containerHeight)
						clearTimeout(i), t.reflowTimeout = i = setTimeout(function () {
								t.container && (t.setSize(s, o, !1), t.hasUserSize = null)
							}, 100);
					t.containerWidth = s,
					t.containerHeight = o
				}
			}
			var t = this,
			n = t.options.chart,
			r = t.renderTo,
			i;
			t.reflow = e,
			cn(K, "resize", e),
			cn(t, "destroy", function () {
				hn(K, "resize", e)
			})
		},
		setSize : function (e, t, n) {
			var r = this,
			i,
			s,
			o;
			r.isResizing += 1,
			o = function () {
				r && pn(r, "endResize", null, function () {
					r.isResizing -= 1
				})
			},
			P(n, r),
			r.oldChartHeight = r.chartHeight,
			r.oldChartWidth = r.chartWidth,
			c(e) && (r.chartWidth = i = et(0, G(e)), r.hasUserSize = !!i),
			c(t) && (r.chartHeight = s = et(0, G(t))),
			v(r.container, {
				width : i + "px",
				height : s + "px"
			}),
			r.setChartSize(!0),
			r.renderer.setSize(i, s, n),
			r.maxTicks = null,
			un(r.axes, function (e) {
				e.isDirty = !0,
				e.setScale()
			}),
			un(r.series, function (e) {
				e.isDirty = !0
			}),
			r.isDirtyLegend = !0,
			r.isDirtyBox = !0,
			r.getMargins(),
			r.redraw(n),
			r.oldChartHeight = null,
			pn(r, "resize"),
			Nt === !1 ? o() : setTimeout(o, Nt && Nt.duration || 500)
		},
		setChartSize : function (e) {
			var t = this.inverted,
			n = this.renderer,
			r = this.chartWidth,
			i = this.chartHeight,
			s = this.options.chart,
			o = this.spacing,
			u = this.clipOffset,
			a,
			f,
			l,
			c;
			this.plotLeft = a = G(this.plotLeft),
			this.plotTop = f = G(this.plotTop),
			this.plotWidth = l = et(0, G(r - a - this.marginRight)),
			this.plotHeight = c = et(0, G(i - f - this.marginBottom)),
			this.plotSizeX = t ? c : l,
			this.plotSizeY = t ? l : c,
			this.plotBorderWidth = s.plotBorderWidth || 0,
			this.spacingBox = n.spacingBox = {
				x : o[3],
				y : o[0],
				width : r - o[3] - o[1],
				height : i - o[0] - o[2]
			},
			this.plotBox = n.plotBox = {
				x : a,
				y : f,
				width : l,
				height : c
			},
			r = 2 * Y(this.plotBorderWidth / 2),
			t = Z(et(r, u[3]) / 2),
			n = Z(et(r, u[0]) / 2),
			this.clipBox = {
				x : t,
				y : n,
				width : Y(this.plotSizeX - et(r, u[1]) / 2 - t),
				height : Y(this.plotSizeY - et(r, u[2]) / 2 - n)
			},
			e || un(this.axes, function (e) {
				e.setAxisSize(),
				e.setAxisTranslation()
			})
		},
		resetMargins : function () {
			var e = this.spacing,
			t = this.margin;
			this.plotTop = d(t[0], e[0]),
			this.marginRight = d(t[1], e[1]),
			this.marginBottom = d(t[2], e[2]),
			this.plotLeft = d(t[3], e[3]),
			this.axisOffset = [0, 0, 0, 0],
			this.clipOffset = [0, 0, 0, 0]
		},
		drawChartBox : function () {
			var e = this.options.chart,
			t = this.renderer,
			n = this.chartWidth,
			r = this.chartHeight,
			i = this.chartBackground,
			s = this.plotBackground,
			o = this.plotBorder,
			u = this.plotBGImage,
			a = e.borderWidth || 0,
			f = e.backgroundColor,
			l = e.plotBackgroundColor,
			c = e.plotBackgroundImage,
			h = e.plotBorderWidth || 0,
			p,
			d = this.plotLeft,
			v = this.plotTop,
			m = this.plotWidth,
			g = this.plotHeight,
			y = this.plotBox,
			b = this.clipRect,
			w = this.clipBox;
			p = a + (e.shadow ? 8 : 0);
			if (a || f)
				i ? i.animate(i.crisp(null, null, null, n - p, r - p)) : (i = {
						fill : f || Mt
					}, a && (i.stroke = e.borderColor, i["stroke-width"] = a), this.chartBackground = t.rect(p / 2, p / 2, n - p, r - p, e.borderRadius, a).attr(i).add().shadow(e.shadow));
			l && (s ? s.animate(y) : this.plotBackground = t.rect(d, v, m, g, 0).attr({
						fill : l
					}).add().shadow(e.plotShadow)),
			c && (u ? u.animate(y) : this.plotBGImage = t.image(c, d, v, m, g).add()),
			b ? b.animate({
				width : w.width,
				height : w.height
			}) : this.clipRect = t.clipRect(w),
			h && (o ? o.animate(o.crisp(null, d, v, m, g)) : this.plotBorder = t.rect(d, v, m, g, 0, -h).attr({
						stroke : e.plotBorderColor,
						"stroke-width" : h,
						zIndex : 1
					}).add()),
			this.isDirtyBox = !1
		},
		propFromSeries : function () {
			var e = this,
			t = e.options.chart,
			n,
			r = e.options.series,
			i,
			s;
			un(["inverted", "angular", "polar"], function (o) {
				n = en[t.type || t.defaultSeriesType],
				s = e[o] || t[o] || n && n.prototype[o];
				for (i = r && r.length; !s && i--; )
					(n = en[r[i].type]) && n.prototype[o] && (s = !0);
				e[o] = s
			})
		},
		linkSeries : function () {
			var e = this,
			t = e.series;
			un(t, function (e) {
				e.linkedSeries.length = 0
			}),
			un(t, function (t) {
				var n = t.options.linkedTo;
				i(n) && (n = n === ":previous" ? e.series[t.index - 1] : e.get(n)) && (n.linkedSeries.push(t), t.linkedParent = n)
			})
		},
		render : function () {
			var t = this,
			n = t.axes,
			i = t.renderer,
			s = t.options,
			o = s.labels,
			u = s.credits,
			a;
			t.setTitle(),
			t.legend = new z(t, s.legend),
			t.getStacks(),
			un(n, function (e) {
				e.setScale()
			}),
			t.getMargins(),
			t.maxTicks = null,
			un(n, function (e) {
				e.setTickPositions(!0),
				e.setMaxTicks()
			}),
			t.adjustTickAmounts(),
			t.getMargins(),
			t.drawChartBox(),
			t.hasCartesianSeries && un(n, function (e) {
				e.render()
			}),
			t.seriesGroup || (t.seriesGroup = i.g("series-group").attr({
						zIndex : 3
					}).add()),
			un(t.series, function (e) {
				e.translate(),
				e.setTooltipPoints(),
				e.render()
			}),
			o.items && un(o.items, function (n) {
				var s = e(o.style, n.style),
				u = r(s.left) + t.plotLeft,
				a = r(s.top) + t.plotTop + 12;
				delete s.left,
				delete s.top,
				i.text(n.html, u, a).attr({
					zIndex : 2
				}).css(s).add()
			}),
			u.enabled && !t.credits && (a = u.href, t.credits = i.text(u.text, 0, 0).on("click", function () {
						a && (location.href = a)
					}).attr({
						align : u.position.align,
						zIndex : 8
					}).css(u.style).add().align(u.position)),
			t.hasRendered = !0
		},
		destroy : function () {
			var e = this,
			t = e.axes,
			n = e.series,
			r = e.container,
			i,
			s = r && r.parentNode;
			pn(e, "destroy"),
			At[e.index] = $,
			e.renderTo.removeAttribute("data-highcharts-chart"),
			hn(e);
			for (i = t.length; i--; )
				t[i] = t[i].destroy();
			for (i = n.length; i--; )
				n[i] = n[i].destroy();
			un("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","), function (t) {
				var n = e[t];
				n && n.destroy && (e[t] = n.destroy())
			}),
			r && (r.innerHTML = "", hn(r), s && M(r));
			for (i in e)
				delete e[i]
		},
		isReadyToRender : function () {
			var e = this;
			return !vt && K == K.top && J.readyState !== "complete" || gt && !K.canvg ? (gt ? Sn.push(function () {
					e.firstRender()
				}, e.options.global.canvasToolsURL) : J.attachEvent("onreadystatechange", function () {
					J.detachEvent("onreadystatechange", e.firstRender),
					J.readyState === "complete" && e.firstRender()
				}), !1) : !0
		},
		firstRender : function () {
			var e = this,
			t = e.options,
			n = e.callback;
			e.isReadyToRender() && (e.getContainer(), pn(e, "init"), e.resetMargins(), e.setChartSize(), e.propFromSeries(), e.getAxes(), un(t.series || [], function (t) {
					e.initSeries(t)
				}), e.linkSeries(), pn(e, "beforeRender"), e.pointer = new U(e, t), e.render(), e.renderer.draw(), n && n.apply(e, [e]), un(e.callbacks, function (t) {
					t.apply(e, [e])
				}), e.cloneRenderTo(!0), pn(e, "load"))
		},
		splashArray : function (e, t) {
			var n = t[e],
			n = s(n) ? n : [n, n, n, n];
			return [d(t[e + "Top"], n[0]), d(t[e + "Right"], n[1]), d(t[e + "Bottom"], n[2]), d(t[e + "Left"], n[3])]
		}
	},
	W.prototype.callbacks = [];
	var xn = function () {};
	xn.prototype = {
		init : function (e, t, n) {
			return this.series = e,
			this.applyOptions(t, n),
			this.pointAttr = {},
			e.options.colorByPoint && (t = e.options.colors || e.chart.options.colors, this.color = this.color || t[e.colorCounter++], e.colorCounter === t.length) && (e.colorCounter = 0),
			e.chart.pointCount++,
			this
		},
		applyOptions : function (t, n) {
			var r = this.series,
			i = r.pointValKey,
			t = xn.prototype.optionsToObject.call(this, t);
			return e(this, t),
			this.options = this.options ? e(this.options, t) : t,
			i && (this.y = this[i]),
			this.x === $ && r && (this.x = n === $ ? r.autoIncrement() : n),
			this
		},
		optionsToObject : function (e) {
			var t,
			n = this.series,
			r = n.pointArrayMap || ["y"],
			i = r.length,
			s = 0,
			u = 0;
			if (typeof e == "number" || e === null)
				t = {
					y : e
				};
			else if (o(e)) {
				t = {},
				e.length > i && (n = typeof e[0], n === "string" ? t.name = e[0] : n === "number" && (t.x = e[0]), s++);
				for (; u < i; )
					t[r[u++]] = e[s++]
			} else
				typeof e == "object" && (t = e, e.dataLabels && (n._hasPointLabels = !0), e.marker && (n._hasPointMarkers = !0));
			return t
		},
		destroy : function () {
			var e = this.series.chart,
			t = e.hoverPoints,
			n;
			e.pointCount--,
			t && (this.setState(), l(t, this), !t.length) && (e.hoverPoints = null),
			this === e.hoverPoint && this.onMouseOut();
			if (this.graphic || this.dataLabel)
				hn(this), this.destroyElements();
			this.legendItem && e.legend.destroyItem(this);
			for (n in this)
				this[n] = null
		},
		destroyElements : function () {
			for (var e = "graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","), t, n = 6; n--; )
				t = e[n], this[t] && (this[t] = this[t].destroy())
		},
		getLabelConfig : function () {
			return {
				x : this.category,
				y : this.y,
				key : this.name || this.category,
				series : this.series,
				point : this,
				percentage : this.percentage,
				total : this.total || this.stackTotal
			}
		},
		select : function (e, t) {
			var n = this,
			r = n.series,
			i = r.chart,
			e = d(e, !n.selected);
			n.firePointEvent(e ? "select" : "unselect", {
				accumulate : t
			}, function () {
				n.selected = n.options.selected = e,
				r.options.data[on(n, r.data)] = n.options,
				n.setState(e && "select"),
				t || un(i.getSelectedPoints(), function (e) {
					e.selected && e !== n && (e.selected = e.options.selected = !1, r.options.data[on(e, r.data)] = e.options, e.setState(""), e.firePointEvent("unselect"))
				})
			})
		},
		onMouseOver : function (e) {
			var t = this.series,
			n = t.chart,
			r = n.tooltip,
			i = n.hoverPoint;
			i && i !== this && i.onMouseOut(),
			this.firePointEvent("mouseOver"),
			r && (!r.shared || t.noSharedTooltip) && r.refresh(this, e),
			this.setState("hover"),
			n.hoverPoint = this
		},
		onMouseOut : function () {
			var e = this.series.chart,
			t = e.hoverPoints;
			if (!t || on(this, t) === -1)
				this.firePointEvent("mouseOut"), this.setState(), e.hoverPoint = null
		},
		tooltipFormatter : function (e) {
			var t = this.series,
			n = t.tooltipOptions,
			r = d(n.valueDecimals, ""),
			i = n.valuePrefix || "",
			s = n.valueSuffix || "";
			return un(t.pointArrayMap || ["y"], function (t) {
				t = "{point." + t;
				if (i || s)
					e = e.replace(t + "}", i + t + "}" + s);
				e = e.replace(t + "}", t + ":,." + r + "f}")
			}),
			E(e, {
				point : this,
				series : this.series
			})
		},
		update : function (e, t, n) {
			var r = this,
			i = r.series,
			o = r.graphic,
			u,
			a = i.data,
			f = i.chart,
			l = i.options,
			t = d(t, !0);
			r.firePointEvent("update", {
				options : e
			}, function () {
				r.applyOptions(e),
				s(e) && (i.getAttribs(), o) && (e.marker && e.marker.symbol ? r.graphic = o.destroy() : o.attr(r.pointAttr[r.state || ""])),
				u = on(r, a),
				i.xData[u] = r.x,
				i.yData[u] = i.toYData ? i.toYData(r) : r.y,
				i.zData[u] = r.z,
				l.data[u] = r.options,
				i.isDirty = i.isDirtyData = !0,
				!i.fixedBox && i.hasCartesianSeries && (f.isDirtyBox = !0),
				l.legendType === "point" && f.legend.destroyItem(r),
				t && f.redraw(n)
			})
		},
		remove : function (e, t) {
			var n = this,
			r = n.series,
			i = r.points,
			s = r.chart,
			o,
			u = r.data;
			P(t, s),
			e = d(e, !0),
			n.firePointEvent("remove", null, function () {
				o = on(n, u),
				u.length === i.length && i.splice(o, 1),
				u.splice(o, 1),
				r.options.data.splice(o, 1),
				r.xData.splice(o, 1),
				r.yData.splice(o, 1),
				r.zData.splice(o, 1),
				n.destroy(),
				r.isDirty = !0,
				r.isDirtyData = !0,
				e && s.redraw()
			})
		},
		firePointEvent : function (e, t, n) {
			var r = this,
			i = this.series.options;
			(i.point.events[e] || r.options && r.options.events && r.options.events[e]) && this.importEvents(),
			e === "click" && i.allowPointSelect && (n = function (e) {
				r.select(null, e.ctrlKey || e.metaKey || e.shiftKey)
			}),
			pn(this, e, t, n)
		},
		importEvents : function () {
			if (!this.hasImportedEvents) {
				var e = t(this.series.options.point, this.options).events,
				n;
				this.events = e;
				for (n in e)
					cn(this, n, e[n]);
				this.hasImportedEvents = !0
			}
		},
		setState : function (e) {
			var n = this.plotX,
			r = this.plotY,
			i = this.series,
			s = i.options.states,
			o = gn[i.type].marker && i.options.marker,
			u = o && !o.enabled,
			a = o && o.states[e],
			f = a && a.enabled === !1,
			l = i.stateMarkerGraphic,
			c = this.marker || {},
			h = i.chart,
			p = this.pointAttr,
			e = e || "";
			e === this.state || this.selected && e !== "select" || s[e] && s[e].enabled === !1 || e && (f || u && !a.enabled) || (this.graphic ? (s = o && this.graphic.symbolName && p[e].r, this.graphic.attr(t(p[e], s ? {
							x : n - s,
							y : r - s,
							width : 2 * s,
							height : 2 * s
						}
							 : {}))) : (e && a && (s = a.radius, c = c.symbol || i.symbol, l && l.currentSymbol !== c && (l = l.destroy()), l ? l.attr({
							x : n - s,
							y : r - s
						}) : (i.stateMarkerGraphic = l = h.renderer.symbol(c, n - s, r - s, 2 * s, 2 * s).attr(p[e]).add(i.markerGroup), l.currentSymbol = c)), l && l[e && h.isInsidePlot(n, r) ? "show" : "hide"]()), this.state = e)
		}
	};
	var Tn = function () {};
	Tn.prototype = {
		isCartesian : !0,
		type : "line",
		pointClass : xn,
		sorted : !0,
		requireSorting : !0,
		pointAttrToOptions : {
			stroke : "lineColor",
			"stroke-width" : "lineWidth",
			fill : "fillColor",
			r : "radius"
		},
		colorCounter : 0,
		init : function (t, n) {
			var r,
			i,
			s = t.series;
			this.chart = t,
			this.options = n = this.setOptions(n),
			this.linkedSeries = [],
			this.bindAxes(),
			e(this, {
				name : n.name,
				state : "",
				pointAttr : {},
				visible : n.visible !== !1,
				selected : n.selected === !0
			}),
			gt && (n.animation = !1),
			i = n.events;
			for (r in i)
				cn(this, r, i[r]);
			if (i && i.click || n.point && n.point.events && n.point.events.click || n.allowPointSelect)
				t.runTrackerClick = !0;
			this.getColor(),
			this.getSymbol(),
			this.setData(n.data, !1),
			this.isCartesian && (t.hasCartesianSeries = !0),
			s.push(this),
			this._i = s.length - 1,
			k(s, function (e, t) {
				return d(e.options.index, e._i) - d(t.options.index, e._i)
			}),
			un(s, function (e, t) {
				e.index = t,
				e.name = e.name || "Series " + (t + 1)
			})
		},
		bindAxes : function () {
			var e = this,
			t = e.options,
			n = e.chart,
			r;
			e.isCartesian && un(["xAxis", "yAxis"], function (i) {
				un(n[i], function (n) {
					r = n.options;
					if (t[i] === r.index || t[i] !== $ && t[i] === r.id || t[i] === $ && r.index === 0)
						n.series.push(e), e[i] = n, n.isDirty = !0
				}),
				e[i] || _(18, !0)
			})
		},
		autoIncrement : function () {
			var e = this.options,
			t = this.xIncrement,
			t = d(t, e.pointStart, 0);
			return this.pointInterval = d(this.pointInterval, e.pointInterval, 1),
			this.xIncrement = t + this.pointInterval,
			t
		},
		getSegments : function () {
			var e = -1,
			t = [],
			n,
			r = this.points,
			i = r.length;
			if (i)
				if (this.options.connectNulls) {
					for (n = i; n--; )
						r[n].y === null && r.splice(n, 1);
					r.length && (t = [r])
				} else
					un(r, function (n, s) {
						n.y === null ? (s > e + 1 && t.push(r.slice(e + 1, s)), e = s) : s === i - 1 && t.push(r.slice(e + 1, s + 1))
					});
			this.segments = t
		},
		setOptions : function (e) {
			var n = this.chart.options,
			r = n.plotOptions,
			i = r[this.type];
			return this.userOptions = e,
			e = t(i, r.series, e),
			this.tooltipOptions = t(n.tooltip, e.tooltip),
			i.marker === null && delete e.marker,
			e
		},
		getColor : function () {
			var e = this.options,
			t = this.userOptions,
			n = this.chart.options.colors,
			r = this.chart.counters,
			i;
			i = e.color || gn[this.type].color,
			!i && !e.colorByPoint && (c(t._colorIndex) ? e = t._colorIndex : (t._colorIndex = r.color, e = r.color++), i = n[e]),
			this.color = i,
			r.wrapColor(n.length)
		},
		getSymbol : function () {
			var e = this.userOptions,
			t = this.options.marker,
			n = this.chart,
			r = n.options.symbols,
			n = n.counters;
			this.symbol = t.symbol,
			this.symbol || (c(e._symbolIndex) ? e = e._symbolIndex : (e._symbolIndex = n.symbol, e = n.symbol++), this.symbol = r[e]),
			/^url/.test(this.symbol) && (t.radius = 0),
			n.wrapSymbol(r.length)
		},
		drawLegendSymbol : function (e) {
			var t = this.options,
			n = t.marker,
			r = e.options,
			i;
			i = r.symbolWidth;
			var s = this.chart.renderer,
			o = this.legendGroup,
			e = e.baseline - G(s.fontMetrics(r.itemStyle.fontSize).b * .3);
			t.lineWidth && (r = {
					"stroke-width" : t.lineWidth
				}, t.dashStyle && (r.dashstyle = t.dashStyle), this.legendLine = s.path(["M", 0, e, "L", i, e]).attr(r).add(o)),
			n && n.enabled && (t = n.radius, this.legendSymbol = i = s.symbol(this.symbol, i / 2 - t, e - t, 2 * t, 2 * t).add(o), i.isMarker = !0)
		},
		addPoint : function (e, t, n, r) {
			var i = this.options,
			s = this.data,
			o = this.graph,
			u = this.area,
			a = this.chart,
			f = this.xData,
			l = this.yData,
			c = this.zData,
			h = this.names,
			p = o && o.shift || 0,
			v = i.data,
			m;
			P(r, a),
			n && un([o, u, this.graphNeg, this.areaNeg], function (e) {
				e && (e.shift = p + 1)
			}),
			u && (u.isArea = !0),
			t = d(t, !0),
			r = {
				series : this
			},
			this.pointClass.prototype.applyOptions.apply(r, [e]),
			o = r.x,
			u = f.length;
			if (this.requireSorting && o < f[u - 1])
				for (m = !0; u && f[u - 1] > o; )
					u--;
			f.splice(u, 0, o),
			l.splice(u, 0, this.toYData ? this.toYData(r) : r.y),
			c.splice(u, 0, r.z),
			h && (h[o] = r.name),
			v.splice(u, 0, e),
			m && (this.data.splice(u, 0, null), this.processData()),
			i.legendType === "point" && this.generatePoints(),
			n && (s[0] && s[0].remove ? s[0].remove(!1) : (s.shift(), f.shift(), l.shift(), c.shift(), v.shift())),
			this.isDirtyData = this.isDirty = !0,
			t && (this.getAttribs(), a.redraw())
		},
		setData : function (e, t) {
			var n = this.points,
			r = this.options,
			s = this.chart,
			a = null,
			f = this.xAxis,
			l = f && f.categories && !f.categories.length ? [] : null,
			c;
			this.xIncrement = null,
			this.pointRange = f && f.categories ? 1 : r.pointRange,
			this.colorCounter = 0;
			var h = [],
			p = [],
			v = [],
			m = e ? e.length : [];
			c = d(r.turboThreshold, 1e3);
			var g = this.pointArrayMap,
			g = g && g.length,
			y = !!this.toYData;
			if (c && m > c) {
				for (c = 0; a === null && c < m; )
					a = e[c], c++;
				if (u(a)) {
					a = d(r.pointStart, 0),
					r = d(r.pointInterval, 1);
					for (c = 0; c < m; c++)
						h[c] = a, p[c] = e[c], a += r;
					this.xIncrement = a
				} else if (o(a))
					if (g)
						for (c = 0; c < m; c++)
							r = e[c], h[c] = r[0], p[c] = r.slice(1, g + 1);
					else
						for (c = 0; c < m; c++)
							r = e[c], h[c] = r[0], p[c] = r[1];
				else
					_(12)
			} else
				for (c = 0; c < m; c++)
					e[c] !== $ && (r = {
							series : this
						}, this.pointClass.prototype.applyOptions.apply(r, [e[c]]), h[c] = r.x, p[c] = y ? this.toYData(r) : r.y, v[c] = r.z, l && r.name) && (l[r.x] = r.name);
			i(p[0]) && _(14, !0),
			this.data = [],
			this.options.data = e,
			this.xData = h,
			this.yData = p,
			this.zData = v,
			this.names = l;
			for (c = n && n.length || 0; c--; )
				n[c] && n[c].destroy && n[c].destroy();
			f && (f.minRange = f.userMinRange),
			this.isDirty = this.isDirtyData = s.isDirtyBox = !0,
			d(t, !0) && s.redraw(!1)
		},
		remove : function (e, t) {
			var n = this,
			r = n.chart,
			e = d(e, !0);
			n.isRemoving || (n.isRemoving = !0, pn(n, "remove", null, function () {
					n.destroy(),
					r.isDirtyLegend = r.isDirtyBox = !0,
					r.linkSeries(),
					e && r.redraw(t)
				})),
			n.isRemoving = !1
		},
		processData : function (e) {
			var t = this.xData,
			n = this.yData,
			r = t.length,
			i;
			i = 0;
			var s,
			o,
			u = this.xAxis,
			a = this.options,
			f = a.cropThreshold,
			l = this.isCartesian;
			if (l && !this.isDirty && !u.isDirty && !this.yAxis.isDirty && !e)
				return !1;
			if (l && this.sorted && (!f || r > f || this.forceCrop))
				if (e = u.min, u = u.max, t[r - 1] < e || t[0] > u)
					t = [], n = [];
				else if (t[0] < e || t[r - 1] > u)
					i = this.cropData(this.xData, this.yData, e, u), t = i.xData, n = i.yData, i = i.start, s = !0;
			for (u = t.length - 1; u >= 0; u--)
				r = t[u] - t[u - 1], r > 0 && (o === $ || r < o) ? o = r : r < 0 && this.requireSorting && _(15);
			this.cropped = s,
			this.cropStart = i,
			this.processedXData = t,
			this.processedYData = n,
			a.pointRange === null && (this.pointRange = o || 1),
			this.closestPointRange = o
		},
		cropData : function (e, t, n, r) {
			var i = e.length,
			s = 0,
			o = i,
			u = d(this.cropShoulder, 1),
			a;
			for (a = 0; a < i; a++)
				if (e[a] >= n) {
					s = et(0, a - u);
					break
				}
			for (; a < i; a++)
				if (e[a] > r) {
					o = a + u;
					break
				}
			return {
				xData : e.slice(s, o),
				yData : t.slice(s, o),
				start : s,
				end : o
			}
		},
		generatePoints : function () {
			var e = this.options.data,
			t = this.data,
			n,
			r = this.processedXData,
			i = this.processedYData,
			s = this.pointClass,
			o = r.length,
			u = this.cropStart || 0,
			a,
			f = this.hasGroupedData,
			l,
			c = [],
			h;
			!t && !f && (t = [], t.length = e.length, t = this.data = t);
			for (h = 0; h < o; h++)
				a = u + h, f ? c[h] = (new s).init(this, [r[h]].concat(p(i[h]))) : (t[a] ? l = t[a] : e[a] !== $ && (t[a] = l = (new s).init(this, e[a], r[h])), c[h] = l);
			if (t && (o !== (n = t.length) || f))
				for (h = 0; h < n; h++)
					if (h === u && !f && (h += o), t[h])
						t[h].destroyElements(), t[h].plotX = $;
			this.data = t,
			this.points = c
		},
		setStackedPoints : function () {
			if (this.options.stacking && (this.visible === !0 || this.chart.options.chart.ignoreHiddenSeries === !1)) {
				var e = this.processedXData,
				t = this.processedYData,
				n = [],
				r = t.length,
				i = this.options,
				s = i.threshold,
				o = i.stack,
				i = i.stacking,
				u = this.stackKey,
				a = "-" + u,
				f = this.negStacks,
				l = this.yAxis,
				c = l.stacks,
				h = l.oldStacks,
				p,
				d,
				v,
				m,
				g;
				for (v = 0; v < r; v++)
					m = e[v], g = t[v], d = (p = f && g < s) ? a : u, c[d] || (c[d] = {}), c[d][m] || (h[d] && h[d][m] ? (c[d][m] = h[d][m], c[d][m].total = null) : c[d][m] = new I(l, l.options.stackLabels, p, m, o, i)), d = c[d][m], d.points[this.index] = [d.cum || 0], i === "percent" ? (p = p ? u : a, f && c[p] && c[p][m] ? (p = c[p][m], d.total = p.total = et(p.total, d.total) + nt(g) || 0) : d.total += nt(g) || 0) : d.total += g || 0, d.cum = (d.cum || 0) + (g || 0), d.points[this.index].push(d.cum), n[v] = d.cum;
				i === "percent" && (l.usePercentage = !0),
				this.stackedYData = n,
				l.oldStacks = {}

			}
		},
		setPercentStacks : function () {
			var e = this,
			t = e.stackKey,
			n = e.yAxis.stacks;
			un([t, "-" + t], function (t) {
				var r;
				for (var i = e.xData.length, s, o; i--; )
					if (s = e.xData[i], r = (o = n[t] && n[t][s]) && o.points[e.index], s = r)
						o = o.total ? 100 / o.total : 0, s[0] = D(s[0] * o), s[1] = D(s[1] * o), e.stackedYData[i] = s[1]
			})
		},
		getExtremes : function () {
			var e = this.yAxis,
			t = this.processedXData,
			n = this.stackedYData || this.processedYData,
			r = n.length,
			i = [],
			s = 0,
			o = this.xAxis.getExtremes(),
			u = o.min,
			o = o.max,
			a,
			f,
			l,
			c;
			for (c = 0; c < r; c++)
				if (f = t[c], l = n[c], a = l !== null && l !== $ && (!e.isLog || l.length || l > 0), f = this.getExtremesFromAll || this.cropped || (t[c + 1] || f) >= u && (t[c - 1] || f) <= o, a && f)
					if (a = l.length)
						for (; a--; )
							l[a] !== null && (i[s++] = l[a]);
					else
						i[s++] = l;
			this.dataMin = d(void 0, L(i)),
			this.dataMax = d(void 0, A(i))
		},
		translate : function () {
			this.processedXData || this.processData(),
			this.generatePoints();
			for (var e = this.options, t = e.stacking, n = this.xAxis, r = n.categories, i = this.yAxis, s = this.points, o = s.length, a = !!this.modifyValue, f = e.pointPlacement, l = f === "between" || u(f), h = e.threshold, e = 0; e < o; e++) {
				var p = s[e],
				v = p.x,
				m = p.y,
				g = p.low,
				y = i.stacks[(this.negStacks && m < h ? "-" : "") + this.stackKey];
				i.isLog && m <= 0 && (p.y = m = null),
				p.plotX = n.translate(v, 0, 0, 0, 1, f, this.type === "flags"),
				t && this.visible && y && y[v] && (y = y[v], m = y.points[this.index], g = m[0], m = m[1], g === 0 && (g = d(h, i.min)), i.isLog && g <= 0 && (g = null), p.percentage = t === "percent" && m, p.total = p.stackTotal = y.total, p.stackY = m, y.setOffset(this.pointXOffset || 0, this.barW || 0)),
				p.yBottom = c(g) ? i.translate(g, 0, 1, 0, 1) : null,
				a && (m = this.modifyValue(m, p)),
				p.plotY = typeof m == "number" && m !== Infinity ? i.translate(m, 0, 1, 0, 1) : $,
				p.clientX = l ? n.translate(v, 0, 0, 0, 1) : p.plotX,
				p.negative = p.y < (h || 0),
				p.category = r && r[p.x] !== $ ? r[p.x] : p.x
			}
			this.getSegments()
		},
		setTooltipPoints : function (e) {
			var t = [],
			n,
			r,
			i = this.xAxis,
			s = i && i.getExtremes(),
			o = i ? i.tooltipLen || i.len : this.chart.plotSizeX,
			u,
			a,
			f = [];
			if (this.options.enableMouseTracking !== !1) {
				e && (this.tooltipPoints = null),
				un(this.segments || this.points, function (e) {
					t = t.concat(e)
				}),
				i && i.reversed && (t = t.reverse()),
				this.orderTooltipPoints && this.orderTooltipPoints(t),
				e = t.length;
				for (a = 0; a < e; a++)
					if (i = t[a], n = i.x, n >= s.min && n <= s.max) {
						u = t[a + 1],
						n = r === $ ? 0 : r + 1;
						for (r = t[a + 1] ? tt(et(0, Y((i.clientX + (u ? u.wrappedClientX || u.clientX : o)) / 2)), o) : o; n >= 0 && n <= r; )
							f[n++] = i
					}
				this.tooltipPoints = f
			}
		},
		tooltipHeaderFormatter : function (e) {
			var t = this.tooltipOptions,
			n = t.xDateFormat,
			r = t.dateTimeLabelFormats,
			i = this.xAxis,
			s = i && i.options.type === "datetime",
			t = t.headerFormat,
			i = i && i.closestPointRange,
			o;
			if (s && !n)
				if (i) {
					for (o in kt)
						if (kt[o] >= i) {
							n = r[o];
							break
						}
				} else
					n = r.day;
			return s && n && u(e.key) && (t = t.replace("{point.key}", "{point.key:" + n + "}")),
			E(t, {
				point : e,
				series : this
			})
		},
		onMouseOver : function () {
			var e = this.chart,
			t = e.hoverSeries;
			t && t !== this && t.onMouseOut(),
			this.options.events.mouseOver && pn(this, "mouseOver"),
			this.setState("hover"),
			e.hoverSeries = this
		},
		onMouseOut : function () {
			var e = this.options,
			t = this.chart,
			n = t.tooltip,
			r = t.hoverPoint;
			r && r.onMouseOut(),
			this && e.events.mouseOut && pn(this, "mouseOut"),
			n && !e.stickyTracking && (!n.shared || this.noSharedTooltip) && n.hide(),
			this.setState(),
			t.hoverSeries = null
		},
		animate : function (t) {
			var n = this,
			r = n.chart,
			i = r.renderer,
			o;
			o = n.options.animation;
			var u = r.clipBox,
			a = r.inverted,
			f;
			o && !s(o) && (o = gn[n.type].animation),
			f = "_sharedClip" + o.duration + o.easing;
			if (t)
				t = r[f], o = r[f + "m"], t || (r[f] = t = i.clipRect(e(u, {
								width : 0
							})), r[f + "m"] = o = i.clipRect(-99, a ? -r.plotLeft : -r.plotTop, 99, a ? r.chartWidth : r.chartHeight)), n.group.clip(t), n.markerGroup.clip(o), n.sharedClipKey = f;
			else {
				if (t = r[f])
					t.animate({
						width : r.plotSizeX
					}, o), r[f + "m"].animate({
						width : r.plotSizeX + 99
					}, o);
				n.animate = null,
				n.animationTimeout = setTimeout(function () {
						n.afterAnimate()
					}, o.duration)
			}
		},
		afterAnimate : function () {
			var e = this.chart,
			t = this.sharedClipKey,
			n = this.group;
			n && this.options.clip !== !1 && (n.clip(e.clipRect), this.markerGroup.clip()),
			setTimeout(function () {
				t && e[t] && (e[t] = e[t].destroy(), e[t + "m"] = e[t + "m"].destroy())
			}, 100)
		},
		drawPoints : function () {
			var t,
			n = this.points,
			r = this.chart,
			i,
			s,
			o,
			u,
			a,
			f,
			l,
			c,
			h = this.options.marker,
			p,
			v = this.markerGroup;
			if (h.enabled || this._hasPointMarkers)
				for (o = n.length; o--; )
					(u = n[o], i = Y(u.plotX), s = u.plotY, c = u.graphic, f = u.marker || {}, t = h.enabled && f.enabled === $ || f.enabled, p = r.isInsidePlot(G(i), s, r.inverted), t && s !== $ && !isNaN(s) && u.y !== null) ? (t = u.pointAttr[u.selected ? "select" : ""], a = t.r, f = d(f.symbol, this.symbol), l = f.indexOf("url") === 0, c) ? c.attr({
						visibility : p ? vt ? "inherit" : "visible" : "hidden"
					}).animate(e({
							x : i - a,
							y : s - a
						}, c.symbolName ? {
							width : 2 * a,
							height : 2 * a
						}
							 : {})) : p && (a > 0 || l) && (u.graphic = r.renderer.symbol(f, i - a, s - a, 2 * a, 2 * a).attr(t).add(v)) : c && (u.graphic = c.destroy())
		},
		convertAttribs : function (e, t, n, r) {
			var i = this.pointAttrToOptions,
			s,
			o,
			u = {},
			e = e || {},
			t = t || {},
			n = n || {},
			r = r || {};
			for (s in i)
				o = i[s], u[s] = d(e[o], t[s], n[s], r[s]);
			return u
		},
		getAttribs : function () {
			var t = this,
			n = t.options,
			r = gn[t.type].marker ? n.marker : n,
			i = r.states,
			s = i.hover,
			o,
			u = t.color,
			a = {
				stroke : u,
				fill : u
			},
			f = t.points || [],
			l = [],
			h,
			p = t.pointAttrToOptions,
			d = n.negativeColor,
			v = r.lineColor,
			m;
			n.marker ? (s.radius = s.radius || r.radius + 2, s.lineWidth = s.lineWidth || r.lineWidth + 1) : s.color = s.color || yn(s.color || u).brighten(s.brightness).get(),
			l[""] = t.convertAttribs(r, a),
			un(["hover", "select"], function (e) {
				l[e] = t.convertAttribs(i[e], l[""])
			}),
			t.pointAttr = l;
			for (u = f.length; u--; ) {
				a = f[u],
				(r = a.options && a.options.marker || a.options) && r.enabled === !1 && (r.radius = 0),
				a.negative && d && (a.color = a.fillColor = d),
				o = n.colorByPoint || a.color;
				if (a.options)
					for (m in p)
						c(r[p[m]]) && (o = !0);
				o ? (r = r || {}, h = [], i = r.states || {}, o = i.hover = i.hover || {}, n.marker || (o.color = yn(o.color || a.color).brighten(o.brightness || s.brightness).get()), h[""] = t.convertAttribs(e({
								color : a.color,
								fillColor : a.color,
								lineColor : v === null ? a.color : $
							}, r), l[""]), h.hover = t.convertAttribs(i.hover, l.hover, h[""]), h.select = t.convertAttribs(i.select, l.select, h[""])) : h = l,
				a.pointAttr = h
			}
		},
		update : function (n, r) {
			var i = this.chart,
			s = this.type,
			o = en[s].prototype,
			u,
			n = t(this.userOptions, {
					animation : !1,
					index : this.index,
					pointStart : this.xData[0]
				}, {
					data : this.options.data
				}, n);
			this.remove(!1);
			for (u in o)
				o.hasOwnProperty(u) && (this[u] = $);
			e(this, en[n.type || s].prototype),
			this.init(i, n),
			d(r, !0) && i.redraw(!1)
		},
		destroy : function () {
			var e = this,
			t = e.chart,
			n = /AppleWebKit\/533/.test(ut),
			r,
			i,
			s = e.data || [],
			o,
			u,
			a;
			pn(e, "destroy"),
			hn(e),
			un(["xAxis", "yAxis"], function (t) {
				if (a = e[t])
					l(a.series, e), a.isDirty = a.forceRedraw = !0, a.stacks = {}

			}),
			e.legendItem && e.chart.legend.destroyItem(e);
			for (i = s.length; i--; )
				(o = s[i]) && o.destroy && o.destroy();
			e.points = null,
			clearTimeout(e.animationTimeout),
			un("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","), function (t) {
				e[t] && (r = n && t === "group" ? "hide" : "destroy", e[t][r]())
			}),
			t.hoverSeries === e && (t.hoverSeries = null),
			l(t.series, e);
			for (u in e)
				delete e[u]
		},
		drawDataLabels : function () {
			var e = this,
			n = e.options.dataLabels,
			r = e.points,
			i,
			s,
			o,
			u;
			if (n.enabled || e._hasPointLabels)
				e.dlProcessOptions && e.dlProcessOptions(n), u = e.plotGroup("dataLabelsGroup", "data-labels", e.visible ? "visible" : "hidden", n.zIndex || 6), s = n, un(r, function (r) {
					var a,
					f = r.dataLabel,
					l,
					h,
					p = r.connector,
					v = !0;
					i = r.options && r.options.dataLabels,
					a = d(i && i.enabled, s.enabled);
					if (f && !a)
						r.dataLabel = f.destroy();
					else if (a) {
						n = t(s, i),
						a = n.rotation,
						l = r.getLabelConfig(),
						o = n.format ? E(n.format, l) : n.formatter.call(l, n),
						n.style.color = d(n.color, n.style.color, e.color, "black");
						if (f) {
							if (c(o))
								f.attr({
									text : o
								}), v = !1;
							else if (r.dataLabel = f = f.destroy(), p)
								r.connector = p.destroy()
						} else if (c(o)) {
							f = {
								fill : n.backgroundColor,
								stroke : n.borderColor,
								"stroke-width" : n.borderWidth,
								r : n.borderRadius || 0,
								rotation : a,
								padding : n.padding,
								zIndex : 1
							};
							for (h in f)
								f[h] === $ && delete f[h];
							f = r.dataLabel = e.chart.renderer[a ? "text" : "label"](o, 0, -999, null, null, null, n.useHTML).attr(f).css(n.style).add(u).shadow(n.shadow)
						}
						f && e.alignDataLabel(r, f, n, null, v)
					}
				})
		},
		alignDataLabel : function (t, n, r, i, s) {
			var o = this.chart,
			u = o.inverted,
			a = d(t.plotX, -999),
			f = d(t.plotY, -999),
			l = n.getBBox();
			if (t = this.visible && o.isInsidePlot(t.plotX, t.plotY, u))
				i = e({
						x : u ? o.plotWidth - f : a,
						y : G(u ? o.plotHeight - a : f),
						width : 0,
						height : 0
					}, i), e(r, {
					width : l.width,
					height : l.height
				}), r.rotation ? (u = {
						align : r.align,
						x : i.x + r.x + i.width / 2,
						y : i.y + r.y + i.height / 2
					}, n[s ? "attr" : "animate"](u)) : (n.align(r, null, i), u = n.alignAttr, d(r.overflow, "justify") === "justify" ? this.justifyDataLabel(n, r, u, l, i, s) : d(r.crop, !0) && (t = o.isInsidePlot(u.x, u.y) && o.isInsidePlot(u.x + l.width, u.y + l.height)));
			t || n.attr({
				y : -999
			})
		},
		justifyDataLabel : function (e, t, n, r, i, s) {
			var o = this.chart,
			u = t.align,
			a = t.verticalAlign,
			f,
			l;
			f = n.x,
			f < 0 && (u === "right" ? t.align = "left" : t.x = -f, l = !0),
			f = n.x + r.width,
			f > o.plotWidth && (u === "left" ? t.align = "right" : t.x = o.plotWidth - f, l = !0),
			f = n.y,
			f < 0 && (a === "bottom" ? t.verticalAlign = "top" : t.y = -f, l = !0),
			f = n.y + r.height,
			f > o.plotHeight && (a === "top" ? t.verticalAlign = "bottom" : t.y = o.plotHeight - f, l = !0),
			l && (e.placed = !s, e.align(t, null, i))
		},
		getSegmentPath : function (e) {
			var t = this,
			n = [],
			r = t.options.step;
			return un(e, function (i, s) {
				var o = i.plotX,
				u = i.plotY,
				a;
				t.getPointSpline ? n.push.apply(n, t.getPointSpline(e, i, s)) : (n.push(s ? "L" : "M"), r && s && (a = e[s - 1], r === "right" ? n.push(a.plotX, u) : r === "center" ? n.push((a.plotX + o) / 2, a.plotY, (a.plotX + o) / 2, u) : n.push(o, a.plotY)), n.push(i.plotX, i.plotY))
			}),
			n
		},
		getGraphPath : function () {
			var e = this,
			t = [],
			n,
			r = [];
			return un(e.segments, function (i) {
				n = e.getSegmentPath(i),
				i.length > 1 ? t = t.concat(n) : r.push(i[0])
			}),
			e.singlePoints = r,
			e.graphPath = t
		},
		drawGraph : function () {
			var e = this,
			t = this.options,
			n = [["graph", t.lineColor || this.color]],
			r = t.lineWidth,
			i = t.dashStyle,
			s = this.getGraphPath(),
			o = t.negativeColor;
			o && n.push(["graphNeg", o]),
			un(n, function (n, o) {
				var u = n[0],
				a = e[u];
				a ? (mn(a), a.animate({
						d : s
					})) : r && s.length && (a = {
						stroke : n[1],
						"stroke-width" : r,
						zIndex : 1
					}, i ? a.dashstyle = i : a["stroke-linecap"] = a["stroke-linejoin"] = "round", e[u] = e.chart.renderer.path(s).attr(a).add(e.group).shadow(!o && t.shadow))
			})
		},
		clipNeg : function () {
			var e = this.options,
			t = this.chart,
			n = t.renderer,
			r = e.negativeColor || e.negativeFillColor,
			i,
			s = this.graph,
			o = this.area,
			u = this.posClip,
			a = this.negClip;
			i = t.chartWidth;
			var f = t.chartHeight,
			l = et(i, f),
			c = this.yAxis;
			r && (s || o) && (r = G(c.toPixels(e.threshold || 0, !0)), e = {
					x : 0,
					y : 0,
					width : l,
					height : r
				}, l = {
					x : 0,
					y : r,
					width : l,
					height : l
				}, t.inverted && (e.height = l.y = t.plotWidth - r, n.isVML && (e = {
							x : t.plotWidth - r - t.plotLeft,
							y : 0,
							width : i,
							height : f
						}, l = {
							x : r + t.plotLeft - i,
							y : 0,
							width : t.plotLeft + r,
							height : i
						})), c.reversed ? (t = l, i = e) : (t = e, i = l), u ? (u.animate(t), a.animate(i)) : (this.posClip = u = n.clipRect(t), this.negClip = a = n.clipRect(i), s && this.graphNeg && (s.clip(u), this.graphNeg.clip(a)), o && (o.clip(u), this.areaNeg.clip(a))))
		},
		invertGroups : function () {
			function e() {
				var e = {
					width : t.yAxis.len,
					height : t.xAxis.len
				};
				un(["group", "markerGroup"], function (n) {
					t[n] && t[n].attr(e).invert()
				})
			}
			var t = this,
			n = t.chart;
			t.xAxis && (cn(n, "resize", e), cn(t, "destroy", function () {
					hn(n, "resize", e)
				}), e(), t.invertGroups = e)
		},
		plotGroup : function (e, t, n, r, i) {
			var s = this[e],
			o = !s;
			return o && (this[e] = s = this.chart.renderer.g(t).attr({
						visibility : n,
						zIndex : r || .1
					}).add(i)),
			s[o ? "attr" : "animate"](this.getPlotBox()),
			s
		},
		getPlotBox : function () {
			return {
				translateX : this.xAxis ? this.xAxis.left : this.chart.plotLeft,
				translateY : this.yAxis ? this.yAxis.top : this.chart.plotTop,
				scaleX : 1,
				scaleY : 1
			}
		},
		render : function () {
			var e = this.chart,
			t,
			n = this.options,
			r = n.animation && !!this.animate && e.renderer.isSVG,
			i = this.visible ? "visible" : "hidden",
			s = n.zIndex,
			o = this.hasRendered,
			u = e.seriesGroup;
			t = this.plotGroup("group", "series", i, s, u),
			this.markerGroup = this.plotGroup("markerGroup", "markers", i, s, u),
			r && this.animate(!0),
			this.getAttribs(),
			t.inverted = this.isCartesian ? e.inverted : !1,
			this.drawGraph && (this.drawGraph(), this.clipNeg()),
			this.drawDataLabels(),
			this.drawPoints(),
			this.options.enableMouseTracking !== !1 && this.drawTracker(),
			e.inverted && this.invertGroups(),
			n.clip !== !1 && !this.sharedClipKey && !o && t.clip(e.clipRect),
			r ? this.animate() : o || this.afterAnimate(),
			this.isDirty = this.isDirtyData = !1,
			this.hasRendered = !0
		},
		redraw : function () {
			var e = this.chart,
			t = this.isDirtyData,
			n = this.group,
			r = this.xAxis,
			i = this.yAxis;
			n && (e.inverted && n.attr({
					width : e.plotWidth,
					height : e.plotHeight
				}), n.animate({
					translateX : d(r && r.left, e.plotLeft),
					translateY : d(i && i.top, e.plotTop)
				})),
			this.translate(),
			this.setTooltipPoints(!0),
			this.render(),
			t && pn(this, "updatedData")
		},
		setState : function (e) {
			var t = this.options,
			n = this.graph,
			r = this.graphNeg,
			i = t.states,
			t = t.lineWidth,
			e = e || "";
			this.state !== e && (this.state = e, i[e] && i[e].enabled === !1 || (e && (t = i[e].lineWidth || t + 1), n && !n.dashstyle && (e = {
							"stroke-width" : t
						}, n.attr(e), r && r.attr(e))))
		},
		setVisible : function (e, t) {
			var n = this,
			r = n.chart,
			i = n.legendItem,
			s,
			o = r.options.chart.ignoreHiddenSeries,
			u = n.visible;
			s = (n.visible = e = n.userOptions.visible = e === $ ? !u : e) ? "show" : "hide",
			un(["group", "dataLabelsGroup", "markerGroup", "tracker"], function (e) {
				n[e] && n[e][s]()
			}),
			r.hoverSeries === n && n.onMouseOut(),
			i && r.legend.colorizeItem(n, e),
			n.isDirty = !0,
			n.options.stacking && un(r.series, function (e) {
				e.options.stacking && e.visible && (e.isDirty = !0)
			}),
			un(n.linkedSeries, function (t) {
				t.setVisible(e, !1)
			}),
			o && (r.isDirtyBox = !0),
			t !== !1 && r.redraw(),
			pn(n, s)
		},
		show : function () {
			this.setVisible(!0)
		},
		hide : function () {
			this.setVisible(!1)
		},
		select : function (e) {
			this.selected = e = e === $ ? !this.selected : e,
			this.checkbox && (this.checkbox.checked = e),
			pn(this, e ? "select" : "unselect")
		},
		drawTracker : function () {
			var e = this,
			t = e.options,
			n = t.trackByArea,
			r = [].concat(n ? e.areaPath : e.graphPath),
			i = r.length,
			s = e.chart,
			o = s.pointer,
			u = s.renderer,
			a = s.options.tooltip.snap,
			f = e.tracker,
			l = t.cursor,
			c = l && {
				cursor : l
			},
			l = e.singlePoints,
			h,
			p = function () {
				s.hoverSeries !== e && e.onMouseOver()
			};
			if (i && !n)
				for (h = i + 1; h--; )
					r[h] === "M" && r.splice(h + 1, 0, r[h + 1] - a, r[h + 2], "L"), (h && r[h] === "M" || h === i) && r.splice(h, 0, "L", r[h - 2] + a, r[h - 1]);
			for (h = 0; h < l.length; h++)
				i = l[h], r.push("M", i.plotX - a, i.plotY, "L", i.plotX + a, i.plotY);
			f ? f.attr({
				d : r
			}) : (e.tracker = u.path(r).attr({
						"stroke-linejoin" : "round",
						visibility : e.visible ? "visible" : "hidden",
						stroke : _t,
						fill : n ? _t : Mt,
						"stroke-width" : t.lineWidth + (n ? 0 : 2 * a),
						zIndex : 2
					}).add(e.group), un([e.tracker, e.markerGroup], function (e) {
					e.addClass("highcharts-tracker").on("mouseover", p).on("mouseout", function (e) {
						o.onTrackerMouseOut(e)
					}).css(c),
					bt && e.on("touchstart", p)
				}))
		}
	},
	nn = g(Tn),
	en.line = nn,
	gn.area = t(tn, {
			threshold : 0
		}),
	nn = g(Tn, {
			type : "area",
			getSegments : function () {
				var e = [],
				t = [],
				n = [],
				r = this.xAxis,
				i = this.yAxis,
				s = i.stacks[this.stackKey],
				o = {},
				u,
				a,
				f = this.points,
				l = this.options.connectNulls,
				c,
				h,
				p;
				if (this.options.stacking && !this.cropped) {
					for (h = 0; h < f.length; h++)
						o[f[h].x] = f[h];
					for (p in s)
						n.push(+p);
					n.sort(function (e, t) {
						return e - t
					}),
					un(n, function (e) {
						if (!l || o[e] && o[e].y !== null)
							o[e] ? t.push(o[e]) : (u = r.translate(e), c = s[e].percent ? s[e].total ? s[e].cum * 100 / s[e].total : 0 : s[e].cum, a = i.toPixels(c, !0), t.push({
									y : null,
									plotX : u,
									clientX : u,
									plotY : a,
									yBottom : a,
									onMouseOver : Lt
								}))
					}),
					t.length && e.push(t)
				} else
					Tn.prototype.getSegments.call(this), e = this.segments;
				this.segments = e
			},
			getSegmentPath : function (e) {
				var t = Tn.prototype.getSegmentPath.call(this, e),
				n = [].concat(t),
				r,
				i = this.options;
				r = t.length;
				var s = this.yAxis.getThreshold(i.threshold),
				o;
				r === 3 && n.push("L", t[1], t[2]);
				if (i.stacking && !this.closedStacks)
					for (r = e.length - 1; r >= 0; r--)
						o = d(e[r].yBottom, s), r < e.length - 1 && i.step && n.push(e[r + 1].plotX, o), n.push(e[r].plotX, o);
				else
					this.closeSegment(n, e, s);
				return this.areaPath = this.areaPath.concat(n),
				t
			},
			closeSegment : function (e, t, n) {
				e.push("L", t[t.length - 1].plotX, n, "L", t[0].plotX, n)
			},
			drawGraph : function () {
				this.areaPath = [],
				Tn.prototype.drawGraph.apply(this);
				var e = this,
				t = this.areaPath,
				n = this.options,
				r = n.negativeColor,
				i = n.negativeFillColor,
				s = [["area", this.color, n.fillColor]];
				(r || i) && s.push(["areaNeg", r, i]),
				un(s, function (r) {
					var i = r[0],
					s = e[i];
					s ? s.animate({
						d : t
					}) : e[i] = e.chart.renderer.path(t).attr({
							fill : d(r[2], yn(r[1]).setOpacity(d(n.fillOpacity, .75)).get()),
							zIndex : 0
						}).add(e.group)
				})
			},
			drawLegendSymbol : function (e, t) {
				t.legendSymbol = this.chart.renderer.rect(0, e.baseline - 11, e.options.symbolWidth, 12, 2).attr({
						zIndex : 3
					}).add(t.legendGroup)
			}
		}),
	en.area = nn,
	gn.spline = t(tn),
	En = g(Tn, {
			type : "spline",
			getPointSpline : function (e, t, n) {
				var r = t.plotX,
				i = t.plotY,
				s = e[n - 1],
				o = e[n + 1],
				u,
				a,
				f,
				l;
				if (s && o) {
					e = s.plotY,
					f = o.plotX;
					var o = o.plotY,
					c;
					u = (1.5 * r + s.plotX) / 2.5,
					a = (1.5 * i + e) / 2.5,
					f = (1.5 * r + f) / 2.5,
					l = (1.5 * i + o) / 2.5,
					c = (l - a) * (f - r) / (f - u) + i - l,
					a += c,
					l += c,
					a > e && a > i ? (a = et(e, i), l = 2 * i - a) : a < e && a < i && (a = tt(e, i), l = 2 * i - a),
					l > o && l > i ? (l = et(o, i), a = 2 * i - l) : l < o && l < i && (l = tt(o, i), a = 2 * i - l),
					t.rightContX = f,
					t.rightContY = l
				}
				return n ? (t = ["C", s.rightContX || s.plotX, s.rightContY || s.plotY, u || r, a || i, r, i], s.rightContX = s.rightContY = null) : t = ["M", r, i],
				t
			}
		}),
	en.spline = En,
	gn.areaspline = t(gn.area);
	var Nn = nn.prototype;
	En = g(En, {
			type : "areaspline",
			closedStacks : !0,
			getSegmentPath : Nn.getSegmentPath,
			closeSegment : Nn.closeSegment,
			drawGraph : Nn.drawGraph,
			drawLegendSymbol : Nn.drawLegendSymbol
		}),
	en.areaspline = En,
	gn.column = t(tn, {
			borderColor : "#FFFFFF",
			borderWidth : 1,
			borderRadius : 0,
			groupPadding : .2,
			marker : null,
			pointPadding : .1,
			minPointLength : 0,
			cropThreshold : 50,
			pointRange : null,
			states : {
				hover : {
					brightness : .1,
					shadow : !1
				},
				select : {
					color : "#C0C0C0",
					borderColor : "#000000",
					shadow : !1
				}
			},
			dataLabels : {
				align : null,
				verticalAlign : null,
				y : null
			},
			stickyTracking : !1,
			threshold : 0
		}),
	En = g(Tn, {
			type : "column",
			pointAttrToOptions : {
				stroke : "borderColor",
				"stroke-width" : "borderWidth",
				fill : "color",
				r : "borderRadius"
			},
			cropShoulder : 0,
			trackerGroups : ["group", "dataLabelsGroup"],
			negStacks : !0,
			init : function () {
				Tn.prototype.init.apply(this, arguments);
				var e = this,
				t = e.chart;
				t.hasRendered && un(t.series, function (t) {
					t.type === e.type && (t.isDirty = !0)
				})
			},
			getColumnMetrics : function () {
				var e = this,
				t = e.options,
				n = e.xAxis,
				r = e.yAxis,
				i = n.reversed,
				s,
				o = {},
				u,
				a = 0;
				t.grouping === !1 ? a = 1 : un(e.chart.series, function (t) {
						var n = t.options,
						i = t.yAxis;
						t.type === e.type && t.visible && r.len === i.len && r.pos === i.pos && (n.stacking ? (s = t.stackKey, o[s] === $ && (o[s] = a++), u = o[s]) : n.grouping !== !1 && (u = a++), t.columnIndex = u)
					});
				var n = tt(nt(n.transA) * (n.ordinalSlope || t.pointRange || n.closestPointRange || 1), n.len),
				f = n * t.groupPadding,
				l = (n - 2 * f) / a,
				h = t.pointWidth,
				t = c(h) ? (l - h) / 2 : l * t.pointPadding,
				h = d(h, l - 2 * t);
				return e.columnMetrics = {
					width : h,
					offset : t + (f + ((i ? a - (e.columnIndex || 0) : e.columnIndex) || 0) * l - n / 2) * (i ? -1 : 1)
				}
			},
			translate : function () {
				var e = this.chart,
				t = this.options,
				n = t.borderWidth,
				r = this.yAxis,
				i = this.translatedThreshold = r.getThreshold(t.threshold),
				s = d(t.minPointLength, 5),
				t = this.getColumnMetrics(),
				o = t.width,
				u = this.barW = Z(et(o, 1 + 2 * n)),
				a = this.pointXOffset = t.offset,
				f =  - (n % 2 ? .5 : 0),
				l = n % 2 ? .5 : 1;
				e.renderer.isVML && e.inverted && (l += 1),
				Tn.prototype.translate.apply(this),
				un(this.points, function (e) {
					var t = d(e.yBottom, i),
					n = tt(et(-999 - t, e.plotY), r.len + 999 + t),
					c = e.plotX + a,
					h = u,
					p = tt(n, t),
					v,
					n = et(n, t) - p;
					nt(n) < s && s && (n = s, p = G(nt(p - i) > s ? t - s : i - (r.translate(e.y, 0, 1, 0, 1) <= i ? s : 0))),
					e.barX = c,
					e.pointWidth = o,
					t = nt(c) < .5,
					h = G(c + h) + f,
					c = G(c) + f,
					h -= c,
					v = nt(p) < .5,
					n = G(p + n) + l,
					p = G(p) + l,
					n -= p,
					t && (c += 1, h -= 1),
					v && (p -= 1, n += 1),
					e.shapeType = "rect",
					e.shapeArgs = {
						x : c,
						y : p,
						width : h,
						height : n
					}
				})
			},
			getSymbol : Lt,
			drawLegendSymbol : nn.prototype.drawLegendSymbol,
			drawGraph : Lt,
			drawPoints : function () {
				var e = this,
				n = e.options,
				r = e.chart.renderer,
				i;
				un(e.points, function (s) {
					var o = s.plotY,
					u = s.graphic;
					o !== $ && !isNaN(o) && s.y !== null ? (i = s.shapeArgs, u ? (mn(u), u.animate(t(i))) : s.graphic = r[s.shapeType](i).attr(s.pointAttr[s.selected ? "select" : ""]).add(e.group).shadow(n.shadow, null, n.stacking && !n.borderRadius)) : u && (s.graphic = u.destroy())
				})
			},
			drawTracker : function () {
				var e = this,
				t = e.chart,
				n = t.pointer,
				r = e.options.cursor,
				i = r && {
					cursor : r
				},
				s = function (n) {
					var r = n.target,
					i;
					t.hoverSeries !== e && e.onMouseOver();
					for (; r && !i; )
						i = r.point, r = r.parentNode;
					i !== $ && i !== t.hoverPoint && i.onMouseOver(n)
				};
				un(e.points, function (e) {
					e.graphic && (e.graphic.element.point = e),
					e.dataLabel && (e.dataLabel.element.point = e)
				}),
				e._hasTracking || (un(e.trackerGroups, function (t) {
						e[t] && (e[t].addClass("highcharts-tracker").on("mouseover", s).on("mouseout", function (e) {
								n.onTrackerMouseOut(e)
							}).css(i), bt) && e[t].on("touchstart", s)
					}), e._hasTracking = !0)
			},
			alignDataLabel : function (e, n, r, i, s) {
				var o = this.chart,
				u = o.inverted,
				a = e.dlBox || e.shapeArgs,
				f = e.below || e.plotY > d(this.translatedThreshold, o.plotSizeY),
				l = d(r.inside, !!this.options.stacking);
				a && (i = t(a), u && (i = {
							x : o.plotWidth - i.y - i.height,
							y : o.plotHeight - i.x - i.width,
							width : i.height,
							height : i.width
						}), !l) && (u ? (i.x += f ? 0 : i.width, i.width = 0) : (i.y += f ? i.height : 0, i.height = 0)),
				r.align = d(r.align, !u || l ? "center" : f ? "right" : "left"),
				r.verticalAlign = d(r.verticalAlign, u || l ? "middle" : f ? "top" : "bottom"),
				Tn.prototype.alignDataLabel.call(this, e, n, r, i, s)
			},
			animate : function (e) {
				var t = this.yAxis,
				n = this.options,
				r = this.chart.inverted,
				i = {};
				vt && (e ? (i.scaleY = .001, e = tt(t.pos + t.len, et(t.pos, t.toPixels(n.threshold))), r ? i.translateX = e - t.len : i.translateY = e, this.group.attr(i)) : (i.scaleY = 1, i[r ? "translateX" : "translateY"] = t.pos, this.group.animate(i, this.options.animation), this.animate = null))
			},
			remove : function () {
				var e = this,
				t = e.chart;
				t.hasRendered && un(t.series, function (t) {
					t.type === e.type && (t.isDirty = !0)
				}),
				Tn.prototype.remove.apply(e, arguments)
			}
		}),
	en.column = En,
	gn.bar = t(gn.column),
	Nn = g(En, {
			type : "bar",
			inverted : !0
		}),
	en.bar = Nn,
	gn.scatter = t(tn, {
			lineWidth : 0,
			tooltip : {
				headerFormat : '<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',
				pointFormat : "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",
				followPointer : !0
			},
			stickyTracking : !1
		}),
	Nn = g(Tn, {
			type : "scatter",
			sorted : !1,
			requireSorting : !1,
			noSharedTooltip : !0,
			trackerGroups : ["markerGroup"],
			drawTracker : En.prototype.drawTracker,
			setTooltipPoints : Lt
		}),
	en.scatter = Nn,
	gn.pie = t(tn, {
			borderColor : "#FFFFFF",
			borderWidth : 1,
			center : [null, null],
			clip : !1,
			colorByPoint : !0,
			dataLabels : {
				distance : 30,
				enabled : !0,
				formatter : function () {
					return this.point.name
				}
			},
			ignoreHiddenPoint : !0,
			legendType : "point",
			marker : null,
			size : null,
			showInLegend : !1,
			slicedOffset : 10,
			states : {
				hover : {
					brightness : .1,
					shadow : !1
				}
			},
			stickyTracking : !1,
			tooltip : {
				followPointer : !0
			}
		}),
	tn = {
		type : "pie",
		isCartesian : !1,
		pointClass : g(xn, {
			init : function () {
				xn.prototype.init.apply(this, arguments);
				var t = this,
				n;
				return t.y < 0 && (t.y = null),
				e(t, {
					visible : t.visible !== !1,
					name : d(t.name, "Slice")
				}),
				n = function (e) {
					t.slice(e.type === "select")
				},
				cn(t, "select", n),
				cn(t, "unselect", n),
				t
			},
			setVisible : function (e) {
				var t = this,
				n = t.series,
				r = n.chart,
				i;
				t.visible = t.options.visible = e = e === $ ? !t.visible : e,
				n.options.data[on(t, n.data)] = t.options,
				i = e ? "show" : "hide",
				un(["graphic", "dataLabel", "connector", "shadowGroup"], function (e) {
					t[e] && t[e][i]()
				}),
				t.legendItem && r.legend.colorizeItem(t, e),
				!n.isDirty && n.options.ignoreHiddenPoint && (n.isDirty = !0, r.redraw())
			},
			slice : function (e, t, n) {
				var r = this.series;
				P(n, r.chart),
				d(t, !0),
				this.sliced = this.options.sliced = e = c(e) ? e : !this.sliced,
				r.options.data[on(this, r.data)] = this.options,
				e = e ? this.slicedTranslation : {
					translateX : 0,
					translateY : 0
				},
				this.graphic.animate(e),
				this.shadowGroup && this.shadowGroup.animate(e)
			}
		}),
		requireSorting : !1,
		noSharedTooltip : !0,
		trackerGroups : ["group", "dataLabelsGroup"],
		pointAttrToOptions : {
			stroke : "borderColor",
			"stroke-width" : "borderWidth",
			fill : "color"
		},
		getColor : Lt,
		animate : function (e) {
			var t = this,
			n = t.points,
			r = t.startAngleRad;
			e || (un(n, function (e) {
					var n = e.graphic,
					e = e.shapeArgs;
					n && (n.attr({
							r : t.center[3] / 2,
							start : r,
							end : r
						}), n.animate({
							r : e.r,
							start : e.start,
							end : e.end
						}, t.options.animation))
				}), t.animate = null)
		},
		setData : function (e, t) {
			Tn.prototype.setData.call(this, e, !1),
			this.processData(),
			this.generatePoints(),
			d(t, !0) && this.chart.redraw()
		},
		generatePoints : function () {
			var e,
			t = 0,
			n,
			r,
			i,
			s = this.options.ignoreHiddenPoint;
			Tn.prototype.generatePoints.call(this),
			n = this.points,
			r = n.length;
			for (e = 0; e < r; e++)
				i = n[e], t += s && !i.visible ? 0 : i.y;
			this.total = t;
			for (e = 0; e < r; e++)
				i = n[e], i.percentage = t > 0 ? i.y / t * 100 : 0, i.total = t
		},
		getCenter : function () {
			var e = this.options,
			t = this.chart,
			n = 2 * (e.slicedOffset || 0),
			i,
			s = t.plotWidth - 2 * n,
			o = t.plotHeight - 2 * n,
			t = e.center,
			e = [d(t[0], "50%"), d(t[1], "50%"), e.size || "100%", e.innerSize || 0],
			u = tt(s, o),
			a;
			return ln(e, function (e, t) {
				return a = /%$/.test(e),
				i = t < 2 || t === 2 && a,
				(a ? [s, o, u, u][t] * r(e) / 100 : e) + (i ? n : 0)
			})
		},
		translate : function (e) {
			this.generatePoints();
			var t = 0,
			n = this.options,
			r = n.slicedOffset,
			i = r + n.borderWidth,
			s,
			o,
			u,
			a = n.startAngle || 0,
			f = this.startAngleRad = st / 180 * (a - 90),
			a = (this.endAngleRad = st / 180 * ((n.endAngle || a + 360) - 90)) - f,
			l = this.points,
			c = n.dataLabels.distance,
			n = n.ignoreHiddenPoint,
			h,
			p = l.length,
			d;
			e || (this.center = e = this.getCenter()),
			this.getX = function (t, n) {
				return u = Q.asin((t - e[1]) / (e[2] / 2 + c)),
				e[0] + (n ? -1 : 1) * rt(u) * (e[2] / 2 + c)
			};
			for (h = 0; h < p; h++) {
				d = l[h],
				s = f + t * a;
				if (!n || d.visible)
					t += d.percentage / 100;
				o = f + t * a,
				d.shapeType = "arc",
				d.shapeArgs = {
					x : e[0],
					y : e[1],
					r : e[2] / 2,
					innerR : e[3] / 2,
					start : G(s * 1e3) / 1e3,
					end : G(o * 1e3) / 1e3
				},
				u = (o + s) / 2,
				u > .75 * a && (u -= 2 * st),
				d.slicedTranslation = {
					translateX : G(rt(u) * r),
					translateY : G(it(u) * r)
				},
				s = rt(u) * e[2] / 2,
				o = it(u) * e[2] / 2,
				d.tooltipPos = [e[0] + s * .7, e[1] + o * .7],
				d.half = u < -st / 2 || u > st / 2 ? 1 : 0,
				d.angle = u,
				i = tt(i, c / 2),
				d.labelPos = [e[0] + s + rt(u) * c, e[1] + o + it(u) * c, e[0] + s + rt(u) * i, e[1] + o + it(u) * i, e[0] + s, e[1] + o, c < 0 ? "center" : d.half ? "right" : "left", u]
			}
		},
		setTooltipPoints : Lt,
		drawGraph : null,
		drawPoints : function () {
			var t = this,
			n = t.chart.renderer,
			r,
			i,
			s = t.options.shadow,
			o,
			u;
			s && !t.shadowGroup && (t.shadowGroup = n.g("shadow").add(t.group)),
			un(t.points, function (a) {
				i = a.graphic,
				u = a.shapeArgs,
				o = a.shadowGroup,
				s && !o && (o = a.shadowGroup = n.g("shadow").add(t.shadowGroup)),
				r = a.sliced ? a.slicedTranslation : {
					translateX : 0,
					translateY : 0
				},
				o && o.attr(r),
				i ? i.animate(e(u, r)) : a.graphic = i = n.arc(u).setRadialReference(t.center).attr(a.pointAttr[a.selected ? "select" : ""]).attr({
						"stroke-linejoin" : "round"
					}).attr(r).add(t.group).shadow(s, o),
				a.visible === !1 && a.setVisible(!1)
			})
		},
		sortByAngle : function (e, t) {
			e.sort(function (e, n) {
				return e.angle !== void 0 && (n.angle - e.angle) * t
			})
		},
		drawDataLabels : function () {
			var e = this,
			t = e.data,
			n,
			r = e.chart,
			i = e.options.dataLabels,
			s = d(i.connectorPadding, 10),
			o = d(i.connectorWidth, 1),
			u = r.plotWidth,
			r = r.plotHeight,
			a,
			f,
			l = d(i.softConnector, !0),
			c = i.distance,
			h = e.center,
			p = h[2] / 2,
			v = h[1],
			m = c > 0,
			g,
			y,
			b,
			w,
			E = [[], []],
			S,
			x,
			T,
			N,
			C,
			k = [0, 0, 0, 0],
			L = function (e, t) {
				return t.y - e.y
			};
			if (e.visible && (i.enabled || e._hasPointLabels)) {
				Tn.prototype.drawDataLabels.apply(e),
				un(t, function (e) {
					e.dataLabel && E[e.half].push(e)
				});
				for (N = 0; !w && t[N]; )
					w = t[N] && t[N].dataLabel && (t[N].dataLabel.getBBox().height || 21), N++;
				for (N = 2; N--; ) {
					var t = [],
					O = [],
					M = E[N],
					_ = M.length,
					D;
					e.sortByAngle(M, N - .5);
					if (c > 0) {
						for (C = v - p - c; C <= v + p + c; C += w)
							t.push(C);
						y = t.length;
						if (_ > y) {
							n = [].concat(M),
							n.sort(L);
							for (C = _; C--; )
								n[C].rank = C;
							for (C = _; C--; )
								M[C].rank >= y && M.splice(C, 1);
							_ = M.length
						}
						for (C = 0; C < _; C++) {
							n = M[C],
							b = n.labelPos,
							n = 9999;
							var P,
							H;
							for (H = 0; H < y; H++)
								P = nt(t[H] - b[1]), P < n && (n = P, D = H);
							if (D < C && t[C] !== null)
								D = C;
							else
								for (y < _ - C + D && t[C] !== null && (D = y - _ + C); t[D] === null; )
									D++;
							O.push({
								i : D,
								y : t[D]
							}),
							t[D] = null
						}
						O.sort(L)
					}
					for (C = 0; C < _; C++) {
						n = M[C],
						b = n.labelPos,
						g = n.dataLabel,
						T = n.visible === !1 ? "hidden" : "visible",
						n = b[1];
						if (c > 0) {
							if (y = O.pop(), D = y.i, x = y.y, n > x && t[D + 1] !== null || n < x && t[D - 1] !== null)
								x = n
						} else
							x = n;
						S = i.justify ? h[0] + (N ? -1 : 1) * (p + c) : e.getX(D === 0 || D === t.length - 1 ? n : x, N),
						g._attr = {
							visibility : T,
							align : b[6]
						},
						g._pos = {
							x : S + i.x + ({
								left : s,
								right : -s
							}
								[b[6]] || 0),
							y : x + i.y - 10
						},
						g.connX = S,
						g.connY = x,
						this.options.size === null && (y = g.width, S - y < s ? k[3] = et(G(y - S + s), k[3]) : S + y > u - s && (k[1] = et(G(S + y - u + s), k[1])), x - w / 2 < 0 ? k[0] = et(G(-x + w / 2), k[0]) : x + w / 2 > r && (k[2] = et(G(x + w / 2 - r), k[2])))
					}
				}
				if (A(k) === 0 || this.verifyDataLabelOverflow(k))
					this.placeDataLabels(), m && o && un(this.points, function (t) {
						a = t.connector,
						b = t.labelPos,
						(g = t.dataLabel) && g._pos ? (T = g._attr.visibility, S = g.connX, x = g.connY, f = l ? ["M", S + (b[6] === "left" ? 5 : -5), x, "C", S, x, 2 * b[2] - b[4], 2 * b[3] - b[5], b[2], b[3], "L", b[4], b[5]] : ["M", S + (b[6] === "left" ? 5 : -5), x, "L", b[2], b[3], "L", b[4], b[5]], a ? (a.animate({
									d : f
								}), a.attr("visibility", T)) : t.connector = a = e.chart.renderer.path(f).attr({
									"stroke-width" : o,
									stroke : i.connectorColor || t.color || "#606060",
									visibility : T
								}).add(e.group)) : a && (t.connector = a.destroy())
					})
			}
		},
		verifyDataLabelOverflow : function (e) {
			var t = this.center,
			n = this.options,
			r = n.center,
			i = n = n.minSize || 80,
			s;
			return r[0] !== null ? i = et(t[2] - et(e[1], e[3]), n) : (i = et(t[2] - e[1] - e[3], n), t[0] += (e[3] - e[1]) / 2),
			r[1] !== null ? i = et(tt(i, t[2] - et(e[0], e[2])), n) : (i = et(tt(i, t[2] - e[0] - e[2]), n), t[1] += (e[0] - e[2]) / 2),
			i < t[2] ? (t[2] = i, this.translate(t), un(this.points, function (e) {
					e.dataLabel && (e.dataLabel._pos = null)
				}), this.drawDataLabels()) : s = !0,
			s
		},
		placeDataLabels : function () {
			un(this.points, function (e) {
				var e = e.dataLabel,
				t;
				e && ((t = e._pos) ? (e.attr(e._attr), e[e.moved ? "animate" : "attr"](t), e.moved = !0) : e && e.attr({
						y : -999
					}))
			})
		},
		alignDataLabel : Lt,
		drawTracker : En.prototype.drawTracker,
		drawLegendSymbol : nn.prototype.drawLegendSymbol,
		getSymbol : Lt
	},
	tn = g(Tn, tn),
	en.pie = tn;
	var Cn = Tn.prototype,
	kn = Cn.processData,
	Ln = Cn.generatePoints,
	An = Cn.destroy,
	On = Cn.tooltipHeaderFormatter,
	Mn = {
		approximation : "average",
		groupPixelWidth : 2,
		dateTimeLabelFormats : n(Dt, ["%A, %b %e, %H:%M:%S.%L", "%A, %b %e, %H:%M:%S.%L", "-%H:%M:%S.%L"], Pt, ["%A, %b %e, %H:%M:%S", "%A, %b %e, %H:%M:%S", "-%H:%M:%S"], Ht, ["%A, %b %e, %H:%M", "%A, %b %e, %H:%M", "-%H:%M"], Bt, ["%A, %b %e, %H:%M", "%A, %b %e, %H:%M", "-%H:%M"], jt, ["%A, %b %e, %Y", "%A, %b %e", "-%A, %b %e, %Y"], Ft, ["Week from %A, %b %e, %Y", "%A, %b %e", "-%A, %b %e, %Y"], It, ["%B %Y", "%B", "-%B %Y"], qt, ["%Y", "%Y", "-%Y"])
	},
	_n = {
		line : {},
		spline : {},
		area : {},
		areaspline : {},
		column : {
			approximation : "sum",
			groupPixelWidth : 10
		},
		arearange : {
			approximation : "range"
		},
		areasplinerange : {
			approximation : "range"
		},
		columnrange : {
			approximation : "range",
			groupPixelWidth : 10
		},
		candlestick : {
			approximation : "ohlc",
			groupPixelWidth : 10
		},
		ohlc : {
			approximation : "ohlc",
			groupPixelWidth : 5
		}
	},
	Dn = [[Dt, [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], [Pt, [1, 2, 5, 10, 15, 30]], [Ht, [1, 2, 5, 10, 15, 30]], [Bt, [1, 2, 3, 4, 6, 8, 12]], [jt, [1]], [Ft, [1]], [It, [1, 3, 6]], [qt, null]],
	Pn = {
		sum : function (e) {
			var t = e.length,
			n;
			if (!t && e.hasNulls)
				n = null;
			else if (t)
				for (n = 0; t--; )
					n += e[t];
			return n
		},
		average : function (e) {
			var t = e.length,
			e = Pn.sum(e);
			return typeof e == "number" && t && (e /= t),
			e
		},
		open : function (e) {
			return e.length ? e[0] : e.hasNulls ? null : $
		},
		high : function (e) {
			return e.length ? A(e) : e.hasNulls ? null : $
		},
		low : function (e) {
			return e.length ? L(e) : e.hasNulls ? null : $
		},
		close : function (e) {
			return e.length ? e[e.length - 1] : e.hasNulls ? null : $
		},
		ohlc : function (e, t, n, r) {
			e = Pn.open(e),
			t = Pn.high(t),
			n = Pn.low(n),
			r = Pn.close(r);
			if (typeof e == "number" || typeof t == "number" || typeof n == "number" || typeof r == "number")
				return [e, t, n, r]
		},
		range : function (e, t) {
			e = Pn.low(e),
			t = Pn.high(t);
			if (typeof e == "number" || typeof t == "number")
				return [e, t]
		}
	};
	Cn.groupData = function (e, t, n, r) {
		var i = this.data,
		s = this.options.data,
		o = [],
		u = [],
		a = e.length,
		f,
		l,
		c = !!t,
		h = [[], [], [], []],
		r = typeof r == "function" ? r : Pn[r],
		p = this.pointArrayMap,
		d = p && p.length,
		v;
		for (v = 0; v <= a; v++) {
			for (; n[1] !== $ && e[v] >= n[1] || v === a; )
				if (f = n.shift(), l = r.apply(0, h), l !== $ && (o.push(f), u.push(l)), h[0] = [], h[1] = [], h[2] = [], h[3] = [], v === a)
					break;
			if (v === a)
				break;
			if (p) {
				f = this.cropStart + v,
				f = i && i[f] || this.pointClass.prototype.applyOptions.apply({
						series : this
					}, [s[f]]);
				var m;
				for (l = 0; l < d; l++)
					(m = f[p[l]], typeof m == "number") ? h[l].push(m) : m === null && (h[l].hasNulls = !0)
			} else (f = c ? t[v] : null, typeof f == "number") ? h[0].push(f) : f === null && (h[0].hasNulls = !0)
		}
		return [o, u]
	},
	Cn.processData = function () {
		var e = this.chart,
		t = this.options,
		n = t.dataGrouping,
		r = n && d(n.enabled, e.options._stock);
		this.forceCrop = r,
		this.hasGroupedData = !1;
		if (kn.apply(this, arguments) !== !1 && r) {
			this.destroyGroupedData();
			var i = this.processedXData,
			s = this.processedYData,
			o = e.plotSizeX,
			u = this.xAxis,
			a = u.getGroupPixelWidth && u.getGroupPixelWidth(),
			e = this.pointRange;
			if (a) {
				this.hasGroupedData = !0,
				this.points = null;
				var r = u.getExtremes(),
				e = r.min,
				r = r.max,
				f = u.getGroupIntervalFactor && u.getGroupIntervalFactor(e, r, i) || 1,
				o = a * (r - e) / o * f,
				u = (u.getNonLinearTimeTicks || N)(T(o, n.units || Dn), e, r, null, i, this.closestPointRange),
				s = Cn.groupData.apply(this, [i, s, u, n.approximation]),
				i = s[0],
				s = s[1];
				if (n.smoothed) {
					n = i.length - 1;
					for (i[n] = r; n-- && n > 0; )
						i[n] += o / 2;
					i[0] = e
				}
				this.currentDataGrouping = u.info,
				t.pointRange === null && (this.pointRange = u.info.totalRange),
				this.closestPointRange = u.info.totalRange,
				this.processedXData = i,
				this.processedYData = s
			} else
				this.currentDataGrouping = null, this.pointRange = e
		}
	},
	Cn.destroyGroupedData = function () {
		var e = this.groupedData;
		un(e || [], function (t, n) {
			t && (e[n] = t.destroy ? t.destroy() : null)
		}),
		this.groupedData = null
	},
	Cn.generatePoints = function () {
		Ln.apply(this),
		this.destroyGroupedData(),
		this.groupedData = this.hasGroupedData ? this.points : null
	},
	Cn.tooltipHeaderFormatter = function (e) {
		var t = this.tooltipOptions,
		n = this.options.dataGrouping,
		r = t.xDateFormat,
		i,
		s = this.xAxis,
		o,
		a;
		if (s && s.options.type === "datetime" && n && u(e.key)) {
			o = this.currentDataGrouping,
			n = n.dateTimeLabelFormats;
			if (o)
				s = n[o.unitName], o.count === 1 ? r = s[0] : (r = s[1], i = s[2]);
			else if (!r && n)
				for (a in kt)
					if (kt[a] >= s.closestPointRange) {
						r = n[a][0];
						break
					}
			r = Tt(r, e.key),
			i && (r += Tt(i, e.key + o.totalRange - 1)),
			e = t.headerFormat.replace("{point.key}", r)
		} else
			e = On.call(this, e);
		return e
	},
	Cn.destroy = function () {
		for (var e = this.groupedData || [], t = e.length; t--; )
			e[t] && e[t].destroy();
		An.apply(this)
	},
	w(Cn, "setOptions", function (e, n) {
		var r = e.call(this, n),
		i = this.type,
		s = this.chart.options.plotOptions,
		o = gn[i].dataGrouping;
		return _n[i] && (o || (o = t(Mn, _n[i])), r.dataGrouping = t(o, s.series && s.series.dataGrouping, s[i].dataGrouping, n.dataGrouping)),
		this.chart.options._stock && (this.requireSorting = !0),
		r
	}),
	q.prototype.getGroupPixelWidth = function () {
		var e = this.series,
		t = e.length,
		n,
		r = 0,
		i = !1,
		s;
		for (n = t; n--; )
			(s = e[n].options.dataGrouping) && (r = et(r, s.groupPixelWidth));
		for (n = t; n--; )
			if (s = e[n].options.dataGrouping)
				if (t = (e[n].processedXData || e[n].data).length, e[n].hasGroupedData || t > this.chart.plotSizeX / r || t && s.forced)
					i = !0;
		return i ? r : 0
	},
	gn.ohlc = t(gn.column, {
			lineWidth : 1,
			tooltip : {
				pointFormat : '<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'
			},
			states : {
				hover : {
					lineWidth : 3
				}
			},
			threshold : null
		}),
	tn = g(en.column, {
			type : "ohlc",
			pointArrayMap : ["open", "high", "low", "close"],
			toYData : function (e) {
				return [e.open, e.high, e.low, e.close]
			},
			pointValKey : "high",
			pointAttrToOptions : {
				stroke : "color",
				"stroke-width" : "lineWidth"
			},
			upColorProp : "stroke",
			getAttribs : function () {
				en.column.prototype.getAttribs.apply(this, arguments);
				var e = this.options,
				n = e.states,
				e = e.upColor || this.color,
				r = t(this.pointAttr),
				i = this.upColorProp;
				r[""][i] = e,
				r.hover[i] = n.hover.upColor || e,
				r.select[i] = n.select.upColor || e,
				un(this.points, function (e) {
					e.open < e.close && (e.pointAttr = r)
				})
			},
			translate : function () {
				var e = this.yAxis;
				en.column.prototype.translate.apply(this),
				un(this.points, function (t) {
					t.open !== null && (t.plotOpen = e.translate(t.open, 0, 1, 0, 1)),
					t.close !== null && (t.plotClose = e.translate(t.close, 0, 1, 0, 1))
				})
			},
			drawPoints : function () {
				var e = this,
				t = e.chart,
				n,
				r,
				i,
				s,
				o,
				u,
				a,
				f;
				un(e.points, function (l) {
					l.plotY !== $ && (a = l.graphic, n = l.pointAttr[l.selected ? "selected" : ""], s = n["stroke-width"] % 2 / 2, f = G(l.plotX) + s, o = G(l.shapeArgs.width / 2), u = ["M", f, G(l.yBottom), "L", f, G(l.plotY)], l.open !== null && (r = G(l.plotOpen) + s, u.push("M", f, r, "L", f - o, r)), l.close !== null && (i = G(l.plotClose) + s, u.push("M", f, i, "L", f + o, i)), a ? a.animate({
							d : u
						}) : l.graphic = t.renderer.path(u).attr(n).add(e.group))
				})
			},
			animate : null
		}),
	en.ohlc = tn,
	gn.candlestick = t(gn.column, {
			lineColor : "black",
			lineWidth : 1,
			states : {
				hover : {
					lineWidth : 2
				}
			},
			tooltip : gn.ohlc.tooltip,
			threshold : null,
			upColor : "white"
		}),
	tn = g(tn, {
			type : "candlestick",
			pointAttrToOptions : {
				fill : "color",
				stroke : "lineColor",
				"stroke-width" : "lineWidth"
			},
			upColorProp : "fill",
			getAttribs : function () {
				en.ohlc.prototype.getAttribs.apply(this, arguments);
				var e = this.options,
				t = e.states,
				n = e.upLineColor || e.lineColor,
				r = t.hover.upLineColor || n,
				i = t.select.upLineColor || n;
				un(this.points, function (e) {
					e.open < e.close && (e.pointAttr[""].stroke = n, e.pointAttr.hover.stroke = r, e.pointAttr.select.stroke = i)
				})
			},
			drawPoints : function () {
				var e = this,
				t = e.chart,
				n,
				r,
				i,
				s,
				o,
				u,
				a,
				f,
				l,
				c,
				h,
				p;
				un(e.points, function (d) {
					c = d.graphic,
					d.plotY !== $ && (n = d.pointAttr[d.selected ? "selected" : ""], f = n["stroke-width"] % 2 / 2, l = G(d.plotX) + f, r = d.plotOpen, i = d.plotClose, s = Q.min(r, i), o = Q.max(r, i), p = G(d.shapeArgs.width / 2), u = G(s) !== G(d.plotY), a = o !== d.yBottom, s = G(s) + f, o = G(o) + f, h = ["M", l - p, o, "L", l - p, s, "L", l + p, s, "L", l + p, o, "L", l - p, o, "M", l, s, "L", l, u ? G(d.plotY) : s, "M", l, o, "L", l, a ? G(d.yBottom) : o, "Z"], c ? c.animate({
							d : h
						}) : d.graphic = t.renderer.path(h).attr(n).add(e.group).shadow(e.options.shadow))
				})
			}
		}),
	en.candlestick = tn;
	var Hn = bn.prototype.symbols;
	gn.flags = t(gn.column, {
			dataGrouping : null,
			fillColor : "white",
			lineWidth : 1,
			pointRange : 0,
			shape : "flag",
			stackDistance : 12,
			states : {
				hover : {
					lineColor : "black",
					fillColor : "#FCFFC5"
				}
			},
			style : {
				fontSize : "11px",
				fontWeight : "bold",
				textAlign : "center"
			},
			tooltip : {
				pointFormat : "{point.text}<br/>"
			},
			threshold : null,
			y : -30
		}),
	en.flags = g(en.column, {
			type : "flags",
			sorted : !1,
			noSharedTooltip : !0,
			takeOrdinalPosition : !1,
			forceCrop : !0,
			init : Tn.prototype.init,
			pointAttrToOptions : {
				fill : "fillColor",
				stroke : "color",
				"stroke-width" : "lineWidth",
				r : "radius"
			},
			translate : function () {
				en.column.prototype.translate.apply(this);
				var e = this.chart,
				t = this.points,
				n = t.length - 1,
				r,
				i,
				s = this.options.onSeries,
				s = (r = s && e.get(s)) && r.options.step,
				o = r && r.points,
				u = o && o.length,
				a = this.xAxis,
				f = a.getExtremes(),
				l,
				c,
				h;
				if (r && r.visible && u) {
					c = o[u - 1].x;
					for (t.sort(function (e, t) {
							return e.x - t.x
						}); u-- && t[n]; )
						if (r = t[n], l = o[u], l.x <= r.x && l.plotY !== $) {
							r.x <= c && (r.plotY = l.plotY, l.x < r.x && !s && (h = o[u + 1]) && h.plotY !== $ && (r.plotY += (r.x - l.x) / (h.x - l.x) * (h.plotY - l.plotY))),
							n--,
							u++;
							if (n < 0)
								break
						}
				}
				un(t, function (n, r) {
					n.plotY === $ && (n.x >= f.min && n.x <= f.max ? n.plotY = e.chartHeight - a.bottom - (a.opposite ? a.height : 0) + a.offset - e.plotTop : n.shapeArgs = {}),
					(i = t[r - 1]) && i.plotX === n.plotX && (i.stackIndex === $ && (i.stackIndex = 0), n.stackIndex = i.stackIndex + 1)
				})
			},
			drawPoints : function () {
				var e,
				n = this.points,
				r = this.chart.renderer,
				i,
				s,
				o = this.options,
				u = o.y,
				a,
				f,
				l,
				c,
				h = o.lineWidth % 2 / 2,
				p,
				d;
				for (f = n.length; f--; )
					(l = n[f], i = l.plotX + h, e = l.stackIndex, a = l.options.shape || o.shape, s = l.plotY, s !== $ && (s = l.plotY + u + h - (e !== $ && e * o.stackDistance)), p = e ? $ : l.plotX + h, d = e ? $ : l.plotY, c = l.graphic, s !== $ && i >= 0 && i < this.xAxis.len) ? (e = l.pointAttr[l.selected ? "select" : ""], c ? c.attr({
							x : i,
							y : s,
							r : e.r,
							anchorX : p,
							anchorY : d
						}) : c = l.graphic = r.label(l.options.title || o.title || "A", i, s, a, p, d, o.useHTML).css(t(o.style, l.style)).attr(e).attr({
								align : a === "flag" ? "left" : "center",
								width : o.width,
								height : o.height
							}).add(this.group).shadow(o.shadow), a = c.box, a.getBBox(), l.tooltipPos = [i, s]) : c && (l.graphic = c.destroy())
			},
			drawTracker : function () {
				var e = this.points;
				en.column.prototype.drawTracker.apply(this),
				un(e, function (t) {
					var n = t.graphic;
					n && cn(n.element, "mouseover", function () {
						t.stackIndex > 0 && !t.raised && (t._y = n.y, n.attr({
								y : t._y - 8
							}), t.raised = !0),
						un(e, function (e) {
							e !== t && e.raised && e.graphic && (e.graphic.attr({
									y : e._y
								}), e.raised = !1)
						})
					})
				})
			},
			animate : Lt
		}),
	Hn.flag = function (e, t, n, r, i) {
		var s = i && i.anchorX || e,
		i = i && i.anchorY || t;
		return ["M", s, i, "L", e, t + r, e, t, e + n, t, e + n, t + r, e, t + r, "M", s, i, "Z"]
	},
	un(["circle", "square"], function (e) {
		Hn[e + "pin"] = function (t, n, r, i, s) {
			var o = s && s.anchorX,
			s = s && s.anchorY,
			t = Hn[e](t, n, r, i);
			return o && s && t.push("M", o, n > s ? n : n + i, "L", o, s),
			t
		}
	}),
	yt === wn && un(["flag", "circlepin", "squarepin"], function (e) {
		wn.prototype.symbols[e] = Hn[e]
	}),
	tn = n("linearGradient", {
			x1 : 0,
			y1 : 0,
			x2 : 0,
			y2 : 1
		}, "stops", [[0, "#FFF"], [1, "#CCC"]]),
	nn = [].concat(Dn),
	nn[4] = [jt, [1, 2, 3, 4]],
	nn[5] = [Ft, [1, 2, 3]],
	e(xt, {
		navigator : {
			handles : {
				backgroundColor : "#FFF",
				borderColor : "#666"
			},
			height : 40,
			margin : 10,
			maskFill : "rgba(255, 255, 255, 0.75)",
			outlineColor : "#444",
			outlineWidth : 1,
			series : {
				type : "areaspline",
				color : "#4572A7",
				compare : null,
				fillOpacity : .4,
				dataGrouping : {
					approximation : "average",
					groupPixelWidth : 2,
					smoothed : !0,
					units : nn
				},
				dataLabels : {
					enabled : !1,
					zIndex : 2
				},
				id : "highcharts-navigator-series",
				lineColor : "#4572A7",
				lineWidth : 1,
				marker : {
					enabled : !1
				},
				pointRange : 0,
				shadow : !1,
				threshold : null
			},
			xAxis : {
				tickWidth : 0,
				lineWidth : 0,
				gridLineWidth : 1,
				tickPixelInterval : 200,
				labels : {
					align : "left",
					x : 3,
					y : -4
				}
			},
			yAxis : {
				gridLineWidth : 0,
				startOnTick : !1,
				endOnTick : !1,
				minPadding : .1,
				maxPadding : .1,
				labels : {
					enabled : !1
				},
				title : {
					text : null
				},
				tickWidth : 0
			}
		},
		scrollbar : {
			height : pt ? 20 : 14,
			barBackgroundColor : tn,
			barBorderRadius : 2,
			barBorderWidth : 1,
			barBorderColor : "#666",
			buttonArrowColor : "#666",
			buttonBackgroundColor : tn,
			buttonBorderColor : "#666",
			buttonBorderRadius : 2,
			buttonBorderWidth : 1,
			minWidth : 6,
			rifleColor : "#666",
			trackBackgroundColor : n("linearGradient", {
				x1 : 0,
				y1 : 0,
				x2 : 0,
				y2 : 1
			}, "stops", [[0, "#EEE"], [1, "#FFF"]]),
			trackBorderColor : "#CCC",
			trackBorderWidth : 1,
			liveRedraw : vt && !pt
		}
	}),
	X.prototype = {
		drawHandle : function (e, t) {
			var n = this.chart,
			r = n.renderer,
			i = this.elementsToDestroy,
			s = this.handles,
			o = this.navigatorOptions.handles,
			o = {
				fill : o.backgroundColor,
				stroke : o.borderColor,
				"stroke-width" : 1
			},
			u;
			this.rendered || (s[t] = r.g().css({
						cursor : "e-resize"
					}).attr({
						zIndex : 4 - t
					}).add(), u = r.rect(-4.5, 0, 9, 16, 3, 1).attr(o).add(s[t]), i.push(u), u = r.path(["M", -1.5, 4, "L", -1.5, 12, "M", .5, 4, "L", .5, 12]).attr(o).add(s[t]), i.push(u)),
			s[t][n.isResizing ? "animate" : "attr"]({
				translateX : this.scrollerLeft + this.scrollbarHeight + parseInt(e, 10),
				translateY : this.top + this.height / 2 - 8
			})
		},
		drawScrollbarButton : function (e) {
			var t = this.chart.renderer,
			n = this.elementsToDestroy,
			r = this.scrollbarButtons,
			i = this.scrollbarHeight,
			s = this.scrollbarOptions,
			o;
			this.rendered || (r[e] = t.g().add(this.scrollbarGroup), o = t.rect(-0.5, -0.5, i + 1, i + 1, s.buttonBorderRadius, s.buttonBorderWidth).attr({
						stroke : s.buttonBorderColor,
						"stroke-width" : s.buttonBorderWidth,
						fill : s.buttonBackgroundColor
					}).add(r[e]), n.push(o), o = t.path(["M", i / 2 + (e ? -1 : 1), i / 2 - 3, "L", i / 2 + (e ? -1 : 1), i / 2 + 3, i / 2 + (e ? 2 : -2), i / 2]).attr({
						fill : s.buttonArrowColor
					}).add(r[e]), n.push(o)),
			e && r[e].attr({
				translateX : this.scrollerWidth - i
			})
		},
		render : function (e, t, n, i) {
			var s = this.chart,
			o = s.renderer,
			u,
			a,
			f,
			l,
			c = this.scrollbarGroup,
			h = this.navigatorGroup,
			p = this.scrollbar,
			h = this.xAxis,
			v = this.scrollbarTrack,
			m = this.scrollbarHeight,
			g = this.scrollbarEnabled,
			y = this.navigatorOptions,
			b = this.scrollbarOptions,
			w = b.minWidth,
			E = this.height,
			S = this.top,
			x = this.navigatorEnabled,
			T = y.outlineWidth,
			N = T / 2,
			C = 0,
			k = this.outlineHeight,
			L = b.barBorderRadius,
			A = b.barBorderWidth,
			O = S + N,
			M;
			if (!isNaN(e)) {
				this.navigatorLeft = u = d(h.left, s.plotLeft + m),
				this.navigatorWidth = a = d(h.len, s.plotWidth - 2 * m),
				this.scrollerLeft = f = u - m,
				this.scrollerWidth = l = l = a + 2 * m,
				h.getExtremes && (M = this.getUnionExtremes(!0)) && (M.dataMin !== h.min || M.dataMax !== h.max) && h.setExtremes(M.dataMin, M.dataMax, !0, !1),
				n = d(n, h.translate(e)),
				i = d(i, h.translate(t));
				if (isNaN(n) || nt(n) === Infinity)
					n = 0, i = l;
				this.zoomedMax = e = tt(r(et(n, i)), a),
				this.zoomedMin = i = et(this.fixedWidth ? e - this.fixedWidth : r(tt(n, i)), 0),
				this.range = n = e - i,
				this.rendered || (x && (this.navigatorGroup = h = o.g("navigator").attr({
								zIndex : 3
							}).add(), this.leftShade = o.rect().attr({
								fill : y.maskFill
							}).add(h), this.rightShade = o.rect().attr({
								fill : y.maskFill
							}).add(h), this.outline = o.path().attr({
								"stroke-width" : T,
								stroke : y.outlineColor
							}).add(h)), g && (this.scrollbarGroup = c = o.g("scrollbar").add(), p = b.trackBorderWidth, this.scrollbarTrack = v = o.rect().attr({
								y : -p % 2 / 2,
								fill : b.trackBackgroundColor,
								stroke : b.trackBorderColor,
								"stroke-width" : p,
								r : b.trackBorderRadius || 0,
								height : m
							}).add(c), this.scrollbar = p = o.rect().attr({
								y : -A % 2 / 2,
								height : m,
								fill : b.barBackgroundColor,
								stroke : b.barBorderColor,
								"stroke-width" : A,
								r : L
							}).add(c), this.scrollbarRifles = o.path().attr({
								stroke : b.rifleColor,
								"stroke-width" : 1
							}).add(c))),
				s = s.isResizing ? "animate" : "attr",
				x && (this.leftShade[s]({
						x : u,
						y : S,
						width : i,
						height : E
					}), this.rightShade[s]({
						x : u + e,
						y : S,
						width : a - e,
						height : E
					}), this.outline[s]({
						d : ["M", f, O, "L", u + i + N, O, u + i + N, O + k - m, "M", u + e - N, O + k - m, "L", u + e - N, O, f + l, O]
					}), this.drawHandle(i + N, 0), this.drawHandle(e + N, 1)),
				g && c && (this.drawScrollbarButton(0), this.drawScrollbarButton(1), c[s]({
						translateX : f,
						translateY : G(O + E)
					}), v[s]({
						width : l
					}), u = m + i, a = n - A, a < w && (C = (w - a) / 2, a = w, u -= C), this.scrollbarPad = C, p[s]({
						x : Y(u) + A % 2 / 2,
						width : a
					}), w = m + i + n / 2 - .5, this.scrollbarRifles.attr({
						visibility : n > 12 ? "visible" : "hidden"
					})[s]({
						d : ["M", w - 3, m / 4, "L", w - 3, 2 * m / 3, "M", w, m / 4, "L", w, 2 * m / 3, "M", w + 3, m / 4, "L", w + 3, 2 * m / 3]
					})),
				this.scrollbarPad = C,
				this.rendered = !0
			}
		},
		addEvents : function () {
			var e = this.chart.container,
			t = this.mouseDownHandler,
			n = this.mouseMoveHandler,
			r = this.mouseUpHandler,
			i;
			i = [[e, "mousedown", t], [e, "mousemove", n], [document, "mouseup", r]],
			bt && i.push([e, "touchstart", t], [e, "touchmove", n], [document, "touchend", r]),
			un(i, function (e) {
				cn.apply(null, e)
			}),
			this._events = i
		},
		removeEvents : function () {
			un(this._events, function (e) {
				hn.apply(null, e)
			}),
			this._events = $,
			this.navigatorEnabled && this.baseSeries && hn(this.baseSeries, "updatedData", this.updatedDataHandler)
		},
		init : function () {
			var e = this,
			n = e.chart,
			r,
			i,
			s = e.scrollbarHeight,
			o = e.navigatorOptions,
			u = e.height,
			a = e.top,
			f,
			l,
			c = document.body.style,
			h,
			p = e.baseSeries;
			e.mouseDownHandler = function (t) {
				var t = n.pointer.normalize(t),
				i = e.zoomedMin,
				s = e.zoomedMax,
				o = e.top,
				a = e.scrollbarHeight,
				l = e.scrollerLeft,
				p = e.scrollerWidth,
				d = e.navigatorLeft,
				v = e.navigatorWidth,
				m = e.scrollbarPad,
				g = e.range,
				y = t.chartX,
				b = t.chartY,
				t = n.xAxis[0],
				w = pt ? 10 : 7;
				b > o && b < o + u + a && ((o = !e.scrollbarEnabled || b < o + u) && Q.abs(y - i - d) < w ? (e.grabbedLeft = !0, e.otherHandlePos = s, e.fixedExtreme = t.max, n.fixedRange = null) : o && Q.abs(y - s - d) < w ? (e.grabbedRight = !0, e.otherHandlePos = i, e.fixedExtreme = t.min, n.fixedRange = null) : y > d + i - m && y < d + s + m ? (e.grabbedCenter = y, e.fixedWidth = g, n.renderer.isSVG && (h = c.cursor, c.cursor = "ew-resize"), f = y - i) : y > l && y < l + p && (s = o ? y - d - g / 2 : y < d ? i - et(tt(10, g), 1) : y > l + p - a ? i + et(tt(10, g), 1) : y < d + i ? i - g : s, s < 0 ? s = 0 : s + g > v && (s = v - g), s !== i) && (e.fixedWidth = g, i = r.toFixedRange(s, s + g), t.setExtremes(i.min, i.max, !0, !1, {
							trigger : "navigator"
						})))
			},
			e.mouseMoveHandler = function (t) {
				var r = e.scrollbarHeight,
				i = e.navigatorLeft,
				s = e.navigatorWidth,
				o = e.scrollerLeft,
				u = e.scrollerWidth,
				a = e.range,
				c;
				t.pageX !== 0 && (t = n.pointer.normalize(t), c = t.chartX, c < i ? c = i : c > o + u - r && (c = o + u - r), e.grabbedLeft ? (l = !0, e.render(0, 0, c - i, e.otherHandlePos)) : e.grabbedRight ? (l = !0, e.render(0, 0, e.otherHandlePos, c - i)) : e.grabbedCenter && (l = !0, c < f ? c = f : c > s + f - a && (c = s + f - a), e.render(0, 0, c - f, c - f + a)), l && e.scrollbarOptions.liveRedraw && setTimeout(function () {
						e.mouseUpHandler(t)
					}, 0))
			},
			e.mouseUpHandler = function (t) {
				var i,
				s;
				l && (e.zoomedMin === e.otherHandlePos ? i = e.fixedExtreme : e.zoomedMax === e.otherHandlePos && (s = e.fixedExtreme), i = r.toFixedRange(e.zoomedMin, e.zoomedMax, i, s), n.xAxis[0].setExtremes(i.min, i.max, !0, !1, {
						trigger : "navigator",
						triggerOp : "navigator-drag",
						DOMEvent : t
					})),
				t.type !== "mousemove" && (e.grabbedLeft = e.grabbedRight = e.grabbedCenter = e.fixedWidth = e.fixedExtreme = e.otherHandlePos = l = f = null, c.cursor = h || "")
			};
			var v = n.xAxis.length,
			m = n.yAxis.length;
			n.extraBottomMargin = e.outlineHeight + o.margin,
			e.navigatorEnabled ? (e.xAxis = r = new q(n, t({
							ordinal : p && p.xAxis.options.ordinal
						}, o.xAxis, {
							id : "navigator-x-axis",
							isX : !0,
							type : "datetime",
							index : v,
							height : u,
							offset : 0,
							offsetLeft : s,
							offsetRight : -s,
							startOnTick : !1,
							endOnTick : !1,
							minPadding : 0,
							maxPadding : 0,
							zoomEnabled : !1
						})), e.yAxis = i = new q(n, t(o.yAxis, {
							id : "navigator-y-axis",
							alignTicks : !1,
							height : u,
							offset : 0,
							index : m,
							zoomEnabled : !1
						})), p || o.series.data ? e.addBaseSeries() : n.series.length === 0 && w(n, "redraw", function (t, r) {
					n.series.length > 0 && !e.series && (e.setBaseSeries(), n.redraw = t),
					t.call(n, r)
				})) : e.xAxis = r = {
				translate : function (e, t) {
					var r = n.xAxis[0].getExtremes(),
					i = n.plotWidth - 2 * s,
					o = r.dataMin,
					r = r.dataMax - o;
					return t ? e * r / i + o : i * (e - o) / r
				},
				toFixedRange : q.prototype.toFixedRange
			},
			w(n, "getMargins", function (t) {
				var n = this.legend,
				s = n.options;
				t.call(this),
				e.top = a = e.navigatorOptions.top || this.chartHeight - e.height - e.scrollbarHeight - this.spacing[2] - (s.verticalAlign === "bottom" && s.enabled && !s.floating ? n.legendHeight + d(s.margin, 10) : 0),
				r && i && (r.options.top = i.options.top = a, r.setAxisSize(), i.setAxisSize())
			}),
			e.addEvents()
		},
		getUnionExtremes : function (e) {
			var t = this.chart.xAxis[0],
			n = this.xAxis,
			r = n.options;
			if (!e || t.dataMin !== null)
				return {
					dataMin : d(r && r.min, (c(t.dataMin) && c(n.dataMin) ? tt : d)(t.dataMin, n.dataMin)),
					dataMax : d(r && r.max, (c(t.dataMax) && c(n.dataMax) ? et : d)(t.dataMax, n.dataMax))
				}
		},
		setBaseSeries : function (e) {
			var t = this.chart,
			e = e || t.options.navigator.baseSeries;
			this.series && this.series.remove(),
			this.baseSeries = t.series[e] || typeof e == "string" && t.get(e) || t.series[0],
			this.xAxis && this.addBaseSeries()
		},
		addBaseSeries : function () {
			var n = this.baseSeries,
			r = n ? n.options : {},
			i = r.data,
			s = this.navigatorOptions.series,
			o;
			o = s.data,
			this.hasNavigatorData = !!o,
			r = t(r, s, {
					clip : !1,
					enableMouseTracking : !1,
					group : "nav",
					padXAxis : !1,
					xAxis : "navigator-x-axis",
					yAxis : "navigator-y-axis",
					name : "Navigator",
					showInLegend : !1,
					isInternal : !0,
					visible : !0
				}),
			r.data = o || i,
			this.series = this.chart.initSeries(r),
			n && this.navigatorOptions.adaptToUpdatedData !== !1 && (cn(n, "updatedData", this.updatedDataHandler), n.userOptions.events = e(n.userOptions.event, {
						updatedData : this.updatedDataHandler
					}))
		},
		updatedDataHandler : function () {
			var e = this.chart.scroller,
			t = e.baseSeries,
			n = t.xAxis,
			r = n.getExtremes(),
			i = r.min,
			s = r.max,
			o = r.dataMin,
			r = r.dataMax,
			u = s - i,
			a,
			f,
			l,
			c,
			h,
			p = e.series;
			a = p.xData;
			var d = !!n.setExtremes;
			f = s >= a[a.length - 1] - (this.closestPointRange || 0),
			a = i <= o,
			e.hasNavigatorData || (p.options.pointStart = t.xData[0], p.setData(t.options.data, !1), h = !0),
			a && (c = o, l = c + u),
			f && (l = r, a || (c = et(l - u, p.xData[0]))),
			d && (a || f) ? isNaN(c) || n.setExtremes(c, l, !0, !1, {
				trigger : "updatedData"
			}) : (h && this.chart.redraw(!1), e.render(et(i, o), tt(s, r)))
		},
		destroy : function () {
			this.removeEvents(),
			un([this.xAxis, this.yAxis, this.leftShade, this.rightShade, this.outline, this.scrollbarTrack, this.scrollbarRifles, this.scrollbarGroup, this.scrollbar], function (e) {
				e && e.destroy && e.destroy()
			}),
			this.xAxis = this.yAxis = this.leftShade = this.rightShade = this.outline = this.scrollbarTrack = this.scrollbarRifles = this.scrollbarGroup = this.scrollbar = null,
			un([this.scrollbarButtons, this.handles, this.elementsToDestroy], function (e) {
				O(e)
			})
		}
	},
	Highcharts.Scroller = X,
	w(q.prototype, "zoom", function (e, t, n) {
		var r = this.chart,
		i = r.options,
		s = i.chart.zoomType,
		o = i.navigator,
		i = i.rangeSelector,
		u;
		return this.isXAxis && (o && o.enabled || i && i.enabled) && (s === "x" ? r.resetZoomButton = "blocked" : s === "y" ? u = !1 : s === "xy" && (r = this.previousZoom, c(t) ? this.previousZoom = [this.min, this.max] : r && (t = r[0], n = r[1], delete this.previousZoom))),
		u !== $ ? u : e.call(this, t, n)
	}),
	w(W.prototype, "init", function (e, t, n) {
		cn(this, "beforeRender", function () {
			var e = this.options;
			if (e.navigator.enabled || e.scrollbar.enabled)
				this.scroller = new X(this)
		}),
		e.call(this, t, n)
	}),
	e(xt, {
		rangeSelector : {
			buttonTheme : {
				width : 28,
				height : 16,
				padding : 1,
				r : 0,
				stroke : "#68A",
				zIndex : 7
			},
			inputPosition : {
				align : "right"
			},
			labelStyle : {
				color : "#666"
			}
		}
	}),
	xt.lang = t(xt.lang, {
			rangeSelectorZoom : "Zoom",
			rangeSelectorFrom : "From",
			rangeSelectorTo : "To"
		}),
	V.prototype = {
		clickButton : function (e, n, r) {
			var i = this,
			s = i.selected,
			o = i.chart,
			u = i.buttons,
			a = o.xAxis[0],
			f = o.scroller && o.scroller.getUnionExtremes() || a || {},
			l = f.dataMin,
			c = f.dataMax,
			h,
			p = a && G(tt(a.max, d(c, a.max))),
			v = new Date(p),
			m = n.type,
			g = n.count,
			f = n._range,
			y;
			if (l !== null && c !== null && e !== i.selected) {
				if (m === "month" || m === "year")
					h = {
						month : "Month",
						year : "FullYear"
					}
				[m],
				v["set" + h](v["get" + h]() - g),
				h = v.getTime(),
				l = d(l, Number.MIN_VALUE),
				isNaN(h) || h < l ? (h = l, p = tt(h + f, c)) : f = p - h;
				else if (f)
					h = et(p - f, l), p = tt(h + f, c);
				else if (m === "ytd") {
					if (!a) {
						cn(o, "beforeRender", function () {
							i.clickButton(e, n)
						});
						return
					}
					c === $ && (l = Number.MAX_VALUE, c = Number.MIN_VALUE, un(o.series, function (e) {
							e = e.xData,
							l = tt(e[0], l),
							c = et(e[e.length - 1], c)
						}), r = !1),
					p = new Date(c),
					y = p.getFullYear(),
					h = y = et(l || 0, Date.UTC(y, 0, 1)),
					p = p.getTime(),
					p = tt(c || p, p)
				} else
					m === "all" && a && (h = l, p = c);
				u[s] && u[s].setState(0),
				u[e] && u[e].setState(2),
				o.fixedRange = f,
				a ? a.setExtremes(h, p, d(r, 1), 0, {
					trigger : "rangeSelectorButton",
					rangeSelectorButton : n
				}) : (r = o.options.xAxis, r[0] = t(r[0], {
							range : f,
							min : y
						})),
				i.selected = e
			}
		},
		defaultButtons : [{
				type : "month",
				count : 1,
				text : "1m"
			}, {
				type : "month",
				count : 3,
				text : "3m"
			}, {
				type : "month",
				count : 6,
				text : "6m"
			}, {
				type : "ytd",
				text : "YTD"
			}, {
				type : "year",
				count : 1,
				text : "1y"
			}, {
				type : "all",
				text : "All"
			}
		],
		init : function (e) {
			var t = this,
			n = e.options.rangeSelector,
			r = n.buttons || [].concat(t.defaultButtons),
			i = t.buttons = [],
			n = n.selected,
			s = t.blurInputs = function () {
				var e = t.minInput,
				n = t.maxInput;
				e && e.blur(),
				n && n.blur()
			};
			t.chart = e,
			e.extraTopMargin = 25,
			t.buttonOptions = r,
			cn(e.container, "mousedown", s),
			cn(e, "resize", s),
			un(r, t.computeButtonRange),
			n !== $ && r[n] && this.clickButton(n, r[n], !1),
			cn(e, "load", function () {
				cn(e.xAxis[0], "afterSetExtremes", function () {
					e.fixedRange !== G(this.max - this.min) && (i[t.selected] && !e.renderer.forExport && i[t.selected].setState(0), t.selected = null),
					t.updateButtonStates()
				})
			})
		},
		updateButtonStates : function () {
			var e = this,
			t = this.chart,
			n = t.xAxis[0],
			t = t.scroller && t.scroller.getUnionExtremes() || n,
			r = t.dataMin,
			i = t.dataMax,
			s = e.selected,
			o = e.buttons;
			un(e.buttonOptions, function (t, u) {
				var a = t._range,
				f = a > i - r,
				l = a < n.minRange,
				c = t.type === "all" && n.max - n.min >= i - r && o[u].state !== 2,
				h = t.type === "ytd" && Tt("%Y", r) === Tt("%Y", i);
				a === G(n.max - n.min) && u !== s ? (e.selected = u, o[u].setState(2)) : f || l || c || h ? o[u].setState(3) : o[u].state === 3 && o[u].setState(0)
			})
		},
		computeButtonRange : function (e) {
			var t = e.type,
			n = e.count || 1,
			r = {
				millisecond : 1,
				second : 1e3,
				minute : 6e4,
				hour : 36e5,
				day : 864e5,
				week : 6048e5
			};
			if (r[t])
				e._range = r[t] * n;
			else if (t === "month" || t === "year")
				e._range = {
					month : 30,
					year : 365
				}
			[t] * 864e5 * n
		},
		setInputValue : function (e, t) {
			var n = this.chart.options.rangeSelector;
			c(t) && (this[e + "Input"].HCTime = t),
			this[e + "Input"].value = Tt(n.inputEditDateFormat || "%Y-%m-%d", this[e + "Input"].HCTime),
			this[e + "DateBox"].attr({
				text : Tt(n.inputDateFormat || "%b %e, %Y", this[e + "Input"].HCTime)
			})
		},
		drawInput : function (n) {
			var i = this,
			s = i.chart,
			o = s.options.chart.style,
			u = s.renderer,
			a = s.options.rangeSelector,
			f = i.div,
			l = n === "min",
			c,
			h,
			p,
			d = this.inputGroup;
			this[n + "Label"] = h = u.label(xt.lang[l ? "rangeSelectorFrom" : "rangeSelectorTo"], this.inputGroup.offset).attr({
					padding : 1
				}).css(t(o, a.labelStyle)).add(d),
			d.offset += h.width + 5,
			this[n + "DateBox"] = p = u.label("", d.offset).attr({
					padding : 1,
					width : 90,
					height : 16,
					stroke : "silver",
					"stroke-width" : 1
				}).css(t({
						textAlign : "center"
					}, o, a.inputStyle)).on("click", function () {
					i[n + "Input"].focus()
				}).add(d),
			d.offset += p.width + (l ? 10 : 0),
			this[n + "Input"] = c = m("input", {
					name : n,
					className : "highcharts-range-selector",
					type : "text"
				}, e({
						position : "absolute",
						border : 0,
						width : "1px",
						height : "1px",
						padding : 0,
						textAlign : "center",
						fontSize : o.fontSize,
						fontFamily : o.fontFamily,
						top : s.plotTop + "px"
					}, a.inputStyle), f),
			c.onfocus = function () {
				v(this, {
					left : d.translateX + p.x + "px",
					top : d.translateY + "px",
					width : p.width - 2 + "px",
					height : p.height - 2 + "px",
					border : "2px solid silver"
				})
			},
			c.onblur = function () {
				v(this, {
					border : 0,
					width : "1px",
					height : "1px"
				}),
				i.setInputValue(n)
			},
			c.onchange = function () {
				var e = c.value,
				t = (a.inputDateParser || Date.parse)(e),
				n = s.xAxis[0].getExtremes();
				isNaN(t) && (t = e.split("-"), t = Date.UTC(r(t[0]), r(t[1]) - 1, r(t[2]))),
				!isNaN(t) && (xt.global.useUTC || (t += (new Date).getTimezoneOffset() * 6e4), l && t >= n.dataMin && t <= i.maxInput.HCTime || !l && t <= n.dataMax && t >= i.minInput.HCTime) && s.xAxis[0].setExtremes(l ? t : n.min, l ? n.max : t, $, $, {
					trigger : "rangeSelectorInput"
				})
			}
		},
		render : function (t, n) {
			var r = this,
			i = r.chart,
			s = i.renderer,
			o = i.container,
			u = i.options,
			a = u.exporting && u.navigation && u.navigation.buttonOptions,
			f = u.rangeSelector,
			l = r.buttons,
			u = xt.lang,
			c = r.div,
			c = r.inputGroup,
			h = f.buttonTheme,
			p = f.inputEnabled !== !1,
			d = h && h.states,
			v = i.plotLeft,
			g;
			!r.rendered && (r.zoomText = s.text(u.rangeSelectorZoom, v, i.plotTop - 10).css(f.labelStyle).add(), g = v + r.zoomText.getBBox().width + 5, un(r.buttonOptions, function (e, t) {
					l[t] = s.button(e.text, g, i.plotTop - 25, function () {
							r.clickButton(t, e),
							r.isActive = !0
						}, h, d && d.hover, d && d.select).css({
							textAlign : "center"
						}).add(),
					g += l[t].width + (f.buttonSpacing || 0),
					r.selected === t && l[t].setState(2)
				}), r.updateButtonStates(), p) && (r.div = c = m("div", null, {
						position : "relative",
						height : 0,
						zIndex : 1
					}), o.parentNode.insertBefore(c, o), r.inputGroup = c = s.g("input-group").add(), c.offset = 0, r.drawInput("min"), r.drawInput("max")),
			p && (o = i.plotTop - 35, c.align(e({
						y : o,
						width : c.offset,
						x : a && o < (a.y || 0) + a.height - i.spacing[0] ? -40 : 0
					}, f.inputPosition), !0, i.spacingBox), r.setInputValue("min", t), r.setInputValue("max", n)),
			r.rendered = !0
		},
		destroy : function () {
			var e = this.minInput,
			t = this.maxInput,
			n = this.chart,
			r = this.blurInputs,
			i;
			hn(n.container, "mousedown", r),
			hn(n, "resize", r),
			O(this.buttons),
			e && (e.onfocus = e.onblur = e.onchange = null),
			t && (t.onfocus = t.onblur = t.onchange = null);
			for (i in this)
				this[i] && i !== "chart" && (this[i].destroy ? this[i].destroy() : this[i].nodeType && M(this[i])), this[i] = null
		}
	},
	q.prototype.toFixedRange = function (e, t, n, r) {
		var i = this.chart && this.chart.fixedRange,
		n = d(n, this.translate(e, !0)),
		r = d(r, this.translate(t, !0));
		return i && (r - n) / i < 1.3 && (r = n + i), {
			min : n,
			max : r
		}
	},
	w(W.prototype, "init", function (e, t, n) {
		cn(this, "init", function () {
			this.options.rangeSelector.enabled && (this.rangeSelector = new V(this))
		}),
		e.call(this, t, n)
	}),
	Highcharts.RangeSelector = V,
	W.prototype.callbacks.push(function (e) {
		function t() {
			s = e.xAxis[0].getExtremes(),
			o.render(s.min, s.max)
		}
		function n() {
			s = e.xAxis[0].getExtremes(),
			isNaN(s.min) || u.render(s.min, s.max)
		}
		function r(e) {
			e.triggerOp !== "navigator-drag" && o.render(e.min, e.max)
		}
		function i(e) {
			u.render(e.min, e.max)
		}
		var s,
		o = e.scroller,
		u = e.rangeSelector;
		o && (cn(e.xAxis[0], "afterSetExtremes", r), w(e, "drawChartBox", function (e) {
				var n = this.isDirtyBox;
				e.call(this),
				n && t()
			}), t()),
		u && (cn(e.xAxis[0], "afterSetExtremes", i), cn(e, "resize", n), n()),
		cn(e, "destroy", function () {
			o && hn(e.xAxis[0], "afterSetExtremes", r),
			u && (hn(e, "resize", n), hn(e.xAxis[0], "afterSetExtremes", i))
		})
	}),
	Highcharts.StockChart = function (e, n) {
		var r = e.series,
		i,
		s = d(e.navigator && e.navigator.enabled, !0) ? {
			startOnTick : !1,
			endOnTick : !1
		}
		 : null,
		o = {
			marker : {
				enabled : !1,
				states : {
					hover : {
						radius : 5
					}
				}
			},
			states : {
				hover : {
					lineWidth : 2
				}
			}
		},
		u = {
			shadow : !1,
			borderWidth : 0
		};
		return e.xAxis = ln(p(e.xAxis || {}), function (e) {
				return t({
					minPadding : 0,
					maxPadding : 0,
					ordinal : !0,
					title : {
						text : null
					},
					labels : {
						overflow : "justify"
					},
					showLastLabel : !0
				}, e, {
					type : "datetime",
					categories : null
				}, s)
			}),
		e.yAxis = ln(p(e.yAxis || {}), function (e) {
				return i = e.opposite,
				t({
					labels : {
						align : i ? "right" : "left",
						x : i ? -2 : 2,
						y : -2
					},
					showLastLabel : !1,
					title : {
						text : null
					}
				}, e)
			}),
		e.series = null,
		e = t({
				chart : {
					panning : !0,
					pinchType : "x"
				},
				navigator : {
					enabled : !0
				},
				scrollbar : {
					enabled : !0
				},
				rangeSelector : {
					enabled : !0
				},
				title : {
					text : null
				},
				tooltip : {
					shared : !0,
					crosshairs : !0
				},
				legend : {
					enabled : !1
				},
				plotOptions : {
					line : o,
					spline : o,
					area : o,
					areaspline : o,
					arearange : o,
					areasplinerange : o,
					column : u,
					columnrange : u,
					candlestick : u,
					ohlc : u
				}
			}, e, {
				_stock : !0,
				chart : {
					inverted : !1
				}
			}),
		e.series = r,
		new W(e, n)
	},
	w(U.prototype, "init", function (e, t, n) {
		var r = n.chart.pinchType || "";
		e.call(this, t, n),
		this.pinchX = this.pinchHor = r.indexOf("x") !== -1,
		this.pinchY = this.pinchVert = r.indexOf("y") !== -1
	});
	var Bn = Cn.init,
	jn = Cn.processData,
	Fn = xn.prototype.tooltipFormatter;
	Cn.init = function () {
		Bn.apply(this, arguments),
		this.setCompare(this.options.compare)
	},
	Cn.setCompare = function (e) {
		this.modifyValue = e === "value" || e === "percent" ? function (t, n) {
			var r = this.compareValue,
			t = e === "value" ? t - r : t = 100 * (t / r) - 100;
			return n && (n.change = t),
			t
		}
		 : null,
		this.chart.hasRendered && (this.isDirty = !0)
	},
	Cn.processData = function () {
		var e = 0,
		t,
		n,
		r;
		jn.apply(this, arguments);
		if (this.xAxis && this.processedYData) {
			t = this.processedXData,
			n = this.processedYData;
			for (r = n.length; e < r; e++)
				if (typeof n[e] == "number" && t[e] >= this.xAxis.min) {
					this.compareValue = n[e];
					break
				}
		}
	},
	w(Cn, "getExtremes", function (e) {
		e.call(this),
		this.modifyValue && (this.dataMax = this.modifyValue(this.dataMax), this.dataMin = this.modifyValue(this.dataMin))
	}),
	q.prototype.setCompare = function (e, t) {
		this.isXAxis || (un(this.series, function (t) {
				t.setCompare(e)
			}), d(t, !0) && this.chart.redraw())
	},
	xn.prototype.tooltipFormatter = function (e) {
		return e = e.replace("{point.change}", (this.change > 0 ? "+" : "") + y(this.change, d(this.series.tooltipOptions.changeDecimals, 2))),
		Fn.apply(this, [e])
	},
	function () {
		var e = Cn.init,
		t = Cn.getSegments;
		Cn.init = function () {
			var t,
			n;
			e.apply(this, arguments),
			t = this.chart,
			(n = this.xAxis) && n.options.ordinal && cn(this, "updatedData", function () {
				delete n.ordinalIndex
			});
			if (n && n.options.ordinal && !n.hasOrdinalExtension) {
				n.hasOrdinalExtension = !0,
				n.beforeSetTickPositions = function () {
					var e,
					t = [],
					r = !1,
					i,
					s = this.getExtremes(),
					o = s.min,
					s = s.max,
					u;
					if (this.options.ordinal) {
						un(this.series, function (n, r) {
							if (n.visible !== !1 && n.takeOrdinalPosition !== !1 && (t = t.concat(n.processedXData), e = t.length, t.sort(function (e, t) {
										return e - t
									}), e))
								for (r = e - 1; r--; )
									t[r] === t[r + 1] && t.splice(r, 1)
						}),
						e = t.length;
						if (e > 2) {
							i = t[1] - t[0];
							for (u = e - 1; u-- && !r; )
								t[u + 1] - t[u] !== i && (r = !0);
							if (t[0] - o > i || s - t[t.length - 1] > i)
								r = !0
						}
						r ? (this.ordinalPositions = t, r = n.val2lin(et(o, t[0]), !0), i = n.val2lin(tt(s, t[t.length - 1]), !0), this.ordinalSlope = s = (s - o) / (i - r), this.ordinalOffset = o - r * s) : this.ordinalPositions = this.ordinalSlope = this.ordinalOffset = $
					}
				},
				n.val2lin = function (e, t) {
					var n = this.ordinalPositions;
					if (n) {
						var r = n.length,
						i,
						s;
						for (i = r; i--; )
							if (n[i] === e) {
								s = i;
								break
							}
						for (i = r - 1; i--; )
							if (e > n[i] || i === 0) {
								n = (e - n[i]) / (n[i + 1] - n[i]),
								s = i + n;
								break
							}
						return t ? s : this.ordinalSlope * (s || 0) + this.ordinalOffset
					}
					return e
				},
				n.lin2val = function (e, t) {
					var n = this.ordinalPositions;
					if (n) {
						var r = this.ordinalSlope,
						i = this.ordinalOffset,
						s = n.length - 1,
						o,
						u;
						if (t)
							e < 0 ? e = n[0] : e > s ? e = n[s] : (s = Y(e), u = e - s);
						else
							for (; s--; )
								if (o = r * s + i, e >= o) {
									r = r * (s + 1) + i,
									u = (e - o) / (r - o);
									break
								}
						return u !== $ && n[s] !== $ ? n[s] + (u ? u * (n[s + 1] - n[s]) : 0) : e
					}
					return e
				},
				n.getExtendedPositions = function () {
					var e = n.series[0].currentDataGrouping,
					r = n.ordinalIndex,
					i = e ? e.count + e.unitName : "raw",
					s = n.getExtremes(),
					o,
					u;
					return r || (r = n.ordinalIndex = {}),
					r[i] || (o = {
							series : [],
							getExtremes : function () {
								return {
									min : s.dataMin,
									max : s.dataMax
								}
							},
							options : {
								ordinal : !0
							}
						}, un(n.series, function (n) {
							u = {
								xAxis : o,
								xData : n.xData,
								chart : t,
								destroyGroupedData : Lt
							},
							u.options = {
								dataGrouping : e ? {
									enabled : !0,
									forced : !0,
									approximation : "open",
									units : [[e.unitName, [e.count]]]
								}
								 : {
									enabled : !1
								}
							},
							n.processData.apply(u),
							o.series.push(u)
						}), n.beforeSetTickPositions.apply(o), r[i] = o.ordinalPositions),
					r[i]
				},
				n.getGroupIntervalFactor = function (e, t, n) {
					for (var r = 0, i = n.length, s = []; r < i - 1; r++)
						s[r] = n[r + 1] - n[r];
					return s.sort(function (e, t) {
						return e - t
					}),
					r = s[Y(i / 2)],
					e = et(e, n[0]),
					t = tt(t, n[i - 1]),
					i * r / (t - e)
				},
				n.postProcessTickInterval = function (e) {
					var t = this.ordinalSlope;
					return t ? e / (t / n.closestPointRange) : e
				},
				n.getNonLinearTimeTicks = function (e, t, r, i, s, o, u) {
					var a = 0,
					f = 0,
					l,
					h = {},
					p,
					d,
					v,
					m = [],
					g = -Number.MAX_VALUE,
					y = n.options.tickPixelInterval;
					if (!s || s.length < 3 || t === $)
						return N(e, t, r, i);
					for (d = s.length; f < d; f++) {
						v = f && s[f - 1] > r,
						s[f] < t && (a = f);
						if (f === d - 1 || s[f + 1] - s[f] > o * 5 || v) {
							if (s[f] > g) {
								for (l = N(e, s[a], s[f], i); l.length && l[0] <= g; )
									l.shift();
								l.length && (g = l[l.length - 1]),
								m = m.concat(l)
							}
							a = f + 1
						}
						if (v)
							break
					}
					e = l.info;
					if (u && e.unitRange <= kt[Bt]) {
						f = m.length - 1;
						for (a = 1; a < f; a++)
							(new Date(m[a]))[Vt]() !== (new Date(m[a - 1]))[Vt]() && (h[m[a]] = jt, p = !0);
						p && (h[m[0]] = jt),
						e.higherRanks = h
					}
					m.info = e;
					if (u && c(y)) {
						var u = e = m.length,
						f = [],
						b;
						for (p = []; u--; )
							a = n.translate(m[u]), b && (p[u] = b - a), f[u] = b = a;
						p.sort(),
						p = p[Y(p.length / 2)],
						p < y * .6 && (p = null),
						u = m[e - 1] > r ? e - 1 : e;
						for (b = void 0; u--; )
							a = f[u], r = b - a, b && r < y * .8 && (p === null || r < p * .8) ? (h[m[u]] && !h[m[u + 1]] ? (r = u + 1, b = a) : r = u, m.splice(r, 1)) : b = a
					}
					return m
				};
				var r = t.pan;
				t.pan = function (e) {
					var n = t.xAxis[0],
					i = e.chartX,
					s = !1;
					if (n.options.ordinal && n.series.length) {
						var o = t.mouseDownX,
						u = n.getExtremes(),
						a = u.dataMax,
						f = u.min,
						l = u.max,
						c = t.hoverPoints,
						h = n.closestPointRange,
						o = (o - i) / (n.translationSlope * (n.ordinalSlope || h)),
						p = {
							ordinalPositions : n.getExtendedPositions()
						},
						h = n.lin2val,
						d = n.val2lin,
						m;
						p.ordinalPositions ? nt(o) > 1 && (c && un(c, function (e) {
								e.setState()
							}), o < 0 ? (c = p, m = n.ordinalPositions ? n : p) : (c = n.ordinalPositions ? n : p, m = p), p = m.ordinalPositions, a > p[p.length - 1] && p.push(a), o = n.toFixedRange(null, null, h.apply(c, [d.apply(c, [f, !0]) + o, !0]), h.apply(m, [d.apply(m, [l, !0]) + o, !0])), o.min > tt(u.dataMin, f) && o.max < et(a, l) && n.setExtremes(o.min, o.max, !0, !1, {
								trigger : "pan"
							}), t.mouseDownX = i, v(t.container, {
								cursor : "move"
							})) : s = !0
					} else
						s = !0;
					s && r.apply(t, arguments)
				}
			}
		},
		Cn.getSegments = function () {
			var e,
			n = this.options.gapSize,
			r = this.xAxis;
			t.apply(this),
			r.options.ordinal && n && (e = this.segments, un(e, function (t, i) {
					for (var s = t.length - 1; s--; )
						t[s + 1].x - t[s].x > r.closestPointRange * n && e.splice(i + 1, 0, t.splice(s + 1, t.length - s))
				}))
		}
	}
	(),
	e(Highcharts, {
		Axis : q,
		Chart : W,
		Color : yn,
		Legend : z,
		Pointer : U,
		Point : xn,
		Tick : j,
		Tooltip : R,
		Renderer : yt,
		Series : Tn,
		SVGElement : B,
		SVGRenderer : bn,
		arrayMin : L,
		arrayMax : A,
		charts : At,
		dateFormat : Tt,
		format : E,
		pathAnim : Ct,
		getOptions : function () {
			return xt
		},
		hasBidiBug : mt,
		isTouchDevice : pt,
		numberFormat : y,
		seriesTypes : en,
		setOptions : function (e) {
			return xt = t(xt, e),
			H(),
			xt
		},
		addEvent : cn,
		removeEvent : hn,
		createElement : m,
		discardElement : M,
		css : v,
		each : un,
		extend : e,
		map : ln,
		merge : t,
		pick : d,
		splat : p,
		extendClass : g,
		pInt : r,
		wrap : w,
		svg : vt,
		canvas : gt,
		vml : !vt && !gt,
		product : "Highstock",
		version : "1.3.6"
	})
}
(), define("lib/highstock", function () {}), define("lib/highcharts-more", ["lib/highstock"], function () {
	(function (e, t) {
		function n(e, t, n) {
			this.init.call(this, e, t, n)
		}
		function r(e, t, n) {
			e.call(this, t, n),
			this.chart.polar && (this.closeSegment = function (e) {
				var t = this.xAxis.center;
				e.push("L", t[0], t[1])
			}, this.closedStacks = !0)
		}
		function i(e, t) {
			var n = this.chart,
			r = this.options.animation,
			i = this.group,
			s = this.markerGroup,
			o = this.xAxis.center,
			u = n.plotLeft,
			a = n.plotTop;
			if (n.polar) {
				if (n.renderer.isSVG)
					if (r === !0 && (r = {}), t) {
						if (n = {
								translateX : o[0] + u,
								translateY : o[1] + a,
								scaleX : .001,
								scaleY : .001
							}, i.attr(n), s)
							s.attrSetters = i.attrSetters, s.attr(n)
					} else
						n = {
							translateX : u,
							translateY : a,
							scaleX : 1,
							scaleY : 1
						},
				i.animate(n, r),
				s && s.animate(n, r),
				this.animate = null
			} else
				e.call(this, t)
		}
		var s = e.arrayMin,
		o = e.arrayMax,
		u = e.each,
		a = e.extend,
		f = e.merge,
		l = e.map,
		c = e.pick,
		h = e.pInt,
		p = e.getOptions().plotOptions,
		d = e.seriesTypes,
		v = e.extendClass,
		m = e.splat,
		g = e.wrap,
		y = e.Axis,
		b = e.Tick,
		w = e.Series,
		E = d.column.prototype,
		S = Math,
		x = S.round,
		T = S.floor,
		N = S.max,
		C = function () {};
		a(n.prototype, {
			init : function (e, t, n) {
				var r = this,
				i = r.defaultOptions;
				r.chart = t,
				t.angular && (i.background = {}),
				r.options = e = f(i, e),
				(e = e.background) && u([].concat(m(e)).reverse(), function (e) {
					var t = e.backgroundColor,
					e = f(r.defaultBackgroundOptions, e);
					t && (e.backgroundColor = t),
					e.color = e.backgroundColor,
					n.options.plotBands.unshift(e)
				})
			},
			defaultOptions : {
				center : ["50%", "50%"],
				size : "85%",
				startAngle : 0
			},
			defaultBackgroundOptions : {
				shape : "circle",
				borderWidth : 1,
				borderColor : "silver",
				backgroundColor : {
					linearGradient : {
						x1 : 0,
						y1 : 0,
						x2 : 0,
						y2 : 1
					},
					stops : [[0, "#FFF"], [1, "#DDD"]]
				},
				from : Number.MIN_VALUE,
				innerRadius : 0,
				to : Number.MAX_VALUE,
				outerRadius : "105%"
			}
		});
		var k = y.prototype,
		b = b.prototype,
		L = {
			getOffset : C,
			redraw : function () {
				this.isDirty = !1
			},
			render : function () {
				this.isDirty = !1
			},
			setScale : C,
			setCategories : C,
			setTitle : C
		},
		A = {
			isRadial : !0,
			defaultRadialGaugeOptions : {
				labels : {
					align : "center",
					x : 0,
					y : null
				},
				minorGridLineWidth : 0,
				minorTickInterval : "auto",
				minorTickLength : 10,
				minorTickPosition : "inside",
				minorTickWidth : 1,
				plotBands : [],
				tickLength : 10,
				tickPosition : "inside",
				tickWidth : 2,
				title : {
					rotation : 0
				},
				zIndex : 2
			},
			defaultRadialXOptions : {
				gridLineWidth : 1,
				labels : {
					align : null,
					distance : 15,
					x : 0,
					y : null
				},
				maxPadding : 0,
				minPadding : 0,
				plotBands : [],
				showLastLabel : !1,
				tickLength : 0
			},
			defaultRadialYOptions : {
				gridLineInterpolation : "circle",
				labels : {
					align : "right",
					x : -3,
					y : -2
				},
				plotBands : [],
				showLastLabel : !1,
				title : {
					x : 4,
					text : null,
					rotation : 90
				}
			},
			setOptions : function (e) {
				this.options = f(this.defaultOptions, this.defaultRadialOptions, e)
			},
			getOffset : function () {
				k.getOffset.call(this),
				this.chart.axisOffset[this.side] = 0,
				this.center = this.pane.center = d.pie.prototype.getCenter.call(this.pane)
			},
			getLinePath : function (e, t) {
				var n = this.center,
				t = c(t, n[2] / 2 - this.offset);
				return this.chart.renderer.symbols.arc(this.left + n[0], this.top + n[1], t, t, {
					start : this.startAngleRad,
					end : this.endAngleRad,
					open : !0,
					innerR : 0
				})
			},
			setAxisTranslation : function () {
				k.setAxisTranslation.call(this),
				this.center && (this.transA = this.isCircular ? (this.endAngleRad - this.startAngleRad) / (this.max - this.min || 1) : this.center[2] / 2 / (this.max - this.min || 1), this.isXAxis) && (this.minPixelPadding = this.transA * this.minPointOffset + (this.reversed ? (this.endAngleRad - this.startAngleRad) / 4 : 0))
			},
			beforeSetTickPositions : function () {
				this.autoConnect && (this.max += this.categories && 1 || this.pointRange || this.closestPointRange)
			},
			setAxisSize : function () {
				k.setAxisSize.call(this),
				this.center && (this.len = this.width = this.height = this.isCircular ? this.center[2] * (this.endAngleRad - this.startAngleRad) / 2 : this.center[2] / 2)
			},
			getPosition : function (e, t) {
				return this.isCircular || (t = this.translate(e), e = this.min),
				this.postTranslate(this.translate(e), c(t, this.center[2] / 2) - this.offset)
			},
			postTranslate : function (e, t) {
				var n = this.chart,
				r = this.center,
				e = this.startAngleRad + e;
				return {
					x : n.plotLeft + r[0] + Math.cos(e) * t,
					y : n.plotTop + r[1] + Math.sin(e) * t
				}
			},
			getPlotBandPath : function (e, t, n) {
				var r = this.center,
				i = this.startAngleRad,
				s = r[2] / 2,
				o = [c(n.outerRadius, "100%"), n.innerRadius, c(n.thickness, 10)],
				u = /%$/,
				a,
				f = this.isCircular;
				return this.options.gridLineInterpolation === "polygon" ? r = this.getPlotLinePath(e).concat(this.getPlotLinePath(t, !0)) : (f || (o[0] = this.translate(e), o[1] = this.translate(t)), o = l(o, function (e) {
								return u.test(e) && (e = h(e, 10) * s / 100),
								e
							}), n.shape === "circle" || !f ? (e = -Math.PI / 2, t = Math.PI * 1.5, a = !0) : (e = i + this.translate(e), t = i + this.translate(t)), r = this.chart.renderer.symbols.arc(this.left + r[0], this.top + r[1], o[0], o[0], {
								start : e,
								end : t,
								innerR : c(o[1], o[0] - o[2]),
								open : a
							})),
				r
			},
			getPlotLinePath : function (e, t) {
				var n = this.center,
				r = this.chart,
				i = this.getPosition(e),
				s,
				o,
				a;
				return this.isCircular ? a = ["M", n[0] + r.plotLeft, n[1] + r.plotTop, "L", i.x, i.y] : this.options.gridLineInterpolation === "circle" ? (e = this.translate(e)) && (a = this.getLinePath(0, e)) : (s = r.xAxis[0], a = [], e = this.translate(e), n = s.tickPositions, s.autoConnect && (n = n.concat([n[0]])), t && (n = [].concat(n).reverse()), u(n, function (t, n) {
						o = s.getPosition(t, e),
						a.push(n ? "L" : "M", o.x, o.y)
					})),
				a
			},
			getTitlePosition : function () {
				var e = this.center,
				t = this.chart,
				n = this.options.title;
				return {
					x : t.plotLeft + e[0] + (n.x || 0),
					y : t.plotTop + e[1] - {
						high : .5,
						middle : .25,
						low : 0
					}
					[n.align] * e[2] + (n.y || 0)
				}
			}
		};
		g(k, "init", function (e, r, i) {
			var s,
			o = r.angular,
			u = r.polar,
			l = i.isX,
			h = o && l,
			p,
			d;
			d = r.options;
			var v = i.pane || 0;
			if (o) {
				if (a(this, h ? L : A), p = !l)
					this.defaultRadialOptions = this.defaultRadialGaugeOptions
			} else
				u && (a(this, A), this.defaultRadialOptions = (p = l) ? this.defaultRadialXOptions : f(this.defaultYAxisOptions, this.defaultRadialYOptions));
			e.call(this, r, i),
			!h && (o || u) && (e = this.options, r.panes || (r.panes = []), this.pane = (s = r.panes[v] = r.panes[v] || new n(m(d.pane)[v], r, this), v = s), v = v.options, r.inverted = !1, d.chart.zoomType = null, this.startAngleRad = r = (v.startAngle - 90) * Math.PI / 180, this.endAngleRad = d = (c(v.endAngle, v.startAngle + 360) - 90) * Math.PI / 180, this.offset = e.offset || 0, (this.isCircular = p) && i.max === t && d - r === 2 * Math.PI && (this.autoConnect = !0))
		}),
		g(b, "getPosition", function (e, t, n, r, i) {
			var s = this.axis;
			return s.getPosition ? s.getPosition(n) : e.call(this, t, n, r, i)
		}),
		g(b, "getLabelPosition", function (e, t, n, r, i, s, o, u, a) {
			var f = this.axis,
			l = s.y,
			p = s.align,
			d = (f.translate(this.pos) + f.startAngleRad + Math.PI / 2) / Math.PI * 180 % 360;
			return f.isRadial ? (e = f.getPosition(this.pos, f.center[2] / 2 + c(s.distance, -25)), s.rotation === "auto" ? r.attr({
					rotation : d
				}) : l === null && (l = h(r.styles.lineHeight) * .9 - r.getBBox().height / 2), p === null && (p = f.isCircular ? d > 20 && d < 160 ? "left" : d > 200 && d < 340 ? "right" : "center" : "center", r.attr({
						align : p
					})), e.x += s.x, e.y += l) : e = e.call(this, t, n, r, i, s, o, u, a),
			e
		}),
		g(b, "getMarkPath", function (e, t, n, r, i, s, o) {
			var u = this.axis;
			return u.isRadial ? (e = u.getPosition(this.pos, u.center[2] / 2 + r), t = ["M", t, n, "L", e.x, e.y]) : t = e.call(this, t, n, r, i, s, o),
			t
		}),
		p.arearange = f(p.area, {
				lineWidth : 1,
				marker : null,
				threshold : null,
				tooltip : {
					pointFormat : '<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'
				},
				trackByArea : !0,
				dataLabels : {
					verticalAlign : null,
					xLow : 0,
					xHigh : 0,
					yLow : 0,
					yHigh : 0
				}
			}),
		d.arearange = e.extendClass(d.area, {
				type : "arearange",
				pointArrayMap : ["low", "high"],
				toYData : function (e) {
					return [e.low, e.high]
				},
				pointValKey : "low",
				getSegments : function () {
					var e = this;
					u(e.points, function (t) {
						!!e.options.connectNulls || t.low !== null && t.high !== null ? t.low === null && t.high !== null && (t.y = t.high) : t.y = null
					}),
					w.prototype.getSegments.call(this)
				},
				translate : function () {
					var e = this.yAxis;
					d.area.prototype.translate.apply(this),
					u(this.points, function (t) {
						var n = t.low,
						r = t.high,
						i = t.plotY;
						r === null && n === null ? t.y = null : n === null ? (t.plotLow = t.plotY = null, t.plotHigh = e.translate(r, 0, 1, 0, 1)) : r === null ? (t.plotLow = i, t.plotHigh = null) : (t.plotLow = i, t.plotHigh = e.translate(r, 0, 1, 0, 1))
					})
				},
				getSegmentPath : function (e) {
					var t,
					n = [],
					r = e.length,
					i = w.prototype.getSegmentPath,
					s,
					o;
					o = this.options;
					var u = o.step;
					for (t = HighchartsAdapter.grep(e, function (e) {
								return e.plotLow !== null
							}); r--; )
						s = e[r], s.plotHigh !== null && n.push({
							plotX : s.plotX,
							plotY : s.plotHigh
						});
					return e = i.call(this, t),
					u && (u === !0 && (u = "left"), o.step = {
							left : "right",
							center : "center",
							right : "left"
						}
						[u]),
					n = i.call(this, n),
					o.step = u,
					o = [].concat(e, n),
					n[0] = "L",
					this.areaPath = this.areaPath.concat(e, n),
					o
				},
				drawDataLabels : function () {
					var e = this.data,
					t = e.length,
					n,
					r = [],
					i = w.prototype,
					s = this.options.dataLabels,
					o,
					u = this.chart.inverted;
					if (s.enabled || this._hasPointLabels) {
						for (n = t; n--; )
							o = e[n], o.y = o.high, o.plotY = o.plotHigh, r[n] = o.dataLabel, o.dataLabel = o.dataLabelUpper, o.below = !1, u ? (s.align = "left", s.x = s.xHigh) : s.y = s.yHigh;
						i.drawDataLabels.apply(this, arguments);
						for (n = t; n--; )
							o = e[n], o.dataLabelUpper = o.dataLabel, o.dataLabel = r[n], o.y = o.low, o.plotY = o.plotLow, o.below = !0, u ? (s.align = "right", s.x = s.xLow) : s.y = s.yLow;
						i.drawDataLabels.apply(this, arguments)
					}
				},
				alignDataLabel : d.column.prototype.alignDataLabel,
				getSymbol : d.column.prototype.getSymbol,
				drawPoints : C
			}),
		p.areasplinerange = f(p.arearange),
		d.areasplinerange = v(d.arearange, {
				type : "areasplinerange",
				getPointSpline : d.spline.prototype.getPointSpline
			}),
		p.columnrange = f(p.column, p.arearange, {
				lineWidth : 1,
				pointRange : null
			}),
		d.columnrange = v(d.arearange, {
				type : "columnrange",
				translate : function () {
					var e = this,
					t = e.yAxis,
					n;
					E.translate.apply(e),
					u(e.points, function (r) {
						var i = r.shapeArgs,
						s = e.options.minPointLength,
						o;
						r.plotHigh = n = t.translate(r.high, 0, 1, 0, 1),
						r.plotLow = r.plotY,
						o = n,
						r = r.plotY - n,
						r < s && (s -= r, r += s, o -= s / 2),
						i.height = r,
						i.y = o
					})
				},
				trackerGroups : ["group", "dataLabels"],
				drawGraph : C,
				pointAttrToOptions : E.pointAttrToOptions,
				drawPoints : E.drawPoints,
				drawTracker : E.drawTracker,
				animate : E.animate,
				getColumnMetrics : E.getColumnMetrics
			}),
		p.gauge = f(p.line, {
				dataLabels : {
					enabled : !0,
					y : 15,
					borderWidth : 1,
					borderColor : "silver",
					borderRadius : 3,
					style : {
						fontWeight : "bold"
					},
					verticalAlign : "top",
					zIndex : 2
				},
				dial : {},
				pivot : {},
				tooltip : {
					headerFormat : ""
				},
				showInLegend : !1
			}),
		b = {
			type : "gauge",
			pointClass : e.extendClass(e.Point, {
				setState : function (e) {
					this.state = e
				}
			}),
			angular : !0,
			drawGraph : C,
			trackerGroups : ["group", "dataLabels"],
			translate : function () {
				var e = this.yAxis,
				t = this.options,
				n = e.center;
				this.generatePoints(),
				u(this.points, function (r) {
					var i = f(t.dial, r.dial),
					s = h(c(i.radius, 80)) * n[2] / 200,
					o = h(c(i.baseLength, 70)) * s / 100,
					u = h(c(i.rearLength, 10)) * s / 100,
					a = i.baseWidth || 3,
					l = i.topWidth || 1,
					p = e.startAngleRad + e.translate(r.y, null, null, null, !0);
					t.wrap === !1 && (p = Math.max(e.startAngleRad, Math.min(e.endAngleRad, p))),
					p = p * 180 / Math.PI,
					r.shapeType = "path",
					r.shapeArgs = {
						d : i.path || ["M", -u, -a / 2, "L", o, -a / 2, s, -l / 2, s, l / 2, o, a / 2, -u, a / 2, "z"],
						translateX : n[0],
						translateY : n[1],
						rotation : p
					},
					r.plotX = n[0],
					r.plotY = n[1]
				})
			},
			drawPoints : function () {
				var e = this,
				t = e.yAxis.center,
				n = e.pivot,
				r = e.options,
				i = r.pivot,
				s = e.chart.renderer;
				u(e.points, function (t) {
					var n = t.graphic,
					i = t.shapeArgs,
					o = i.d,
					u = f(r.dial, t.dial);
					n ? (n.animate(i), i.d = o) : t.graphic = s[t.shapeType](i).attr({
							stroke : u.borderColor || "none",
							"stroke-width" : u.borderWidth || 0,
							fill : u.backgroundColor || "black",
							rotation : i.rotation
						}).add(e.group)
				}),
				n ? n.animate({
					translateX : t[0],
					translateY : t[1]
				}) : e.pivot = s.circle(0, 0, c(i.radius, 5)).attr({
						"stroke-width" : i.borderWidth || 0,
						stroke : i.borderColor || "silver",
						fill : i.backgroundColor || "black"
					}).translate(t[0], t[1]).add(e.group)
			},
			animate : function (e) {
				var t = this;
				e || (u(t.points, function (e) {
						var n = e.graphic;
						n && (n.attr({
								rotation : t.yAxis.startAngleRad * 180 / Math.PI
							}), n.animate({
								rotation : e.shapeArgs.rotation
							}, t.options.animation))
					}), t.animate = null)
			},
			render : function () {
				this.group = this.plotGroup("group", "series", this.visible ? "visible" : "hidden", this.options.zIndex, this.chart.seriesGroup),
				d.pie.prototype.render.call(this),
				this.group.clip(this.chart.clipRect)
			},
			setData : d.pie.prototype.setData,
			drawTracker : d.column.prototype.drawTracker
		},
		d.gauge = e.extendClass(d.line, b),
		p.boxplot = f(p.column, {
				fillColor : "#FFFFFF",
				lineWidth : 1,
				medianWidth : 2,
				states : {
					hover : {
						brightness : -0.3
					}
				},
				threshold : null,
				tooltip : {
					pointFormat : '<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'
				},
				whiskerLength : "50%",
				whiskerWidth : 2
			}),
		d.boxplot = v(d.column, {
				type : "boxplot",
				pointArrayMap : ["low", "q1", "median", "q3", "high"],
				toYData : function (e) {
					return [e.low, e.q1, e.median, e.q3, e.high]
				},
				pointValKey : "high",
				pointAttrToOptions : {
					fill : "fillColor",
					stroke : "color",
					"stroke-width" : "lineWidth"
				},
				drawDataLabels : C,
				translate : function () {
					var e = this.yAxis,
					t = this.pointArrayMap;
					d.column.prototype.translate.apply(this),
					u(this.points, function (n) {
						u(t, function (t) {
							n[t] !== null && (n[t + "Plot"] = e.translate(n[t], 0, 1, 0, 1))
						})
					})
				},
				drawPoints : function () {
					var e = this,
					n = e.points,
					r = e.options,
					i = e.chart.renderer,
					s,
					o,
					a,
					f,
					l,
					h,
					p,
					d,
					v,
					m,
					g,
					y,
					b,
					w,
					E,
					S,
					N,
					C,
					k,
					L,
					A,
					O,
					M = e.doQuartiles !== !1,
					_ = parseInt(e.options.whiskerLength, 10) / 100;
					u(n, function (n) {
						v = n.graphic,
						A = n.shapeArgs,
						g = {},
						w = {},
						S = {},
						O = n.color || e.color,
						n.plotY !== t && ((s = n.pointAttr[n.selected ? "selected" : ""], N = A.width, C = T(A.x), k = C + N, L = x(N / 2), o = T(M ? n.q1Plot : n.lowPlot), a = T(M ? n.q3Plot : n.lowPlot), f = T(n.highPlot), l = T(n.lowPlot), g.stroke = n.stemColor || r.stemColor || O, g["stroke-width"] = c(n.stemWidth, r.stemWidth, r.lineWidth), g.dashstyle = n.stemDashStyle || r.stemDashStyle, w.stroke = n.whiskerColor || r.whiskerColor || O, w["stroke-width"] = c(n.whiskerWidth, r.whiskerWidth, r.lineWidth), S.stroke = n.medianColor || r.medianColor || O, S["stroke-width"] = c(n.medianWidth, r.medianWidth, r.lineWidth), p = g["stroke-width"] % 2 / 2, d = C + L + p, m = ["M", d, a, "L", d, f, "M", d, o, "L", d, l, "z"], M && (p = s["stroke-width"] % 2 / 2, d = T(d) + p, o = T(o) + p, a = T(a) + p, C += p, k += p, y = ["M", C, a, "L", C, o, "L", k, o, "L", k, a, "L", C, a, "z"]), _ && (p = w["stroke-width"] % 2 / 2, f += p, l += p, b = ["M", d - L * _, f, "L", d + L * _, f, "M", d - L * _, l, "L", d + L * _, l]), p = S["stroke-width"] % 2 / 2, h = x(n.medianPlot) + p, E = ["M", C, h, "L", k, h, "z"], v) ? (n.stem.animate({
									d : m
								}), _ && n.whiskers.animate({
									d : b
								}), M && n.box.animate({
									d : y
								}), n.medianShape.animate({
									d : E
								})) : (n.graphic = v = i.g().add(e.group), n.stem = i.path(m).attr(g).add(v), _ && (n.whiskers = i.path(b).attr(w).add(v)), M && (n.box = i.path(y).attr(s).add(v)), n.medianShape = i.path(E).attr(S).add(v)))
					})
				}
			}),
		p.errorbar = f(p.boxplot, {
				color : "#000000",
				grouping : !1,
				linkedTo : ":previous",
				tooltip : {
					pointFormat : p.arearange.tooltip.pointFormat
				},
				whiskerWidth : null
			}),
		d.errorbar = v(d.boxplot, {
				type : "errorbar",
				pointArrayMap : ["low", "high"],
				toYData : function (e) {
					return [e.low, e.high]
				},
				pointValKey : "high",
				doQuartiles : !1,
				getColumnMetrics : function () {
					return this.linkedParent && this.linkedParent.columnMetrics || d.column.prototype.getColumnMetrics.call(this)
				}
			}),
		p.waterfall = f(p.column, {
				lineWidth : 1,
				lineColor : "#333",
				dashStyle : "dot",
				borderColor : "#333"
			}),
		d.waterfall = v(d.column, {
				type : "waterfall",
				upColorProp : "fill",
				pointArrayMap : ["low", "y"],
				pointValKey : "y",
				init : function (e, t) {
					t.stacking = !0,
					d.column.prototype.init.call(this, e, t)
				},
				translate : function () {
					var e = this.options,
					t = this.yAxis,
					n,
					r,
					i,
					s,
					o,
					u,
					a,
					f,
					l;
					n = e.threshold,
					e = e.borderWidth % 2 / 2,
					d.column.prototype.translate.apply(this),
					f = n,
					i = this.points;
					for (r = 0, n = i.length; r < n; r++)
						s = i[r], o = s.shapeArgs, u = this.getStack(r), l = u.points[this.index], isNaN(s.y) && (s.y = this.yData[r]), a = N(f, f + s.y) + l[0], o.y = t.translate(a, 0, 1), s.isSum || s.isIntermediateSum ? (o.y = t.translate(l[1], 0, 1), o.height = t.translate(l[0], 0, 1) - o.y) : f += u.total, o.height < 0 && (o.y += o.height, o.height *= -1), s.plotY = o.y = x(o.y) - e, o.height = x(o.height), s.yBottom = o.y + o.height
				},
				processData : function (e) {
					var t = this.yData,
					n = this.points,
					r,
					i = t.length,
					s = this.options.threshold || 0,
					o,
					u,
					a,
					f,
					l,
					c;
					u = o = a = f = s;
					for (c = 0; c < i; c++)
						l = t[c], r = n ? n[c] : {},
					l === "sum" || r.isSum ? t[c] = u : l === "intermediateSum" || r.isIntermediateSum ? (t[c] = o, o = s) : (u += l, o += l),
					a = Math.min(u, a),
					f = Math.max(u, f);
					w.prototype.processData.call(this, e),
					this.dataMin = a,
					this.dataMax = f
				},
				toYData : function (e) {
					return e.isSum ? "sum" : e.isIntermediateSum ? "intermediateSum" : e.y
				},
				getAttribs : function () {
					d.column.prototype.getAttribs.apply(this, arguments);
					var t = this.options,
					n = t.states,
					r = t.upColor || this.color,
					t = e.Color(r).brighten(.1).get(),
					i = f(this.pointAttr),
					s = this.upColorProp;
					i[""][s] = r,
					i.hover[s] = n.hover.upColor || t,
					i.select[s] = n.select.upColor || r,
					u(this.points, function (e) {
						e.y > 0 && !e.color && (e.pointAttr = i, e.color = r)
					})
				},
				getGraphPath : function () {
					var e = this.data,
					t = e.length,
					n = x(this.options.lineWidth + this.options.borderWidth) % 2 / 2,
					r = [],
					i,
					s,
					o;
					for (o = 1; o < t; o++)
						s = e[o].shapeArgs, i = e[o - 1].shapeArgs, s = ["M", i.x + i.width, i.y + n, "L", s.x, i.y + n], e[o - 1].y < 0 && (s[2] += i.height, s[5] += i.height), r = r.concat(s);
					return r
				},
				getExtremes : C,
				getStack : function (e) {
					var t = this.yAxis.stacks,
					n = this.stackKey;
					return this.processedYData[e] < this.options.threshold && (n = "-" + n),
					t[n][e]
				},
				drawGraph : w.prototype.drawGraph
			}),
		p.bubble = f(p.scatter, {
				dataLabels : {
					inside : !0,
					style : {
						color : "white",
						textShadow : "0px 0px 3px black"
					},
					verticalAlign : "middle"
				},
				marker : {
					lineColor : null,
					lineWidth : 1
				},
				minSize : 8,
				maxSize : "20%",
				tooltip : {
					pointFormat : "({point.x}, {point.y}), Size: {point.z}"
				},
				turboThreshold : 0,
				zThreshold : 0
			}),
		d.bubble = v(d.scatter, {
				type : "bubble",
				pointArrayMap : ["y", "z"],
				trackerGroups : ["group", "dataLabelsGroup"],
				pointAttrToOptions : {
					stroke : "lineColor",
					"stroke-width" : "lineWidth",
					fill : "fillColor"
				},
				applyOpacity : function (t) {
					var n = this.options.marker,
					r = c(n.fillOpacity, .5),
					t = t || n.fillColor || this.color;
					return r !== 1 && (t = e.Color(t).setOpacity(r).get("rgba")),
					t
				},
				convertAttribs : function () {
					var e = w.prototype.convertAttribs.apply(this, arguments);
					return e.fill = this.applyOpacity(e.fill),
					e
				},
				getRadii : function (e, t, n, r) {
					var i,
					s,
					o,
					u = this.zData,
					a = [];
					for (s = 0, i = u.length; s < i; s++)
						o = t - e, o = o > 0 ? (u[s] - e) / (t - e) : .5, a.push(S.ceil(n + o * (r - n)) / 2);
					this.radii = a
				},
				animate : function (e) {
					var t = this.options.animation;
					e || (u(this.points, function (e) {
							var n = e.graphic,
							e = e.shapeArgs;
							n && e && (n.attr("r", 1), n.animate({
									r : e.r
								}, t))
						}), this.animate = null)
				},
				translate : function () {
					var e,
					n = this.data,
					r,
					i,
					s = this.radii;
					d.scatter.prototype.translate.call(this);
					for (e = n.length; e--; )
						r = n[e], i = s ? s[e] : 0, r.negative = r.z < (this.options.zThreshold || 0), i >= this.minPxSize / 2 ? (r.shapeType = "circle", r.shapeArgs = {
								x : r.plotX,
								y : r.plotY,
								r : i
							}, r.dlBox = {
								x : r.plotX - i,
								y : r.plotY - i,
								width : 2 * i,
								height : 2 * i
							}) : r.shapeArgs = r.plotY = r.dlBox = t
				},
				drawLegendSymbol : function (e, t) {
					var n = h(e.itemStyle.fontSize) / 2;
					t.legendSymbol = this.chart.renderer.circle(n, e.baseline - n, n).attr({
							zIndex : 3
						}).add(t.legendGroup),
					t.legendSymbol.isMarker = !0
				},
				drawPoints : d.column.prototype.drawPoints,
				alignDataLabel : d.column.prototype.alignDataLabel
			}),
		y.prototype.beforePadding = function () {
			var e = this,
			n = this.len,
			r = this.chart,
			i = 0,
			a = n,
			f = this.isXAxis,
			l = f ? "xData" : "yData",
			p = this.min,
			d = {},
			v = S.min(r.plotWidth, r.plotHeight),
			m = Number.MAX_VALUE,
			g = -Number.MAX_VALUE,
			y = this.max - p,
			b = n / y,
			w = [];
			this.tickPositions && (u(this.series, function (t) {
					var n = t.options;
					t.type === "bubble" && t.visible && (e.allowZoomOutside = !0, w.push(t), f) && (u(["minSize", "maxSize"], function (e) {
							var t = n[e],
							r = /%$/.test(t),
							t = h(t);
							d[e] = r ? v * t / 100 : t
						}), t.minPxSize = d.minSize, t = t.zData, t.length && (m = S.min(m, S.max(s(t), n.displayNegative === !1 ? n.zThreshold : -Number.MAX_VALUE)), g = S.max(g, o(t))))
				}), u(w, function (e) {
					var t = e[l],
					n = t.length,
					r;
					f && e.getRadii(m, g, d.minSize, d.maxSize);
					if (y > 0)
						for (; n--; )
							r = e.radii[n], i = Math.min((t[n] - p) * b - r, i), a = Math.max((t[n] - p) * b + r, a)
				}), y > 0 && c(this.options.min, this.userMin) === t && c(this.options.max, this.userMax) === t && (a -= n, b *= (n + i - a) / n, this.min += i / b, this.max += a / b))
		};
		var O = w.prototype,
		p = e.Pointer.prototype;
		O.toXY = function (e) {
			var t,
			n = this.chart;
			t = e.plotX;
			var r = e.plotY;
			e.rectPlotX = t,
			e.rectPlotY = r,
			e.clientX = (t / Math.PI * 180 + this.xAxis.pane.options.startAngle) % 360,
			t = this.xAxis.postTranslate(e.plotX, this.yAxis.len - r),
			e.plotX = e.polarPlotX = t.x - n.plotLeft,
			e.plotY = e.polarPlotY = t.y - n.plotTop
		},
		O.orderTooltipPoints = function (e) {
			this.chart.polar && (e.sort(function (e, t) {
					return e.clientX - t.clientX
				}), e[0]) && (e[0].wrappedClientX = e[0].clientX + 360, e.push(e[0]))
		},
		g(d.area.prototype, "init", r),
		g(d.areaspline.prototype, "init", r),
		g(d.spline.prototype, "getPointSpline", function (e, t, n, r) {
			var i,
			s,
			o,
			u,
			a,
			f,
			l;
			return this.chart.polar ? (i = n.plotX, s = n.plotY, e = t[r - 1], o = t[r + 1], this.connectEnds && (e || (e = t[t.length - 2]), o || (o = t[1])), e && o && (u = e.plotX, a = e.plotY, t = o.plotX, f = o.plotY, u = (1.5 * i + u) / 2.5, a = (1.5 * s + a) / 2.5, o = (1.5 * i + t) / 2.5, l = (1.5 * s + f) / 2.5, t = Math.sqrt(Math.pow(u - i, 2) + Math.pow(a - s, 2)), f = Math.sqrt(Math.pow(o - i, 2) + Math.pow(l - s, 2)), u = Math.atan2(a - s, u - i), a = Math.atan2(l - s, o - i), l = Math.PI / 2 + (u + a) / 2, Math.abs(u - l) > Math.PI / 2 && (l -= Math.PI), u = i + Math.cos(l) * t, a = s + Math.sin(l) * t, o = i + Math.cos(Math.PI + l) * f, l = s + Math.sin(Math.PI + l) * f, n.rightContX = o, n.rightContY = l), r ? (n = ["C", e.rightContX || e.plotX, e.rightContY || e.plotY, u || i, a || s, i, s], e.rightContX = e.rightContY = null) : n = ["M", i, s]) : n = e.call(this, t, n, r),
			n
		}),
		g(O, "translate", function (e) {
			e.call(this);
			if (this.chart.polar && !this.preventPostTranslate)
				for (var e = this.points, t = e.length; t--; )
					this.toXY(e[t])
		}),
		g(O, "getSegmentPath", function (e, t) {
			var n = this.points;
			return this.chart.polar && this.options.connectEnds !== !1 && t[t.length - 1] === n[n.length - 1] && n[0].y !== null && (this.connectEnds = !0, t = [].concat(t, [n[0]])),
			e.call(this, t)
		}),
		g(O, "animate", i),
		g(E, "animate", i),
		g(O, "setTooltipPoints", function (e, t) {
			return this.chart.polar && a(this.xAxis, {
				tooltipLen : 360
			}),
			e.call(this, t)
		}),
		g(E, "translate", function (e) {
			var t = this.xAxis,
			n = this.yAxis.len,
			r = t.center,
			i = t.startAngleRad,
			s = this.chart.renderer,
			o,
			u;
			this.preventPostTranslate = !0,
			e.call(this);
			if (t.isRadial) {
				t = this.points;
				for (u = t.length; u--; )
					o = t[u], e = o.barX + i, o.shapeType = "path", o.shapeArgs = {
						d : s.symbols.arc(r[0], r[1], n - o.plotY, null, {
							start : e,
							end : e + o.pointWidth,
							innerR : n - c(o.yBottom, n)
						})
					},
				this.toXY(o)
			}
		}),
		g(E, "alignDataLabel", function (e, t, n, r, i, s) {
			this.chart.polar ? (e = t.rectPlotX / Math.PI * 180, r.align === null && (r.align = e > 20 && e < 160 ? "left" : e > 200 && e < 340 ? "right" : "center"), r.verticalAlign === null && (r.verticalAlign = e < 45 || e > 315 ? "bottom" : e > 135 && e < 225 ? "top" : "middle"), O.alignDataLabel.call(this, t, n, r, i, s)) : e.call(this, t, n, r, i, s)
		}),
		g(p, "getIndex", function (e, t) {
			var n,
			r = this.chart,
			i;
			return r.polar ? (i = r.xAxis[0].center, n = t.chartX - i[0] - r.plotLeft, r = t.chartY - i[1] - r.plotTop, n = 180 - Math.round(Math.atan2(n, r) / Math.PI * 180)) : n = e.call(this, t),
			n
		}),
		g(p, "getCoordinates", function (e, t) {
			var n = this.chart,
			r = {
				xAxis : [],
				yAxis : []
			};
			return n.polar ? u(n.axes, function (e) {
				var i = e.isXAxis,
				s = e.center,
				o = t.chartX - s[0] - n.plotLeft,
				s = t.chartY - s[1] - n.plotTop;
				r[i ? "xAxis" : "yAxis"].push({
					axis : e,
					value : e.translate(i ? Math.PI - Math.atan2(o, s) : Math.sqrt(Math.pow(o, 2) + Math.pow(s, 2)), !0)
				})
			}) : r = e.call(this, t),
			r
		})
	})(Highcharts)
}), define("lib/exporting", ["lib/highstock"], function () {
	(function (e) {
		var t = e.Chart,
		n = e.addEvent,
		r = e.removeEvent,
		i = e.createElement,
		s = e.discardElement,
		o = e.css,
		u = e.merge,
		a = e.each,
		f = e.extend,
		l = Math.max,
		c = document,
		h = window,
		p = e.isTouchDevice,
		d = e.Renderer.prototype.symbols,
		v = e.getOptions(),
		m;
		f(v.lang, {
			downloadPNG : "Download PNG image",
			downloadJPEG : "Download JPEG image",
			downloadPDF : "Download PDF document",
			downloadSVG : "Download SVG vector image",
			contextButtonTitle : "Chart context menu"
		}),
		v.navigation = {
			menuStyle : {
				border : "1px solid #A0A0A0",
				background : "#FFFFFF",
				padding : "5px 0"
			},
			menuItemStyle : {
				padding : "0 10px",
				background : "none",
				color : "#303030",
				fontSize : p ? "14px" : "11px"
			},
			menuItemHoverStyle : {
				background : "#4572A5",
				color : "#FFFFFF"
			},
			buttonOptions : {
				symbolFill : "#E0E0E0",
				symbolSize : 14,
				symbolStroke : "#666",
				symbolStrokeWidth : 3,
				symbolX : 12.5,
				symbolY : 10.5,
				align : "right",
				buttonSpacing : 3,
				height : 22,
				theme : {
					fill : "white",
					stroke : "none"
				},
				verticalAlign : "top",
				width : 24
			}
		},
		v.exporting = {
			type : "image/png",
			url : "http://export.highcharts.com/",
			buttons : {
				contextButton : {
					symbol : "menu",
					_titleKey : "contextButtonTitle",
					menuItems : [{
							text : "打印图表",
							onclick : function () {
								this.print()
							}
						}, {
							separator : !0
						}, {
							textKey : "downloadPNG",
							onclick : function () {
								this.exportChart()
							}
						}, {
							textKey : "downloadJPEG",
							onclick : function () {
								this.exportChart({
									type : "image/jpeg"
								})
							}
						}, {
							textKey : "downloadPDF",
							onclick : function () {
								this.exportChart({
									type : "application/pdf"
								})
							}
						}, {
							textKey : "downloadSVG",
							onclick : function () {
								this.exportChart({
									type : "image/svg+xml"
								})
							}
						}
					]
				}
			}
		},
		e.post = function (e, t) {
			var n,
			r;
			r = i("form", {
					method : "post",
					action : e,
					enctype : "multipart/form-data"
				}, {
					display : "none"
				}, c.body);
			for (n in t)
				i("input", {
					type : "hidden",
					name : n,
					value : t[n]
				}, null, r);
			r.submit(),
			s(r)
		},
		f(t.prototype, {
			getSVG : function (t) {
				var n = this,
				r,
				o,
				l,
				h,
				p = u(n.options, t);
				return c.createElementNS || (c.createElementNS = function (e, t) {
					return c.createElement(t)
				}),
				t = i("div", null, {
						position : "absolute",
						top : "-9999em",
						width : n.chartWidth + "px",
						height : n.chartHeight + "px"
					}, c.body),
				o = n.renderTo.style.width,
				h = n.renderTo.style.height,
				o = p.exporting.sourceWidth || p.chart.width || /px$/.test(o) && parseInt(o, 10) || 600,
				h = p.exporting.sourceHeight || p.chart.height || /px$/.test(h) && parseInt(h, 10) || 400,
				f(p.chart, {
					animation : !1,
					renderTo : t,
					forExport : !0,
					width : o,
					height : h
				}),
				p.exporting.enabled = !1,
				p.chart.plotBackgroundImage = null,
				p.series = [],
				a(n.series, function (e) {
					l = u(e.options, {
							animation : !1,
							showCheckbox : !1,
							visible : e.visible
						}),
					l.isInternal || p.series.push(l)
				}),
				r = new e.Chart(p, n.callback),
				a(["xAxis", "yAxis"], function (e) {
					a(n[e], function (t, n) {
						var i = r[e][n],
						s = t.getExtremes(),
						o = s.userMin,
						s = s.userMax;
						(o !== void 0 || s !== void 0) && i.setExtremes(o, s, !0, !1)
					})
				}),
				o = r.container.innerHTML,
				p = null,
				r.destroy(),
				s(t),
				o = o.replace(/zIndex="[^"]+"/g, "").replace(/isShadow="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g, " xlink:href=").replace(/\n/, " ").replace(/<\/svg>.*?$/, "</svg>").replace(/&nbsp;/g, " ").replace(/&shy;/g, "­").replace(/<IMG /g, "<image ").replace(/height=([^" ]+)/g, 'height="$1"').replace(/width=([^" ]+)/g, 'width="$1"').replace(/hc-svg-href="([^"]+)">/g, 'xlink:href="$1"/>').replace(/id=([^" >]+)/g, 'id="$1"').replace(/class=([^" ]+)/g, 'class="$1"').replace(/ transform /g, " ").replace(/:(path|rect)/g, "$1").replace(/style="([^"]+)"/g, function (e) {
						return e.toLowerCase()
					}),
				o = o.replace(/(url\(#highcharts-[0-9]+)&quot;/g, "$1").replace(/&quot;/g, "'"),
				o.match(/ xmlns="/g).length === 2 && (o = o.replace(/xmlns="[^"]+"/, "")),
				o
			},
			exportChart : function (t, n) {
				var t = t || {},
				r = this.getSVG(u({
							chart : {
								borderRadius : 0
							}
						}, this.options.exporting.chartOptions, n, {
							exporting : {
								sourceWidth : t.sourceWidth,
								sourceHeight : t.sourceHeight
							}
						})),
				t = u(this.options.exporting, t);
				e.post(t.url, {
					filename : t.filename || "chart",
					type : t.type,
					width : t.width || 0,
					scale : t.scale || 2,
					svg : r
				})
			},
			print : function () {
				var e = this,
				t = e.container,
				n = [],
				r = t.parentNode,
				i = c.body,
				s = i.childNodes;
				e.isPrinting || (e.isPrinting = !0, a(s, function (e, t) {
						e.nodeType === 1 && (n[t] = e.style.display, e.style.display = "none")
					}), i.appendChild(t), h.focus(), h.print(), setTimeout(function () {
						r.appendChild(t),
						a(s, function (e, t) {
							e.nodeType === 1 && (e.style.display = n[t])
						}),
						e.isPrinting = !1
					}, 1e3))
			},
			contextMenu : function (e, t, r, s, u, c, h) {
				var p = this,
				d = p.options.navigation,
				v = d.menuItemStyle,
				m = p.chartWidth,
				g = p.chartHeight,
				y = "cache-" + e,
				b = p[y],
				w = l(u, c),
				E,
				S,
				x;
				b || (p[y] = b = i("div", {
							className : "highcharts-" + e
						}, {
							position : "absolute",
							zIndex : 1e3,
							padding : w + "px"
						}, p.container), E = i("div", null, f({
								MozBoxShadow : "3px 3px 10px #888",
								WebkitBoxShadow : "3px 3px 10px #888",
								boxShadow : "3px 3px 10px #888"
							}, d.menuStyle), b), S = function () {
					o(b, {
						display : "none"
					}),
					h && h.setState(0)
				}, n(b, "mouseleave", function () {
						x = setTimeout(S, 500)
					}), n(b, "mouseenter", function () {
						clearTimeout(x)
					}), a(t, function (e) {
						if (e) {
							var t = e.separator ? i("hr", null, null, E) : i("div", {
									onmouseover : function () {
										o(this, d.menuItemHoverStyle)
									},
									onmouseout : function () {
										o(this, v)
									},
									onclick : function () {
										S(),
										e.onclick.apply(p, arguments)
									},
									innerHTML : e.text || p.options.lang[e.textKey]
								}, f({
										cursor : "pointer"
									}, v), E);
							p.exportDivElements.push(t)
						}
					}), p.exportDivElements.push(E, b), p.exportMenuWidth = b.offsetWidth, p.exportMenuHeight = b.offsetHeight),
				e = {
					display : "block"
				},
				r + p.exportMenuWidth > m ? e.right = m - r - u - w + "px" : e.left = r - w + "px",
				s + c + p.exportMenuHeight > g ? e.bottom = g - s - w + "px" : e.top = s + c - w + "px",
				o(b, e)
			},
			addButton : function (t) {
				var n = this,
				r = n.renderer,
				t = u(n.options.navigation.buttonOptions, t),
				i = t.onclick,
				s = t.menuItems,
				o,
				a,
				l = {
					stroke : t.symbolStroke,
					fill : t.symbolFill
				},
				c = t.symbolSize || 12;
				n.btnCount || (n.btnCount = 0),
				n.btnCount++,
				n.exportDivElements || (n.exportDivElements = [], n.exportSVGElements = []);
				if (t.enabled !== !1) {
					var h = t.theme,
					p = h.states,
					d = p && p.hover,
					p = p && p.select,
					v;
					delete h.states,
					i ? v = function () {
						i.apply(n, arguments)
					}
					 : s && (v = function () {
						n.contextMenu("contextmenu", s, a.translateX, a.translateY, a.width, a.height, a),
						a.setState(2)
					}),
					t.text && t.symbol ? h.paddingLeft = e.pick(h.paddingLeft, 25) : t.text || f(h, {
							width : t.width,
							height : t.height,
							padding : 0
						}),
					a = r.button(t.text, 0, 0, v, h, d, p).attr({
							title : n.options.lang[t._titleKey],
							"stroke-linecap" : "round"
						}),
					t.symbol && (o = r.symbol(t.symbol, t.symbolX - c / 2, t.symbolY - c / 2, c, c).attr(f(l, {
									"stroke-width" : t.symbolStrokeWidth || 1,
									zIndex : 1
								})).add(a)),
					a.add().align(f(t, {
							width : a.width,
							x : m
						}), !0, "spacingBox"),
					m += (a.width + t.buttonSpacing) * (t.align === "right" ? -1 : 1),
					n.exportSVGElements.push(a, o)
				}
			},
			destroyExport : function (e) {
				var e = e.target,
				t,
				n;
				for (t = 0; t < e.exportSVGElements.length; t++)
					n = e.exportSVGElements[t], n.onclick = n.ontouchstart = null, e.exportSVGElements[t] = n.destroy();
				for (t = 0; t < e.exportDivElements.length; t++)
					n = e.exportDivElements[t], r(n, "mouseleave"), e.exportDivElements[t] = n.onmouseout = n.onmouseover = n.ontouchstart = n.onclick = null, s(n)
			}
		}),
		d.menu = function (e, t, n, r) {
			return ["M", e, t + 2.5, "L", e + n, t + 2.5, "M", e, t + r / 2 + .5, "L", e + n, t + r / 2 + .5, "M", e, t + r - 1.5, "L", e + n, t + r - 1.5]
		},
		t.prototype.callbacks.push(function (e) {
			var t,
			r = e.options.exporting,
			i = r.buttons;
			m = 0;
			if (r.enabled !== !1) {
				for (t in i)
					e.addButton(i[t]);
				n(e, "destroy", e.destroyExport)
			}
		})
	})(Highcharts)
});
var swfobject = function () {
	function C() {
		if (b)
			return;
		try {
			var e = a.getElementsByTagName("body")[0].appendChild(U("span"));
			e.parentNode.removeChild(e)
		} catch (t) {
			return
		}
		b = !0;
		var n = c.length;
		for (var r = 0; r < n; r++)
			c[r]()
	}
	function k(e) {
		b ? e() : c[c.length] = e
	}
	function L(t) {
		if (typeof u.addEventListener != e)
			u.addEventListener("load", t, !1);
		else if (typeof a.addEventListener != e)
			a.addEventListener("load", t, !1);
		else if (typeof u.attachEvent != e)
			z(u, "onload", t);
		else if (typeof u.onload == "function") {
			var n = u.onload;
			u.onload = function () {
				n(),
				t()
			}
		} else
			u.onload = t
	}
	function A() {
		l ? O() : M()
	}
	function O() {
		var n = a.getElementsByTagName("body")[0],
		r = U(t);
		r.setAttribute("type", i);
		var s = n.appendChild(r);
		if (s) {
			var o = 0;
			(function () {
				if (typeof s.GetVariable != e) {
					var t = s.GetVariable("$version");
					t && (t = t.split(" ")[1].split(","), T.pv = [parseInt(t[0], 10), parseInt(t[1], 10), parseInt(t[2], 10)])
				} else if (o < 10) {
					o++,
					setTimeout(arguments.callee, 10);
					return
				}
				n.removeChild(r),
				s = null,
				M()
			})()
		} else
			M()
	}
	function M() {
		var t = h.length;
		if (t > 0)
			for (var n = 0; n < t; n++) {
				var r = h[n].id,
				i = h[n].callbackFn,
				s = {
					success : !1,
					id : r
				};
				if (T.pv[0] > 0) {
					var o = R(r);
					if (o)
						if (W(h[n].swfVersion) && !(T.wk && T.wk < 312))
							V(r, !0), i && (s.success = !0, s.ref = _(r), i(s));
						else if (h[n].expressInstall && D()) {
							var u = {};
							u.data = h[n].expressInstall,
							u.width = o.getAttribute("width") || "0",
							u.height = o.getAttribute("height") || "0",
							o.getAttribute("class") && (u.styleclass = o.getAttribute("class")),
							o.getAttribute("align") && (u.align = o.getAttribute("align"));
							var a = {},
							f = o.getElementsByTagName("param"),
							l = f.length;
							for (var c = 0; c < l; c++)
								f[c].getAttribute("name").toLowerCase() != "movie" && (a[f[c].getAttribute("name")] = f[c].getAttribute("value"));
							P(u, a, r, i)
						} else
							H(o), i && i(s)
				} else {
					V(r, !0);
					if (i) {
						var p = _(r);
						p && typeof p.SetVariable != e && (s.success = !0, s.ref = p),
						i(s)
					}
				}
			}
	}
	function _(n) {
		var r = null,
		i = R(n);
		if (i && i.nodeName == "OBJECT")
			if (typeof i.SetVariable != e)
				r = i;
			else {
				var s = i.getElementsByTagName(t)[0];
				s && (r = s)
			}
		return r
	}
	function D() {
		return !w && W("6.0.65") && (T.win || T.mac) && !(T.wk && T.wk < 312)
	}
	function P(t, n, r, i) {
		w = !0,
		g = i || null,
		y = {
			success : !1,
			id : r
		};
		var o = R(r);
		if (o) {
			o.nodeName == "OBJECT" ? (v = B(o), m = null) : (v = o, m = r),
			t.id = s;
			if (typeof t.width == e || !/%$/.test(t.width) && parseInt(t.width, 10) < 310)
				t.width = "310";
			if (typeof t.height == e || !/%$/.test(t.height) && parseInt(t.height, 10) < 137)
				t.height = "137";
			a.title = a.title.slice(0, 47) + " - Flash Player Installation";
			var f = T.ie && T.win ? "ActiveX" : "PlugIn",
			l = "MMredirectURL=" + u.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + f + "&MMdoctitle=" + a.title;
			typeof n.flashvars != e ? n.flashvars += "&" + l : n.flashvars = l;
			if (T.ie && T.win && o.readyState != 4) {
				var c = U("div");
				r += "SWFObjectNew",
				c.setAttribute("id", r),
				o.parentNode.insertBefore(c, o),
				o.style.display = "none",
				function () {
					o.readyState == 4 ? o.parentNode.removeChild(o) : setTimeout(arguments.callee, 10)
				}
				()
			}
			j(t, n, r)
		}
	}
	function H(e) {
		if (T.ie && T.win && e.readyState != 4) {
			var t = U("div");
			e.parentNode.insertBefore(t, e),
			t.parentNode.replaceChild(B(e), t),
			e.style.display = "none",
			function () {
				e.readyState == 4 ? e.parentNode.removeChild(e) : setTimeout(arguments.callee, 10)
			}
			()
		} else
			e.parentNode.replaceChild(B(e), e)
	}
	function B(e) {
		var n = U("div");
		if (T.win && T.ie)
			n.innerHTML = e.innerHTML;
		else {
			var r = e.getElementsByTagName(t)[0];
			if (r) {
				var i = r.childNodes;
				if (i) {
					var s = i.length;
					for (var o = 0; o < s; o++)
						(i[o].nodeType != 1 || i[o].nodeName != "PARAM") && i[o].nodeType != 8 && n.appendChild(i[o].cloneNode(!0))
				}
			}
		}
		return n
	}
	function j(n, r, s) {
		var o,
		u = R(s);
		if (T.wk && T.wk < 312)
			return o;
		if (u) {
			typeof n.id == e && (n.id = s);
			if (T.ie && T.win) {
				var a = "";
				for (var f in n)
					n[f] != Object.prototype[f] && (f.toLowerCase() == "data" ? r.movie = n[f] : f.toLowerCase() == "styleclass" ? a += ' class="' + n[f] + '"' : f.toLowerCase() != "classid" && (a += " " + f + '="' + n[f] + '"'));
				var l = "";
				for (var c in r)
					r[c] != Object.prototype[c] && (l += '<param name="' + c + '" value="' + r[c] + '" />');
				u.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + a + ">" + l + "</object>",
				p[p.length] = n.id,
				o = R(n.id)
			} else {
				var h = U(t);
				h.setAttribute("type", i);
				for (var d in n)
					n[d] != Object.prototype[d] && (d.toLowerCase() == "styleclass" ? h.setAttribute("class", n[d]) : d.toLowerCase() != "classid" && h.setAttribute(d, n[d]));
				for (var v in r)
					r[v] != Object.prototype[v] && v.toLowerCase() != "movie" && F(h, v, r[v]);
				u.parentNode.replaceChild(h, u),
				o = h
			}
		}
		return o
	}
	function F(e, t, n) {
		var r = U("param");
		r.setAttribute("name", t),
		r.setAttribute("value", n),
		e.appendChild(r)
	}
	function I(e) {
		var t = R(e);
		t && t.nodeName == "OBJECT" && (T.ie && T.win ? (t.style.display = "none", function () {
				t.readyState == 4 ? q(e) : setTimeout(arguments.callee, 10)
			}
				()) : t.parentNode.removeChild(t))
	}
	function q(e) {
		var t = R(e);
		if (t) {
			for (var n in t)
				typeof t[n] == "function" && (t[n] = null);
			t.parentNode.removeChild(t)
		}
	}
	function R(e) {
		var t = null;
		try {
			t = a.getElementById(e)
		} catch (n) {}

		return t
	}
	function U(e) {
		return a.createElement(e)
	}
	function z(e, t, n) {
		e.attachEvent(t, n),
		d[d.length] = [e, t, n]
	}
	function W(e) {
		var t = T.pv,
		n = e.split(".");
		return n[0] = parseInt(n[0], 10),
		n[1] = parseInt(n[1], 10) || 0,
		n[2] = parseInt(n[2], 10) || 0,
		t[0] > n[0] || t[0] == n[0] && t[1] > n[1] || t[0] == n[0] && t[1] == n[1] && t[2] >= n[2] ? !0 : !1
	}
	function X(n, r, i, s) {
		if (T.ie && T.mac)
			return;
		var o = a.getElementsByTagName("head")[0];
		if (!o)
			return;
		var u = i && typeof i == "string" ? i : "screen";
		s && (E = null, S = null);
		if (!E || S != u) {
			var f = U("style");
			f.setAttribute("type", "text/css"),
			f.setAttribute("media", u),
			E = o.appendChild(f),
			T.ie && T.win && typeof a.styleSheets != e && a.styleSheets.length > 0 && (E = a.styleSheets[a.styleSheets.length - 1]),
			S = u
		}
		T.ie && T.win ? E && typeof E.addRule == t && E.addRule(n, r) : E && typeof a.createTextNode != e && E.appendChild(a.createTextNode(n + " {" + r + "}"))
	}
	function V(e, t) {
		if (!x)
			return;
		var n = t ? "visible" : "hidden";
		b && R(e) ? R(e).style.visibility = n : X("#" + e, "visibility:" + n)
	}
	function $(t) {
		var n = /[\\\"<>\.;]/,
		r = n.exec(t) != null;
		return r && typeof encodeURIComponent != e ? encodeURIComponent(t) : t
	}
	var e = "undefined",
	t = "object",
	n = "Shockwave Flash",
	r = "ShockwaveFlash.ShockwaveFlash",
	i = "application/x-shockwave-flash",
	s = "SWFObjectExprInst",
	o = "onreadystatechange",
	u = window,
	a = document,
	f = navigator,
	l = !1,
	c = [A],
	h = [],
	p = [],
	d = [],
	v,
	m,
	g,
	y,
	b = !1,
	w = !1,
	E,
	S,
	x = !0,
	T = function () {
		var s = typeof a.getElementById != e && typeof a.getElementsByTagName != e && typeof a.createElement != e,
		o = f.userAgent.toLowerCase(),
		c = f.platform.toLowerCase(),
		h = c ? /win/.test(c) : /win/.test(o),
		p = c ? /mac/.test(c) : /mac/.test(o),
		d = /webkit/.test(o) ? parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")) : !1,
		v = !1,
		m = [0, 0, 0],
		g = null;
		if (typeof f.plugins != e && typeof f.plugins[n] == t)
			g = f.plugins[n].description, g && (typeof f.mimeTypes == e || !f.mimeTypes[i] || !!f.mimeTypes[i].enabledPlugin) && (l = !0, v = !1, g = g.replace(/^.*\s+(\S+\s+\S+$)/, "$1"), m[0] = parseInt(g.replace(/^(.*)\..*$/, "$1"), 10), m[1] = parseInt(g.replace(/^.*\.(.*)\s.*$/, "$1"), 10), m[2] = /[a-zA-Z]/.test(g) ? parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
		else if (typeof u.ActiveXObject != e)
			try {
				var y = new ActiveXObject(r);
				y && (g = y.GetVariable("$version"), g && (v = !0, g = g.split(" ")[1].split(","), m = [parseInt(g[0], 10), parseInt(g[1], 10), parseInt(g[2], 10)]))
			} catch (b) {}

		return {
			w3 : s,
			pv : m,
			wk : d,
			ie : v,
			win : h,
			mac : p
		}
	}
	(),
	N = function () {
		if (!T.w3)
			return;
		(typeof a.readyState != e && a.readyState == "complete" || typeof a.readyState == e && (a.getElementsByTagName("body")[0] || a.body)) && C(),
		b || (typeof a.addEventListener != e && a.addEventListener("DOMContentLoaded", C, !1), T.ie && T.win && (a.attachEvent(o, function () {
					a.readyState == "complete" && (a.detachEvent(o, arguments.callee), C())
				}), u == top && function () {
				if (b)
					return;
				try {
					a.documentElement.doScroll("left")
				} catch (e) {
					setTimeout(arguments.callee, 0);
					return
				}
				C()
			}
				()), T.wk && function () {
			if (b)
				return;
			if (!/loaded|complete/.test(a.readyState)) {
				setTimeout(arguments.callee, 0);
				return
			}
			C()
		}
			(), L(C))
	}
	(),
	J = function () {
		T.ie && T.win && window.attachEvent("onunload", function () {
			var e = d.length;
			for (var t = 0; t < e; t++)
				d[t][0].detachEvent(d[t][1], d[t][2]);
			var n = p.length;
			for (var r = 0; r < n; r++)
				I(p[r]);
			for (var i in T)
				T[i] = null;
			T = null;
			for (var s in swfobject)
				swfobject[s] = null;
			swfobject = null
		})
	}
	();
	return {
		registerObject : function (e, t, n, r) {
			if (T.w3 && e && t) {
				var i = {};
				i.id = e,
				i.swfVersion = t,
				i.expressInstall = n,
				i.callbackFn = r,
				h[h.length] = i,
				V(e, !1)
			} else
				r && r({
					success : !1,
					id : e
				})
		},
		getObjectById : function (e) {
			if (T.w3)
				return _(e)
		},
		embedSWF : function (n, r, i, s, o, u, a, f, l, c) {
			var h = {
				success : !1,
				id : r
			};
			T.w3 && !(T.wk && T.wk < 312) && n && r && i && s && o ? (V(r, !1), k(function () {
					i += "",
					s += "";
					var p = {};
					if (l && typeof l === t)
						for (var d in l)
							p[d] = l[d];
					p.data = n,
					p.width = i,
					p.height = s;
					var v = {};
					if (f && typeof f === t)
						for (var m in f)
							v[m] = f[m];
					if (a && typeof a === t)
						for (var g in a)
							typeof v.flashvars != e ? v.flashvars += "&" + g + "=" + a[g] : v.flashvars = g + "=" + a[g];
					if (W(o)) {
						var y = j(p, v, r);
						p.id == r && V(r, !0),
						h.success = !0,
						h.ref = y
					} else {
						if (u && D()) {
							p.data = u,
							P(p, v, r, c);
							return
						}
						V(r, !0)
					}
					c && c(h)
				})) : c && c(h)
		},
		switchOffAutoHideShow : function () {
			x = !1
		},
		ua : T,
		getFlashPlayerVersion : function () {
			return {
				major : T.pv[0],
				minor : T.pv[1],
				release : T.pv[2]
			}
		},
		hasFlashPlayerVersion : W,
		createSWF : function (e, t, n) {
			return T.w3 ? j(e, t, n) : undefined
		},
		showExpressInstall : function (e, t, n, r) {
			T.w3 && D() && P(e, t, n, r)
		},
		removeSWF : function (e) {
			T.w3 && I(e)
		},
		createCSS : function (e, t, n, r) {
			T.w3 && X(e, t, n, r)
		},
		addDomLoadEvent : k,
		addLoadEvent : L,
		getQueryParamValue : function (e) {
			var t = a.location.search || a.location.hash;
			if (t) {
				/\?/.test(t) && (t = t.split("?")[1]);
				if (e == null)
					return $(t);
				var n = t.split("&");
				for (var r = 0; r < n.length; r++)
					if (n[r].substring(0, n[r].indexOf("=")) == e)
						return $(n[r].substring(n[r].indexOf("=") + 1))
			}
			return ""
		},
		expressInstallCallback : function () {
			if (w) {
				var e = R(s);
				e && v && (e.parentNode.replaceChild(v, e), m && (V(m, !0), T.ie && T.win && (v.style.display = "block")), g && g(y)),
				w = !1
			}
		}
	}
}
();
define("lib/swfobject", function () {});
var swfobject = function () {
	function C() {
		if (b)
			return;
		try {
			var e = a.getElementsByTagName("body")[0].appendChild(U("span"));
			e.parentNode.removeChild(e)
		} catch (t) {
			return
		}
		b = !0;
		var n = c.length;
		for (var r = 0; r < n; r++)
			c[r]()
	}
	function k(e) {
		b ? e() : c[c.length] = e
	}
	function L(t) {
		if (typeof u.addEventListener != e)
			u.addEventListener("load", t, !1);
		else if (typeof a.addEventListener != e)
			a.addEventListener("load", t, !1);
		else if (typeof u.attachEvent != e)
			z(u, "onload", t);
		else if (typeof u.onload == "function") {
			var n = u.onload;
			u.onload = function () {
				n(),
				t()
			}
		} else
			u.onload = t
	}
	function A() {
		l ? O() : M()
	}
	function O() {
		var n = a.getElementsByTagName("body")[0],
		r = U(t);
		r.setAttribute("type", i);
		var s = n.appendChild(r);
		if (s) {
			var o = 0;
			(function () {
				if (typeof s.GetVariable != e) {
					var t = s.GetVariable("$version");
					t && (t = t.split(" ")[1].split(","), T.pv = [parseInt(t[0], 10), parseInt(t[1], 10), parseInt(t[2], 10)])
				} else if (o < 10) {
					o++,
					setTimeout(arguments.callee, 10);
					return
				}
				n.removeChild(r),
				s = null,
				M()
			})()
		} else
			M()
	}
	function M() {
		var t = h.length;
		if (t > 0)
			for (var n = 0; n < t; n++) {
				var r = h[n].id,
				i = h[n].callbackFn,
				s = {
					success : !1,
					id : r
				};
				if (T.pv[0] > 0) {
					var o = R(r);
					if (o)
						if (W(h[n].swfVersion) && !(T.wk && T.wk < 312))
							V(r, !0), i && (s.success = !0, s.ref = _(r), i(s));
						else if (h[n].expressInstall && D()) {
							var u = {};
							u.data = h[n].expressInstall,
							u.width = o.getAttribute("width") || "0",
							u.height = o.getAttribute("height") || "0",
							o.getAttribute("class") && (u.styleclass = o.getAttribute("class")),
							o.getAttribute("align") && (u.align = o.getAttribute("align"));
							var a = {},
							f = o.getElementsByTagName("param"),
							l = f.length;
							for (var c = 0; c < l; c++)
								f[c].getAttribute("name").toLowerCase() != "movie" && (a[f[c].getAttribute("name")] = f[c].getAttribute("value"));
							P(u, a, r, i)
						} else
							H(o), i && i(s)
				} else {
					V(r, !0);
					if (i) {
						var p = _(r);
						p && typeof p.SetVariable != e && (s.success = !0, s.ref = p),
						i(s)
					}
				}
			}
	}
	function _(n) {
		var r = null,
		i = R(n);
		if (i && i.nodeName == "OBJECT")
			if (typeof i.SetVariable != e)
				r = i;
			else {
				var s = i.getElementsByTagName(t)[0];
				s && (r = s)
			}
		return r
	}
	function D() {
		return !w && W("6.0.65") && (T.win || T.mac) && !(T.wk && T.wk < 312)
	}
	function P(t, n, r, i) {
		w = !0,
		g = i || null,
		y = {
			success : !1,
			id : r
		};
		var o = R(r);
		if (o) {
			o.nodeName == "OBJECT" ? (v = B(o), m = null) : (v = o, m = r),
			t.id = s;
			if (typeof t.width == e || !/%$/.test(t.width) && parseInt(t.width, 10) < 310)
				t.width = "310";
			if (typeof t.height == e || !/%$/.test(t.height) && parseInt(t.height, 10) < 137)
				t.height = "137";
			a.title = a.title.slice(0, 47) + " - Flash Player Installation";
			var f = T.ie && T.win ? "ActiveX" : "PlugIn",
			l = "MMredirectURL=" + u.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + f + "&MMdoctitle=" + a.title;
			typeof n.flashvars != e ? n.flashvars += "&" + l : n.flashvars = l;
			if (T.ie && T.win && o.readyState != 4) {
				var c = U("div");
				r += "SWFObjectNew",
				c.setAttribute("id", r),
				o.parentNode.insertBefore(c, o),
				o.style.display = "none",
				function () {
					o.readyState == 4 ? o.parentNode.removeChild(o) : setTimeout(arguments.callee, 10)
				}
				()
			}
			j(t, n, r)
		}
	}
	function H(e) {
		if (T.ie && T.win && e.readyState != 4) {
			var t = U("div");
			e.parentNode.insertBefore(t, e),
			t.parentNode.replaceChild(B(e), t),
			e.style.display = "none",
			function () {
				e.readyState == 4 ? e.parentNode.removeChild(e) : setTimeout(arguments.callee, 10)
			}
			()
		} else
			e.parentNode.replaceChild(B(e), e)
	}
	function B(e) {
		var n = U("div");
		if (T.win && T.ie)
			n.innerHTML = e.innerHTML;
		else {
			var r = e.getElementsByTagName(t)[0];
			if (r) {
				var i = r.childNodes;
				if (i) {
					var s = i.length;
					for (var o = 0; o < s; o++)
						(i[o].nodeType != 1 || i[o].nodeName != "PARAM") && i[o].nodeType != 8 && n.appendChild(i[o].cloneNode(!0))
				}
			}
		}
		return n
	}
	function j(n, r, s) {
		var o,
		u = R(s);
		if (T.wk && T.wk < 312)
			return o;
		if (u) {
			typeof n.id == e && (n.id = s);
			if (T.ie && T.win) {
				var a = "";
				for (var f in n)
					n[f] != Object.prototype[f] && (f.toLowerCase() == "data" ? r.movie = n[f] : f.toLowerCase() == "styleclass" ? a += ' class="' + n[f] + '"' : f.toLowerCase() != "classid" && (a += " " + f + '="' + n[f] + '"'));
				var l = "";
				for (var c in r)
					r[c] != Object.prototype[c] && (l += '<param name="' + c + '" value="' + r[c] + '" />');
				u.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + a + ">" + l + "</object>",
				p[p.length] = n.id,
				o = R(n.id)
			} else {
				var h = U(t);
				h.setAttribute("type", i);
				for (var d in n)
					n[d] != Object.prototype[d] && (d.toLowerCase() == "styleclass" ? h.setAttribute("class", n[d]) : d.toLowerCase() != "classid" && h.setAttribute(d, n[d]));
				for (var v in r)
					r[v] != Object.prototype[v] && v.toLowerCase() != "movie" && F(h, v, r[v]);
				u.parentNode.replaceChild(h, u),
				o = h
			}
		}
		return o
	}
	function F(e, t, n) {
		var r = U("param");
		r.setAttribute("name", t),
		r.setAttribute("value", n),
		e.appendChild(r)
	}
	function I(e) {
		var t = R(e);
		t && t.nodeName == "OBJECT" && (T.ie && T.win ? (t.style.display = "none", function () {
				t.readyState == 4 ? q(e) : setTimeout(arguments.callee, 10)
			}
				()) : t.parentNode.removeChild(t))
	}
	function q(e) {
		var t = R(e);
		if (t) {
			for (var n in t)
				typeof t[n] == "function" && (t[n] = null);
			t.parentNode.removeChild(t)
		}
	}
	function R(e) {
		var t = null;
		try {
			t = a.getElementById(e)
		} catch (n) {}

		return t
	}
	function U(e) {
		return a.createElement(e)
	}
	function z(e, t, n) {
		e.attachEvent(t, n),
		d[d.length] = [e, t, n]
	}
	function W(e) {
		var t = T.pv,
		n = e.split(".");
		return n[0] = parseInt(n[0], 10),
		n[1] = parseInt(n[1], 10) || 0,
		n[2] = parseInt(n[2], 10) || 0,
		t[0] > n[0] || t[0] == n[0] && t[1] > n[1] || t[0] == n[0] && t[1] == n[1] && t[2] >= n[2] ? !0 : !1
	}
	function X(n, r, i, s) {
		if (T.ie && T.mac)
			return;
		var o = a.getElementsByTagName("head")[0];
		if (!o)
			return;
		var u = i && typeof i == "string" ? i : "screen";
		s && (E = null, S = null);
		if (!E || S != u) {
			var f = U("style");
			f.setAttribute("type", "text/css"),
			f.setAttribute("media", u),
			E = o.appendChild(f),
			T.ie && T.win && typeof a.styleSheets != e && a.styleSheets.length > 0 && (E = a.styleSheets[a.styleSheets.length - 1]),
			S = u
		}
		T.ie && T.win ? E && typeof E.addRule == t && E.addRule(n, r) : E && typeof a.createTextNode != e && E.appendChild(a.createTextNode(n + " {" + r + "}"))
	}
	function V(e, t) {
		if (!x)
			return;
		var n = t ? "visible" : "hidden";
		b && R(e) ? R(e).style.visibility = n : X("#" + e, "visibility:" + n)
	}
	function $(t) {
		var n = /[\\\"<>\.;]/,
		r = n.exec(t) != null;
		return r && typeof encodeURIComponent != e ? encodeURIComponent(t) : t
	}
	var e = "undefined",
	t = "object",
	n = "Shockwave Flash",
	r = "ShockwaveFlash.ShockwaveFlash",
	i = "application/x-shockwave-flash",
	s = "SWFObjectExprInst",
	o = "onreadystatechange",
	u = window,
	a = document,
	f = navigator,
	l = !1,
	c = [A],
	h = [],
	p = [],
	d = [],
	v,
	m,
	g,
	y,
	b = !1,
	w = !1,
	E,
	S,
	x = !0,
	T = function () {
		var s = typeof a.getElementById != e && typeof a.getElementsByTagName != e && typeof a.createElement != e,
		o = f.userAgent.toLowerCase(),
		c = f.platform.toLowerCase(),
		h = c ? /win/.test(c) : /win/.test(o),
		p = c ? /mac/.test(c) : /mac/.test(o),
		d = /webkit/.test(o) ? parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")) : !1,
		v = !1,
		m = [0, 0, 0],
		g = null;
		if (typeof f.plugins != e && typeof f.plugins[n] == t)
			g = f.plugins[n].description, g && (typeof f.mimeTypes == e || !f.mimeTypes[i] || !!f.mimeTypes[i].enabledPlugin) && (l = !0, v = !1, g = g.replace(/^.*\s+(\S+\s+\S+$)/, "$1"), m[0] = parseInt(g.replace(/^(.*)\..*$/, "$1"), 10), m[1] = parseInt(g.replace(/^.*\.(.*)\s.*$/, "$1"), 10), m[2] = /[a-zA-Z]/.test(g) ? parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
		else if (typeof u.ActiveXObject != e)
			try {
				var y = new ActiveXObject(r);
				y && (g = y.GetVariable("$version"), g && (v = !0, g = g.split(" ")[1].split(","), m = [parseInt(g[0], 10), parseInt(g[1], 10), parseInt(g[2], 10)]))
			} catch (b) {}

		return {
			w3 : s,
			pv : m,
			wk : d,
			ie : v,
			win : h,
			mac : p
		}
	}
	(),
	N = function () {
		if (!T.w3)
			return;
		(typeof a.readyState != e && a.readyState == "complete" || typeof a.readyState == e && (a.getElementsByTagName("body")[0] || a.body)) && C(),
		b || (typeof a.addEventListener != e && a.addEventListener("DOMContentLoaded", C, !1), T.ie && T.win && (a.attachEvent(o, function () {
					a.readyState == "complete" && (a.detachEvent(o, arguments.callee), C())
				}), u == top && function () {
				if (b)
					return;
				try {
					a.documentElement.doScroll("left")
				} catch (e) {
					setTimeout(arguments.callee, 0);
					return
				}
				C()
			}
				()), T.wk && function () {
			if (b)
				return;
			if (!/loaded|complete/.test(a.readyState)) {
				setTimeout(arguments.callee, 0);
				return
			}
			C()
		}
			(), L(C))
	}
	(),
	J = function () {
		T.ie && T.win && window.attachEvent("onunload", function () {
			var e = d.length;
			for (var t = 0; t < e; t++)
				d[t][0].detachEvent(d[t][1], d[t][2]);
			var n = p.length;
			for (var r = 0; r < n; r++)
				I(p[r]);
			for (var i in T)
				T[i] = null;
			T = null;
			for (var s in swfobject)
				swfobject[s] = null;
			swfobject = null
		})
	}
	();
	return {
		registerObject : function (e, t, n, r) {
			if (T.w3 && e && t) {
				var i = {};
				i.id = e,
				i.swfVersion = t,
				i.expressInstall = n,
				i.callbackFn = r,
				h[h.length] = i,
				V(e, !1)
			} else
				r && r({
					success : !1,
					id : e
				})
		},
		getObjectById : function (e) {
			if (T.w3)
				return _(e)
		},
		embedSWF : function (n, r, i, s, o, u, a, f, l, c) {
			var h = {
				success : !1,
				id : r
			};
			T.w3 && !(T.wk && T.wk < 312) && n && r && i && s && o ? (V(r, !1), k(function () {
					i += "",
					s += "";
					var p = {};
					if (l && typeof l === t)
						for (var d in l)
							p[d] = l[d];
					p.data = n,
					p.width = i,
					p.height = s;
					var v = {};
					if (f && typeof f === t)
						for (var m in f)
							v[m] = f[m];
					if (a && typeof a === t)
						for (var g in a)
							typeof v.flashvars != e ? v.flashvars += "&" + g + "=" + a[g] : v.flashvars = g + "=" + a[g];
					if (W(o)) {
						var y = j(p, v, r);
						p.id == r && V(r, !0),
						h.success = !0,
						h.ref = y
					} else {
						if (u && D()) {
							p.data = u,
							P(p, v, r, c);
							return
						}
						V(r, !0)
					}
					c && c(h)
				})) : c && c(h)
		},
		switchOffAutoHideShow : function () {
			x = !1
		},
		ua : T,
		getFlashPlayerVersion : function () {
			return {
				major : T.pv[0],
				minor : T.pv[1],
				release : T.pv[2]
			}
		},
		hasFlashPlayerVersion : W,
		createSWF : function (e, t, n) {
			return T.w3 ? j(e, t, n) : undefined
		},
		showExpressInstall : function (e, t, n, r) {
			T.w3 && D() && P(e, t, n, r)
		},
		removeSWF : function (e) {
			T.w3 && I(e)
		},
		createCSS : function (e, t, n, r) {
			T.w3 && X(e, t, n, r)
		},
		addDomLoadEvent : k,
		addLoadEvent : L,
		getQueryParamValue : function (e) {
			var t = a.location.search || a.location.hash;
			if (t) {
				/\?/.test(t) && (t = t.split("?")[1]);
				if (e == null)
					return $(t);
				var n = t.split("&");
				for (var r = 0; r < n.length; r++)
					if (n[r].substring(0, n[r].indexOf("=")) == e)
						return $(n[r].substring(n[r].indexOf("=") + 1))
			}
			return ""
		},
		expressInstallCallback : function () {
			if (w) {
				var e = R(s);
				e && v && (e.parentNode.replaceChild(v, e), m && (V(m, !0), T.ie && T.win && (v.style.display = "block")), g && g(y)),
				w = !1
			}
		}
	}
}
(), SWFUpload;
SWFUpload == undefined && (SWFUpload = function (e) {
	this.initSWFUpload(e)
}), SWFUpload.prototype.initSWFUpload = function (e) {
	try {
		this.customSettings = {},
		this.settings = e,
		this.eventQueue = [],
		this.movieName = "SWFUpload_" + SWFUpload.movieCount++,
		this.movieElement = null,
		SWFUpload.instances[this.movieName] = this,
		this.initSettings(),
		this.loadFlash(),
		this.displayDebugInfo()
	} catch (t) {
		throw delete SWFUpload.instances[this.movieName],
		t
	}
}, SWFUpload.instances = {}, SWFUpload.movieCount = 0, SWFUpload.version = "2.2.0 2009-03-25", SWFUpload.QUEUE_ERROR = {
	QUEUE_LIMIT_EXCEEDED : -100,
	FILE_EXCEEDS_SIZE_LIMIT : -110,
	ZERO_BYTE_FILE : -120,
	INVALID_FILETYPE : -130
}, SWFUpload.UPLOAD_ERROR = {
	HTTP_ERROR : -200,
	MISSING_UPLOAD_URL : -210,
	IO_ERROR : -220,
	SECURITY_ERROR : -230,
	UPLOAD_LIMIT_EXCEEDED : -240,
	UPLOAD_FAILED : -250,
	SPECIFIED_FILE_ID_NOT_FOUND : -260,
	FILE_VALIDATION_FAILED : -270,
	FILE_CANCELLED : -280,
	UPLOAD_STOPPED : -290
}, SWFUpload.FILE_STATUS = {
	QUEUED : -1,
	IN_PROGRESS : -2,
	ERROR : -3,
	COMPLETE : -4,
	CANCELLED : -5
}, SWFUpload.BUTTON_ACTION = {
	SELECT_FILE : -100,
	SELECT_FILES : -110,
	START_UPLOAD : -120
}, SWFUpload.CURSOR = {
	ARROW : -1,
	HAND : -2
}, SWFUpload.WINDOW_MODE = {
	WINDOW : "window",
	TRANSPARENT : "transparent",
	OPAQUE : "opaque"
}, SWFUpload.completeURL = function (e) {
	if (typeof e != "string" || e.match(/^https?:\/\//i) || e.match(/^\//))
		return e;
	var t = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : ""),
	n = window.location.pathname.lastIndexOf("/");
	return n <= 0 ? path = "/" : path = window.location.pathname.substr(0, n) + "/",
	path + e
}, SWFUpload.prototype.initSettings = function () {
	this.ensureDefault = function (e, t) {
		this.settings[e] = this.settings[e] == undefined ? t : this.settings[e]
	},
	this.ensureDefault("upload_url", ""),
	this.ensureDefault("preserve_relative_urls", !1),
	this.ensureDefault("file_post_name", "Filedata"),
	this.ensureDefault("post_params", {}),
	this.ensureDefault("use_query_string", !1),
	this.ensureDefault("requeue_on_error", !1),
	this.ensureDefault("http_success", []),
	this.ensureDefault("assume_success_timeout", 0),
	this.ensureDefault("file_types", "*.*"),
	this.ensureDefault("file_types_description", "All Files"),
	this.ensureDefault("file_size_limit", 0),
	this.ensureDefault("file_upload_limit", 0),
	this.ensureDefault("file_queue_limit", 0),
	this.ensureDefault("flash_url", "swfupload.swf"),
	this.ensureDefault("prevent_swf_caching", !0),
	this.ensureDefault("button_image_url", ""),
	this.ensureDefault("button_width", 1),
	this.ensureDefault("button_height", 1),
	this.ensureDefault("button_text", ""),
	this.ensureDefault("button_text_style", "color: #000000; font-size: 16pt;"),
	this.ensureDefault("button_text_top_padding", 0),
	this.ensureDefault("button_text_left_padding", 0),
	this.ensureDefault("button_action", SWFUpload.BUTTON_ACTION.SELECT_FILES),
	this.ensureDefault("button_disabled", !1),
	this.ensureDefault("button_placeholder_id", ""),
	this.ensureDefault("button_placeholder", null),
	this.ensureDefault("button_cursor", SWFUpload.CURSOR.ARROW),
	this.ensureDefault("button_window_mode", SWFUpload.WINDOW_MODE.WINDOW),
	this.ensureDefault("debug", !1),
	this.settings.debug_enabled = this.settings.debug,
	this.settings.return_upload_start_handler = this.returnUploadStart,
	this.ensureDefault("swfupload_loaded_handler", null),
	this.ensureDefault("file_dialog_start_handler", null),
	this.ensureDefault("file_queued_handler", null),
	this.ensureDefault("file_queue_error_handler", null),
	this.ensureDefault("file_dialog_complete_handler", null),
	this.ensureDefault("upload_start_handler", null),
	this.ensureDefault("upload_progress_handler", null),
	this.ensureDefault("upload_error_handler", null),
	this.ensureDefault("upload_success_handler", null),
	this.ensureDefault("upload_complete_handler", null),
	this.ensureDefault("debug_handler", this.debugMessage),
	this.ensureDefault("custom_settings", {}),
	this.customSettings = this.settings.custom_settings,
	!this.settings.prevent_swf_caching || (this.settings.flash_url = this.settings.flash_url + (this.settings.flash_url.indexOf("?") < 0 ? "?" : "&") + "preventswfcaching=" + (new Date).getTime()),
	this.settings.preserve_relative_urls || (this.settings.upload_url = SWFUpload.completeURL(this.settings.upload_url), this.settings.button_image_url = SWFUpload.completeURL(this.settings.button_image_url)),
	delete this.ensureDefault
}, SWFUpload.prototype.loadFlash = function () {
	var e,
	t;
	if (document.getElementById(this.movieName) !== null)
		throw "ID " + this.movieName + " is already in use. The Flash Object could not be added";
	e = document.getElementById(this.settings.button_placeholder_id) || this.settings.button_placeholder;
	if (e == undefined)
		throw "Could not find the placeholder element: " + this.settings.button_placeholder_id;
	t = document.createElement("div"),
	t.innerHTML = this.getFlashHTML(),
	e.parentNode.replaceChild(t.firstChild, e),
	window[this.movieName] == undefined && (window[this.movieName] = this.getMovieElement())
}, SWFUpload.prototype.getFlashHTML = function () {
	return ['<object id="', this.movieName, '" type="application/x-shockwave-flash" data="', this.settings.flash_url, '" width="', this.settings.button_width, '" height="', this.settings.button_height, '" class="swfupload">', '<param name="wmode" value="', this.settings.button_window_mode, '" />', '<param name="movie" value="', this.settings.flash_url, '" />', '<param name="quality" value="high" />', '<param name="menu" value="false" />', '<param name="allowScriptAccess" value="always" />', '<param name="flashvars" value="' + this.getFlashVars() + '" />', "</object>"].join("")
}, SWFUpload.prototype.getFlashVars = function () {
	var e = this.buildParamString(),
	t = this.settings.http_success.join(",");
	return ["movieName=", encodeURIComponent(this.movieName), "&amp;uploadURL=", encodeURIComponent(this.settings.upload_url), "&amp;useQueryString=", encodeURIComponent(this.settings.use_query_string), "&amp;requeueOnError=", encodeURIComponent(this.settings.requeue_on_error), "&amp;httpSuccess=", encodeURIComponent(t), "&amp;assumeSuccessTimeout=", encodeURIComponent(this.settings.assume_success_timeout), "&amp;params=", encodeURIComponent(e), "&amp;filePostName=", encodeURIComponent(this.settings.file_post_name), "&amp;fileTypes=", encodeURIComponent(this.settings.file_types), "&amp;fileTypesDescription=", encodeURIComponent(this.settings.file_types_description), "&amp;fileSizeLimit=", encodeURIComponent(this.settings.file_size_limit), "&amp;fileUploadLimit=", encodeURIComponent(this.settings.file_upload_limit), "&amp;fileQueueLimit=", encodeURIComponent(this.settings.file_queue_limit), "&amp;debugEnabled=", encodeURIComponent(this.settings.debug_enabled), "&amp;buttonImageURL=", encodeURIComponent(this.settings.button_image_url), "&amp;buttonWidth=", encodeURIComponent(this.settings.button_width), "&amp;buttonHeight=", encodeURIComponent(this.settings.button_height), "&amp;buttonText=", encodeURIComponent(this.settings.button_text), "&amp;buttonTextTopPadding=", encodeURIComponent(this.settings.button_text_top_padding), "&amp;buttonTextLeftPadding=", encodeURIComponent(this.settings.button_text_left_padding), "&amp;buttonTextStyle=", encodeURIComponent(this.settings.button_text_style), "&amp;buttonAction=", encodeURIComponent(this.settings.button_action), "&amp;buttonDisabled=", encodeURIComponent(this.settings.button_disabled), "&amp;buttonCursor=", encodeURIComponent(this.settings.button_cursor)].join("")
}, SWFUpload.prototype.getMovieElement = function () {
	this.movieElement == undefined && (this.movieElement = document.getElementById(this.movieName));
	if (this.movieElement === null)
		throw "Could not find Flash element";
	return this.movieElement
}, SWFUpload.prototype.buildParamString = function () {
	var e = this.settings.post_params,
	t = [];
	if (typeof e == "object")
		for (var n in e)
			e.hasOwnProperty(n) && t.push(encodeURIComponent(n.toString()) + "=" + encodeURIComponent(e[n].toString()));
	return t.join("&amp;")
}, SWFUpload.prototype.destroy = function () {
	try {
		this.cancelUpload(null, !1);
		var e = null;
		e = this.getMovieElement();
		if (e && typeof e.CallFunction == "unknown") {
			for (var t in e)
				try {
					typeof e[t] == "function" && (e[t] = null)
				} catch (n) {}

			try {
				e.parentNode.removeChild(e)
			} catch (r) {}

		}
		return window[this.movieName] = null,
		SWFUpload.instances[this.movieName] = null,
		delete SWFUpload.instances[this.movieName],
		this.movieElement = null,
		this.settings = null,
		this.customSettings = null,
		this.eventQueue = null,
		this.movieName = null,
		!0
	} catch (i) {
		return !1
	}
}, SWFUpload.prototype.displayDebugInfo = function () {
	this.debug(["---SWFUpload Instance Info---\n", "Version: ", SWFUpload.version, "\n", "Movie Name: ", this.movieName, "\n", "Settings:\n", "	", "upload_url:               ", this.settings.upload_url, "\n", "	", "flash_url:                ", this.settings.flash_url, "\n", "	", "use_query_string:         ", this.settings.use_query_string.toString(), "\n", "	", "requeue_on_error:         ", this.settings.requeue_on_error.toString(), "\n", "	", "http_success:             ", this.settings.http_success.join(", "), "\n", "	", "assume_success_timeout:   ", this.settings.assume_success_timeout, "\n", "	", "file_post_name:           ", this.settings.file_post_name, "\n", "	", "post_params:              ", this.settings.post_params.toString(), "\n", "	", "file_types:               ", this.settings.file_types, "\n", "	", "file_types_description:   ", this.settings.file_types_description, "\n", "	", "file_size_limit:          ", this.settings.file_size_limit, "\n", "	", "file_upload_limit:        ", this.settings.file_upload_limit, "\n", "	", "file_queue_limit:         ", this.settings.file_queue_limit, "\n", "	", "debug:                    ", this.settings.debug.toString(), "\n", "	", "prevent_swf_caching:      ", this.settings.prevent_swf_caching.toString(), "\n", "	", "button_placeholder_id:    ", this.settings.button_placeholder_id.toString(), "\n", "	", "button_placeholder:       ", this.settings.button_placeholder ? "Set" : "Not Set", "\n", "	", "button_image_url:         ", this.settings.button_image_url.toString(), "\n", "	", "button_width:             ", this.settings.button_width.toString(), "\n", "	", "button_height:            ", this.settings.button_height.toString(), "\n", "	", "button_text:              ", this.settings.button_text.toString(), "\n", "	", "button_text_style:        ", this.settings.button_text_style.toString(), "\n", "	", "button_text_top_padding:  ", this.settings.button_text_top_padding.toString(), "\n", "	", "button_text_left_padding: ", this.settings.button_text_left_padding.toString(), "\n", "	", "button_action:            ", this.settings.button_action.toString(), "\n", "	", "button_disabled:          ", this.settings.button_disabled.toString(), "\n", "	", "custom_settings:          ", this.settings.custom_settings.toString(), "\n", "Event Handlers:\n", "	", "swfupload_loaded_handler assigned:  ", (typeof this.settings.swfupload_loaded_handler == "function").toString(), "\n", "	", "file_dialog_start_handler assigned: ", (typeof this.settings.file_dialog_start_handler == "function").toString(), "\n", "	", "file_queued_handler assigned:       ", (typeof this.settings.file_queued_handler == "function").toString(), "\n", "	", "file_queue_error_handler assigned:  ", (typeof this.settings.file_queue_error_handler == "function").toString(), "\n", "	", "upload_start_handler assigned:      ", (typeof this.settings.upload_start_handler == "function").toString(), "\n", "	", "upload_progress_handler assigned:   ", (typeof this.settings.upload_progress_handler == "function").toString(), "\n", "	", "upload_error_handler assigned:      ", (typeof this.settings.upload_error_handler == "function").toString(), "\n", "	", "upload_success_handler assigned:    ", (typeof this.settings.upload_success_handler == "function").toString(), "\n", "	", "upload_complete_handler assigned:   ", (typeof this.settings.upload_complete_handler == "function").toString(), "\n", "	", "debug_handler assigned:             ", (typeof this.settings.debug_handler == "function").toString(), "\n"].join(""))
}, SWFUpload.prototype.addSetting = function (e, t, n) {
	return t == undefined ? this.settings[e] = n : this.settings[e] = t
}, SWFUpload.prototype.getSetting = function (e) {
	return this.settings[e] != undefined ? this.settings[e] : ""
}, SWFUpload.prototype.callFlash = function (functionName, argumentArray) {
	argumentArray = argumentArray || [];
	var movieElement = this.getMovieElement(),
	returnValue,
	returnString;
	try {
		returnString = movieElement.CallFunction('<invoke name="' + functionName + '" returntype="javascript">' + __flash__argumentsToXML(argumentArray, 0) + "</invoke>"),
		returnValue = eval(returnString)
	} catch (ex) {
		throw "Call to " + functionName + " failed"
	}
	return returnValue != undefined && typeof returnValue.post == "object" && (returnValue = this.unescapeFilePostParams(returnValue)),
	returnValue
}, SWFUpload.prototype.selectFile = function () {
	this.callFlash("SelectFile")
}, SWFUpload.prototype.selectFiles = function () {
	this.callFlash("SelectFiles")
}, SWFUpload.prototype.startUpload = function (e) {
	this.callFlash("StartUpload", [e])
}, SWFUpload.prototype.cancelUpload = function (e, t) {
	t !== !1 && (t = !0),
	this.callFlash("CancelUpload", [e, t])
}, SWFUpload.prototype.stopUpload = function () {
	this.callFlash("StopUpload")
}, SWFUpload.prototype.getStats = function () {
	return this.callFlash("GetStats")
}, SWFUpload.prototype.setStats = function (e) {
	this.callFlash("SetStats", [e])
}, SWFUpload.prototype.getFile = function (e) {
	return typeof e == "number" ? this.callFlash("GetFileByIndex", [e]) : this.callFlash("GetFile", [e])
}, SWFUpload.prototype.addFileParam = function (e, t, n) {
	return this.callFlash("AddFileParam", [e, t, n])
}, SWFUpload.prototype.removeFileParam = function (e, t) {
	this.callFlash("RemoveFileParam", [e, t])
}, SWFUpload.prototype.setUploadURL = function (e) {
	this.settings.upload_url = e.toString(),
	this.callFlash("SetUploadURL", [e])
}, SWFUpload.prototype.setPostParams = function (e) {
	this.settings.post_params = e,
	this.callFlash("SetPostParams", [e])
}, SWFUpload.prototype.addPostParam = function (e, t) {
	this.settings.post_params[e] = t,
	this.callFlash("SetPostParams", [this.settings.post_params])
}, SWFUpload.prototype.removePostParam = function (e) {
	delete this.settings.post_params[e],
	this.callFlash("SetPostParams", [this.settings.post_params])
}, SWFUpload.prototype.setFileTypes = function (e, t) {
	this.settings.file_types = e,
	this.settings.file_types_description = t,
	this.callFlash("SetFileTypes", [e, t])
}, SWFUpload.prototype.setFileSizeLimit = function (e) {
	this.settings.file_size_limit = e,
	this.callFlash("SetFileSizeLimit", [e])
}, SWFUpload.prototype.setFileUploadLimit = function (e) {
	this.settings.file_upload_limit = e,
	this.callFlash("SetFileUploadLimit", [e])
}, SWFUpload.prototype.setFileQueueLimit = function (e) {
	this.settings.file_queue_limit = e,
	this.callFlash("SetFileQueueLimit", [e])
}, SWFUpload.prototype.setFilePostName = function (e) {
	this.settings.file_post_name = e,
	this.callFlash("SetFilePostName", [e])
}, SWFUpload.prototype.setUseQueryString = function (e) {
	this.settings.use_query_string = e,
	this.callFlash("SetUseQueryString", [e])
}, SWFUpload.prototype.setRequeueOnError = function (e) {
	this.settings.requeue_on_error = e,
	this.callFlash("SetRequeueOnError", [e])
}, SWFUpload.prototype.setHTTPSuccess = function (e) {
	typeof e == "string" && (e = e.replace(" ", "").split(",")),
	this.settings.http_success = e,
	this.callFlash("SetHTTPSuccess", [e])
}, SWFUpload.prototype.setAssumeSuccessTimeout = function (e) {
	this.settings.assume_success_timeout = e,
	this.callFlash("SetAssumeSuccessTimeout", [e])
}, SWFUpload.prototype.setDebugEnabled = function (e) {
	this.settings.debug_enabled = e,
	this.callFlash("SetDebugEnabled", [e])
}, SWFUpload.prototype.setButtonImageURL = function (e) {
	e == undefined && (e = ""),
	this.settings.button_image_url = e,
	this.callFlash("SetButtonImageURL", [e])
}, SWFUpload.prototype.setButtonDimensions = function (e, t) {
	this.settings.button_width = e,
	this.settings.button_height = t;
	var n = this.getMovieElement();
	n != undefined && (n.style.width = e + "px", n.style.height = t + "px"),
	this.callFlash("SetButtonDimensions", [e, t])
}, SWFUpload.prototype.setButtonText = function (e) {
	this.settings.button_text = e,
	this.callFlash("SetButtonText", [e])
}, SWFUpload.prototype.setButtonTextPadding = function (e, t) {
	this.settings.button_text_top_padding = t,
	this.settings.button_text_left_padding = e,
	this.callFlash("SetButtonTextPadding", [e, t])
}, SWFUpload.prototype.setButtonTextStyle = function (e) {
	this.settings.button_text_style = e,
	this.callFlash("SetButtonTextStyle", [e])
}, SWFUpload.prototype.setButtonDisabled = function (e) {
	this.settings.button_disabled = e,
	this.callFlash("SetButtonDisabled", [e])
}, SWFUpload.prototype.setButtonAction = function (e) {
	this.settings.button_action = e,
	this.callFlash("SetButtonAction", [e])
}, SWFUpload.prototype.setButtonCursor = function (e) {
	this.settings.button_cursor = e,
	this.callFlash("SetButtonCursor", [e])
}, SWFUpload.prototype.queueEvent = function (e, t) {
	t == undefined ? t = [] : t instanceof Array || (t = [t]);
	var n = this;
	if (typeof this.settings[e] == "function")
		this.eventQueue.push(function () {
			this.settings[e].apply(this, t)
		}), setTimeout(function () {
			n.executeNextEvent()
		}, 0);
	else if (this.settings[e] !== null)
		throw "Event handler " + e + " is unknown or is not a function"
}, SWFUpload.prototype.executeNextEvent = function () {
	var e = this.eventQueue ? this.eventQueue.shift() : null;
	typeof e == "function" && e.apply(this)
}, SWFUpload.prototype.unescapeFilePostParams = function (e) {
	var t = /[$]([0-9a-f]{4})/i,
	n = {},
	r;
	if (e != undefined) {
		for (var i in e.post)
			if (e.post.hasOwnProperty(i)) {
				r = i;
				var s;
				while ((s = t.exec(r)) !== null)
					r = r.replace(s[0], String.fromCharCode(parseInt("0x" + s[1], 16)));
				n[r] = e.post[i]
			}
		e.post = n
	}
	return e
}, SWFUpload.prototype.testExternalInterface = function () {
	try {
		return this.callFlash("TestExternalInterface")
	} catch (e) {
		return !1
	}
}, SWFUpload.prototype.flashReady = function () {
	var e = this.getMovieElement();
	if (!e) {
		this.debug("Flash called back ready but the flash movie can't be found.");
		return
	}
	this.cleanUp(e),
	this.queueEvent("swfupload_loaded_handler")
}, SWFUpload.prototype.cleanUp = function (e) {
	try {
		if (this.movieElement && typeof e.CallFunction == "unknown") {
			this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");
			for (var t in e)
				try {
					typeof e[t] == "function" && (e[t] = null)
				} catch (n) {}

		}
	} catch (r) {}

	window.__flash__removeCallback = function (e, t) {
		try {
			e && (e[t] = null)
		} catch (n) {}

	}
}, SWFUpload.prototype.fileDialogStart = function () {
	this.queueEvent("file_dialog_start_handler")
}, SWFUpload.prototype.fileQueued = function (e) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("file_queued_handler", e)
}, SWFUpload.prototype.fileQueueError = function (e, t, n) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("file_queue_error_handler", [e, t, n])
}, SWFUpload.prototype.fileDialogComplete = function (e, t, n) {
	this.queueEvent("file_dialog_complete_handler", [e, t, n])
}, SWFUpload.prototype.uploadStart = function (e) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("return_upload_start_handler", e)
}, SWFUpload.prototype.returnUploadStart = function (e) {
	var t;
	if (typeof this.settings.upload_start_handler == "function")
		e = this.unescapeFilePostParams(e), t = this.settings.upload_start_handler.call(this, e);
	else if (this.settings.upload_start_handler != undefined)
		throw "upload_start_handler must be a function";
	t === undefined && (t = !0),
	t = !!t,
	this.callFlash("ReturnUploadStart", [t])
}, SWFUpload.prototype.uploadProgress = function (e, t, n) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("upload_progress_handler", [e, t, n])
}, SWFUpload.prototype.uploadError = function (e, t, n) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("upload_error_handler", [e, t, n])
}, SWFUpload.prototype.uploadSuccess = function (e, t, n) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("upload_success_handler", [e, t, n])
}, SWFUpload.prototype.uploadComplete = function (e) {
	e = this.unescapeFilePostParams(e),
	this.queueEvent("upload_complete_handler", e)
}, SWFUpload.prototype.debug = function (e) {
	this.queueEvent("debug_handler", e)
}, SWFUpload.prototype.debugMessage = function (e) {
	if (this.settings.debug) {
		var t,
		n = [];
		if (typeof e == "object" && typeof e.name == "string" && typeof e.message == "string") {
			for (var r in e)
				e.hasOwnProperty(r) && n.push(r + ": " + e[r]);
			t = n.join("\n") || "",
			n = t.split("\n"),
			t = "EXCEPTION: " + n.join("\nEXCEPTION: "),
			SWFUpload.Console.writeLine(t)
		} else
			SWFUpload.Console.writeLine(e)
	}
}, SWFUpload.Console = {}, SWFUpload.Console.writeLine = function (e) {
	var t,
	n;
	try {
		t = document.getElementById("SWFUpload_Console"),
		t || (n = document.createElement("form"), document.getElementsByTagName("body")[0].appendChild(n), t = document.createElement("textarea"), t.id = "SWFUpload_Console", t.style.fontFamily = "monospace", t.setAttribute("wrap", "off"), t.wrap = "off", t.style.overflow = "auto", t.style.width = "700px", t.style.height = "350px", t.style.margin = "5px", n.appendChild(t)),
		t.value += e + "\n",
		t.scrollTop = t.scrollHeight - t.clientHeight
	} catch (r) {
		alert("Exception: " + r.name + " Message: " + r.message)
	}
}, function (e) {
	var t = {
		init : function (t, r) {
			return this.each(function () {
				var i = e(this),
				s = i.clone(),
				o = e.extend({
						id : i.attr("id"),
						swf : "uploadify.swf",
						uploader : "uploadify.php",
						auto : !0,
						buttonClass : "",
						buttonCursor : "hand",
						buttonImage : null,
						buttonText : "SELECT FILES",
						checkExisting : !1,
						debug : !1,
						fileObjName : "Filedata",
						fileSizeLimit : 0,
						fileTypeDesc : "All Files",
						fileTypeExts : "*.*",
						height : 30,
						itemTemplate : !1,
						method : "post",
						multi : !0,
						formData : {},
						preventCaching : !0,
						progressData : "percentage",
						queueID : !1,
						queueSizeLimit : 999,
						removeCompleted : !0,
						removeTimeout : 3,
						requeueErrors : !1,
						successTimeout : 30,
						uploadLimit : 0,
						width : 120,
						overrideEvents : []
					}, t),
				u = {
					assume_success_timeout : o.successTimeout,
					button_placeholder_id : o.id,
					button_width : o.width,
					button_height : o.height,
					button_text : null,
					button_text_style : null,
					button_text_top_padding : 0,
					button_text_left_padding : 0,
					button_action : o.multi ? SWFUpload.BUTTON_ACTION.SELECT_FILES : SWFUpload.BUTTON_ACTION.SELECT_FILE,
					button_disabled : !1,
					button_cursor : o.buttonCursor == "arrow" ? SWFUpload.CURSOR.ARROW : SWFUpload.CURSOR.HAND,
					button_window_mode : SWFUpload.WINDOW_MODE.TRANSPARENT,
					debug : o.debug,
					requeue_on_error : o.requeueErrors,
					file_post_name : o.fileObjName,
					file_size_limit : o.fileSizeLimit,
					file_types : o.fileTypeExts,
					file_types_description : o.fileTypeDesc,
					file_queue_limit : o.queueSizeLimit,
					file_upload_limit : o.uploadLimit,
					flash_url : o.swf,
					prevent_swf_caching : o.preventCaching,
					post_params : o.formData,
					upload_url : o.uploader,
					use_query_string : o.method == "get",
					file_dialog_complete_handler : n.onDialogClose,
					file_dialog_start_handler : n.onDialogOpen,
					file_queued_handler : n.onSelect,
					file_queue_error_handler : n.onSelectError,
					swfupload_loaded_handler : o.onSWFReady,
					upload_complete_handler : n.onUploadComplete,
					upload_error_handler : n.onUploadError,
					upload_progress_handler : n.onUploadProgress,
					upload_start_handler : n.onUploadStart,
					upload_success_handler : n.onUploadSuccess
				};
				r && (u = e.extend(u, r)),
				u = e.extend(u, o);
				var a = swfobject.getFlashPlayerVersion(),
				f = a.major >= 9;
				if (f) {
					window["uploadify_" + o.id] = new SWFUpload(u);
					var l = window["uploadify_" + o.id];
					i.data("uploadify", l);
					var c = e("<div />", {
							id : o.id,
							"class" : "uploadify",
							css : {
								height : o.height + "px",
								width : o.width + "px"
							}
						});
					e("#" + l.movieName).wrap(c),
					c = e("#" + o.id),
					c.data("uploadify", l);
					var h = e("<div />", {
							id : o.id + "-button",
							"class" : "uploadify-button " + o.buttonClass
						});
					o.buttonImage && h.css({
						"background-image" : "url('" + o.buttonImage + "')",
						"text-indent" : "-9999px"
					}),
					h.html('<span class="uploadify-button-text">' + o.buttonText + "</span>").css({
						height : o.height + "px",
						"line-height" : o.height + "px",
						width : o.width + "px"
					}),
					c.append(h),
					e("#" + l.movieName).css({
						position : "absolute",
						"z-index" : 1
					});
					if (!o.queueID) {
						var p = e("<div />", {
								id : o.id + "-queue",
								"class" : "uploadify-queue"
							});
						c.after(p),
						l.settings.queueID = o.id + "-queue",
						l.settings.defaultQueue = !0
					}
					l.queueData = {
						files : {},
						filesSelected : 0,
						filesQueued : 0,
						filesReplaced : 0,
						filesCancelled : 0,
						filesErrored : 0,
						uploadsSuccessful : 0,
						uploadsErrored : 0,
						averageSpeed : 0,
						queueLength : 0,
						queueSize : 0,
						uploadSize : 0,
						queueBytesUploaded : 0,
						uploadQueue : [],
						errorMsg : "Some files were not added to the queue:"
					},
					l.original = s,
					l.wrapper = c,
					l.button = h,
					l.queue = p,
					o.onInit && o.onInit.call(i, l)
				} else
					o.onFallback && o.onFallback.call(i)
			})
		},
		cancel : function (t, n) {
			var r = arguments;
			this.each(function () {
				var t = e(this),
				n = t.data("uploadify"),
				i = n.settings,
				s = -1;
				if (r[0])
					if (r[0] == "*") {
						var o = n.queueData.queueLength;
						e("#" + i.queueID).find(".uploadify-queue-item").each(function () {
							s++,
							r[1] === !0 ? n.cancelUpload(e(this).attr("id"), !1) : n.cancelUpload(e(this).attr("id")),
							e(this).find(".data").removeClass("data").html(" - Cancelled"),
							e(this).find(".uploadify-progress-bar").remove(),
							e(this).delay(1e3 + 100 * s).fadeOut(500, function () {
								e(this).remove()
							})
						}),
						n.queueData.queueSize = 0,
						n.queueData.queueLength = 0,
						i.onClearQueue && i.onClearQueue.call(t, o)
					} else
						for (var u = 0; u < r.length; u++)
							n.cancelUpload(r[u]), e("#" + r[u]).find(".data").removeClass("data").html(" - Cancelled"), e("#" + r[u]).find(".uploadify-progress-bar").remove(), e("#" + r[u]).delay(1e3 + 100 * u).fadeOut(500, function () {
								e(this).remove()
							});
				else {
					var a = e("#" + i.queueID).find(".uploadify-queue-item").get(0);
					$item = e(a),
					n.cancelUpload($item.attr("id")),
					$item.find(".data").removeClass("data").html(" - Cancelled"),
					$item.find(".uploadify-progress-bar").remove(),
					$item.delay(1e3).fadeOut(500, function () {
						e(this).remove()
					})
				}
			})
		},
		destroy : function () {
			this.each(function () {
				var t = e(this),
				n = t.data("uploadify"),
				r = n.settings;
				n.destroy(),
				r.defaultQueue && e("#" + r.queueID).remove(),
				e("#" + r.id).replaceWith(n.original),
				r.onDestroy && r.onDestroy.call(this),
				delete n
			})
		},
		disable : function (t) {
			this.each(function () {
				var n = e(this),
				r = n.data("uploadify"),
				i = r.settings;
				t ? (r.button.addClass("disabled"), i.onDisable && i.onDisable.call(this)) : (r.button.removeClass("disabled"), i.onEnable && i.onEnable.call(this)),
				r.setButtonDisabled(t)
			})
		},
		settings : function (t, n, r) {
			var i = arguments,
			s = n;
			this.each(function () {
				var o = e(this),
				u = o.data("uploadify"),
				a = u.settings;
				if (typeof i[0] == "object")
					for (var f in n)
						setData(f, n[f]);
				if (i.length === 1)
					s = a[t];
				else {
					switch (t) {
					case "uploader":
						u.setUploadURL(n);
						break;
					case "formData":
						r || (n = e.extend(a.formData, n)),
						u.setPostParams(a.formData);
						break;
					case "method":
						n == "get" ? u.setUseQueryString(!0) : u.setUseQueryString(!1);
						break;
					case "fileObjName":
						u.setFilePostName(n);
						break;
					case "fileTypeExts":
						u.setFileTypes(n, a.fileTypeDesc);
						break;
					case "fileTypeDesc":
						u.setFileTypes(a.fileTypeExts, n);
						break;
					case "fileSizeLimit":
						u.setFileSizeLimit(n);
						break;
					case "uploadLimit":
						u.setFileUploadLimit(n);
						break;
					case "queueSizeLimit":
						u.setFileQueueLimit(n);
						break;
					case "buttonImage":
						u.button.css("background-image", settingValue);
						break;
					case "buttonCursor":
						n == "arrow" ? u.setButtonCursor(SWFUpload.CURSOR.ARROW) : u.setButtonCursor(SWFUpload.CURSOR.HAND);
						break;
					case "buttonText":
						e("#" + a.id + "-button").find(".uploadify-button-text").html(n);
						break;
					case "width":
						u.setButtonDimensions(n, a.height);
						break;
					case "height":
						u.setButtonDimensions(a.width, n);
						break;
					case "multi":
						n ? u.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILES) : u.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILE)
					}
					a[t] = n
				}
			});
			if (i.length === 1)
				return s
		},
		stop : function () {
			this.each(function () {
				var t = e(this),
				n = t.data("uploadify");
				n.queueData.averageSpeed = 0,
				n.queueData.uploadSize = 0,
				n.queueData.bytesUploaded = 0,
				n.queueData.uploadQueue = [],
				n.stopUpload()
			})
		},
		upload : function () {
			var t = arguments;
			this.each(function () {
				var n = e(this),
				r = n.data("uploadify");
				r.queueData.averageSpeed = 0,
				r.queueData.uploadSize = 0,
				r.queueData.bytesUploaded = 0,
				r.queueData.uploadQueue = [];
				if (t[0])
					if (t[0] == "*")
						r.queueData.uploadSize = r.queueData.queueSize, r.queueData.uploadQueue.push("*"), r.startUpload();
					else {
						for (var i = 0; i < t.length; i++)
							r.queueData.uploadSize += r.queueData.files[t[i]].size, r.queueData.uploadQueue.push(t[i]);
						r.startUpload(r.queueData.uploadQueue.shift())
					}
				else
					r.startUpload()
			})
		}
	},
	n = {
		onDialogOpen : function () {
			var e = this.settings;
			this.queueData.errorMsg = "Some files were not added to the queue:",
			this.queueData.filesReplaced = 0,
			this.queueData.filesCancelled = 0,
			e.onDialogOpen && e.onDialogOpen.call(this)
		},
		onDialogClose : function (t, n, r) {
			var i = this.settings;
			this.queueData.filesErrored = t - n,
			this.queueData.filesSelected = t,
			this.queueData.filesQueued = n - this.queueData.filesCancelled,
			this.queueData.queueLength = r,
			e.inArray("onDialogClose", i.overrideEvents) < 0 && this.queueData.filesErrored > 0 && alert(this.queueData.errorMsg),
			i.onDialogClose && i.onDialogClose.call(this, this.queueData),
			i.auto && e("#" + i.id).uploadify("upload", "*")
		},
		onSelect : function (t) {
			var n = this.settings,
			r = {};
			for (var i in this.queueData.files) {
				r = this.queueData.files[i];
				if (r.uploaded != 1 && r.name == t.name) {
					var s = confirm('The file named "' + t.name + '" is already in the queue.\nDo you want to replace the existing item in the queue?');
					if (!s)
						return this.cancelUpload(t.id), this.queueData.filesCancelled++, !1;
					e("#" + r.id).remove(),
					this.cancelUpload(r.id),
					this.queueData.filesReplaced++
				}
			}
			var o = Math.round(t.size / 1024),
			u = "KB";
			o > 1e3 && (o = Math.round(o / 1e3), u = "MB");
			var a = o.toString().split(".");
			o = a[0],
			a.length > 1 && (o += "." + a[1].substr(0, 2)),
			o += u;
			var f = t.name;
			f.length > 25 && (f = f.substr(0, 25) + "..."),
			itemData = {
				fileID : t.id,
				instanceID : n.id,
				fileName : f,
				fileSize : o
			},
			n.itemTemplate == 0 && (n.itemTemplate = '<div id="${fileID}" class="uploadify-queue-item">					<div class="cancel">						<a href="javascript:$(\'#${instanceID}\').uploadify(\'cancel\', \'${fileID}\')">X</a>					</div>					<span class="fileName">${fileName} (${fileSize})</span><span class="data"></span>					<div class="uploadify-progress">						<div class="uploadify-progress-bar"><!--Progress Bar--></div>					</div>				</div>');
			if (e.inArray("onSelect", n.overrideEvents) < 0) {
				itemHTML = n.itemTemplate;
				for (var l in itemData)
					itemHTML = itemHTML.replace(new RegExp("\\$\\{" + l + "\\}", "g"), itemData[l]);
				e("#" + n.queueID).append(itemHTML)
			}
			this.queueData.queueSize += t.size,
			this.queueData.files[t.id] = t,
			n.onSelect && n.onSelect.apply(this, arguments)
		},
		onSelectError : function (t, n, r) {
			var i = this.settings;
			if (e.inArray("onSelectError", i.overrideEvents) < 0)
				switch (n) {
				case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
					i.queueSizeLimit > r ? this.queueData.errorMsg += "\nThe number of files selected exceeds the remaining upload limit (" + r + ")." : this.queueData.errorMsg += "\nThe number of files selected exceeds the queue size limit (" + i.queueSizeLimit + ").";
					break;
				case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
					this.queueData.errorMsg += '\nThe file "' + t.name + '" exceeds the size limit (' + i.fileSizeLimit + ").";
					break;
				case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:
					this.queueData.errorMsg += '\nThe file "' + t.name + '" is empty.';
					break;
				case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
					this.queueData.errorMsg += '\nThe file "' + t.name + '" is not an accepted file type (' + i.fileTypeDesc + ")."
				}
			n != SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED && delete this.queueData.files[t.id],
			i.onSelectError && i.onSelectError.apply(this, arguments)
		},
		onQueueComplete : function () {
			this.settings.onQueueComplete && this.settings.onQueueComplete.call(this, this.settings.queueData)
		},
		onUploadComplete : function (t) {
			var n = this.settings,
			r = this,
			i = this.getStats();
			this.queueData.queueLength = i.files_queued,
			this.queueData.uploadQueue[0] == "*" ? this.queueData.queueLength > 0 ? this.startUpload() : (this.queueData.uploadQueue = [], n.onQueueComplete && n.onQueueComplete.call(this, this.queueData)) : this.queueData.uploadQueue.length > 0 ? this.startUpload(this.queueData.uploadQueue.shift()) : (this.queueData.uploadQueue = [], n.onQueueComplete && n.onQueueComplete.call(this, this.queueData));
			if (e.inArray("onUploadComplete", n.overrideEvents) < 0)
				if (n.removeCompleted)
					switch (t.filestatus) {
					case SWFUpload.FILE_STATUS.COMPLETE:
						setTimeout(function () {
							e("#" + t.id) && (r.queueData.queueSize -= t.size, r.queueData.queueLength -= 1, delete r.queueData.files[t.id], e("#" + t.id).fadeOut(500, function () {
									e(this).remove()
								}))
						}, n.removeTimeout * 1e3);
						break;
					case SWFUpload.FILE_STATUS.ERROR:
						n.requeueErrors || setTimeout(function () {
							e("#" + t.id) && (r.queueData.queueSize -= t.size, r.queueData.queueLength -= 1, delete r.queueData.files[t.id], e("#" + t.id).fadeOut(500, function () {
									e(this).remove()
								}))
						}, n.removeTimeout * 1e3)
					}
				else
					t.uploaded = !0;
			n.onUploadComplete && n.onUploadComplete.call(this, t)
		},
		onUploadError : function (t, n, r) {
			var i = this.settings,
			s = "Error";
			switch (n) {
			case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:
				s = "HTTP Error (" + r + ")";
				break;
			case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:
				s = "Missing Upload URL";
				break;
			case SWFUpload.UPLOAD_ERROR.IO_ERROR:
				s = "IO Error";
				break;
			case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:
				s = "Security Error";
				break;
			case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:
				alert("The upload limit has been reached (" + r + ")."),
				s = "Exceeds Upload Limit";
				break;
			case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:
				s = "Failed";
				break;
			case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:
				break;
			case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:
				s = "Validation Error";
				break;
			case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:
				s = "Cancelled",
				this.queueData.queueSize -= t.size,
				this.queueData.queueLength -= 1;
				if (t.status == SWFUpload.FILE_STATUS.IN_PROGRESS || e.inArray(t.id, this.queueData.uploadQueue) >= 0)
					this.queueData.uploadSize -= t.size;
				i.onCancel && i.onCancel.call(this, t),
				delete this.queueData.files[t.id];
				break;
			case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:
				s = "Stopped"
			}
			e.inArray("onUploadError", i.overrideEvents) < 0 && (n != SWFUpload.UPLOAD_ERROR.FILE_CANCELLED && n != SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED && e("#" + t.id).addClass("uploadify-error"), e("#" + t.id).find(".uploadify-progress-bar").css("width", "1px"), n != SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND && t.status != SWFUpload.FILE_STATUS.COMPLETE && e("#" + t.id).find(".data").html(" - " + s));
			var o = this.getStats();
			this.queueData.uploadsErrored = o.upload_errors,
			i.onUploadError && i.onUploadError.call(this, t, n, r, s)
		},
		onUploadProgress : function (t, n, r) {
			var i = this.settings,
			s = new Date,
			o = s.getTime(),
			u = o - this.timer;
			u > 500 && (this.timer = o);
			var a = n - this.bytesLoaded;
			this.bytesLoaded = n;
			var f = this.queueData.queueBytesUploaded + n,
			l = Math.round(n / r * 100),
			c = "KB/s",
			h = 0,
			p = a / 1024 / (u / 1e3);
			p = Math.floor(p * 10) / 10,
			this.queueData.averageSpeed > 0 ? this.queueData.averageSpeed = Math.floor((this.queueData.averageSpeed + p) / 2) : this.queueData.averageSpeed = Math.floor(p),
			p > 1e3 && (h = p * .001, this.queueData.averageSpeed = Math.floor(h), c = "MB/s"),
			e.inArray("onUploadProgress", i.overrideEvents) < 0 && (i.progressData == "percentage" ? e("#" + t.id).find(".data").html(" - " + l + "%") : i.progressData == "speed" && u > 500 && e("#" + t.id).find(".data").html(" - " + this.queueData.averageSpeed + c), e("#" + t.id).find(".uploadify-progress-bar").css("width", l + "%")),
			i.onUploadProgress && i.onUploadProgress.call(this, t, n, r, f, this.queueData.uploadSize)
		},
		onUploadStart : function (t) {
			var n = this.settings,
			r = new Date;
			this.timer = r.getTime(),
			this.bytesLoaded = 0,
			this.queueData.uploadQueue.length == 0 && (this.queueData.uploadSize = t.size),
			n.checkExisting && e.ajax({
				type : "POST",
				async : !1,
				url : n.checkExisting,
				data : {
					filename : t.name
				},
				success : function (n) {
					if (n == 1) {
						var r = confirm('A file with the name "' + t.name + '" already exists on the server.\nWould you like to replace the existing file?');
						r || (this.cancelUpload(t.id), e("#" + t.id).remove(), this.queueData.uploadQueue.length > 0 && this.queueData.queueLength > 0 && (this.queueData.uploadQueue[0] == "*" ? this.startUpload() : this.startUpload(this.queueData.uploadQueue.shift())))
					}
				}
			}),
			n.onUploadStart && n.onUploadStart.call(this, t)
		},
		onUploadSuccess : function (t, n, r) {
			var i = this.settings,
			s = this.getStats();
			this.queueData.uploadsSuccessful = s.successful_uploads,
			this.queueData.queueBytesUploaded += t.size,
			e.inArray("onUploadSuccess", i.overrideEvents) < 0 && e("#" + t.id).find(".data").html(" - Complete"),
			i.onUploadSuccess && i.onUploadSuccess.call(this, t, n, r)
		}
	};
	e.fn.uploadify = function (n) {
		if (t[n])
			return t[n].apply(this, Array.prototype.slice.call(arguments, 1));
		if (typeof n == "object" || !n)
			return t.init.apply(this, arguments);
		e.error("The method " + n + " does not exist in $.uploadify")
	}
}
($), define("lib/jquery.uploadify-3.2.1", function () {}), define("lib/jquery.fullscreen-min", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	function e(e) {
		var t,
		n;
		return this.length ? (t = this[0], t.ownerDocument ? n = t.ownerDocument : (n = t, t = n.documentElement), null == e ? !n.cancelFullScreen && !n.webkitCancelFullScreen && !n.mozCancelFullScreen ? null : (e = !!n.fullScreen || !!n.webkitIsFullScreen || !!n.mozFullScreen, e ? n.fullScreenElement || n.webkitCurrentFullScreenElement || n.mozFullScreenElement || e : e) : (e ? (e = t.requestFullScreen || t.webkitRequestFullScreen || t.mozRequestFullScreen) && e.call(t, Element.ALLOW_KEYBOARD_INPUT) : (e = n.cancelFullScreen || n.webkitCancelFullScreen || n.mozCancelFullScreen) && e.call(n), this)) : this
	}
	jQuery.fn.fullScreen = e,
	jQuery.fn.toggleFullScreen = function () {
		return e.call(this, !e.call(this))
	};
	var t,
	n,
	r;
	t = document,
	t.webkitCancelFullScreen ? (n = "webkitfullscreenchange", r = "webkitfullscreenerror") : t.mozCancelFullScreen ? (n = "mozfullscreenchange", r = "mozfullscreenerror") : (n = "fullscreenchange", r = "fullscreenerror"),
	jQuery(document).bind(n, function () {
		jQuery(document).trigger(new jQuery.Event("fullscreenchange"))
	}),
	jQuery(document).bind(r, function () {
		jQuery(document).trigger(new jQuery.Event("fullscreenerror"))
	})
}), function (e) {
	function t(t) {
		this.input = t,
		t.attr("type") == "password" && this.handlePassword(),
		e(t[0].form).submit(function () {
			t.hasClass("placeholder") && t[0].value == t.attr("placeholder") && (t[0].value = "")
		})
	}
	t.prototype = {
		show : function (e) {
			if (this.input[0].value === "" || e && this.valueIsPlaceholder()) {
				if (this.isPassword)
					try {
						this.input[0].setAttribute("type", "text")
					} catch (t) {
						this.input.before(this.fakePassword.show()).hide()
					}
				this.input.addClass("placeholder"),
				this.input[0].value = this.input.attr("placeholder")
			}
		},
		hide : function () {
			if (this.valueIsPlaceholder() && this.input.hasClass("placeholder")) {
				this.input.removeClass("placeholder"),
				this.input[0].value = "";
				if (this.isPassword) {
					try {
						this.input[0].setAttribute("type", "password")
					} catch (e) {}

					this.input.show(),
					this.input[0].focus()
				}
			}
		},
		valueIsPlaceholder : function () {
			return this.input[0].value == this.input.attr("placeholder")
		},
		handlePassword : function () {
			var t = this.input;
			t.attr("realType", "password"),
			this.isPassword = !0;
			if (e.browser.msie && t[0].outerHTML) {
				var n = e(t[0].outerHTML.replace(/type=(['"])?password\1/gi, "type=$1text$1"));
				this.fakePassword = n.val(t.attr("placeholder")).addClass("placeholder").focus(function () {
						t.trigger("focus"),
						e(this).hide()
					}),
				e(t[0].form).submit(function () {
					n.remove(),
					t.show()
				})
			}
		}
	};
	var n = "placeholder" in document.createElement("input");
	e.fn.placeholder = function () {
		return n ? this : this.each(function () {
			var n = e(this),
			r = new t(n);
			r.show(!0),
			n.focus(function () {
				r.hide()
			}),
			n.blur(function () {
				r.show(!1)
			}),
			e.browser.msie && (e(window).load(function () {
					n.val() && n.removeClass("placeholder"),
					r.show(!0)
				}), n.focus(function () {
					if (this.value == "") {
						var e = this.createTextRange();
						e.collapse(!0),
						e.moveStart("character", 0),
						e.select()
					}
				}))
		})
	}
}
(jQuery), define("lib/placeholder", function () {}), define("lib/jquery.jtable", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	(function (e) {
		e.widget("hik.jtable", {
			options : {
				actions : {},
				fields : {},
				animationsEnabled : !0,
				defaultDateFormat : "yy-mm-dd",
				dialogShowEffect : "fade",
				dialogHideEffect : "fade",
				showCloseButton : !1,
				loadingAnimationDelay : 500,
				saveUserPreferences : !0,
				jqueryuiTheme : !1,
				ajaxSettings : {
					type : "POST",
					dataType : "json"
				},
				toolbar : {
					hoverAnimation : !0,
					hoverAnimationDuration : 60,
					hoverAnimationEasing : undefined,
					items : []
				},
				closeRequested : function (e, t) {},
				formCreated : function (e, t) {},
				formSubmitting : function (e, t) {},
				formClosed : function (e, t) {},
				loadingRecords : function (e, t) {},
				recordsLoaded : function (e, t) {},
				rowInserted : function (e, t) {},
				rowsRemoved : function (e, t) {},
				messages : {
					serverCommunicationError : "An error occured while communicating to the server.",
					loadingMessage : "Loading records...",
					noDataAvailable : "No data available!",
					areYouSure : "Are you sure?",
					save : "Save",
					saving : "Saving",
					cancel : "Cancel",
					error : "Error",
					close : "Close",
					cannotLoadOptionsFor : "Can not load options for field {0}"
				}
			},
			_$mainContainer : null,
			_$titleDiv : null,
			_$toolbarDiv : null,
			_$table : null,
			_$tableBody : null,
			_$tableRows : null,
			_$busyDiv : null,
			_$busyMessageDiv : null,
			_$errorDialogDiv : null,
			_columnList : null,
			_fieldList : null,
			_keyField : null,
			_firstDataColumnOffset : 0,
			_lastPostData : null,
			_cache : null,
			_create : function () {
				this._normalizeFieldsOptions(),
				this._initializeFields(),
				this._createFieldAndColumnList(),
				this._createMainContainer(),
				this._createTableTitle(),
				this._createToolBar(),
				this._createTable(),
				this._createBusyPanel(),
				this._createErrorDialogDiv(),
				this._addNoDataRow(),
				this._cookieKeyPrefix = this._generateCookieKeyPrefix()
			},
			_normalizeFieldsOptions : function () {
				var t = this;
				e.each(t.options.fields, function (e, n) {
					t._normalizeFieldOptions(e, n)
				})
			},
			_normalizeFieldOptions : function (t, n) {
				n.listClass == undefined && (n.listClass = ""),
				n.inputClass == undefined && (n.inputClass = "");
				if (n.dependsOn && e.type(n.dependsOn) === "string") {
					var r = n.dependsOn.split(",");
					n.dependsOn = [];
					for (var i = 0; i < r.length; i++)
						n.dependsOn.push(e.trim(r[i]))
				}
			},
			_initializeFields : function () {
				this._lastPostData = {},
				this._$tableRows = [],
				this._columnList = [],
				this._fieldList = [],
				this._cache = []
			},
			_createFieldAndColumnList : function () {
				var t = this;
				e.each(t.options.fields, function (e, n) {
					t._fieldList.push(e),
					n.key == 1 && (t._keyField = e),
					n.list != 0 && n.type != "hidden" && t._columnList.push(e)
				})
			},
			_createMainContainer: function () {
				this._$mainContainer = e("<div />").addClass("jtable-main-container").appendTo(this.element),
				this._jqueryuiThemeAddClass(this._$mainContainer, "ui-widget")
			},
			_createTableTitle : function () {
				var t = this;
				if (!t.options.title)
					return;
				var n = e("<div />").addClass("jtable-title").appendTo(t._$mainContainer);
				t._jqueryuiThemeAddClass(n, "ui-widget-header"),
				e("<div />").addClass("jtable-title-text").appendTo(n).append(t.options.title);
				if (t.options.showCloseButton) {
					var r = e("<span />").html(t.options.messages.close);
					e("<button></button>").addClass("jtable-command-button jtable-close-button").attr("title", t.options.messages.close).append(r).appendTo(n).click(function (e) {
						e.preventDefault(),
						e.stopPropagation(),
						t._onCloseRequested()
					})
				}
				t._$titleDiv = n
			},
			_createTable : function () {
				this._$table = e("<table></table>").addClass("jtable").appendTo(this._$mainContainer),
				this.options.tableId && this._$table.attr("id", this.options.tableId),
				this._jqueryuiThemeAddClass(this._$table, "ui-widget-content"),
				this._createTableHead(),
				this._createTableBody()
			},
			_createTableHead : function () {
				var t = e("<thead></thead>").appendTo(this._$table);
				this._addRowToTableHead(t)
			},
			_addRowToTableHead : function (t) {
				var n = e("<tr></tr>").appendTo(t);
				this._addColumnsToHeaderRow(n)
			},
			_addColumnsToHeaderRow : function (e) {
				for (var t = 0; t < this._columnList.length; t++) {
					var n = this._columnList[t],
					r = this._createHeaderCellForField(n, this.options.fields[n]);
					r.appendTo(e)
				}
			},
			_createHeaderCellForField : function (t, n) {
				n.width = n.width || "10%";
				var r = e("<span />").addClass("jtable-column-header-text").html(n.title),
				i = e("<div />").addClass("jtable-column-header-container").append(r),
				s = e("<th></th>").addClass("jtable-column-header").addClass(n.listClass).css("width", n.width).data("fieldName", t).append(i);
				return this._jqueryuiThemeAddClass(s, "ui-state-default"),
				s
			},
			_createEmptyCommandHeader : function () {
				var t = e("<th></th>").addClass("jtable-command-column-header").css("width", "1%");
				return this._jqueryuiThemeAddClass(t, "ui-state-default"),
				t
			},
			_createTableBody : function () {
				this._$tableBody = e("<tbody></tbody>").appendTo(this._$table)
			},
			_createBusyPanel : function () {
				this._$busyMessageDiv = e("<div />").addClass("jtable-busy-message").prependTo(this._$mainContainer),
				this._$busyDiv = e("<div />").addClass("jtable-busy-panel-background").prependTo(this._$mainContainer),
				this._jqueryuiThemeAddClass(this._$busyMessageDiv, "ui-widget-header"),
				this._hideBusy()
			},
			_createErrorDialogDiv : function () {
				var t = this;
				t._$errorDialogDiv = e("<div></div>").appendTo(t._$mainContainer),
				t._$errorDialogDiv.dialog({
					autoOpen : !1,
					show : t.options.dialogShowEffect,
					hide : t.options.dialogHideEffect,
					modal : !0,
					title : t.options.messages.error,
					buttons : [{
							text : t.options.messages.close,
							click : function () {
								t._$errorDialogDiv.dialog("close")
							}
						}
					]
				})
			},
			load: function (e, t) {
			    this._lastPostData = e,
				this._reloadTable(t)
			},
			reload : function (e) {
				this._reloadTable(e)
			},
			getRowByKey : function (e) {
				for (var t = 0; t < this._$tableRows.length; t++)
					if (e == this._getKeyValueOfRecord(this._$tableRows[t].data("record")))
						return this._$tableRows[t];
				return null
			},
			destroy : function () {
				this.element.empty(),
				e.Widget.prototype.destroy.call(this)
			},
			_setOption : function (e, t) {},
			_reloadTable: function (e) {
				var t = this;
				t._showBusy(t.options.messages.loadingMessage, t.options.loadingAnimationDelay);
				var n = t._createRecordLoadUrl();
			    t._onLoadingRecords(),
				t._ajax({
					url : n,
					data : t._lastPostData,
					success: function (n) {
						t._hideBusy();
						if (n.Result != "OK") {
							t._showError(n.Message);
							return
						}
						t._removeAllRows("reloading"),
						t._addRecordsToTable(n.Records),
						t._onRecordsLoaded(n),
						e && e()
					},
					error : function () {
						t._hideBusy(),
						t._showError(t.options.messages.serverCommunicationError)
					}
				})
			},
			_createRecordLoadUrl : function () {
				return this.options.actions.listAction
			},
			_createRowFromRecord : function (t) {
				var n = e("<tr></tr>").addClass("jtable-data-row").attr("data-record-key", this._getKeyValueOfRecord(t)).data("record", t);
				return this._addCellsToRowUsingRecord(n),
				n
			},
			_addCellsToRowUsingRecord : function (e) {
				var t = e.data("record");
				for (var n = 0; n < this._columnList.length; n++)
					this._createCellForRecordField(t, this._columnList[n]).appendTo(e)
			},
			_createCellForRecordField : function (t, n) {
				return e("<td></td>").addClass(this.options.fields[n].listClass).append(this._getDisplayTextForRecordField(t, n))
			},
			_addRecordsToTable : function (t) {
				var n = this;
				e.each(t, function (e, t) {
					n._addRow(n._createRowFromRecord(t))
				}),
				n._refreshRowStyles()
			},
			_addRowToTable : function (e, t, n, r) {
				var i = {
					index : this._normalizeNumber(t, 0, this._$tableRows.length, this._$tableRows.length)
				};
				n == 1 && (i.isNewRow = !0),
				r == 0 && (i.animationsEnabled = !1),
				this._addRow(e, i)
			},
			_addRow : function (t, n) {
				n = e.extend({
						index : this._$tableRows.length,
						isNewRow : !1,
						animationsEnabled : !0
					}, n),
				this._$tableRows.length <= 0 && this._removeNoDataRow(),
				n.index = this._normalizeNumber(n.index, 0, this._$tableRows.length, this._$tableRows.length),
				n.index == this._$tableRows.length ? (this._$tableBody.append(t), this._$tableRows.push(t)) : n.index == 0 ? (this._$tableBody.prepend(t), this._$tableRows.unshift(t)) : (this._$tableRows[n.index - 1].after(t), this._$tableRows.splice(n.index, 0, t)),
				this._onRowInserted(t, n.isNewRow),
				n.isNewRow && (this._refreshRowStyles(), this.options.animationsEnabled && n.animationsEnabled && this._showNewRowAnimation(t))
			},
			_showNewRowAnimation : function (e) {
				var t = "jtable-row-created";
				this.options.jqueryuiTheme && (t += " ui-state-highlight"),
				e.addClass(t, "slow", "", function () {
					e.removeClass(t, 5e3)
				})
			},
			_removeRowsFromTable : function (t, n) {
				var r = this;
				if (t.length <= 0)
					return;
				t.addClass("jtable-row-removed").remove(),
				t.each(function () {
					var t = r._findRowIndex(e(this));
					t >= 0 && r._$tableRows.splice(t, 1)
				}),
				r._onRowsRemoved(t, n),
				r._$tableRows.length == 0 && r._addNoDataRow(),
				r._refreshRowStyles()
			},
			_findRowIndex : function (e) {
				return this._findIndexInArray(e, this._$tableRows, function (e, t) {
					return e.data("record") == t.data("record")
				})
			},
			_removeAllRows : function (e) {
				if (this._$tableRows.length <= 0)
					return;
				var t = this._$tableBody.find("tr.jtable-data-row");
				this._$tableBody.empty(),
				this._$tableRows = [],
				this._onRowsRemoved(t, e),
				this._addNoDataRow()
			},
			_addNoDataRow : function () {
				if (this._$tableBody.find(">tr.jtable-no-data-row").length > 0)
					return;
				var t = e("<tr></tr>").addClass("jtable-no-data-row").appendTo(this._$tableBody),
				n = this._$table.find("thead th").length;
				e("<td></td>").attr("colspan", n).html(this.options.messages.noDataAvailable).appendTo(t)
			},
			_removeNoDataRow : function () {
				this._$tableBody.find(".jtable-no-data-row").remove()
			},
			_refreshRowStyles : function () {
				for (var e = 0; e < this._$tableRows.length; e++)
					e % 2 == 0 ? this._$tableRows[e].addClass("jtable-row-even") : this._$tableRows[e].removeClass("jtable-row-even")
			},
			_getDisplayTextForRecordField : function (e, t) {
				var n = this.options.fields[t],
				r = e[t];
				if (n.display)
					return n.display({
						record : e
					});
				if (n.type == "date")
					return this._getDisplayTextForDateRecordField(n, r);
				if (n.type == "checkbox")
					return this._getCheckBoxTextForFieldByValue(t, r);
				if (n.options) {
					var i = this._getOptionsForField(t, {
							record : e,
							value : r,
							source : "list",
							dependedValues : this._createDependedValuesUsingRecord(e, n.dependsOn)
						});
					return this._findOptionByValue(i, r).DisplayText
				}
				return r
			},
			_createDependedValuesUsingRecord : function (e, t) {
				if (!t)
					return {};
				var n = {};
				for (var r = 0; r < t.length; r++)
					n[t[r]] = e[t[r]];
				return n
			},
			_findOptionByValue : function (e, t) {
				for (var n = 0; n < e.length; n++)
					if (e[n].Value == t)
						return e[n];
				return {}

			},
			_getDisplayTextForDateRecordField : function (t, n) {
				if (!n)
					return "";
				var r = t.displayFormat || this.options.defaultDateFormat,
				i = this._parseDate(n);
				return e.datepicker.formatDate(r, i)
			},
			_getOptionsForField : function (t, n) {
				var r = this.options.fields[t],
				i = r.options;
				e.isFunction(i) && (n = e.extend(!0, {
							_cacheCleared : !1,
							dependedValues : {},
							clearCache : function () {
								this._cacheCleared = !0
							}
						}, n), i = i(n));
				var s;
				if (typeof i == "string") {
					var o = "options_" + t + "_" + i;
					if (n._cacheCleared || !this._cache[o])
						this._cache[o] = this._buildOptionsFromArray(this._downloadOptions(t, i)), this._sortFieldOptions(this._cache[o], r.optionsSorting);
					else if (n.value != undefined) {
						var u = this._findOptionByValue(this._cache[o], n.value);
						u.DisplayText == undefined && (this._cache[o] = this._buildOptionsFromArray(this._downloadOptions(t, i)), this._sortFieldOptions(this._cache[o], r.optionsSorting))
					}
					s = this._cache[o]
				} else
					jQuery.isArray(i) ? (s = this._buildOptionsFromArray(i), this._sortFieldOptions(s, r.optionsSorting)) : (s = this._buildOptionsArrayFromObject(i), this._sortFieldOptions(s, r.optionsSorting));
				return s
			},
			_downloadOptions : function (e, t) {
				var n = this,
				r = [];
				return n._ajax({
					url : t,
					async : !1,
					success : function (e) {
						if (e.Result != "OK") {
							n._showError(e.Message);
							return
						}
						r = e.Options
					},
					error : function () {
						var t = n._formatString(n.options.messages.cannotLoadOptionsFor, e);
						n._showError(t)
					}
				}),
				r
			},
			_sortFieldOptions : function (t, n) {
				if (!t || !t.length || !n)
					return;
				var r;
				n.indexOf("value") == 0 ? r = function (e) {
					return e.Value
				}
				 : r = function (e) {
					return e.DisplayText
				};
				var i;
				e.type(r(t[0])) == "string" ? i = function (e, t) {
					return r(e).localeCompare(r(t))
				}
				 : i = function (e, t) {
					return r(e) - r(t)
				},
				n.indexOf("desc") > 0 ? t.sort(function (e, t) {
					return i(t, e)
				}) : t.sort(function (e, t) {
					return i(e, t)
				})
			},
			_buildOptionsArrayFromObject : function (t) {
				var n = [];
				return e.each(t, function (e, t) {
					n.push({
						Value : e,
						DisplayText : t
					})
				}),
				n
			},
			_buildOptionsFromArray : function (t) {
				var n = [];
				for (var r = 0; r < t.length; r++)
					e.isPlainObject(t[r]) ? n.push(t[r]) : n.push({
						Value : t[r],
						DisplayText : t[r]
					});
				return n
			},
			_parseDate : function (e) {
				return e.indexOf("Date") >= 0 ? new Date(parseInt(e.substr(6), 10)) : e.length == 10 ? new Date(parseInt(e.substr(0, 4), 10), parseInt(e.substr(5, 2), 10) - 1, parseInt(e.substr(8, 2), 10)) : e.length == 19 ? new Date(parseInt(e.substr(0, 4), 10), parseInt(e.substr(5, 2), 10) - 1, parseInt(e.substr(8, 2, 10)), parseInt(e.substr(11, 2), 10), parseInt(e.substr(14, 2), 10), parseInt(e.substr(17, 2), 10)) : (this._logWarn("Given date is not properly formatted: " + e), "format error!")
			},
			_createToolBar : function () {
				this._$toolbarDiv = e("<div />").addClass("jtable-toolbar").appendTo(this._$titleDiv);
				for (var t = 0; t < this.options.toolbar.items.length; t++)
					this._addToolBarItem(this.options.toolbar.items[t])
			},
			_addToolBarItem : function (t) {
				if (t == undefined || t.text == undefined && t.icon == undefined)
					return this._logWarn("Can not add tool bar item since it is not valid!"), this._logWarn(t), null;
				var n = e("<span></span>").addClass("jtable-toolbar-item").appendTo(this._$toolbarDiv);
				this._jqueryuiThemeAddClass(n, "ui-widget ui-state-default ui-corner-all", "ui-state-hover"),
				t.cssClass && n.addClass(t.cssClass),
				t.tooltip && n.attr("title", t.tooltip);
				if (t.icon) {
					var r = e('<span class="jtable-toolbar-item-icon"></span>').appendTo(n);
					t.icon !== !0 && e.type(t.icon === "string") && r.css("background", 'url("' + t.icon + '")')
				}
				t.text && e('<span class=""></span>').html(t.text).addClass("jtable-toolbar-item-text").appendTo(n),
				t.click && n.click(function () {
					t.click()
				});
				var i = undefined,
				s = undefined;
				return this.options.toolbar.hoverAnimation && (i = this.options.toolbar.hoverAnimationDuration, s = this.options.toolbar.hoverAnimationEasing),
				n.hover(function () {
					n.addClass("jtable-toolbar-item-hover", i, s)
				}, function () {
					n.removeClass("jtable-toolbar-item-hover", i, s)
				}),
				n
			},
			_showError : function (e) {
				this._$errorDialogDiv.html(e).dialog("open")
			},
			_setBusyTimer : null,
			_showBusy : function (e, t) {
				var n = this;
				n._$busyDiv.width(n._$mainContainer.width()).height(n._$mainContainer.height()).addClass("jtable-busy-panel-background-invisible").show();
				var r = function () {
					n._$busyDiv.removeClass("jtable-busy-panel-background-invisible"),
					n._$busyMessageDiv.html(e).show()
				};
				if (t) {
					if (n._setBusyTimer)
						return;
					n._setBusyTimer = setTimeout(r, t)
				} else
					r()
			},
			_hideBusy : function () {
				clearTimeout(this._setBusyTimer),
				this._setBusyTimer = null,
				this._$busyDiv.hide(),
				this._$busyMessageDiv.html("").hide()
			},
			_isBusy : function () {
				return this._$busyMessageDiv.is(":visible")
			},
			_jqueryuiThemeAddClass : function (e, t, n) {
				if (!this.options.jqueryuiTheme)
					return;
				e.addClass(t),
				n && e.hover(function () {
					e.addClass(n)
				}, function () {
					e.removeClass(n)
				})
			},
			_performAjaxCall : function (e, t, n, r, i) {
				this._ajax({
					url : e,
					data : t,
					async : n,
					success : r,
					error : i
				})
			},
			_ajax : function (t) {
				var n = e.extend({}, this.options.ajaxSettings, t);
				n.success = function (e) {
					t.success && t.success(e)
				},
				n.error = function () {
					t.error && t.error()
				},
				n.complete = function () {
					t.complete && t.complete()
				},
				e.ajax(n)
			},
			_getKeyValueOfRecord : function (e) {
				return e[this._keyField]
			},
			_setCookie : function (e, t) {
				e = this._cookieKeyPrefix + e;
				var n = new Date;
				n.setDate(n.getDate() + 30),
				document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; expires=" + n.toUTCString()
			},
			_getCookie : function (e) {
				e = this._cookieKeyPrefix + e;
				var t = document.cookie.split("; ");
				for (var n = 0; n < t.length; n++) {
					if (!t[n])
						continue;
					var r = t[n].split("=");
					if (r.length != 2)
						continue;
					if (decodeURIComponent(r[0]) === e)
						return decodeURIComponent(r[1] || "")
				}
				return null
			},
			_generateCookieKeyPrefix : function () {
				var e = function (e) {
					var t = 0;
					if (e.length == 0)
						return t;
					for (var n = 0; n < e.length; n++) {
						var r = e.charCodeAt(n);
						t = (t << 5) - t + r,
						t &= t
					}
					return t
				},
				t = "";
				return this.options.tableId && (t = t + this.options.tableId + "#"),
				t = t + this._columnList.join("$") + "#c" + this._$table.find("thead th").length,
				"jtable#" + e(t)
			},
			_onLoadingRecords : function () {
				this._trigger("loadingRecords", null, {})
			},
			_onRecordsLoaded: function (e) {
				this._trigger("recordsLoaded", null, {
					records : e.Records,
					serverResponse : e
				})
			},
			_onRowInserted : function (e, t) {
				this._trigger("rowInserted", null, {
					row : e,
					record : e.data("record"),
					isNewRow : t
				})
			},
			_onRowsRemoved : function (e, t) {
				this._trigger("rowsRemoved", null, {
					rows : e,
					reason : t
				})
			},
			_onCloseRequested : function () {
				this._trigger("closeRequested", null, {})
			}
		})
	})(jQuery),
	function (e) {
		e.extend(!0, e.hik.jtable.prototype, {
			_getPropertyOfObject : function (e, t) {
				if (t.indexOf(".") < 0)
					return e[t];
				var n = t.substring(0, t.indexOf(".")),
				r = t.substring(t.indexOf(".") + 1);
				return this._getPropertyOfObject(e[n], r)
			},
			_setPropertyOfObject : function (e, t, n) {
				if (t.indexOf(".") < 0)
					e[t] = n;
				else {
					var r = t.substring(0, t.indexOf(".")),
					i = t.substring(t.indexOf(".") + 1);
					this._setPropertyOfObject(e[r], i, n)
				}
			},
			_insertToArrayIfDoesNotExists : function (t, n) {
				e.inArray(n, t) < 0 && t.push(n)
			},
			_findIndexInArray : function (e, t, n) {
				n || (n = function (e, t) {
					return e == t
				});
				for (var r = 0; r < t.length; r++)
					if (n(e, t[r]))
						return r;
				return -1
			},
			_normalizeNumber : function (e, t, n, r) {
				return e == undefined || e == null || isNaN(e) ? r : e < t ? t : e > n ? n : e
			},
			_formatString : function () {
				if (arguments.length == 0)
					return null;
				var e = arguments[0];
				for (var t = 1; t < arguments.length; t++) {
					var n = "{" + (t - 1) + "}";
					e = e.replace(n, arguments[t])
				}
				return e
			},
			_logDebug : function (e) {
				if (!window.console)
					return;
				console.log("jTable DEBUG: " + e)
			},
			_logInfo : function (e) {
				if (!window.console)
					return;
				console.log("jTable INFO: " + e)
			},
			_logWarn : function (e) {
				if (!window.console)
					return;
				console.log("jTable WARNING: " + e)
			},
			_logError : function (e) {
				if (!window.console)
					return;
				console.log("jTable ERROR: " + e)
			}
		}),
		Array.prototype.indexOf || (Array.prototype.indexOf = function (e) {
			var t = this.length,
			n = Number(arguments[1]) || 0;
			n = n < 0 ? Math.ceil(n) : Math.floor(n),
			n < 0 && (n += t);
			for (; n < t; n++)
				if (n in this && this[n] === e)
					return n;
			return -1
		})
	}
	(jQuery),
	function (e) {
		e.extend(!0, e.hik.jtable.prototype, {
			_submitFormUsingAjax : function (e, t, n, r) {
				this._ajax({
					url : e,
					data : t,
					success : n,
					error : r
				})
			},
			_createInputLabelForRecordField : function (t) {
				return e("<div />").addClass("jtable-input-label").html(this.options.fields[t].inputTitle || this.options.fields[t].title)
			},
			_createInputForRecordField : function (t) {
				var n = t.fieldName,
				r = t.value,
				i = t.record,
				s = t.formType,
				o = t.form,
				u = this.options.fields[n];
				if (r == undefined || r == null)
					r = u.defaultValue;
				if (u.input) {
					var a = e(u.input({
								value : r,
								record : i,
								formType : s,
								form : o
							}));
					return a.attr("id") || a.attr("id", "Edit-" + n),
					e("<div />").addClass("jtable-input jtable-custom-input").append(a)
				}
				return u.type == "date" ? this._createDateInputForField(u, n, r) : u.type == "textarea" ? this._createTextAreaForField(u, n, r) : u.type == "password" ? this._createPasswordInputForField(u, n, r) : u.type == "checkbox" ? this._createCheckboxForField(u, n, r) : u.options ? u.type == "radiobutton" ? this._createRadioButtonListForField(u, n, r, i, s) : this._createDropDownListForField(u, n, r, i, s, o) : this._createTextInputForField(u, n, r)
			},
			_createInputForHidden : function (t, n) {
				return n == undefined && (n = ""),
				e('<input type="hidden" name="' + t + '" id="Edit-' + t + '"></input>').val(n)
			},
			_createDateInputForField : function (t, n, r) {
				var i = e('<input class="' + t.inputClass + '" id="Edit-' + n + '" type="text" name="' + n + '"></input>');
				r != undefined && i.val(r);
				var s = t.displayFormat || this.options.defaultDateFormat;
				return i.datepicker({
					dateFormat : s
				}),
				e("<div />").addClass("jtable-input jtable-date-input").append(i)
			},
			_createTextAreaForField : function (t, n, r) {
				var i = e('<textarea class="' + t.inputClass + '" id="Edit-' + n + '" name="' + n + '"></textarea>');
				return r != undefined && i.val(r),
				e("<div />").addClass("jtable-input jtable-textarea-input").append(i)
			},
			_createTextInputForField : function (t, n, r) {
				var i = e('<input class="' + t.inputClass + '" id="Edit-' + n + '" type="text" name="' + n + '"></input>');
				return r != undefined && i.val(r),
				e("<div />").addClass("jtable-input jtable-text-input").append(i)
			},
			_createPasswordInputForField : function (t, n, r) {
				var i = e('<input class="' + t.inputClass + '" id="Edit-' + n + '" type="password" name="' + n + '"></input>');
				return r != undefined && i.val(r),
				e("<div />").addClass("jtable-input jtable-password-input").append(i)
			},
			_createCheckboxForField : function (t, n, r) {
				var i = this;
				r == undefined && (r = i._getCheckBoxPropertiesForFieldByState(n, !1).Value);
				var s = e("<div />").addClass("jtable-input jtable-checkbox-input"),
				o = e('<input class="' + t.inputClass + '" id="Edit-' + n + '" type="checkbox" name="' + n + '" />').appendTo(s);
				r != undefined && o.val(r);
				var u = e("<span>" + (t.formText || i._getCheckBoxTextForFieldByValue(n, r)) + "</span>").appendTo(s);
				i._getIsCheckBoxSelectedForFieldByValue(n, r) && o.attr("checked", "checked");
				var a = function () {
					var e = i._getCheckBoxPropertiesForFieldByState(n, o.is(":checked"));
					o.attr("value", e.Value),
					u.html(t.formText || e.DisplayText)
				};
				return o.click(function () {
					a()
				}),
				t.setOnTextClick != 0 && u.addClass("jtable-option-text-clickable").click(function () {
					o.is(":checked") ? o.attr("checked", !1) : o.attr("checked", !0),
					a()
				}),
				s
			},
			_createDropDownListForField : function (t, n, r, i, s, o) {
				var u = e("<div />").addClass("jtable-input jtable-dropdown-input"),
				a = e('<select class="' + t.inputClass + '" id="Edit-' + n + '" name="' + n + '"></select>').appendTo(u),
				f = this._getOptionsForField(n, {
						record : i,
						source : s,
						form : o,
						dependedValues : this._createDependedValuesUsingForm(o, t.dependsOn)
					});
				return this._fillDropDownListWithOptions(a, f, r),
				u
			},
			_fillDropDownListWithOptions : function (t, n, r) {
				t.empty();
				for (var i = 0; i < n.length; i++)
					e("<option" + (n[i].Value == r ? ' selected="selected"' : "") + ">" + n[i].DisplayText + "</option>").val(n[i].Value).appendTo(t)
			},
			_createDependedValuesUsingForm : function (e, t) {
				if (!t)
					return {};
				var n = {};
				for (var r = 0; r < t.length; r++) {
					var i = t[r],
					s = e.find("select[name=" + i + "]");
					if (s.length <= 0)
						continue;
					n[i] = s.val()
				}
				return n
			},
			_createRadioButtonListForField : function (t, n, r, i, s) {
				var o = e("<div />").addClass("jtable-input jtable-radiobuttonlist-input"),
				u = this._getOptionsForField(n, {
						record : i,
						source : s
					});
				return e.each(u, function (i, s) {
					var u = e('<div class=""></div>').addClass("jtable-radio-input").appendTo(o),
					a = e('<input type="radio" id="Edit-' + n + "-" + i + '" class="' + t.inputClass + '" name="' + n + '"' + (s.Value == r + "" ? ' checked="true"' : "") + " />").val(s.Value).appendTo(u),
					f = e("<span></span>").html(s.DisplayText).appendTo(u);
					t.setOnTextClick != 0 && f.addClass("jtable-option-text-clickable").click(function () {
						a.is(":checked") || a.attr("checked", !0)
					})
				}),
				o
			},
			_getCheckBoxTextForFieldByValue : function (e, t) {
				return this.options.fields[e].values[t]
			},
			_getIsCheckBoxSelectedForFieldByValue : function (e, t) {
				return this._createCheckBoxStateArrayForFieldWithCaching(e)[1].Value.toString() == t.toString()
			},
			_getCheckBoxPropertiesForFieldByState : function (e, t) {
				return this._createCheckBoxStateArrayForFieldWithCaching(e)[t ? 1 : 0]
			},
			_createCheckBoxStateArrayForFieldWithCaching : function (e) {
				var t = "checkbox_" + e;
				return this._cache[t] || (this._cache[t] = this._createCheckBoxStateArrayForField(e)),
				this._cache[t]
			},
			_createCheckBoxStateArrayForField : function (t) {
				var n = [],
				r = 0;
				return e.each(this.options.fields[t].values, function (e, t) {
					r++ < 2 && n.push({
						Value : e,
						DisplayText : t
					})
				}),
				n
			},
			_makeCascadeDropDowns : function (t, n, r) {
				var i = this;
				t.find("select").each(function () {
					var s = e(this),
					o = s.attr("name");
					if (!o)
						return;
					var u = i.options.fields[o];
					if (!u.dependsOn)
						return;
					e.each(u.dependsOn, function (e, a) {
						var f = t.find("select[name=" + a + "]");
						f.change(function () {
							var e = {
								record : n,
								source : r,
								form : t,
								dependedValues : {}

							};
							e.dependedValues = i._createDependedValuesUsingForm(t, u.dependsOn);
							var a = i._getOptionsForField(o, e);
							i._fillDropDownListWithOptions(s, a, undefined),
							s.change()
						})
					})
				})
			},
			_updateRecordValuesFromForm : function (t, n) {
				for (var r = 0; r < this._fieldList.length; r++) {
					var i = this._fieldList[r],
					s = this.options.fields[i];
					if (s.edit == 0)
						continue;
					var o = n.find('[name="' + i + '"]');
					if (o.length <= 0)
						continue;
					if (s.type == "date") {
						var u = o.val();
						if (u) {
							var a = s.displayFormat || this.options.defaultDateFormat;
							try {
								var f = e.datepicker.parseDate(a, u);
								t[i] = "/Date(" + f.getTime() + ")/"
							} catch (l) {
								this._logWarn("Date format is incorrect for field " + i + ": " + u),
								t[i] = undefined
							}
						} else
							this._logDebug("Date is empty for " + i), t[i] = undefined
					} else if (s.options && s.type == "radiobutton") {
						var c = o.filter(":checked");
						c.length ? t[i] = c.val() : t[i] = undefined
					} else
						t[i] = o.val()
				}
			},
			_setEnabledOfDialogButton : function (e, t, n) {
				if (!e)
					return;
				t != 0 ? e.removeAttr("disabled").removeClass("ui-state-disabled") : e.attr("disabled", "disabled").addClass("ui-state-disabled"),
				n && e.find("span").text(n)
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_create : e.hik.jtable.prototype._create
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				recordAdded : function (e, t) {},
				messages : {
					addNewRecord : "Add new record"
				}
			},
			_$addRecordDiv : null,
			_create : function () {
				t._create.apply(this, arguments),
				this._createAddRecordDialogDiv()
			},
			_createAddRecordDialogDiv : function () {
				var t = this;
				if (!t.options.actions.createAction)
					return;
				t._$addRecordDiv = e("<div />").appendTo(t._$mainContainer),
				t._$addRecordDiv.dialog({
					autoOpen : !1,
					show : t.options.dialogShowEffect,
					hide : t.options.dialogHideEffect,
					width : "auto",
					minWidth : "300",
					modal : !0,
					title : t.options.messages.addNewRecord,
					buttons : [{
							text : t.options.messages.cancel,
							click : function () {
								t._$addRecordDiv.dialog("close")
							}
						}, {
							id : "AddRecordDialogSaveButton",
							text : t.options.messages.save,
							click : function () {
								var n = e("#AddRecordDialogSaveButton"),
								r = t._$addRecordDiv.find("form");
								t._trigger("formSubmitting", null, {
									form : r,
									formType : "create"
								}) != 0 && (t._setEnabledOfDialogButton(n, !1, t.options.messages.saving), t._saveAddRecordForm(r, n))
							}
						}
					],
					close : function () {
						var n = t._$addRecordDiv.find("form").first(),
						r = e("#AddRecordDialogSaveButton");
						t._trigger("formClosed", null, {
							form : n,
							formType : "create"
						}),
						t._setEnabledOfDialogButton(r, !0, t.options.messages.save),
						n.remove()
					}
				}),
				t.options.addRecordButton ? t.options.addRecordButton.click(function (e) {
					e.preventDefault(),
					t._showAddRecordForm()
				}) : t._addToolBarItem({
					icon : !0,
					cssClass : "jtable-toolbar-item-add-record",
					text : t.options.messages.addNewRecord,
					click : function () {
						t._showAddRecordForm()
					}
				})
			},
			showCreateForm : function () {
				this._showAddRecordForm()
			},
			addRecord : function (t) {
				var n = this;
				t = e.extend({
						clientOnly : !1,
						animationsEnabled : n.options.animationsEnabled,
						url : n.options.actions.createAction,
						success : function () {},
						error : function () {}

					}, t);
				if (!t.record) {
					n._logWarn("options parameter in addRecord method must contain a record property.");
					return
				}
				if (t.clientOnly) {
					n._addRow(n._createRowFromRecord(t.record), {
						isNewRow : !0,
						animationsEnabled : t.animationsEnabled
					}),
					t.success();
					return
				}
				n._submitFormUsingAjax(t.url, e.param(t.record), function (e) {
					if (e.Result != "OK") {
						n._showError(e.Message),
						t.error(e);
						return
					}
					if (!e.Record) {
						n._logError("Server must return the created Record object."),
						t.error(e);
						return
					}
					n._onRecordAdded(e),
					n._addRow(n._createRowFromRecord(e.Record), {
						isNewRow : !0,
						animationsEnabled : t.animationsEnabled
					}),
					t.success(e)
				}, function () {
					n._showError(n.options.messages.serverCommunicationError),
					t.error()
				})
			},
			_showAddRecordForm : function () {
				var t = this,
				n = e('<form id="jtable-create-form" class="jtable-dialog-form jtable-create-form" action="' + t.options.actions.createAction + '" method="POST"></form>');
				for (var r = 0; r < t._fieldList.length; r++) {
					var i = t._fieldList[r],
					s = t.options.fields[i];
					if (s.key == 1 && s.create != 1)
						continue;
					if (s.create == 0)
						continue;
					if (s.type == "hidden") {
						n.append(t._createInputForHidden(i, s.defaultValue));
						continue
					}
					var o = e("<div />").addClass("jtable-input-field-container").appendTo(n);
					o.append(t._createInputLabelForRecordField(i)),
					o.append(t._createInputForRecordField({
							fieldName : i,
							formType : "create",
							form : n
						}))
				}
				t._makeCascadeDropDowns(n, undefined, "create"),
				t._$addRecordDiv.append(n).dialog("open"),
				t._trigger("formCreated", null, {
					form : n,
					formType : "create"
				})
			},
			_saveAddRecordForm : function (e, t) {
				var n = this;
				e.data("submitting", !0),
				n._submitFormUsingAjax(e.attr("action"), e.serialize(), function (e) {
					if (e.Result != "OK") {
						n._showError(e.Message),
						n._setEnabledOfDialogButton(t, !0, n.options.messages.save);
						return
					}
					if (!e.Record) {
						n._logError("Server must return the created Record object."),
						n._setEnabledOfDialogButton(t, !0, n.options.messages.save);
						return
					}
					n._onRecordAdded(e),
					n._addRow(n._createRowFromRecord(e.Record), {
						isNewRow : !0
					}),
					n._$addRecordDiv.dialog("close")
				}, function () {
					n._showError(n.options.messages.serverCommunicationError),
					n._setEnabledOfDialogButton(t, !0, n.options.messages.save)
				})
			},
			_onRecordAdded : function (e) {
				this._trigger("recordAdded", null, {
					record : e.Record,
					serverResponse : e
				})
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_create : e.hik.jtable.prototype._create,
			_addColumnsToHeaderRow : e.hik.jtable.prototype._addColumnsToHeaderRow,
			_addCellsToRowUsingRecord : e.hik.jtable.prototype._addCellsToRowUsingRecord
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				recordUpdated : function (e, t) {},
				rowUpdated : function (e, t) {},
				messages : {
					editRecord : "Edit Record"
				}
			},
			_$editDiv : null,
			_$editingRow : null,
			_create : function () {
				t._create.apply(this, arguments),
				this._createEditDialogDiv()
			},
			_createEditDialogDiv : function () {
				var t = this;
				t._$editDiv = e("<div></div>").appendTo(t._$mainContainer),
				t._$editDiv.dialog({
					autoOpen : !1,
					show : t.options.dialogShowEffect,
					hide : t.options.dialogHideEffect,
					width : "auto",
					minWidth : "300",
					modal : !0,
					title : t.options.messages.editRecord,
					buttons : [{
							text : t.options.messages.cancel,
							click : function () {
								t._$editDiv.dialog("close")
							}
						}, {
							id : "EditDialogSaveButton",
							text : t.options.messages.save,
							click : function () {
								if (t._$editingRow.hasClass("jtable-row-removed")) {
									t._$editDiv.dialog("close");
									return
								}
								var e = t._$editDiv.find("#EditDialogSaveButton"),
								n = t._$editDiv.find("form");
								t._trigger("formSubmitting", null, {
									form : n,
									formType : "edit",
									row : t._$editingRow
								}) != 0 && (t._setEnabledOfDialogButton(e, !1, t.options.messages.saving), t._saveEditForm(n, e))
							}
						}
					],
					close : function () {
						var n = t._$editDiv.find("form:first"),
						r = e("#EditDialogSaveButton");
						t._trigger("formClosed", null, {
							form : n,
							formType : "edit",
							row : t._$editingRow
						}),
						t._setEnabledOfDialogButton(r, !0, t.options.messages.save),
						n.remove()
					}
				})
			},
			updateRecord : function (t) {
				var n = this;
				t = e.extend({
						clientOnly : !1,
						animationsEnabled : n.options.animationsEnabled,
						url : n.options.actions.updateAction,
						success : function () {},
						error : function () {}

					}, t);
				if (!t.record) {
					n._logWarn("options parameter in updateRecord method must contain a record property.");
					return
				}
				var r = n._getKeyValueOfRecord(t.record);
				if (r == undefined || r == null) {
					n._logWarn("options parameter in updateRecord method must contain a record that contains the key field property.");
					return
				}
				var i = n.getRowByKey(r);
				if (i == null) {
					n._logWarn("Can not found any row by key: " + r);
					return
				}
				if (t.clientOnly) {
					e.extend(i.data("record"), t.record),
					n._updateRowTexts(i),
					n._onRecordUpdated(i, null),
					t.animationsEnabled && n._showUpdateAnimationForRow(i),
					t.success();
					return
				}
				n._submitFormUsingAjax(t.url, e.param(t.record), function (r) {
					if (r.Result != "OK") {
						n._showError(r.Message),
						t.error(r);
						return
					}
					e.extend(i.data("record"), t.record),
					n._updateRecordValuesFromServerResponse(i.data("record"), r),
					n._updateRowTexts(i),
					n._onRecordUpdated(i, r),
					t.animationsEnabled && n._showUpdateAnimationForRow(i),
					t.success(r)
				}, function () {
					n._showError(n.options.messages.serverCommunicationError),
					t.error()
				})
			},
			_addColumnsToHeaderRow : function (e) {
				t._addColumnsToHeaderRow.apply(this, arguments),
				this.options.actions.updateAction != undefined && e.append(this._createEmptyCommandHeader())
			},
			_addCellsToRowUsingRecord : function (n) {
				var r = this;
				t._addCellsToRowUsingRecord.apply(this, arguments);
				if (r.options.actions.updateAction != undefined) {
					var i = e("<span></span>").html(r.options.messages.editRecord),
					s = e('<button title="' + r.options.messages.editRecord + '"></button>').addClass("jtable-command-button jtable-edit-command-button").append(i).click(function (e) {
							e.preventDefault(),
							e.stopPropagation(),
							r._showEditForm(n)
						});
					e("<td></td>").addClass("jtable-command-column").append(s).appendTo(n)
				}
			},
			_showEditForm : function (t) {
				var n = this,
				r = t.data("record"),
				i = e('<form id="jtable-edit-form" class="jtable-dialog-form jtable-edit-form" action="' + n.options.actions.updateAction + '" method="POST"></form>');
				for (var s = 0; s < n._fieldList.length; s++) {
					var o = n._fieldList[s],
					u = n.options.fields[o],
					a = r[o];
					if (u.key == 1) {
						if (u.edit != 1) {
							i.append(n._createInputForHidden(o, a));
							continue
						}
						i.append(n._createInputForHidden("jtRecordKey", a))
					}
					if (u.edit == 0)
						continue;
					if (u.type == "hidden") {
						i.append(n._createInputForHidden(o, a));
						continue
					}
					var f = e('<div class="jtable-input-field-container"></div>').appendTo(i);
					f.append(n._createInputLabelForRecordField(o));
					var l = n._getValueForRecordField(r, o);
					f.append(n._createInputForRecordField({
							fieldName : o,
							value : l,
							record : r,
							formType : "edit",
							form : i
						}))
				}
				n._makeCascadeDropDowns(i, r, "edit"),
				n._$editingRow = t,
				n._$editDiv.append(i).dialog("open"),
				n._trigger("formCreated", null, {
					form : i,
					formType : "edit",
					record : r,
					row : t
				})
			},
			_saveEditForm : function (e, t) {
				var n = this;
				n._submitFormUsingAjax(e.attr("action"), e.serialize(), function (r) {
					if (r.Result != "OK") {
						n._showError(r.Message),
						n._setEnabledOfDialogButton(t, !0, n.options.messages.save);
						return
					}
					var i = n._$editingRow.data("record");
					n._updateRecordValuesFromForm(i, e),
					n._updateRecordValuesFromServerResponse(i, r),
					n._updateRowTexts(n._$editingRow),
					n._$editingRow.attr("data-record-key", n._getKeyValueOfRecord(i)),
					n._onRecordUpdated(n._$editingRow, r),
					n.options.animationsEnabled && n._showUpdateAnimationForRow(n._$editingRow),
					n._$editDiv.dialog("close")
				}, function () {
					n._showError(n.options.messages.serverCommunicationError),
					n._setEnabledOfDialogButton(t, !0, n.options.messages.save)
				})
			},
			_updateRecordValuesFromServerResponse : function (t, n) {
				if (!n || !n.Record)
					return;
				e.extend(!0, t, n.Record)
			},
			_getValueForRecordField : function (e, t) {
				var n = this.options.fields[t],
				r = e[t];
				return n.type == "date" ? this._getDisplayTextForDateRecordField(n, r) : r
			},
			_updateRowTexts : function (e) {
				var t = e.data("record"),
				n = e.find("td");
				for (var r = 0; r < this._columnList.length; r++) {
					var i = this._getDisplayTextForRecordField(t, this._columnList[r]);
					n.eq(this._firstDataColumnOffset + r).html(i || "")
				}
				this._onRowUpdated(e)
			},
			_showUpdateAnimationForRow : function (e) {
				var t = "jtable-row-updated";
				this.options.jqueryuiTheme && (t += " ui-state-highlight"),
				e.stop(!0, !0).addClass(t, "slow", "", function () {
					e.removeClass(t, 5e3)
				})
			},
			_onRowUpdated : function (e) {
				this._trigger("rowUpdated", null, {
					row : e,
					record : e.data("record")
				})
			},
			_onRecordUpdated : function (e, t) {
				this._trigger("recordUpdated", null, {
					record : e.data("record"),
					row : e,
					serverResponse : t
				})
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_create : e.hik.jtable.prototype._create,
			_addColumnsToHeaderRow : e.hik.jtable.prototype._addColumnsToHeaderRow,
			_addCellsToRowUsingRecord : e.hik.jtable.prototype._addCellsToRowUsingRecord
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				deleteConfirmation : !0,
				recordDeleted : function (e, t) {},
				messages : {
					deleteConfirmation : "This record will be deleted. Are you sure?",
					deleteText : "Delete",
					deleting : "Deleting",
					canNotDeletedRecords : "Can not delete {0} of {1} records!",
					deleteProggress : "Deleting {0} of {1} records, processing..."
				}
			},
			_$deleteRecordDiv : null,
			_$deletingRow : null,
			_create : function () {
				t._create.apply(this, arguments),
				this._createDeleteDialogDiv()
			},
			_createDeleteDialogDiv : function () {
				var t = this;
				t._$deleteRecordDiv = e('<div><p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span><span class="jtable-delete-confirm-message"></span></p></div>').appendTo(t._$mainContainer),
				t._$deleteRecordDiv.dialog({
					autoOpen : !1,
					show : t.options.dialogShowEffect,
					hide : t.options.dialogHideEffect,
					modal : !0,
					title : t.options.messages.areYouSure,
					buttons : [{
							text : t.options.messages.cancel,
							click : function () {
								t._$deleteRecordDiv.dialog("close")
							}
						}, {
							id : "DeleteDialogButton",
							text : t.options.messages.deleteText,
							click : function () {
								if (t._$deletingRow.hasClass("jtable-row-removed")) {
									t._$deleteRecordDiv.dialog("close");
									return
								}
								var n = e("#DeleteDialogButton");
								t._setEnabledOfDialogButton(n, !1, t.options.messages.deleting),
								t._deleteRecordFromServer(t._$deletingRow, function () {
									t._removeRowsFromTableWithAnimation(t._$deletingRow),
									t._$deleteRecordDiv.dialog("close")
								}, function (e) {
									t._showError(e),
									t._setEnabledOfDialogButton(n, !0, t.options.messages.deleteText)
								})
							}
						}
					],
					close : function () {
						var n = e("#DeleteDialogButton");
						t._setEnabledOfDialogButton(n, !0, t.options.messages.deleteText)
					}
				})
			},
			deleteRows : function (t) {
				var n = this;
				if (t.length <= 0) {
					n._logWarn("No rows specified to jTable deleteRows method.");
					return
				}
				if (n._isBusy()) {
					n._logWarn("Can not delete rows since jTable is busy!");
					return
				}
				if (t.length == 1) {
					n._deleteRecordFromServer(t, function () {
						n._removeRowsFromTableWithAnimation(t)
					}, function (e) {
						n._showError(e)
					});
					return
				}
				n._showBusy(n._formatString(n.options.messages.deleteProggress, 0, t.length));
				var r = 0,
				i = function () {
					return r >= t.length
				},
				s = function () {
					var e = t.filter(".jtable-row-ready-to-remove");
					e.length < t.length && n._showError(n._formatString(n.options.messages.canNotDeletedRecords, t.length - e.length, t.length)),
					e.length > 0 && n._removeRowsFromTableWithAnimation(e),
					n._hideBusy()
				},
				o = 0;
				t.each(function () {
					var u = e(this);
					n._deleteRecordFromServer(u, function () {
						++o,
						++r,
						u.addClass("jtable-row-ready-to-remove"),
						n._showBusy(n._formatString(n.options.messages.deleteProggress, o, t.length)),
						i() && s()
					}, function () {
						++r,
						i() && s()
					})
				})
			},
			deleteRecord : function (t) {
				var n = this;
				t = e.extend({
						clientOnly : !1,
						animationsEnabled : n.options.animationsEnabled,
						url : n.options.actions.deleteAction,
						success : function () {},
						error : function () {}

					}, t);
				if (t.key == undefined) {
					n._logWarn("options parameter in deleteRecord method must contain a key property.");
					return
				}
				var r = n.getRowByKey(t.key);
				if (r == null) {
					n._logWarn("Can not found any row by key: " + t.key);
					return
				}
				if (t.clientOnly) {
					n._removeRowsFromTableWithAnimation(r, t.animationsEnabled),
					t.success();
					return
				}
				n._deleteRecordFromServer(r, function (e) {
					n._removeRowsFromTableWithAnimation(r, t.animationsEnabled),
					t.success(e)
				}, function (e) {
					n._showError(e),
					t.error(e)
				}, t.url)
			},
			_addColumnsToHeaderRow : function (e) {
				t._addColumnsToHeaderRow.apply(this, arguments),
				this.options.actions.deleteAction != undefined && e.append(this._createEmptyCommandHeader())
			},
			_addCellsToRowUsingRecord : function (n) {
				t._addCellsToRowUsingRecord.apply(this, arguments);
				var r = this;
				if (r.options.actions.deleteAction != undefined) {
					var i = e("<span></span>").html(r.options.messages.deleteText),
					s = e('<button title="' + r.options.messages.deleteText + '"></button>').addClass("jtable-command-button jtable-delete-command-button").append(i).click(function (e) {
							e.preventDefault(),
							e.stopPropagation(),
							r._deleteButtonClickedForRow(n)
						});
					e("<td></td>").addClass("jtable-command-column").append(s).appendTo(n)
				}
			},
			_deleteButtonClickedForRow : function (t) {
				var n = this,
				r,
				i = n.options.messages.deleteConfirmation;
				if (e.isFunction(n.options.deleteConfirmation)) {
					var s = {
						row : t,
						record : t.data("record"),
						deleteConfirm : !0,
						deleteConfirmMessage : i,
						cancel : !1,
						cancelMessage : null
					};
					n.options.deleteConfirmation(s);
					if (s.cancel) {
						s.cancelMessage && n._showError(s.cancelMessage);
						return
					}
					i = s.deleteConfirmMessage,
					r = s.deleteConfirm
				} else
					r = n.options.deleteConfirmation;
				r != 0 ? (n._$deleteRecordDiv.find(".jtable-delete-confirm-message").html(i), n._showDeleteDialog(t)) : n._deleteRecordFromServer(t, function () {
					n._removeRowsFromTableWithAnimation(t)
				}, function (e) {
					n._showError(e)
				})
			},
			_showDeleteDialog : function (e) {
				this._$deletingRow = e,
				this._$deleteRecordDiv.dialog("open")
			},
			_deleteRecordFromServer : function (e, t, n, r) {
				var i = this;
				if (e.data("deleting") == 1)
					return;
				e.data("deleting", !0);
				var s = {};
				s[i._keyField] = i._getKeyValueOfRecord(e.data("record")),
				this._ajax({
					url : r || i.options.actions.deleteAction,
					data : s,
					success : function (r) {
						if (r.Result != "OK") {
							e.data("deleting", !1),
							n && n(r.Message);
							return
						}
						i._trigger("recordDeleted", null, {
							record : e.data("record"),
							row : e,
							serverResponse : r
						}),
						t && t(r)
					},
					error : function () {
						e.data("deleting", !1),
						n && n(i.options.messages.serverCommunicationError)
					}
				})
			},
			_removeRowsFromTableWithAnimation : function (e, t) {
				var n = this;
				t == undefined && (t = n.options.animationsEnabled);
				if (t) {
					var r = "jtable-row-deleting";
					this.options.jqueryuiTheme && (r += " ui-state-disabled"),
					e.stop(!0, !0).addClass(r, "slow", "").promise().done(function () {
						n._removeRowsFromTable(e, "deleted")
					})
				} else
					n._removeRowsFromTable(e, "deleted")
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_create : e.hik.jtable.prototype._create,
			_addColumnsToHeaderRow : e.hik.jtable.prototype._addColumnsToHeaderRow,
			_addCellsToRowUsingRecord : e.hik.jtable.prototype._addCellsToRowUsingRecord,
			_onLoadingRecords : e.hik.jtable.prototype._onLoadingRecords,
			_onRecordsLoaded : e.hik.jtable.prototype._onRecordsLoaded,
			_onRowsRemoved : e.hik.jtable.prototype._onRowsRemoved
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				selecting : !1,
				multiselect : !1,
				selectingCheckboxes : !1,
				selectOnRowClick : !0,
				selectionChanged : function (e, t) {}

			},
			_selectedRecordIdsBeforeLoad : null,
			_$selectAllCheckbox : null,
			_shiftKeyDown : !1,
			_create : function () {
				this.options.selecting && this.options.selectingCheckboxes && (++this._firstDataColumnOffset, this._bindKeyboardEvents()),
				t._create.apply(this, arguments)
			},
			_bindKeyboardEvents : function () {
				var t = this;
				e(document).keydown(function (e) {
					switch (e.which) {
					case 16:
						t._shiftKeyDown = !0
					}
				}).keyup(function (e) {
					switch (e.which) {
					case 16:
						t._shiftKeyDown = !1
					}
				})
			},
			selectedRows : function () {
				return this._getSelectedRows()
			},
			selectRows : function (e) {
				this._selectRows(e),
				this._onSelectionChanged()
			},
			_addColumnsToHeaderRow : function (e) {
				this.options.selecting && this.options.selectingCheckboxes && (this.options.multiselect ? e.append(this._createSelectAllHeader()) : e.append(this._createEmptyCommandHeader())),
				t._addColumnsToHeaderRow.apply(this, arguments)
			},
			_addCellsToRowUsingRecord : function (e) {
				this.options.selecting && this._makeRowSelectable(e),
				t._addCellsToRowUsingRecord.apply(this, arguments)
			},
			_onLoadingRecords : function () {
				this.options.selecting && this._storeSelectionList(),
				t._onLoadingRecords.apply(this, arguments)
			},
			_onRecordsLoaded : function () {
				this.options.selecting && this._restoreSelectionList(),
				t._onRecordsLoaded.apply(this, arguments)
			},
			_onRowsRemoved : function (e, n) {
				this.options.selecting && n != "reloading" && e.filter(".jtable-row-selected").length > 0 && this._onSelectionChanged(),
				t._onRowsRemoved.apply(this, arguments)
			},
			_createSelectAllHeader : function () {
				var t = this,
				n = e('<th class=""></th>').addClass("jtable-command-column-header jtable-column-header-selecting");
				this._jqueryuiThemeAddClass(n, "ui-state-default");
				var r = e("<div />").addClass("jtable-column-header-container").appendTo(n);
				return t._$selectAllCheckbox = e('<input type="checkbox" />').appendTo(r).click(function () {
						if (t._$tableRows.length <= 0) {
							t._$selectAllCheckbox.attr("checked", !1);
							return
						}
						var e = t._$tableBody.find(">tr.jtable-data-row");
						t._$selectAllCheckbox.is(":checked") ? t._selectRows(e) : t._deselectRows(e),
						t._onSelectionChanged()
					}),
				n
			},
			_storeSelectionList : function () {
				var t = this;
				if (!t.options.selecting)
					return;
				t._selectedRecordIdsBeforeLoad = [],
				t._getSelectedRows().each(function () {
					t._selectedRecordIdsBeforeLoad.push(t._getKeyValueOfRecord(e(this).data("record")))
				})
			},
			_restoreSelectionList : function () {
				var t = this;
				if (!t.options.selecting)
					return;
				var n = 0;
				for (var r = 0; r < t._$tableRows.length; ++r) {
					var i = t._getKeyValueOfRecord(t._$tableRows[r].data("record"));
					e.inArray(i, t._selectedRecordIdsBeforeLoad) > -1 && (t._selectRows(t._$tableRows[r]), ++n)
				}
				t._selectedRecordIdsBeforeLoad.length > 0 && t._selectedRecordIdsBeforeLoad.length != n && t._onSelectionChanged(),
				t._selectedRecordIdsBeforeLoad = [],
				t._refreshSelectAllCheckboxState()
			},
			_getSelectedRows : function () {
				return this._$tableBody.find(">tr.jtable-row-selected")
			},
			_makeRowSelectable : function (t) {
				var n = this;
				n.options.selectOnRowClick && t.click(function () {
					n._invertRowSelection(t)
				});
				if (n.options.selectingCheckboxes) {
					var r = e("<td></td>").addClass("jtable-selecting-column"),
					i = e('<input type="checkbox" />').appendTo(r);
					n.options.selectOnRowClick || i.click(function () {
						n._invertRowSelection(t)
					}),
					t.append(r)
				}
			},
			_invertRowSelection : function (e) {
				if (e.hasClass("jtable-row-selected"))
					this._deselectRows(e);
				else if (this._shiftKeyDown) {
					var t = this._findRowIndex(e),
					n = this._findFirstSelectedRowIndexBeforeIndex(t) + 1;
					if (n > 0 && n < t)
						this._selectRows(this._$tableBody.find("tr").slice(n, t + 1));
					else {
						var r = this._findFirstSelectedRowIndexAfterIndex(t) - 1;
						r > t ? this._selectRows(this._$tableBody.find("tr").slice(t, r + 1)) : this._selectRows(e)
					}
				} else
					this._selectRows(e);
				this._onSelectionChanged()
			},
			_findFirstSelectedRowIndexBeforeIndex : function (e) {
				for (var t = e - 1; t >= 0; --t)
					if (this._$tableRows[t].hasClass("jtable-row-selected"))
						return t;
				return -1
			},
			_findFirstSelectedRowIndexAfterIndex : function (e) {
				for (var t = e + 1; t < this._$tableRows.length; ++t)
					if (this._$tableRows[t].hasClass("jtable-row-selected"))
						return t;
				return -1
			},
			_selectRows : function (e) {
				this.options.multiselect || this._deselectRows(this._getSelectedRows()),
				e.addClass("jtable-row-selected"),
				this._jqueryuiThemeAddClass(e, "ui-state-highlight"),
				this.options.selectingCheckboxes && e.find(">td.jtable-selecting-column >input").prop("checked", !0),
				this._refreshSelectAllCheckboxState()
			},
			_deselectRows : function (e) {
				e.removeClass("jtable-row-selected ui-state-highlight"),
				this.options.selectingCheckboxes && e.find(">td.jtable-selecting-column >input").prop("checked", !1),
				this._refreshSelectAllCheckboxState()
			},
			_refreshSelectAllCheckboxState : function () {
				if (!this.options.selectingCheckboxes || !this.options.multiselect)
					return;
				var e = this._$tableRows.length,
				t = this._getSelectedRows().length;
				t == 0 ? (this._$selectAllCheckbox.prop("indeterminate", !1), this._$selectAllCheckbox.attr("checked", !1)) : t == e ? (this._$selectAllCheckbox.prop("indeterminate", !1), this._$selectAllCheckbox.attr("checked", !0)) : (this._$selectAllCheckbox.attr("checked", !1), this._$selectAllCheckbox.prop("indeterminate", !0))
			},
			_onSelectionChanged : function () {
				this._trigger("selectionChanged", null, {})
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			load : e.hik.jtable.prototype.load,
			_create : e.hik.jtable.prototype._create,
			_setOption : e.hik.jtable.prototype._setOption,
			_createRecordLoadUrl : e.hik.jtable.prototype._createRecordLoadUrl,
			_addRowToTable : e.hik.jtable.prototype._addRowToTable,
			_addRow : e.hik.jtable.prototype._addRow,
			_removeRowsFromTable : e.hik.jtable.prototype._removeRowsFromTable,
			_onRecordsLoaded : e.hik.jtable.prototype._onRecordsLoaded
		};
		var page = 1;
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
			    paging: !1,
                
				pageList : "normal",
				pageSize : 10,
				pageSizes : [10, 25, 50, 100, 250, 500],
				pageSizeChangeArea : !0,
				gotoPageArea : "combobox",
				messages : {
					pagingInfo : "Showing {0}-{1} of {2}",
					pageSizeChangeLabel : "Row count",
					gotoPageLabel : "Go to page"
				}
			},
			_$bottomPanel : null,
			_$pagingListArea : null,
			_$pageSizeChangeArea : null,
			_$pageInfoSpan : null,
			_$gotoPageArea : null,
			_$gotoPageInput : null,
			_totalRecordCount: 0,
			
			_currentPageNo:1,
            
			_create : function () {
				t._create.apply(this, arguments),
				this.options.paging && (this._loadPagingSettings(), this._createBottomPanel(), this._createPageListArea(), this._createGotoPageInput(), this._createPageSizeSelection())
			},
			_loadPagingSettings : function () {
				if (!this.options.saveUserPreferences)
					return;
				var e = this._getCookie("page-size");
				e && (this.options.pageSize = this._normalizeNumber(e, 1, 1e6, this.options.pageSize))
			},
			_createBottomPanel : function () {
				this._$bottomPanel = e("<div />").addClass("jtable-bottom-panel").insertAfter(this._$table),
				this._jqueryuiThemeAddClass(this._$bottomPanel, "ui-state-default"),
				e("<div />").addClass("jtable-left-area").appendTo(this._$bottomPanel),
				e("<div />").addClass("jtable-right-area").appendTo(this._$bottomPanel)
			},
			_createPageListArea : function () {
				this._$pagingListArea = e("<span></span>").addClass("jtable-page-list").appendTo(this._$bottomPanel.find(".jtable-left-area")),
				this._$pageInfoSpan = e("<span></span>").addClass("jtable-page-info").appendTo(this._$bottomPanel.find(".jtable-right-area"))
			},
			_createPageSizeSelection : function () {
				var t = this;
				if (!t.options.pageSizeChangeArea)
					return;
				t._findIndexInArray(t.options.pageSize, t.options.pageSizes) < 0 && (t.options.pageSizes.push(parseInt(t.options.pageSize)), t.options.pageSizes.sort(function (e, t) {
						return e - t
					})),
				t._$pageSizeChangeArea = e("<span></span>").addClass("jtable-page-size-change").appendTo(t._$bottomPanel.find(".jtable-left-area")),
				t._$pageSizeChangeArea.append("<span>" + t.options.messages.pageSizeChangeLabel + ": </span>");
				var n = e("<select></select>").appendTo(t._$pageSizeChangeArea);
				for (var r = 0; r < t.options.pageSizes.length; r++)
					n.append('<option value="' + t.options.pageSizes[r] + '">' + t.options.pageSizes[r] + "</option>");
				n.val(t.options.pageSize),
				n.change(function () {
					t._changePageSize(parseInt(e(this).val()))
				})
			},
			_createGotoPageInput : function () {
				var t = this;
				if (!t.options.gotoPageArea || t.options.gotoPageArea == "none")
					return;
				this._$gotoPageArea = e("<span></span>").addClass("jtable-goto-page").appendTo(t._$bottomPanel.find(".jtable-left-area")),
				this._$gotoPageArea.append("<span>" + t.options.messages.gotoPageLabel + ": </span>"),
				t.options.gotoPageArea == "combobox" ? (t._$gotoPageInput = e("<select></select>").appendTo(this._$gotoPageArea).data("pageCount", 1).change(function () {
							t._changePage(parseInt(e(this).val()))
						}), t._$gotoPageInput.append('<option value="1">1</option>')) : t._$gotoPageInput = e('<input type="text" maxlength="10" value="' + t._currentPageNo + '" />').appendTo(this._$gotoPageArea).keypress(function (e) {
						if (e.which == 13)
							e.preventDefault(), t._changePage(parseInt(t._$gotoPageInput.val()));
						else if (e.which == 43)
							e.preventDefault(), t._changePage(parseInt(t._$gotoPageInput.val()) + 1);
						else if (e.which == 45)
							e.preventDefault(), t._changePage(parseInt(t._$gotoPageInput.val()) - 1);
						else {
							var n = 47 < e.keyCode && e.keyCode < 58 && e.shiftKey == 0 && e.altKey == 0 || e.keyCode == 8 || e.keyCode == 9;
							n || e.preventDefault()
						}
					})
			},
			_refreshGotoPageInput : function () {
				if (!this.options.gotoPageArea || this.options.gotoPageArea == "none")
					return;
				this._totalRecordCount <= 0 ? this._$gotoPageArea.hide() : this._$gotoPageArea.show();
				if (this.options.gotoPageArea == "combobox") {
					var e = this._$gotoPageInput.data("pageCount"),
					t = this._calculatePageCount();
					if (e != t) {
						this._$gotoPageInput.empty();
						var n = 1;
						t > 1e4 ? n = 100 : t > 5e3 ? n = 10 : t > 2e3 ? n = 5 : t > 1e3 && (n = 2);
						for (var r = n; r <= t; r += n)
							this._$gotoPageInput.append('<option value="' + r + '">' + r + "</option>");
						this._$gotoPageInput.data("pageCount", t)
					}
				}
				this._$gotoPageInput.val(this._currentPageNo)
			},
			load: function () {
			    this._currentPageNo = page;
				t.load.apply(this, arguments)
			},
			_setOption : function (e, n) {
				t._setOption.apply(this, arguments),
				e == "pageSize" && this._changePageSize(parseInt(n))
			},
			_changePageSize : function (e) {
				if (e == this.options.pageSize)
					return;
				this.options.pageSize = e;
				var t = this._calculatePageCount();
				this._currentPageNo > t && (this._currentPageNo = t),
				this._currentPageNo <= 0 && (this._currentPageNo = 1);
				var n = this._$bottomPanel.find(".jtable-page-size-change select");
				if (n.length > 0 && parseInt(n.val()) != e) {
					var r = n.find("option[value=" + e + "]");
					r.length > 0 && n.val(e)
				}
				this._savePagingSettings(),
				this._reloadTable()
			},
			_savePagingSettings : function () {
				if (!this.options.saveUserPreferences)
					return;
				this._setCookie("page-size", this.options.pageSize)
			},
			_createRecordLoadUrl : function () {
				var e = t._createRecordLoadUrl.apply(this, arguments);
				return e = this._addPagingInfoToUrl(e, this._currentPageNo),
				e
			},
			_addRowToTable : function (e, n, r) {
				if (r && this.options.paging) {
					this._reloadTable();
					return
				}
				t._addRowToTable.apply(this, arguments)
			},
			_addRow : function (e, n) {
				if (n && n.isNewRow && this.options.paging) {
					this._reloadTable();
					return
				}
				t._addRow.apply(this, arguments)
			},
			_removeRowsFromTable : function (e, n) {
				t._removeRowsFromTable.apply(this, arguments),
				this.options.paging && (this._$tableRows.length <= 0 && this._currentPageNo > 1 && --this._currentPageNo, this._reloadTable())
			},
			_onRecordsLoaded : function (e) {
				this.options.paging && (this._totalRecordCount = e.TotalRecordCount, this._createPagingList(), this._createPagingInfo(), this._refreshGotoPageInput()),
				t._onRecordsLoaded.apply(this, arguments)
			},
			_addPagingInfoToUrl : function (e, t) {
				if (!this.options.paging)
					return e;
				var n = (t - 1) * this.options.pageSize,
				r = this.options.pageSize;
				return e + (e.indexOf("?") < 0 ? "?" : "&") + "jtStartIndex=" + n + "&jtPageSize=" + r
			},
			_createPagingList : function () {
				if (this.options.pageSize <= 0)
					return;
				this._$pagingListArea.empty();
				if (this._totalRecordCount <= 0)
					return;
				var e = this._calculatePageCount();
				this._createFirstAndPreviousPageButtons(),
				this.options.pageList == "normal" && this._createPageNumberButtons(this._calculatePageNumbers(e)),
				this._createLastAndNextPageButtons(e),
				this._bindClickEventsToPageNumberButtons()
			},
			_createFirstAndPreviousPageButtons : function () {
				var t = e("<span></span>").addClass("jtable-page-number-first").html("&lt&lt").data("pageNumber", 1).appendTo(this._$pagingListArea),
				n = e("<span></span>").addClass("jtable-page-number-previous").html("&lt").data("pageNumber", this._currentPageNo - 1).appendTo(this._$pagingListArea);
				this._jqueryuiThemeAddClass(t, "ui-button ui-state-default", "ui-state-hover"),
				this._jqueryuiThemeAddClass(n, "ui-button ui-state-default", "ui-state-hover"),
				this._currentPageNo <= 1 && (t.addClass("jtable-page-number-disabled"), n.addClass("jtable-page-number-disabled"), this._jqueryuiThemeAddClass(t, "ui-state-disabled"), this._jqueryuiThemeAddClass(n, "ui-state-disabled"))
			},
			_createLastAndNextPageButtons : function (t) {
				var n = e("<span></span>").addClass("jtable-page-number-next").html("&gt").data("pageNumber", this._currentPageNo + 1).appendTo(this._$pagingListArea),
				r = e("<span></span>").addClass("jtable-page-number-last").html("&gt&gt").data("pageNumber", t).appendTo(this._$pagingListArea);
				this._jqueryuiThemeAddClass(n, "ui-button ui-state-default", "ui-state-hover"),
				this._jqueryuiThemeAddClass(r, "ui-button ui-state-default", "ui-state-hover"),
				this._currentPageNo >= t && (n.addClass("jtable-page-number-disabled"), r.addClass("jtable-page-number-disabled"), this._jqueryuiThemeAddClass(n, "ui-state-disabled"), this._jqueryuiThemeAddClass(r, "ui-state-disabled"))
			},
			_createPageNumberButtons : function (t) {
				var n = 0;
				for (var r = 0; r < t.length; r++)
					t[r] - n > 1 && e("<span></span>").addClass("jtable-page-number-space").html("...").appendTo(this._$pagingListArea), this._createPageNumberButton(t[r]), n = t[r]
			},
			_createPageNumberButton : function (t) {
				var n = e("<span></span>").addClass("jtable-page-number").html(t).data("pageNumber", t).appendTo(this._$pagingListArea);
				this._jqueryuiThemeAddClass(n, "ui-button ui-state-default", "ui-state-hover"),
				this._currentPageNo == t && (n.addClass("jtable-page-number-active jtable-page-number-disabled"), this._jqueryuiThemeAddClass(n, "ui-state-active"))
			},
			_calculatePageCount : function () {
				var e = Math.floor(this._totalRecordCount / this.options.pageSize);
				return this._totalRecordCount % this.options.pageSize != 0 && ++e,
				e
			},
			_calculatePageNumbers : function (e) {
				if (e <= 4) {
					var t = [];
					for (var n = 1; n <= e; ++n)
						t.push(n);
					return t
				}
				var r = [1, 2, e - 1, e],
				i = this._normalizeNumber(this._currentPageNo - 1, 1, e, 1),
				s = this._normalizeNumber(this._currentPageNo + 1, 1, e, 1);
				return this._insertToArrayIfDoesNotExists(r, i),
				this._insertToArrayIfDoesNotExists(r, this._currentPageNo),
				this._insertToArrayIfDoesNotExists(r, s),
				r.sort(function (e, t) {
					return e - t
				}),
				r
			},
			_createPagingInfo : function () {
				if (this._totalRecordCount <= 0) {
					this._$pageInfoSpan.empty();
					return
				}
				var e = (this._currentPageNo - 1) * this.options.pageSize + 1,
				t = this._currentPageNo * this.options.pageSize;
				t = this._normalizeNumber(t, e, this._totalRecordCount, 0);
				if (t >= e) {
					var n = this._formatString(this.options.messages.pagingInfo, e, t, this._totalRecordCount);
					this._$pageInfoSpan.html(n)
				}
			},
			_bindClickEventsToPageNumberButtons : function () {
				var t = this;
				t._$pagingListArea.find(".jtable-page-number,.jtable-page-number-previous,.jtable-page-number-next,.jtable-page-number-first,.jtable-page-number-last").not(".jtable-page-number-disabled").click(function (n) {
				    n.preventDefault(),
					t._changePage(e(this).data("pageNumber"))
				})
			},
			_changePage: function (e) {
                
			    e = this._normalizeNumber(e, 1, this._calculatePageCount(), 1);
				if (e == this._currentPageNo) {
					this._refreshGotoPageInput();
					return
				}
                //console.log(e)
			    this._currentPageNo = e,
                page = e,
				this._reloadTable()
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_initializeFields : e.hik.jtable.prototype._initializeFields,
			_normalizeFieldOptions : e.hik.jtable.prototype._normalizeFieldOptions,
			_createHeaderCellForField : e.hik.jtable.prototype._createHeaderCellForField,
			_createRecordLoadUrl : e.hik.jtable.prototype._createRecordLoadUrl
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				sorting : !1,
				multiSorting : !1,
				defaultSorting : ""
			},
			_lastSorting : null,
			_initializeFields : function () {
				t._initializeFields.apply(this, arguments),
				this._lastSorting = [],
				this.options.sorting && this._buildDefaultSortingArray()
			},
			_normalizeFieldOptions : function (e, n) {
				t._normalizeFieldOptions.apply(this, arguments),
				n.sorting = n.sorting != 0
			},
			_createHeaderCellForField : function (e, n) {
				var r = t._createHeaderCellForField.apply(this, arguments);
				return this.options.sorting && n.sorting && this._makeColumnSortable(r, e),
				r
			},
			_createRecordLoadUrl : function () {
				var e = t._createRecordLoadUrl.apply(this, arguments);
				return e = this._addSortingInfoToUrl(e),
				e
			},
			_buildDefaultSortingArray : function () {
				var t = this;
				e.each(t.options.defaultSorting.split(","), function (n, r) {
					e.each(t.options.fields, function (e, n) {
						if (n.sorting) {
							var i = r.indexOf(e);
							i > -1 && (r.toUpperCase().indexOf("DESC", i) > -1 ? t._lastSorting.push({
									fieldName : e,
									sortOrder : "DESC"
								}) : t._lastSorting.push({
									fieldName : e,
									sortOrder : "ASC"
								}))
						}
					})
				})
			},
			_makeColumnSortable : function (t, n) {
				var r = this;
				t.addClass("jtable-column-header-sortable").click(function (e) {
					e.preventDefault();
					if (!r.options.multiSorting || !e.ctrlKey)
						r._lastSorting = [];
					r._sortTableByColumn(t)
				}),
				e.each(this._lastSorting, function (e, r) {
					r.fieldName == n && (r.sortOrder == "DESC" ? t.addClass("jtable-column-header-sorted-desc") : t.addClass("jtable-column-header-sorted-asc"))
				})
			},
			_sortTableByColumn : function (e) {
				this._lastSorting.length == 0 && e.siblings().removeClass("jtable-column-header-sorted-asc jtable-column-header-sorted-desc");
				for (var t = 0; t < this._lastSorting.length; t++)
					this._lastSorting[t].fieldName == e.data("fieldName") && this._lastSorting.splice(t--, 1);
				e.hasClass("jtable-column-header-sorted-asc") ? (e.removeClass("jtable-column-header-sorted-asc").addClass("jtable-column-header-sorted-desc"), this._lastSorting.push({
						fieldName : e.data("fieldName"),
						sortOrder : "DESC"
					})) : (e.removeClass("jtable-column-header-sorted-desc").addClass("jtable-column-header-sorted-asc"), this._lastSorting.push({
						fieldName : e.data("fieldName"),
						sortOrder : "ASC"
					})),
				this._reloadTable()
			},
			_addSortingInfoToUrl : function (t) {
				if (!this.options.sorting || this._lastSorting.length == 0)
					return t;
				var n = [];
				return e.each(this._lastSorting, function (e, t) {
					n.push(t.fieldName + " " + t.sortOrder)
				}),
				t + (t.indexOf("?") < 0 ? "?" : "&") + "jtSorting=" + n.join(",")
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_create : e.hik.jtable.prototype._create,
			_normalizeFieldOptions : e.hik.jtable.prototype._normalizeFieldOptions,
			_createHeaderCellForField : e.hik.jtable.prototype._createHeaderCellForField,
			_createCellForRecordField : e.hik.jtable.prototype._createCellForRecordField
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				tableId : undefined,
				columnResizable : !0,
				columnSelectable : !0
			},
			_$columnSelectionDiv : null,
			_$columnResizeBar : null,
			_cookieKeyPrefix : null,
			_currentResizeArgs : null,
			_create : function () {
				t._create.apply(this, arguments),
				this._createColumnResizeBar(),
				this._createColumnSelection(),
				this.options.saveUserPreferences && this._loadColumnSettings(),
				this._normalizeColumnWidths()
			},
			_normalizeFieldOptions : function (e, n) {
				t._normalizeFieldOptions.apply(this, arguments),
				this.options.columnResizable && (n.columnResizable = n.columnResizable != 0),
				n.visibility || (n.visibility = "visible")
			},
			_createHeaderCellForField : function (e, n) {
				var r = t._createHeaderCellForField.apply(this, arguments);
				return this.options.columnResizable && n.columnResizable && e != this._columnList[this._columnList.length - 1] && this._makeColumnResizable(r),
				n.visibility == "hidden" && r.hide(),
				r
			},
			_createCellForRecordField : function (e, n) {
				var r = t._createCellForRecordField.apply(this, arguments),
				i = this.options.fields[n];
				return i.visibility == "hidden" && r.hide(),
				r
			},
			changeColumnVisibility : function (e, t) {
				this._changeColumnVisibilityInternal(e, t),
				this._normalizeColumnWidths(),
				this.options.saveUserPreferences && this._saveColumnSettings()
			},
			_changeColumnVisibilityInternal : function (e, t) {
				var n = this._columnList.indexOf(e);
				if (n < 0) {
					this._logWarn('Column "' + e + '" does not exist in fields!');
					return
				}
				if (["visible", "hidden", "fixed"].indexOf(t) < 0) {
					this._logWarn('Visibility value is not valid: "' + t + '"! Options are: visible, hidden, fixed.');
					return
				}
				var r = this.options.fields[e];
				if (r.visibility == t)
					return;
				var i = this._firstDataColumnOffset + n + 1;
				r.visibility != "hidden" && t == "hidden" ? this._$table.find(">thead >tr >th:nth-child(" + i + "),>tbody >tr >td:nth-child(" + i + ")").hide() : r.visibility == "hidden" && t != "hidden" && this._$table.find(">thead >tr >th:nth-child(" + i + "),>tbody >tr >td:nth-child(" + i + ")").show().css("display", "table-cell"),
				r.visibility = t
			},
			_createColumnSelection : function () {
				var t = this;
				this._$columnSelectionDiv = e("<div />").addClass("jtable-column-selection-container").appendTo(t._$mainContainer),
				this._$table.children("thead").bind("contextmenu", function (n) {
					if (!t.options.columnSelectable)
						return;
					n.preventDefault(),
					e("<div />").addClass("jtable-contextmenu-overlay").click(function () {
						e(this).remove(),
						t._$columnSelectionDiv.hide()
					}).bind("contextmenu", function () {
						return !1
					}).appendTo(document.body),
					t._fillColumnSelection();
					var r = t._$mainContainer.offset(),
					i = n.pageY - r.top,
					s = n.pageX - r.left,
					o = 100,
					u = t._$mainContainer.width();
					u > o && s > u - o && (s = u - o),
					t._$columnSelectionDiv.css({
						left : s,
						top : i,
						"min-width" : o + "px"
					}).show()
				})
			},
			_fillColumnSelection : function () {
				var t = this,
				n = e("<ul></ul>").addClass("jtable-column-select-list");
				for (var r = 0; r < this._columnList.length; r++) {
					var i = this._columnList[r],
					s = this.options.fields[i],
					o = e("<li></li>").appendTo(n),
					u = e('<label for="' + i + '"></label>').append(e("<span>" + (s.title || i) + "</span>")).appendTo(o),
					a = e('<input type="checkbox" name="' + i + '">').prependTo(u).click(function () {
							var n = e(this),
							r = n.attr("name"),
							i = t.options.fields[r];
							if (i.visibility == "fixed")
								return;
							t.changeColumnVisibility(r, n.is(":checked") ? "visible" : "hidden")
						});
					s.visibility != "hidden" && a.attr("checked", "checked"),
					s.visibility == "fixed" && a.attr("disabled", "disabled")
				}
				this._$columnSelectionDiv.html(n)
			},
			_createColumnResizeBar : function () {
				this._$columnResizeBar = e("<div />").addClass("jtable-column-resize-bar").appendTo(this._$mainContainer).hide()
			},
			_makeColumnResizable : function (t) {
				var n = this;
				e("<div />").addClass("jtable-column-resize-handler").appendTo(t.find(".jtable-column-header-container")).mousedown(function (r) {
					r.preventDefault(),
					r.stopPropagation();
					var i = n._$mainContainer.offset(),
					s = t.nextAll("th.jtable-column-header:visible:first");
					if (!s.length)
						return;
					var o = 10;
					n._currentResizeArgs = {
						currentColumnStartWidth : t.outerWidth(),
						minWidth : o,
						maxWidth : t.outerWidth() + s.outerWidth() - o,
						mouseStartX : r.pageX,
						minResizeX : function () {
							return this.mouseStartX - (this.currentColumnStartWidth - this.minWidth)
						},
						maxResizeX : function () {
							return this.mouseStartX + (this.maxWidth - this.currentColumnStartWidth)
						}
					};
					var u = function (e) {
						if (!n._currentResizeArgs)
							return;
						var t = n._normalizeNumber(e.pageX, n._currentResizeArgs.minResizeX(), n._currentResizeArgs.maxResizeX());
						n._$columnResizeBar.css("left", t - i.left + "px")
					},
					a = function (r) {
						if (!n._currentResizeArgs)
							return;
						e(document).unbind("mousemove", u),
						e(document).unbind("mouseup", a),
						n._$columnResizeBar.hide();
						var i = r.pageX - n._currentResizeArgs.mouseStartX,
						o = n._normalizeNumber(n._currentResizeArgs.currentColumnStartWidth + i, n._currentResizeArgs.minWidth, n._currentResizeArgs.maxWidth),
						f = s.outerWidth() + (n._currentResizeArgs.currentColumnStartWidth - o),
						l = t.data("width-in-percent") / n._currentResizeArgs.currentColumnStartWidth;
						t.data("width-in-percent", o * l),
						s.data("width-in-percent", f * l),
						t.css("width", t.data("width-in-percent") + "%"),
						s.css("width", s.data("width-in-percent") + "%"),
						n._normalizeColumnWidths(),
						n._currentResizeArgs = null,
						n.options.saveUserPreferences && n._saveColumnSettings()
					};
					n._$columnResizeBar.show().css({
						top : t.offset().top - i.top + "px",
						left : r.pageX - i.left + "px",
						height : n._$table.outerHeight() + "px"
					}),
					e(document).bind("mousemove", u),
					e(document).bind("mouseup", a)
				})
			},
			_normalizeColumnWidths : function () {
				var t = this._$table.find(">thead th.jtable-command-column-header").data("width-in-percent", 1).css("width", "1%"),
				n = this._$table.find(">thead th.jtable-column-header"),
				r = 0;
				n.each(function () {
					var t = e(this);
					t.is(":visible") && (r += t.outerWidth())
				});
				var i = {},
				s = 100 - t.length;
				n.each(function () {
					var t = e(this);
					if (t.is(":visible")) {
						var n = t.data("fieldName"),
						o = t.outerWidth() * s / r;
						i[n] = o
					}
				}),
				n.each(function () {
					var t = e(this);
					if (t.is(":visible")) {
						var n = t.data("fieldName");
						t.data("width-in-percent", i[n]).css("width", i[n] + "%")
					}
				})
			},
			_saveColumnSettings : function () {
				var t = this,
				n = "";
				this._$table.find(">thead >tr >th.jtable-column-header").each(function () {
					var r = e(this),
					i = r.data("fieldName"),
					s = r.data("width-in-percent"),
					o = t.options.fields[i].visibility,
					u = i + "=" + o + ";" + s;
					n = n + u + "|"
				}),
				this._setCookie("column-settings", n.substr(0, n.length - 1))
			},
			_loadColumnSettings : function () {
				var t = this,
				n = this._getCookie("column-settings");
				if (!n)
					return;
				var r = {};
				e.each(n.split("|"), function (e, t) {
					var n = t.split("="),
					i = n[0],
					s = n[1].split(";");
					r[i] = {
						columnVisibility : s[0],
						columnWidth : s[1]
					}
				});
				var i = this._$table.find(">thead >tr >th.jtable-column-header");
				i.each(function () {
					var n = e(this),
					i = n.data("fieldName"),
					s = t.options.fields[i];
					r[i] && (s.visibility != "fixed" && t._changeColumnVisibilityInternal(i, r[i].columnVisibility), n.data("width-in-percent", r[i].columnWidth).css("width", r[i].columnWidth + "%"))
				})
			}
		})
	}
	(jQuery),
	function (e) {
		var t = {
			_removeRowsFromTable : e.hik.jtable.prototype._removeRowsFromTable
		};
		e.extend(!0, e.hik.jtable.prototype, {
			options : {
				openChildAsAccordion : !1
			},
			openChildTable : function (t, n, r) {
				var i = this;
				n.jqueryuiTheme == undefined && (n.jqueryuiTheme = i.options.jqueryuiTheme),
				n.showCloseButton = n.showCloseButton != 0,
				n.showCloseButton && !n.closeRequested && (n.closeRequested = function () {
					i.closeChildTable(t)
				}),
				i.options.openChildAsAccordion && t.siblings(".jtable-data-row").each(function () {
					i.closeChildTable(e(this))
				}),
				i.closeChildTable(t, function () {
					var s = i.getChildRow(t).children("td").empty(),
					o = e("<div />").addClass("jtable-child-table-container").appendTo(s);
					s.data("childTable", o),
					o.jtable(n),
					i.openChildRow(t),
					o.hide().slideDown("fast", function () {
						r && r({
							childTable : o
						})
					})
				})
			},
			closeChildTable : function (e, t) {
				var n = this,
				r = this.getChildRow(e).children("td"),
				i = r.data("childTable");
				if (!i) {
					t && t();
					return
				}
				r.data("childTable", null),
				i.slideUp("fast", function () {
					i.jtable("destroy"),
					i.remove(),
					n.closeChildRow(e),
					t && t()
				})
			},
			isChildRowOpen : function (e) {
				return this.getChildRow(e).is(":visible")
			},
			getChildRow : function (e) {
				return e.data("childRow") || this._createChildRow(e)
			},
			openChildRow : function (e) {
				var t = this.getChildRow(e);
				return t.is(":visible") || t.show(),
				t
			},
			closeChildRow : function (e) {
				var t = this.getChildRow(e);
				t.is(":visible") && t.hide()
			},
			_removeRowsFromTable : function (n, r) {
				var i = this;
				r == "deleted" && n.each(function () {
					var t = e(this),
					n = t.data("childRow");
					n && (i.closeChildTable(t), n.remove())
				}),
				t._removeRowsFromTable.apply(this, arguments)
			},
			_createChildRow: function (t) {
			    var n = this._$table.find("thead th").length,

				r = e("<tr></tr>").addClass("jtable-child-row").append('<td colspan="' + n + '"></td>');
				return t.parent().after(r),
				t.data("childRow", r),
				r.hide(),
				r
			}
		})
	}
	(jQuery)
}), function (e, t, n, r) {
	function i(t, n) {
		this.$element = e(t),
		this.options = e.extend(!0, {}, u, n),
		this.colHeightArray = [],
		this.styleQueue = [],
		this._init()
	}
	var s = e(t),
	o = "waterfall",
	u = {
		itemCls : "waterfall-item",
		prefix : "waterfall",
		fitWidth : !0,
		colWidth : 240,
		gutterWidth : 10,
		gutterHeight : 10,
		align : "center",
		minCol : 1,
		maxCol : r,
		maxPage : r,
		bufferPixel : -50,
		containerStyle : {
			position : "relative"
		},
		resizable : !0,
		isFadeIn : !1,
		isAnimated : !1,
		animationOptions : {},
		isAutoPrefill : !0,
		checkImagesLoaded : !0,
		path : r,
		dataType : "json",
		params : {},
		loadingMsg : '<div style="text-align:center;padding:10px 0; color:#999;"><img src="data:image/gif;base64,R0lGODlhEAALAPQAAP///zMzM+Li4tra2u7u7jk5OTMzM1hYWJubm4CAgMjIyE9PT29vb6KiooODg8vLy1JSUjc3N3Jycuvr6+Dg4Pb29mBgYOPj4/X19cXFxbOzs9XV1fHx8TMzMzMzMzMzMyH5BAkLAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7" alt=""><br />Loading...</div>',
		state : {
			isDuringAjax : !1,
			isProcessingData : !1,
			isResizing : !1,
			isPause : !1,
			curPage : 1
		},
		callbacks : {
			loadingStart : function (e) {
				e.show()
			},
			loadingFinished : function (e, t) {
				t ? e.remove() : e.fadeOut()
			},
			loadingError : function (e) {
				e.html("Data load faild, please try again later.")
			},
			renderData : function (t, n) {
				var r,
				i;
				return "json" === n || "jsonp" === n ? (r = e("#waterfall-tpl").html(), i = Handlebars.compile(r), i(t)) : t
			}
		},
		debug : !1
	};
	i.prototype = {
		constructor : i,
		_debug : function () {
			!0 === this.options.debug && ("undefined" != typeof console && "function" == typeof console.log ? 1 === Array.prototype.slice.call(arguments).length && "string" == typeof Array.prototype.slice.call(arguments)[0] ? console.log("" + Array.prototype.slice.call(arguments)) : console.log(Array.prototype.slice.call(arguments)) : Function.prototype.bind || "undefined" == typeof console || "object" != typeof console.log || Function.prototype.call.call(console.log, console, Array.prototype.slice.call(arguments)))
		},
		_init : function (e) {
			var t = this.options,
			n = t.path;
			return this._setColumns(),
			this._initContainer(),
			this._resetColumnsHeightArray(),
			this.reLayout(e),
			n ? (t.isAutoPrefill && this._prefill(), t.resizable && this._doResize(), this._doScroll(), r) : (this._debug("Invalid path"), r)
		},
		_initContainer : function () {
			var t = this.options,
			n = t.prefix;
			e("body").css({
				overflow : "scroll"
			}),
			this.$element.css(this.options.containerStyle).addClass(n + "-container"),
			this.$element.after('<div id="' + n + '-loading">' + t.loadingMsg + '</div><div id="' + n + '-message" style="text-align:center;color:#999;"></div>'),
			this.$loading = e("#" + n + "-loading"),
			this.$message = e("#" + n + "-message")
		},
		_getColumns : function () {
			var e = this.options,
			t = e.fitWidth ? this.$element.parent() : this.$element,
			n = "BODY" === t[0].tagName ? t.width() - 20 : t.width(),
			r = e.colWidth,
			i = e.gutterWidth,
			s = e.minCol,
			o = e.maxCol,
			u = Math.floor(n / (r + i)),
			a = Math.max(u, s);
			return o ? a > o ? o : a : a
		},
		_setColumns : function () {
			this.cols = this._getColumns()
		},
		_getItems : function (e) {
			var t = e.filter("." + this.options.itemCls).css({
					position : "absolute"
				});
			return t
		},
		_resetColumnsHeightArray : function () {
			var e,
			t = this.cols;
			for (this.colHeightArray.length = t, e = 0; t > e; e++)
				this.colHeightArray[e] = 0
		},
		layout : function (e, t) {
			var n,
			r,
			i,
			s,
			o,
			u,
			a = this.options,
			f = this.options.isFadeIn ? this._getItems(e).css({
					opacity : 0
				}).animate({
					opacity : 1
				}) : this._getItems(e),
			l = this.options.isAnimated && this.options.state.isResizing ? "animate" : "css",
			c = a.animationOptions,
			h = a.colWidth,
			p = a.gutterWidth,
			d = this.colHeightArray.length,
			v = a.align;
			for (this.$element.append(f), "center" === v ? (n = (this.$element.width() - h * d - p * (d - 1)) / 2, n = n > 0 ? n : 0) : "left" === v ? n = 0 : "right" === v && (n = this.$element.width() - h * d - p * (d - 1)), i = 0, o = f.length; o > i; i++)
				this._placeItems(f[i], n);
			for (s = 0, u = this.styleQueue.length; u > s; s++)
				r = this.styleQueue[s], r.$el[l](r.style, c);
			this.$element.height(Math.max.apply({}, this.colHeightArray)),
			this.styleQueue = [],
			this.options.state.isResizing = !1,
			this.options.state.isProcessingData = !1,
			t && t.call(f)
		},
		reLayout : function (e) {
			var t = this.$element.find("." + this.options.itemCls);
			this._resetColumnsHeightArray(),
			this.layout(t, e)
		},
		_placeItems : function (t, n) {
			var r,
			i,
			s = e(t),
			o = this.options,
			u = o.colWidth,
			a = o.gutterWidth,
			f = o.gutterHeight,
			l = this.colHeightArray,
			c = l.length,
			h = Math.min.apply({}, l),
			p = e.inArray(h, l);
			r = s.hasClass(o.prefix + "-item-fixed-left") ? 0 : s.hasClass(o.prefix + "-item-fixed-right") ? c > 1 ? c - 1 : 0 : p,
			i = {
				left : (u + a) * r + n,
				top : l[r]
			},
			this.styleQueue.push({
				$el : s,
				style : i
			}),
			l[r] += s.outerHeight() + f
		},
		prepend : function (e, t) {
			this.$element.prepend(e),
			this.reLayout(t)
		},
		append : function (e, t) {
			this.$element.append(e),
			this.layout(e, t)
		},
		removeItems : function (e, t) {
			this.$element.find(e).remove(),
			this.reLayout(t)
		},
		option : function (t, n) {
			e.isPlainObject(t) && (this.options = e.extend(!0, this.options, t), "function" == typeof n && n(), this._init())
		},
		pause : function (e) {
			this.options.state.isPause = !0,
			"function" == typeof e && e()
		},
		resume : function (e) {
			this.options.state.isPause = !1,
			"function" == typeof e && e()
		},
		_requestData : function (t) {
			var n,
			i = this,
			s = this.options,
			o = s.maxPage,
			u = s.state.curPage++,
			a = s.path,
			f = s.dataType,
			l = s.params;
			return o !== r && u > o ? (s.state.isBeyondMaxPage = !0, s.callbacks.loadingFinished(this.$loading, s.state.isBeyondMaxPage), r) : (n = "function" == typeof a ? a(u) : a.join(u), this._debug("heading into ajax", n + e.param(l)), s.callbacks.loadingStart(this.$loading), s.state.isDuringAjax = !0, s.state.isProcessingData = !0, e.ajax({
					url : n,
					data : l,
					dataType : f,
					success : function (e) {
						i._handleResponse(e, t),
						i.options.state.isDuringAjax = !1
					},
					error : function () {
						i._responeseError("error")
					}
				}), r)
		},
		_handleResponse : function (t, n) {
			var r = this,
			i = this.options,
			s = e.trim(i.callbacks.renderData(t, i.dataType)),
			o = e(s),
			u = i.checkImagesLoaded;
			u ? o.imagesLoaded(function () {
				r.append(o, n),
				r.options.callbacks.loadingFinished(r.$loading, r.options.state.isBeyondMaxPage)
			}) : (r.append(o, n), r.options.callbacks.loadingFinished(r.$loading, r.options.state.isBeyondMaxPage))
		},
		_responeseError : function (e) {
			this.$loading.hide(),
			this.options.callbacks.loadingError(this.$message, e),
			"end" !== e && "error" !== e && (e = "unknown"),
			this._debug("Error", e)
		},
		_nearbottom : function () {
			var e = this.options,
			t = Math.min.apply({}, this.colHeightArray),
			n = s.scrollTop() + s.height() - this.$element.offset().top - t;
			return this._debug("math:", n),
			n > e.bufferPixel
		},
		_prefill : function () {
			this.$element.height() <= s.height() && this._scroll()
		},
		_scroll : function () {
			var e = this.options,
			t = e.state,
			n = this;
			t.isProcessingData || t.isDuringAjax || t.isInvalidPage || t.isPause || this._nearbottom() && this._requestData(function () {
				setTimeout(function () {
					n._scroll()
				}, 100)
			})
		},
		_doScroll : function () {
			var e,
			t = this;
			s.bind("scroll", function () {
				e && clearTimeout(e),
				e = setTimeout(function () {
						t._scroll()
					}, 100)
			})
		},
		_resize : function () {
			var e = this.cols,
			t = this._getColumns();
			(t !== e || "left" !== this.options.align) && (this.options.state.isResizing = !0, this.cols = t, this.reLayout(), this._prefill())
		},
		_doResize : function () {
			var e,
			t = this;
			s.bind("resize", function () {
				e && clearTimeout(e),
				e = setTimeout(function () {
						t._resize()
					}, 100)
			})
		}
	},
	e.fn[o] = function (t) {
		if ("string" == typeof t) {
			var n = Array.prototype.slice.call(arguments, 1);
			this.each(function () {
				var i = e.data(this, "plugin_" + o);
				return i ? e.isFunction(i[t]) && "_" !== t.charAt(0) ? (i[t].apply(i, n), r) : (i._debug('no such method "' + t + '"'), r) : (i._debug("instance is not initialization"), r)
			})
		} else
			this.each(function () {
				e.data(this, "plugin_" + o) || e.data(this, "plugin_" + o, new i(this, t))
			});
		return this
	}
}
(jQuery, window, document), function (e, t) {
	var n = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
	e.fn.imagesLoaded = function (r) {
		function s() {
			var t = e(p),
			n = e(d);
			f && (d.length ? f.reject(c, t, n) : f.resolve(c)),
			e.isFunction(r) && r.call(a, c, t, n)
		}
		function o(e) {
			u(e.target, "error" === e.type)
		}
		function u(t, r) {
			t.src !== n && -1 === e.inArray(t, h) && (h.push(t), r ? d.push(t) : p.push(t), e.data(t, "imagesLoaded", {
					isBroken : r,
					src : t.src
				}), l && f.notifyWith(e(t), [r, c, e(p), e(d)]), c.length === h.length && (setTimeout(s), c.unbind(".imagesLoaded", o)))
		}
		var a = this,
		f = e.isFunction(e.Deferred) ? e.Deferred() : 0,
		l = e.isFunction(f.notify),
		c = a.find("img").add(a.filter("img")),
		h = [],
		p = [],
		d = [];
		return e.isPlainObject(r) && e.each(r, function (e, t) {
			"callback" === e ? r = t : f && f[e](t)
		}),
		c.length ? c.bind("load.imagesLoaded error.imagesLoaded", o).each(function (r, s) {
			var o = s.src,
			a = e.data(s, "imagesLoaded");
			return a && a.src === o ? (u(s, a.isBroken), t) : s.complete && s.naturalWidth !== t ? (u(s, 0 === s.naturalWidth || 0 === s.naturalHeight), t) : ((s.readyState || s.complete) && (s.src = n, s.src = o), t)
		}) : s(),
		f ? f.promise(a) : a
	}
}
(jQuery), define("lib/waterfall.min", function () {}), define("lib/jquery.jtable.zh-CN", ["lib/jquery.jtable"], function () {
    (function (e) {
        var language = $(".header-wrapper").data('language');
        //alert(language);
	    e.extend(!0, e.hik.jtable.prototype.options.messages, {

	        serverCommunicationError: (language > 0) ? "Server request error" : "服务器请求错误。",
			loadingMessage : (language>0)?"loading":"加载中...",
			noDataAvailable: (language > 0) ? "no data" : "没有数据！",
			addNewRecord: (language > 0) ? "Newly build" : "+ 新建",
			editRecord: (language > 0) ? "edit" : "编辑",
			areYouSure: (language > 0) ? "Sure" : "确定？",
			deleteConfirmation: (language > 0) ? "Determine to delete this line of data" : "确定删除这行数据？",
			save: (language > 0) ? "Save" : "保存",
			saving: (language > 0) ? "Saving" : "保存中",
			cancel: (language > 0) ? "cancel" : "取消",
			deleteText: (language > 0) ? "delete" : "删除",
			deleting: (language > 0) ? "deleting" : "删除中",
			error: (language > 0) ? "error" : "错误",
			close: (language > 0) ? "close" : "关闭",
			cannotLoadOptionsFor: (language > 0) ? "Unable to load object properties {0}" : "无法加载对象属性 {0}",
			pagingInfo: (language > 0) ? "Display {0} to {1} total {2}" : "显示 {0} 至 {1} 共 {2}",
			canNotDeletedRecords: (language > 0) ? "Delete failed {0} to {1}" : "删除失败 {0} 至 {1}!",
			deleteProggress: (language > 0) ? "Deleting {0} to {1} records" : "正在删除 {0} 至 {1} 记录",
			pageSizeChangeLabel: (language > 0) ? "line page" : "每页行数",
			gotoPageLabel: (language > 0) ? "Jump to" : "跳转至"
		})
	})(jQuery)
}), function (e) {
	var t = {
		init : function (n) {
			var r = this;
			if (!r.data("jqv") || r.data("jqv") == null)
				n = t._saveOptions(r, n), e(document).on("click", ".formError", function () {
					e(this).fadeOut(150, function () {
						e(this).parent(".formErrorOuter").remove(),
						e(this).remove()
					})
				});
			return this
		},
		attach : function (n) {
			var r = this,
			i;
			return n ? i = t._saveOptions(r, n) : i = r.data("jqv"),
			i.validateAttribute = r.find("[data-validation-engine*=validate]").length ? "data-validation-engine" : "class",
			i.binded && (r.on(i.validationEventTrigger, "[" + i.validateAttribute + "*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)", t._onFieldEvent), r.on("click", "[" + i.validateAttribute + "*=validate][type=checkbox],[" + i.validateAttribute + "*=validate][type=radio]", t._onFieldEvent), r.on(i.validationEventTrigger, "[" + i.validateAttribute + "*=validate][class*=datepicker]", {
					delay : 300
				}, t._onFieldEvent)),
			i.autoPositionUpdate && e(window).bind("resize", {
				noAnimation : !0,
				formElem : r
			}, t.updatePromptsPosition),
			r.on("click", "a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']", t._submitButtonClick),
			r.removeData("jqv_submitButton"),
			r.on("submit", t._onSubmitEvent),
			this
		},
		detach : function () {
			var n = this,
			r = n.data("jqv");
			return n.find("[" + r.validateAttribute + "*=validate]").not("[type=checkbox]").off(r.validationEventTrigger, t._onFieldEvent),
			n.find("[" + r.validateAttribute + "*=validate][type=checkbox],[class*=validate][type=radio]").off("click", t._onFieldEvent),
			n.off("submit", t.onAjaxFormComplete),
			n.off("submit", t.onAjaxFormComplete),
			n.removeData("jqv"),
			n.off("click", "a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']", t._submitButtonClick),
			n.removeData("jqv_submitButton"),
			r.autoPositionUpdate && e(window).unbind("resize", t.updatePromptsPosition),
			this
		},
		validate : function () {
			var n = e(this),
			r = null;
			if (n.is("form") || n.hasClass("validationEngineContainer")) {
				if (n.hasClass("validating"))
					return !1;
				n.addClass("validating");
				var i = n.data("jqv"),
				r = t._validateFields(this);
				setTimeout(function () {
					n.removeClass("validating")
				}, 100),
				r && i.onSuccess ? i.onSuccess() : !r && i.onFailure && i.onFailure()
			} else if (n.is("form") || n.hasClass("validationEngineContainer"))
				n.removeClass("validating");
			else {
				var s = n.closest("form, .validationEngineContainer"),
				i = s.data("jqv") ? s.data("jqv") : e.validationEngine.defaults,
				r = t._validateField(n, i);
				r && i.onFieldSuccess ? i.onFieldSuccess() : i.onFieldFailure && i.InvalidFields.length > 0 && i.onFieldFailure()
			}
			return i.onValidationComplete ? !!i.onValidationComplete(s, r) : r
		},
		updatePromptsPosition : function (n) {
			if (n && this == window)
				var r = n.data.formElem, i = n.data.noAnimation;
			else
				var r = e(this.closest("form, .validationEngineContainer"));
			var s = r.data("jqv");
			return r.find("[" + s.validateAttribute + "*=validate]").not(":disabled").each(function () {
				var n = e(this);
				s.prettySelect && n.is(":hidden") && (n = r.find("#" + s.usePrefix + n.attr("id") + s.useSuffix));
				var o = t._getPrompt(n),
				u = e(o).find(".formErrorContent").html();
				o && t._updatePrompt(n, e(o), u, undefined, !1, s, i)
			}),
			this
		},
		showPrompt : function (e, n, r, i) {
			var s = this.closest("form, .validationEngineContainer"),
			o = s.data("jqv");
			return o || (o = t._saveOptions(this, o)),
			r && (o.promptPosition = r),
			o.showArrow = i == 1,
			t._showPrompt(this, e, n, !1, o),
			this
		},
		hide : function () {
			var n = e(this).closest("form, .validationEngineContainer"),
			r = n.data("jqv"),
			i = r && r.fadeDuration ? r.fadeDuration : .3,
			s;
			return e(this).is("form") || e(this).hasClass("validationEngineContainer") ? s = "parentForm" + t._getClassName(e(this).attr("id")) : s = t._getClassName(e(this).attr("id")) + "formError",
			e("." + s).fadeTo(i, .3, function () {
				e(this).parent(".formErrorOuter").remove(),
				e(this).remove()
			}),
			this
		},
		hideAll : function () {
			var t = this,
			n = t.data("jqv"),
			r = n ? n.fadeDuration : 300;
			return e(".formError").fadeTo(r, 300, function () {
				e(this).parent(".formErrorOuter").remove(),
				e(this).remove()
			}),
			this
		},
		_onFieldEvent : function (n) {
			var r = e(this),
			i = r.closest("form, .validationEngineContainer"),
			s = i.data("jqv");
			s.eventTrigger = "field",
			window.setTimeout(function () {
				t._validateField(r, s),
				s.InvalidFields.length == 0 && s.onFieldSuccess ? s.onFieldSuccess() : s.InvalidFields.length > 0 && s.onFieldFailure && s.onFieldFailure()
			}, n.data ? n.data.delay : 0)
		},
		_onSubmitEvent : function () {
			var n = e(this),
			r = n.data("jqv");
			if (n.data("jqv_submitButton")) {
				var i = e("#" + n.data("jqv_submitButton"));
				if (i && i.length > 0)
					if (i.hasClass("validate-skip") || i.attr("data-validation-engine-skip") == "true")
						return !0
			}
			r.eventTrigger = "submit";
			var s = t._validateFields(n);
			return s && r.ajaxFormValidation ? (t._validateFormWithAjax(n, r), !1) : r.onValidationComplete ? !!r.onValidationComplete(n, s) : s
		},
		_checkAjaxStatus : function (t) {
			var n = !0;
			return e.each(t.ajaxValidCache, function (e, t) {
				if (!t)
					return n = !1, !1
			}),
			n
		},
		_checkAjaxFieldStatus : function (e, t) {
			return t.ajaxValidCache[e] == 1
		},
		_validateFields : function (n) {
			var r = n.data("jqv"),
			i = !1;
			n.trigger("jqv.form.validating");
			var s = null;
			n.find("[" + r.validateAttribute + "*=validate]").not(":disabled").each(function () {
				var o = e(this),
				u = [];
				if (e.inArray(o.attr("name"), u) < 0) {
					i |= t._validateField(o, r),
					i && s == null && (o.is(":hidden") && r.prettySelect ? s = o = n.find("#" + r.usePrefix + t._jqSelector(o.attr("id")) + r.useSuffix) : s = o);
					if (r.doNotShowAllErrosOnSubmit)
						return !1;
					u.push(o.attr("name"));
					if (r.showOneMessage == 1 && i)
						return !1
				}
			}),
			n.trigger("jqv.form.result", [i]);
			if (i) {
				if (r.scroll) {
					var o = s.offset().top,
					u = s.offset().left,
					a = r.promptPosition;
					typeof a == "string" && a.indexOf(":") != -1 && (a = a.substring(0, a.indexOf(":")));
					if (a != "bottomRight" && a != "bottomLeft") {
						var f = t._getPrompt(s);
						f && (o = f.offset().top)
					}
					r.scrollOffset && (o -= r.scrollOffset);
					if (r.isOverflown) {
						var l = e(r.overflownDIV);
						if (!l.length)
							return !1;
						var c = l.scrollTop(),
						h = -parseInt(l.offset().top);
						o += c + h - 5;
						var p = e(r.overflownDIV + ":not(:animated)");
						p.animate({
							scrollTop : o
						}, 1100, function () {
							r.focusFirstField && s.focus()
						})
					} else
						e("html, body").animate({
							scrollTop : o
						}, 1100, function () {
							r.focusFirstField && s.focus()
						}), e("html, body").animate({
							scrollLeft : u
						}, 1100)
				} else
					r.focusFirstField && s.focus();
				return !1
			}
			return !0
		},
		_validateFormWithAjax : function (n, r) {
			var i = n.serialize(),
			s = r.ajaxFormValidationMethod ? r.ajaxFormValidationMethod : "GET",
			o = r.ajaxFormValidationURL ? r.ajaxFormValidationURL : n.attr("action"),
			u = r.dataType ? r.dataType : "json";
			e.ajax({
				type : s,
				url : o,
				cache : !1,
				dataType : u,
				data : i,
				form : n,
				methods : t,
				options : r,
				beforeSend : function () {
					return r.onBeforeAjaxFormValidation(n, r)
				},
				error : function (e, n) {
					t._ajaxError(e, n)
				},
				success : function (i) {
					if (u == "json" && i !== !0) {
						var s = !1;
						for (var o = 0; o < i.length; o++) {
							var a = i[o],
							f = a[0],
							l = e(e("#" + f)[0]);
							if (l.length == 1) {
								var c = a[2];
								if (a[1] == 1)
									if (c == "" || !c)
										t._closePrompt(l);
									else {
										if (r.allrules[c]) {
											var h = r.allrules[c].alertTextOk;
											h && (c = h)
										}
										r.showPrompts && t._showPrompt(l, c, "pass", !1, r, !0)
									}
								else {
									s |= !0;
									if (r.allrules[c]) {
										var h = r.allrules[c].alertText;
										h && (c = h)
									}
									r.showPrompts && t._showPrompt(l, c, "", !1, r, !0)
								}
							}
						}
						r.onAjaxFormComplete(!s, n, i, r)
					} else
						r.onAjaxFormComplete(!0, n, i, r)
				}
			})
		},
		_validateField : function (n, r, i) {
			n.attr("id") || (n.attr("id", "form-validation-field-" + e.validationEngine.fieldIdCounter), ++e.validationEngine.fieldIdCounter);
			if (!r.validateNonVisibleFields && (n.is(":hidden") && !r.prettySelect || n.parent().is(":hidden")))
				return !1;
			var s = n.attr(r.validateAttribute),
			o = /validate\[(.*)\]/.exec(s);
			if (!o)
				return !1;
			var u = o[1],
			a = u.split(/\[|,|\]/),
			f = !1,
			l = n.attr("name"),
			c = "",
			h = "",
			p = !1,
			d = !1;
			r.isError = !1,
			r.showArrow = !0,
			r.maxErrorsPerField > 0 && (d = !0);
			var v = e(n.closest("form, .validationEngineContainer"));
			for (var m = 0; m < a.length; m++)
				a[m] = a[m].replace(" ", ""), a[m] === "" && delete a[m];
			for (var m = 0, g = 0; m < a.length; m++) {
				if (d && g >= r.maxErrorsPerField) {
					if (!p) {
						var y = e.inArray("required", a);
						p = y != -1 && y >= m
					}
					break
				}
				var b = undefined;
				switch (a[m]) {
				case "required":
					p = !0,
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._required);
					break;
				case "custom":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._custom);
					break;
				case "groupRequired":
					var w = "[" + r.validateAttribute + "*=" + a[m + 1] + "]",
					E = v.find(w).eq(0);
					E[0] != n[0] && (t._validateField(E, r, i), r.showArrow = !0),
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._groupRequired),
					b && (p = !0),
					r.showArrow = !1;
					break;
				case "ajax":
					b = t._ajax(n, a, m, r),
					b && (h = "load");
					break;
				case "minSize":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._minSize);
					break;
				case "maxSize":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._maxSize);
					break;
				case "min":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._min);
					break;
				case "max":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._max);
					break;
				case "past":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._past);
					break;
				case "future":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._future);
					break;
				case "dateRange":
					var w = "[" + r.validateAttribute + "*=" + a[m + 1] + "]";
					r.firstOfGroup = v.find(w).eq(0),
					r.secondOfGroup = v.find(w).eq(1);
					if (r.firstOfGroup[0].value || r.secondOfGroup[0].value)
						b = t._getErrorMessage(v, n, a[m], a, m, r, t._dateRange);
					b && (p = !0),
					r.showArrow = !1;
					break;
				case "dateTimeRange":
					var w = "[" + r.validateAttribute + "*=" + a[m + 1] + "]";
					r.firstOfGroup = v.find(w).eq(0),
					r.secondOfGroup = v.find(w).eq(1);
					if (r.firstOfGroup[0].value || r.secondOfGroup[0].value)
						b = t._getErrorMessage(v, n, a[m], a, m, r, t._dateTimeRange);
					b && (p = !0),
					r.showArrow = !1;
					break;
				case "maxCheckbox":
					n = e(v.find("input[name='" + l + "']")),
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._maxCheckbox);
					break;
				case "minCheckbox":
					n = e(v.find("input[name='" + l + "']")),
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._minCheckbox);
					break;
				case "equals":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._equals);
					break;
				case "funcCall":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._funcCall);
					break;
				case "creditCard":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._creditCard);
					break;
				case "condRequired":
					b = t._getErrorMessage(v, n, a[m], a, m, r, t._condRequired),
					b !== undefined && (p = !0);
					break;
				default:
				}
				var S = !1;
				if (typeof b == "object")
					switch (b.status) {
					case "_break":
						S = !0;
						break;
					case "_error":
						b = b.message;
						break;
					case "_error_no_prompt":
						return !0;
					default:
					}
				if (S)
					break;
				typeof b == "string" && (c += b + "<br/>", r.isError = !0, g++)
			}
			!p && !n.val() && n.val().length < 1 && (r.isError = !1);
			var x = n.prop("type"),
			T = n.data("promptPosition") || r.promptPosition;
			(x == "radio" || x == "checkbox") && v.find("input[name='" + l + "']").size() > 1 && (T === "inline" ? n = e(v.find("input[name='" + l + "'][type!=hidden]:last")) : n = e(v.find("input[name='" + l + "'][type!=hidden]:first")), r.showArrow = !1),
			n.is(":hidden") && r.prettySelect && (n = v.find("#" + r.usePrefix + t._jqSelector(n.attr("id")) + r.useSuffix)),
			r.isError && r.showPrompts ? t._showPrompt(n, c, h, !1, r) : f || t._closePrompt(n),
			f || n.trigger("jqv.field.result", [n, r.isError, c]);
			var N = e.inArray(n[0], r.InvalidFields);
			return N == -1 ? r.isError && r.InvalidFields.push(n[0]) : r.isError || r.InvalidFields.splice(N, 1),
			t._handleStatusCssClasses(n, r),
			r.isError && r.onFieldFailure && r.onFieldFailure(n),
			!r.isError && r.onFieldSuccess && r.onFieldSuccess(n),
			r.isError
		},
		_handleStatusCssClasses : function (e, t) {
			t.addSuccessCssClassToField && e.removeClass(t.addSuccessCssClassToField),
			t.addFailureCssClassToField && e.removeClass(t.addFailureCssClassToField),
			t.addSuccessCssClassToField && !t.isError && e.addClass(t.addSuccessCssClassToField),
			t.addFailureCssClassToField && t.isError && e.addClass(t.addFailureCssClassToField)
		},
		_getErrorMessage : function (n, r, i, s, o, u, a) {
			var f = jQuery.inArray(i, s);
			if (i === "custom" || i === "funcCall") {
				var l = s[f + 1];
				i = i + "[" + l + "]",
				delete s[f]
			}
			var c = i,
			h = r.attr("data-validation-engine") ? r.attr("data-validation-engine") : r.attr("class"),
			p = h.split(" "),
			d;
			i == "future" || i == "past" || i == "maxCheckbox" || i == "minCheckbox" ? d = a(n, r, s, o, u) : d = a(r, s, o, u);
			if (d != undefined) {
				var v = t._getCustomErrorMessage(e(r), p, c, u);
				v && (d = v)
			}
			return d
		},
		_getCustomErrorMessage : function (e, n, r, i) {
			var s = !1,
			o = /^custom\[.*\]$/.test(r) ? t._validityProp.custom : t._validityProp[r];
			if (o != undefined) {
				s = e.attr("data-errormessage-" + o);
				if (s != undefined)
					return s
			}
			s = e.attr("data-errormessage");
			if (s != undefined)
				return s;
			var u = "#" + e.attr("id");
			if (typeof i.custom_error_messages[u] != "undefined" && typeof i.custom_error_messages[u][r] != "undefined")
				s = i.custom_error_messages[u][r].message;
			else if (n.length > 0)
				for (var a = 0; a < n.length && n.length > 0; a++) {
					var f = "." + n[a];
					if (typeof i.custom_error_messages[f] != "undefined" && typeof i.custom_error_messages[f][r] != "undefined") {
						s = i.custom_error_messages[f][r].message;
						break
					}
				}
			return !s && typeof i.custom_error_messages[r] != "undefined" && typeof i.custom_error_messages[r]["message"] != "undefined" && (s = i.custom_error_messages[r].message),
			s
		},
		_validityProp : {
			required : "value-missing",
			custom : "custom-error",
			groupRequired : "value-missing",
			ajax : "custom-error",
			minSize : "range-underflow",
			maxSize : "range-overflow",
			min : "range-underflow",
			max : "range-overflow",
			past : "type-mismatch",
			future : "type-mismatch",
			dateRange : "type-mismatch",
			dateTimeRange : "type-mismatch",
			maxCheckbox : "range-overflow",
			minCheckbox : "range-underflow",
			equals : "pattern-mismatch",
			funcCall : "custom-error",
			creditCard : "pattern-mismatch",
			condRequired : "value-missing"
		},
		_required : function (t, n, r, i, s) {
			switch (t.prop("type")) {
			case "text":
			case "password":
			case "textarea":
			case "file":
			default:
				var o = e.trim(t.val()),
				u = e.trim(t.attr("data-validation-placeholder")),
				a = e.trim(t.attr("placeholder"));
				if (!o || u && o == u || a && o == a)
					return i.allrules[n[r]].alertText;
				break;
			case "select-one":
			case "select-multiple":
				var o = e.trim(t.val());
				if (!o)
					return i.allrules[n[r]].alertSelectText;
				break;
			case "radio":
			case "checkbox":
				if (s) {
					if (!t.attr("checked"))
						return i.allrules[n[r]].alertTextCheckboxMultiple;
					break
				}
				var f = t.closest("form, .validationEngineContainer"),
				l = t.attr("name");
				if (f.find("input[name='" + l + "']:checked").size() == 0)
					return f.find("input[name='" + l + "']:visible").size() == 1 ? i.allrules[n[r]].alertTextCheckboxe : i.allrules[n[r]].alertTextCheckboxMultiple
			}
		},
		_groupRequired : function (n, r, i, s) {
			var o = "[" + s.validateAttribute + "*=" + r[i + 1] + "]",
			u = !1;
			n.closest("form, .validationEngineContainer").find(o).each(function () {
				if (!t._required(e(this), r, i, s))
					return u = !0, !1
			});
			if (!u)
				return s.allrules[r[i]].alertText
		},
		_custom : function (e, t, n, r) {
			var i = t[n + 1],
			s = r.allrules[i],
			o;
			if (!s) {
				alert("jqv:custom rule not found - " + i);
				return
			}
			if (s.regex) {
				var u = s.regex;
				if (!u) {
					alert("jqv:custom regex not found - " + i);
					return
				}
				var a = new RegExp(u);
				if (!a.test(e.val()))
					return r.allrules[i].alertText
			} else {
				if (!s.func) {
					alert("jqv:custom type not allowed " + i);
					return
				}
				o = s.func;
				if (typeof o != "function") {
					alert("jqv:custom parameter 'function' is no function - " + i);
					return
				}
				if (!o(e, t, n, r))
					return r.allrules[i].alertText
			}
		},
		_funcCall : function (e, t, n, r) {
			var i = t[n + 1],
			s;
			if (i.indexOf(".") > -1) {
				var o = i.split("."),
				u = window;
				while (o.length)
					u = u[o.shift()];
				s = u
			} else
				s = window[i] || r.customFunctions[i];
			if (typeof s == "function")
				return s(e, t, n, r)
		},
		_equals : function (t, n, r, i) {
			var s = n[r + 1];
			if (t.val() != e("#" + s).val())
				return i.allrules.equals.alertText
		},
		_maxSize : function (e, t, n, r) {
			var i = t[n + 1],
			s = e.val().length;
			if (s > i) {
				var o = r.allrules.maxSize;
				return o.alertText + i + o.alertText2
			}
		},
		_minSize : function (e, t, n, r) {
			var i = t[n + 1],
			s = e.val().length;
			if (s < i) {
				var o = r.allrules.minSize;
				return o.alertText + i + o.alertText2
			}
		},
		_min : function (e, t, n, r) {
			var i = parseFloat(t[n + 1]),
			s = parseFloat(e.val());
			if (s < i) {
				var o = r.allrules.min;
				return o.alertText2 ? o.alertText + i + o.alertText2 : o.alertText + i
			}
		},
		_max : function (e, t, n, r) {
			var i = parseFloat(t[n + 1]),
			s = parseFloat(e.val());
			if (s > i) {
				var o = r.allrules.max;
				return o.alertText2 ? o.alertText + i + o.alertText2 : o.alertText + i
			}
		},
		_past : function (n, r, i, s, o) {
			var u = i[s + 1],
			a = e(n.find("input[name='" + u.replace(/^#+/, "") + "']")),
			f;
			if (u.toLowerCase() == "now")
				f = new Date;
			else if (undefined != a.val()) {
				if (a.is(":disabled"))
					return;
				f = t._parseDate(a.val())
			} else
				f = t._parseDate(u);
			var l = t._parseDate(r.val());
			if (l > f) {
				var c = o.allrules.past;
				return c.alertText2 ? c.alertText + t._dateToString(f) + c.alertText2 : c.alertText + t._dateToString(f)
			}
		},
		_future : function (n, r, i, s, o) {
			var u = i[s + 1],
			a = e(n.find("input[name='" + u.replace(/^#+/, "") + "']")),
			f;
			if (u.toLowerCase() == "now")
				f = new Date;
			else if (undefined != a.val()) {
				if (a.is(":disabled"))
					return;
				f = t._parseDate(a.val())
			} else
				f = t._parseDate(u);
			var l = t._parseDate(r.val());
			if (l < f) {
				var c = o.allrules.future;
				return c.alertText2 ? c.alertText + t._dateToString(f) + c.alertText2 : c.alertText + t._dateToString(f)
			}
		},
		_isDate : function (e) {
			var t = new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);
			return t.test(e)
		},
		_isDateTime : function (e) {
			var t = new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);
			return t.test(e)
		},
		_dateCompare : function (e, t) {
			return new Date(e.toString()) < new Date(t.toString())
		},
		_dateRange : function (e, n, r, i) {
			if (!i.firstOfGroup[0].value && i.secondOfGroup[0].value || i.firstOfGroup[0].value && !i.secondOfGroup[0].value)
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2;
			if (!t._isDate(i.firstOfGroup[0].value) || !t._isDate(i.secondOfGroup[0].value))
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2;
			if (!t._dateCompare(i.firstOfGroup[0].value, i.secondOfGroup[0].value))
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2
		},
		_dateTimeRange : function (e, n, r, i) {
			if (!i.firstOfGroup[0].value && i.secondOfGroup[0].value || i.firstOfGroup[0].value && !i.secondOfGroup[0].value)
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2;
			if (!t._isDateTime(i.firstOfGroup[0].value) || !t._isDateTime(i.secondOfGroup[0].value))
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2;
			if (!t._dateCompare(i.firstOfGroup[0].value, i.secondOfGroup[0].value))
				return i.allrules[n[r]].alertText + i.allrules[n[r]].alertText2
		},
		_maxCheckbox : function (e, t, n, r, i) {
			var s = n[r + 1],
			o = t.attr("name"),
			u = e.find("input[name='" + o + "']:checked").size();
			if (u > s)
				return i.showArrow = !1, i.allrules.maxCheckbox.alertText2 ? i.allrules.maxCheckbox.alertText + " " + s + " " + i.allrules.maxCheckbox.alertText2 : i.allrules.maxCheckbox.alertText
		},
		_minCheckbox : function (e, t, n, r, i) {
			var s = n[r + 1],
			o = t.attr("name"),
			u = e.find("input[name='" + o + "']:checked").size();
			if (u < s)
				return i.showArrow = !1, i.allrules.minCheckbox.alertText + " " + s + " " + i.allrules.minCheckbox.alertText2
		},
		_creditCard : function (e, t, n, r) {
			var i = !1,
			s = e.val().replace(/ +/g, "").replace(/-+/g, ""),
			o = s.length;
			if (o >= 14 && o <= 16 && parseInt(s) > 0) {
				var u = 0,
				n = o - 1,
				a = 1,
				f,
				l = new String;
				do
					f = parseInt(s.charAt(n)), l += a++ % 2 == 0 ? f * 2 : f;
				while (--n >= 0);
				for (n = 0; n < l.length; n++)
					u += parseInt(l.charAt(n));
				i = u % 10 == 0
			}
			if (!i)
				return r.allrules.creditCard.alertText
		},
		_ajax : function (n, r, i, s) {
			var o = r[i + 1],
			u = s.allrules[o],
			a = u.extraData,
			f = u.extraDataDynamic,
			l = {
				fieldId : n.attr("id"),
				fieldValue : n.val()
			};
			if (typeof a == "object")
				e.extend(l, a);
			else if (typeof a == "string") {
				var c = a.split("&");
				for (var i = 0; i < c.length; i++) {
					var h = c[i].split("=");
					h[0] && h[0] && (l[h[0]] = h[1])
				}
			}
			if (f) {
				var p = [],
				d = String(f).split(",");
				for (var i = 0; i < d.length; i++) {
					var v = d[i];
					if (e(v).length) {
						var m = n.closest("form, .validationEngineContainer").find(v).val(),
						g = v.replace("#", "") + "=" + escape(m);
						l[v.replace("#", "")] = m
					}
				}
			}
			s.eventTrigger == "field" && delete s.ajaxValidCache[n.attr("id")];
			if (!s.isError && !t._checkAjaxFieldStatus(n.attr("id"), s))
				return e.ajax({
					type : s.ajaxFormValidationMethod,
					url : u.url,
					cache : !1,
					dataType : "json",
					data : l,
					field : n,
					rule : u,
					methods : t,
					options : s,
					beforeSend : function () {},
					error : function (e, n) {
						t._ajaxError(e, n)
					},
					success : function (r) {
						var i = r[0],
						o = e("#" + i).eq(0);
						if (o.length == 1) {
							var a = r[1],
							f = r[2];
							if (!a) {
								s.ajaxValidCache[i] = !1,
								s.isError = !0;
								if (f) {
									if (s.allrules[f]) {
										var l = s.allrules[f].alertText;
										l && (f = l)
									}
								} else
									f = u.alertText;
								s.showPrompts && t._showPrompt(o, f, "", !0, s)
							} else {
								s.ajaxValidCache[i] = !0;
								if (f) {
									if (s.allrules[f]) {
										var l = s.allrules[f].alertTextOk;
										l && (f = l)
									}
								} else
									f = u.alertTextOk;
								s.showPrompts && (f ? t._showPrompt(o, f, "pass", !0, s) : t._closePrompt(o)),
								s.eventTrigger == "submit" && n.closest("form").submit()
							}
						}
						o.trigger("jqv.field.result", [o, s.isError, f])
					}
				}), u.alertTextLoad
		},
		_ajaxError : function (e, t) {
			e.status == 0 && t == null ? alert("The page is not served from a server! ajax call failed") : typeof console != "undefined" && console.log("Ajax error: " + e.status + " " + t)
		},
		_dateToString : function (e) {
			return e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate()
		},
		_parseDate : function (e) {
			var t = e.split("-");
			return t == e && (t = e.split("/")),
			t == e ? (t = e.split("."), new Date(t[2], t[1] - 1, t[0])) : new Date(t[0], t[1] - 1, t[2])
		},
		_showPrompt : function (n, r, i, s, o, u) {
			var a = t._getPrompt(n);
			u && (a = !1),
			e.trim(r) && (a ? t._updatePrompt(n, a, r, i, s, o) : t._buildPrompt(n, r, i, s, o))
		},
		_buildPrompt : function (n, r, i, s, o) {
			var u = e("<div>");
			u.addClass(t._getClassName(n.attr("id")) + "formError"),
			u.addClass("parentForm" + t._getClassName(n.closest("form, .validationEngineContainer").attr("id"))),
			u.addClass("formError");
			switch (i) {
			case "pass":
				u.addClass("greenPopup");
				break;
			case "load":
				u.addClass("blackPopup");
				break;
			default:
			}
			s && u.addClass("ajaxed");
			var a = e("<div>").addClass("formErrorContent").html(r).appendTo(u),
			f = n.data("promptPosition") || o.promptPosition;
			if (o.showArrow) {
				var l = e("<div>").addClass("formErrorArrow");
				if (typeof f == "string") {
					var c = f.indexOf(":");
					c != -1 && (f = f.substring(0, c))
				}
				switch (f) {
				case "bottomLeft":
				case "bottomRight":
					u.find(".formErrorContent").before(l),
					l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');
					break;
				case "topLeft":
				case "topRight":
					l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),
					u.append(l)
				}
			}
			o.addPromptClass && u.addClass(o.addPromptClass);
			var h = n.attr("data-required-class");
			if (h !== undefined)
				u.addClass(h);
			else if (o.prettySelect && e("#" + n.attr("id")).next().is("select")) {
				var p = e("#" + n.attr("id").substr(o.usePrefix.length).substring(o.useSuffix.length)).attr("data-required-class");
				p !== undefined && u.addClass(p)
			}
			u.css({
				opacity : 0
			}),
			f === "inline" ? (u.addClass("inline"), typeof n.attr("data-prompt-target") != "undefined" && e("#" + n.attr("data-prompt-target")).length > 0 ? u.appendTo(e("#" + n.attr("data-prompt-target"))) : n.after(u)) : n.before(u);
			var c = t._calculatePosition(n, u, o);
			return u.css({
				position : f === "inline" ? "relative" : "absolute",
				top : c.callerTopPosition,
				left : c.callerleftPosition,
				marginTop : c.marginTopSize,
				opacity : 0
			}).data("callerField", n),
			o.autoHidePrompt && setTimeout(function () {
				u.animate({
					opacity : 0
				}, function () {
					u.closest(".formErrorOuter").remove(),
					u.remove()
				})
			}, o.autoHideDelay),
			u.animate({
				opacity : .87
			})
		},
		_updatePrompt : function (e, n, r, i, s, o, u) {
			if (n) {
				typeof i != "undefined" && (i == "pass" ? n.addClass("greenPopup") : n.removeClass("greenPopup"), i == "load" ? n.addClass("blackPopup") : n.removeClass("blackPopup")),
				s ? n.addClass("ajaxed") : n.removeClass("ajaxed"),
				n.find(".formErrorContent").html(r);
				var a = t._calculatePosition(e, n, o),
				f = {
					top : a.callerTopPosition,
					left : a.callerleftPosition,
					marginTop : a.marginTopSize
				};
				u ? n.css(f) : n.animate(f)
			}
		},
		_closePrompt : function (e) {
			var n = t._getPrompt(e);
			n && n.fadeTo("fast", 0, function () {
				n.parent(".formErrorOuter").remove(),
				n.remove()
			})
		},
		closePrompt : function (e) {
			return t._closePrompt(e)
		},
		_getPrompt : function (n) {
			var r = e(n).closest("form, .validationEngineContainer").attr("id"),
			i = t._getClassName(n.attr("id")) + "formError",
			s = e("." + t._escapeExpression(i) + ".parentForm" + r)[0];
			if (s)
				return e(s)
		},
		_escapeExpression : function (e) {
			return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g, "\\$1")
		},
		isRTL : function (t) {
			var n = e(document),
			r = e("body"),
			i = t && t.hasClass("rtl") || t && (t.attr("dir") || "").toLowerCase() === "rtl" || n.hasClass("rtl") || (n.attr("dir") || "").toLowerCase() === "rtl" || r.hasClass("rtl") || (r.attr("dir") || "").toLowerCase() === "rtl";
			return Boolean(i)
		},
		_calculatePosition : function (e, t, n) {
			var r,
			i,
			s,
			o = e.width(),
			u = e.position().left,
			a = e.position().top,
			f = e.height(),
			l = t.height();
			r = i = 0,
			s = -l;
			var c = e.data("promptPosition") || n.promptPosition,
			h = "",
			p = "",
			d = 0,
			v = 0;
			typeof c == "string" && c.indexOf(":") != -1 && (h = c.substring(c.indexOf(":") + 1), c = c.substring(0, c.indexOf(":")), h.indexOf(",") != -1 && (p = h.substring(h.indexOf(",") + 1), h = h.substring(0, h.indexOf(",")), v = parseInt(p), isNaN(v) && (v = 0)), d = parseInt(h), isNaN(h) && (h = 0));
			switch (c) {
			default:
			case "topRight":
				i += u + o - 30,
				r += a;
				break;
			case "topLeft":
				r += a,
				i += u;
				break;
			case "centerRight":
				r = a + 4,
				s = 0,
				i = u + e.outerWidth(!0) + 5;
				break;
			case "centerLeft":
				i = u - (t.width() + 2),
				r = a + 4,
				s = 0;
				break;
			case "bottomLeft":
				r = a + e.height() + 5,
				s = 0,
				i = u;
				break;
			case "bottomRight":
				i = u + o - 30,
				r = a + e.height() + 5,
				s = 0;
				break;
			case "inline":
				i = 0,
				r = 0,
				s = 0
			}
			return i += d,
			r += v, {
				callerTopPosition : r + "px",
				callerleftPosition : i + "px",
				marginTopSize : s + "px"
			}
		},
		_saveOptions : function (t, n) {
			if (e.validationEngineLanguage)
				var r = e.validationEngineLanguage.allRules;
			else
				e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");
			e.validationEngine.defaults.allrules = r;
			var i = e.extend(!0, {}, e.validationEngine.defaults, n);
			return t.data("jqv", i),
			i
		},
		_getClassName : function (e) {
			if (e)
				return e.replace(/:/g, "_").replace(/\./g, "_")
		},
		_jqSelector : function (e) {
			return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, "\\$1")
		},
		_condRequired : function (e, n, r, i) {
			var s,
			o;
			for (s = r + 1; s < n.length; s++) {
				o = jQuery("#" + n[s]).first();
				if (o.length && t._required(o, ["required"], 0, i, true) == undefined)
					return t._required(e, ["required"], 0, i)
			}
		},
		_submitButtonClick : function (t) {
			var n = e(this),
			r = n.closest("form, .validationEngineContainer");
			r.data("jqv_submitButton", n.attr("id"))
		}
	};
	e.fn.validationEngine = function (n) {
		var r = e(this);
		if (!r[0])
			return r;
		if (typeof n == "string" && n.charAt(0) != "_" && t[n])
			return n != "showPrompt" && n != "hide" && n != "hideAll" && t.init.apply(r), t[n].apply(r, Array.prototype.slice.call(arguments, 1));
		if (typeof n == "object" || !n)
			return t.init.apply(r, arguments), t.attach.apply(r);
		e.error("Method " + n + " does not exist in jQuery.validationEngine")
	},
	e.validationEngine = {
		fieldIdCounter : 0,
		defaults : {
			validationEventTrigger : "blur",
			scroll : !0,
			focusFirstField : !0,
			showPrompts : !0,
			validateNonVisibleFields : !1,
			promptPosition : "topRight",
			bindMethod : "bind",
			inlineAjax : !1,
			ajaxFormValidation : !1,
			ajaxFormValidationURL : !1,
			ajaxFormValidationMethod : "get",
			onAjaxFormComplete : e.noop,
			onBeforeAjaxFormValidation : e.noop,
			onValidationComplete : !1,
			doNotShowAllErrosOnSubmit : !1,
			custom_error_messages : {},
			binded : !0,
			showArrow : !0,
			isError : !1,
			maxErrorsPerField : !1,
			ajaxValidCache : {},
			autoPositionUpdate : !1,
			InvalidFields : [],
			onFieldSuccess : !1,
			onFieldFailure : !1,
			onSuccess : !1,
			onFailure : !1,
			validateAttribute : "class",
			addSuccessCssClassToField : "",
			addFailureCssClassToField : "",
			autoHidePrompt : !1,
			autoHideDelay : 1e4,
			fadeDuration : .3,
			prettySelect : !1,
			addPromptClass : "",
			usePrefix : "",
			useSuffix : "",
			showOneMessage : !1
		}
	},
	e(function () {
		e.validationEngine.defaults.promptPosition = t.isRTL() ? "topLeft" : "topRight"
	})
}
(jQuery), define("lib/jquery.validationEngine", function () {}), function (e) {
	e.fn.validationEngineLanguage = function () {},
	e.validationEngineLanguage = {
		newLang : function () {
			e.validationEngineLanguage.allRules = {
				required : {
					regex : "none",
					alertText : "* 此处不可空白",
					alertSelectText : "* 此处必须选择",
					alertTextCheckboxMultiple : "* 请选择一个项目",
					alertTextCheckboxe : "* 您必须钩选此栏",
					alertTextDateRange : "* 日期范围不可空白"
				},
				requiredInFunction : {
					func : function (e, t, n, r) {
						return e.val() == "test" ? !0 : !1
					},
					alertText : "* Field must equal test"
				},
				dateRange : {
					regex : "none",
					alertText : "* 无效的 ",
					alertText2 : " 日期范围"
				},
				dateTimeRange : {
					regex : "none",
					alertText : "* 无效的 ",
					alertText2 : " 时间范围"
				},
				minSize : {
					regex : "none",
					alertText : "* 最少 ",
					alertText2 : " 个字符"
				},
				maxSize : {
					regex : "none",
					alertText : "* 最多 ",
					alertText2 : " 个字符"
				},
				groupRequired : {
					regex : "none",
					alertText : "* 你必需选填其中一个栏位"
				},
				min : {
					regex : "none",
					alertText : "* 最小值为 "
				},
				max : {
					regex : "none",
					alertText : "* 最大值为 "
				},
				past : {
					regex : "none",
					alertText : "* 日期必需早于 "
				},
				future : {
					regex : "none",
					alertText : "* 日期必需晚于 "
				},
				maxCheckbox : {
					regex : "none",
					alertText : "* 最多选取 ",
					alertText2 : " 个项目"
				},
				minCheckbox : {
					regex : "none",
					alertText : "* 请选择 ",
					alertText2 : " 个项目"
				},
				equals : {
					regex : "none",
					alertText : "* 请输入与上面相同的密码"
				},
				creditCard : {
					regex : "none",
					alertText : "* 无效的信用卡号码"
				},
				phone : {
					regex : /^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,
					alertText : "* 无效的电话号码"
				},
				email : {
					regex : /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,
					alertText : "* 邮件地址无效"
				},
				integer : {
					regex : /^[\-\+]?\d+$/,
					alertText : "* 不是有效的整数"
				},
				number : {
					regex : /^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,
					alertText : "* 无效的数字"
				},
				date : {
					regex : /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,
					alertText : "* 无效的日期，格式必需为 YYYY-MM-DD"
				},
				ipv4 : {
					regex : /^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,
					alertText : "* 无效的 IP 地址"
				},
				url : {
					regex : /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,
					alertText : "* Invalid URL"
				},
				onlyNumberSp : {
					regex : /^[0-9\ ]+$/,
					alertText : "* 只能填数字"
				},
				onlyLetterSp : {
					regex : /^[a-zA-Z\ \']+$/,
					alertText : "* 只接受英文字母大小写"
				},
				onlyLetterNumber : {
					regex : /^[0-9a-zA-Z]+$/,
					alertText : "* 不接受特殊字符"
				},
				ajaxCGQIdUnique : {
					url : "CGQIdUnique",
					alertTextOk : "* 此编号可以使用",
					alertText : "* 此编号已被使用，请修改编号",
					alertTextLoad : "* 正在确认该编号是否已被使用，请稍等。"
				},
				ajaxUserCall : {
					url : "ajaxValidateFieldUser",
					extraData : "name=eric",
					alertText : "* 此名称已被其他人使用",
					alertTextLoad : "* 正在确认名称是否有其他人使用，请稍等。"
				},
				ajaxUserCallPhp : {
					url : "phpajax/ajaxValidateFieldUser.php",
					extraData : "name=eric",
					alertTextOk : "* 此帐号名称可以使用",
					alertText : "* 此名称已被其他人使用",
					alertTextLoad : "* 正在确认帐号名称是否有其他人使用，请稍等。"
				},
				ajaxNameCall : {
					url : "ajaxValidateFieldName",
					alertText : "* 此名称可以使用",
					alertTextOk : "* 此名称已被其他人使用",
					alertTextLoad : "* 正在确认名称是否有其他人使用，请稍等。"
				},
				ajaxNameCallPhp : {
					url : "phpajax/ajaxValidateFieldName.php",
					alertText : "* 此名称已被其他人使用",
					alertTextLoad : "* 正在确认名称是否有其他人使用，请稍等。"
				},
				validate2fields : {
					alertText : "* 请输入 HELLO"
				},
				dateFormat : {
					regex : /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,
					alertText : "* 无效的日期格式"
				},
				dateTimeFormat : {
					regex : /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,
					alertText : "* 无效的日期或时间格式",
					alertText2 : "可接受的格式： ",
					alertText3 : "mm/dd/yyyy hh:mm:ss AM|PM 或 ",
					alertText4 : "yyyy-mm-dd hh:mm:ss AM|PM"
				}
			}
		}
	},
	e.validationEngineLanguage.newLang()
}
(jQuery), define("lib/jquery.validationEngine-zh_CN", function () {});
var docViewer;
window.FlexPaperViewer = window.$f = function () {
	var e = arguments[2].config;
	window.FlexPaperViewer_Instance = flashembed(arguments[1], {
			src : arguments[0] + ".swf",
			version : [10, 0],
			expressInstall : "js/expressinstall.swf"
		}, {
			SwfFile : escape(e.SwfFile),
			Scale : e.Scale,
			ZoomTransition : e.ZoomTransition,
			ZoomTime : e.ZoomTime,
			ZoomInterval : e.ZoomInterval,
			FitPageOnLoad : e.FitPageOnLoad,
			FitWidthOnLoad : e.FitWidthOnLoad,
			PrintEnabled : e.PrintEnabled,
			FullScreenAsMaxWindow : e.FullScreenAsMaxWindow,
			ProgressiveLoading : e.ProgressiveLoading,
			MinZoomSize : e.MinZoomSize,
			MaxZoomSize : e.MaxZoomSize,
			SearchMatchAll : e.SearchMatchAll,
			SearchServiceUrl : e.SearchServiceUrl,
			InitViewMode : e.InitViewMode,
			BitmapBasedRendering : e.BitmapBasedRendering,
			StartAtPage : e.StartAtPage,
			ViewModeToolsVisible : e.ViewModeToolsVisible,
			ZoomToolsVisible : e.ZoomToolsVisible,
			NavToolsVisible : e.NavToolsVisible,
			CursorToolsVisible : e.CursorToolsVisible,
			SearchToolsVisible : e.SearchToolsVisible,
			localeChain : e.localeChain,
			key : e.key
		})
}, function () {
	function s(e, t) {
		if (t)
			for (var n in t)
				t.hasOwnProperty(n) && (e[n] = t[n]);
		return e
	}
	function o(e, t) {
		var n = [];
		for (var r in e)
			e.hasOwnProperty(r) && (n[r] = t(e[r]));
		return n
	}
	function f(n, r, i) {
		if (u.isSupported(r.version))
			n.innerHTML = u.getHTML(r, i);
		else if (r.expressInstall && u.isSupported([6, 65]))
			n.innerHTML = u.getHTML(s(r, {
						src : r.expressInstall
					}), {
					MMredirectURL : location.href,
					MMplayerType : "PlugIn",
					MMdoctitle : document.title
				});
		else {
			if (!n.innerHTML.replace(/\s/g, "")) {
				var o = document.location.protocol == "https:" ? "https://" : "http://";
				n.innerHTML = "<a href='http://www.adobe.com/go/getflashplayer'><img src='" + o + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>",
				n.tagName == "A" && (n.onclick = function () {
					location.href = t
				})
			}
			if (r.onFail) {
				var a = r.onFail.call(this);
				typeof a == "string" && (n.innerHTML = a)
			}
		}
		e && (window[r.id] = document.getElementById(r.id)),
		s(this, {
			getRoot : function () {
				return n
			},
			getOptions : function () {
				return r
			},
			getConf : function () {
				return i
			},
			getApi : function () {
				return n.firstChild
			}
		})
	}
	var e = document.all,
	t = "http://www.adobe.com/go/getflashplayer",
	n = typeof jQuery == "function",
	r = /(\d+)[^\d]+(\d+)[^\d]*(\d*)/,
	i = {
		width : "100%",
		height : "100%",
		id : "_" + ("" + Math.random()).slice(9),
		allowfullscreen : !0,
		allowscriptaccess : "always",
		quality : "high",
		version : [3, 0],
		onFail : null,
		expressInstall : null,
		w3c : !1,
		cachebusting : !1
	};
	window.attachEvent && window.attachEvent("onbeforeunload", function () {
		__flash_unloadHandler = function () {},
		__flash_savedUnloadHandler = function () {}

	}),
	window.flashembed = function (e, t, n) {
		typeof e == "string" && (e = document.getElementById(e.replace("#", "")));
		if (!e)
			return;
		return e.onclick = function () {
			return !1
		},
		typeof t == "string" && (t = {
				src : t
			}),
		new f(e, s(s({}, i), t), n)
	};
	var u = s(window.flashembed, {
			conf : i,
			getVersion : function () {
				var e,
				t;
				try {
					t = navigator.plugins["Shockwave Flash"].description.slice(16)
				} catch (n) {
					try {
						e = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),
						t = e && e.GetVariable("$version")
					} catch (i) {
						try {
							e = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
							t = e && e.GetVariable("$version")
						} catch (s) {}

					}
				}
				return t = r.exec(t),
				t ? [t[1], t[3]] : [0, 0]
			},
			asString : function (e) {
				if (e === null || e === undefined)
					return null;
				var t = typeof e;
				t == "object" && e.push && (t = "array");
				switch (t) {
				case "string":
					return e = e.replace(new RegExp('(["\\\\])', "g"), "\\$1"),
					e = e.replace(/^\s?(\d+\.?\d+)%/, "$1pct"),
					'"' + e + '"';
				case "array":
					return "[" + o(e, function (e) {
						return u.asString(e)
					}).join(",") + "]";
				case "function":
					return '"function()"';
				case "object":
					var n = [];
					for (var r in e)
						e.hasOwnProperty(r) && n.push('"' + r + '":' + u.asString(e[r]));
					return "{" + n.join(",") + "}"
				}
				return String(e).replace(/\s/g, " ").replace(/\'/g, '"')
			},
			getHTML : function (t, n) {
				t = s({}, t);
				var r = '<object width="' + t.width + '" height="' + t.height + '" id="' + t.id + '" name="' + t.id + '"';
				t.cachebusting && (t.src += (t.src.indexOf("?") != -1 ? "&" : "?") + Math.random()),
				t.w3c || !e ? r += ' data="' + t.src + '" type="application/x-shockwave-flash"' : r += ' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',
				r += ">";
				if (t.w3c || e)
					r += '<param name="movie" value="' + t.src + '" />';
				t.width = t.height = t.id = t.w3c = t.src = null,
				t.onFail = t.version = t.expressInstall = null;
				for (var i in t)
					t[i] && (r += '<param name="' + i + '" value="' + t[i] + '" />');
				var o = "";
				if (n) {
					for (var a in n)
						if (n[a]) {
							var f = n[a];
							o += a + "=" + (/function|object/.test(typeof f) ? u.asString(f) : f) + "&"
						}
					o = o.slice(0, -1),
					r += '<param name="flashvars" value=\'' + o + "' />"
				}
				return r += "</object>",
				r
			},
			isSupported : function (e) {
				return a[0] > e[0] || a[0] == e[0] && a[1] >= e[1]
			}
		}),
	a = u.getVersion();
	n && (jQuery.tools = jQuery.tools || {
			version : "1.2.5"
		}, jQuery.tools.flashembed = {
			conf : i
		}, jQuery.fn.flashembed = function (e, t) {
		return this.each(function () {
			$(this).data("flashembed", flashembed(this, e, t))
		})
	})
}
(), define("flexPaper/flexpaper_flash", function () {}), function (e, t, n) {
	var r = function () {
		for (var e = /audio(.min)?.js.*/, t = document.getElementsByTagName("script"), n = 0, r = t.length; n < r; n++) {
			var i = t[n].getAttribute("src");
			if (e.test(i))
				return i.replace(e, "")
		}
	}
	();
	n[e] = {
		instanceCount : 0,
		instances : {},
		flashSource : '      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance=' + e + '.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance=' + e + '.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',
		settings : {
			autoplay : !1,
			loop : !1,
			preload : !0,
			imageLocation : r + "player-graphics.gif",
			swfLocation : r + "audiojs.swf",
			useFlash : function () {
				var e = document.createElement("audio");
				return !e.canPlayType || !e.canPlayType("audio/mpeg;").replace(/no/, "")
			}
			(),
			hasFlash : function () {
				if (navigator.plugins && navigator.plugins.length && navigator.plugins["Shockwave Flash"])
					return !0;
				if (navigator.mimeTypes && navigator.mimeTypes.length) {
					var e = navigator.mimeTypes["application/x-shockwave-flash"];
					return e && e.enabledPlugin
				}
				try {
					return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
					!0
				} catch (t) {}

				return !1
			}
			(),
			createPlayer : {
				markup : '          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',
				playPauseClass : "play-pause",
				scrubberClass : "scrubber",
				progressClass : "progress",
				loaderClass : "loaded",
				timeClass : "time",
				durationClass : "duration",
				playedClass : "played",
				errorMessageClass : "error-message",
				playingClass : "playing",
				loadingClass : "loading",
				errorClass : "error"
			},
			css : '        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',
			trackEnded : function () {},
			flashError : function () {
				var t = this.settings.createPlayer,
				r = i(t.errorMessageClass, this.wrapper),
				s = 'Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';
				this.mp3 && (s += ' <a href="' + this.mp3 + '">Download audio file</a>.'),
				n[e].helpers.removeClass(this.wrapper, t.loadingClass),
				n[e].helpers.addClass(this.wrapper, t.errorClass),
				r.innerHTML = s
			},
			loadError : function () {
				var t = this.settings.createPlayer,
				r = i(t.errorMessageClass, this.wrapper);
				n[e].helpers.removeClass(this.wrapper, t.loadingClass),
				n[e].helpers.addClass(this.wrapper, t.errorClass),
				r.innerHTML = 'Error loading: "' + this.mp3 + '"'
			},
			init : function () {
				n[e].helpers.addClass(this.wrapper, this.settings.createPlayer.loadingClass)
			},
			loadStarted : function () {
				var t = this.settings.createPlayer,
				r = i(t.durationClass, this.wrapper),
				s = Math.floor(this.duration / 60),
				o = Math.floor(this.duration % 60);
				n[e].helpers.removeClass(this.wrapper, t.loadingClass),
				r.innerHTML = (s < 10 ? "0" : "") + s + ":" + (o < 10 ? "0" : "") + o
			},
			loadProgress : function (e) {
				var t = this.settings.createPlayer,
				n = i(t.scrubberClass, this.wrapper);
				i(t.loaderClass, this.wrapper).style.width = n.offsetWidth * e + "px"
			},
			playPause : function () {
				this.playing ? this.settings.play() : this.settings.pause()
			},
			play : function () {
				n[e].helpers.addClass(this.wrapper, this.settings.createPlayer.playingClass)
			},
			pause : function () {
				n[e].helpers.removeClass(this.wrapper, this.settings.createPlayer.playingClass)
			},
			updatePlayhead : function (e) {
				var t = this.settings.createPlayer,
				n = i(t.scrubberClass, this.wrapper);
				i(t.progressClass, this.wrapper).style.width = n.offsetWidth * e + "px",
				t = i(t.playedClass, this.wrapper),
				n = this.duration * e,
				e = Math.floor(n / 60),
				n = Math.floor(n % 60),
				t.innerHTML = (e < 10 ? "0" : "") + e + ":" + (n < 10 ? "0" : "") + n
			}
		},
		create : function (e, t) {
			return t = t || {},
			e.length ? this.createAll(t, e) : this.newInstance(e, t)
		},
		createAll : function (e, t) {
			var n = t || document.getElementsByTagName("audio"),
			r = [];
			e = e || {};
			for (var i = 0, s = n.length; i < s; i++)
				r.push(this.newInstance(n[i], e));
			return r
		},
		newInstance : function (e, r) {
			var i = this.helpers.clone(this.settings),
			s = "audiojs" + this.instanceCount,
			u = "audiojs_wrapper" + this.instanceCount;
			return this.instanceCount++,
			e.getAttribute("autoplay") != null && (i.autoplay = !0),
			e.getAttribute("loop") != null && (i.loop = !0),
			e.getAttribute("preload") == "none" && (i.preload = !1),
			r && this.helpers.merge(i, r),
			i.createPlayer.markup ? e = this.createPlayer(e, i.createPlayer, u) : e.parentNode.setAttribute("id", u),
			u = new n[t](e, i),
			i.css && this.helpers.injectCss(u, i.css),
			i.useFlash && i.hasFlash ? (this.injectFlash(u, s), this.attachFlashEvents(u.wrapper, u)) : i.useFlash && !i.hasFlash && this.settings.flashError.apply(u),
			(!i.useFlash || i.useFlash && i.hasFlash) && this.attachEvents(u.wrapper, u),
			this.instances[s] = u
		},
		createPlayer : function (e, t, n) {
			var r = document.createElement("div"),
			i = e.cloneNode(!0);
			return r.setAttribute("class", "audiojs"),
			r.setAttribute("className", "audiojs"),
			r.setAttribute("id", n),
			i.outerHTML && !document.createElement("audio").canPlayType ? (i = this.helpers.cloneHtml5Node(e), r.innerHTML = t.markup, r.appendChild(i), e.outerHTML = r.outerHTML, r = document.getElementById(n)) : (r.appendChild(i), r.innerHTML += t.markup, e.parentNode.replaceChild(r, e)),
			r.getElementsByTagName("audio")[0]
		},
		attachEvents : function (t, r) {
			if (r.settings.createPlayer) {
				var s = r.settings.createPlayer,
				o = i(s.playPauseClass, t),
				u = i(s.scrubberClass, t);
				n[e].events.addListener(o, "click", function () {
					r.playPause.apply(r)
				}),
				n[e].events.addListener(u, "click", function (e) {
					e = e.clientX;
					var t = this,
					n = 0;
					if (t.offsetParent)
						do
							n += t.offsetLeft;
						while (t = t.offsetParent);
					r.skipTo((e - n) / u.offsetWidth)
				}),
				r.settings.useFlash || (n[e].events.trackLoadProgress(r), n[e].events.addListener(r.element, "timeupdate", function () {
						r.updatePlayhead.apply(r)
					}), n[e].events.addListener(r.element, "ended", function () {
						r.trackEnded.apply(r)
					}), n[e].events.addListener(r.source, "error", function () {
						clearInterval(r.readyTimer),
						clearInterval(r.loadTimer),
						r.settings.loadError.apply(r)
					}))
			}
		},
		attachFlashEvents : function (e, t) {
			t.swfReady = !1,
			t.load = function (e) {
				t.mp3 = e,
				t.swfReady && t.element.load(e)
			},
			t.loadProgress = function (e, n) {
				t.loadedPercent = e,
				t.duration = n,
				t.settings.loadStarted.apply(t),
				t.settings.loadProgress.apply(t, [e])
			},
			t.skipTo = function (e) {
				e > t.loadedPercent || (t.updatePlayhead.call(t, [e]), t.element.skipTo(e))
			},
			t.updatePlayhead = function (e) {
				t.settings.updatePlayhead.apply(t, [e])
			},
			t.play = function () {
				t.settings.preload || (t.settings.preload = !0, t.element.init(t.mp3)),
				t.playing = !0,
				t.element.pplay(),
				t.settings.play.apply(t)
			},
			t.pause = function () {
				t.playing = !1,
				t.element.ppause(),
				t.settings.pause.apply(t)
			},
			t.setVolume = function (e) {
				t.element.setVolume(e)
			},
			t.loadStarted = function () {
				t.swfReady = !0,
				t.settings.preload && t.element.init(t.mp3),
				t.settings.autoplay && t.play.apply(t)
			}
		},
		injectFlash : function (e, t) {
			var n = this.flashSource.replace(/\$1/g, t);
			n = n.replace(/\$2/g, e.settings.swfLocation),
			n = n.replace(/\$3/g,  + (new Date) + Math.random());
			var r = e.wrapper.innerHTML,
			i = document.createElement("div");
			i.innerHTML = n + r,
			e.wrapper.innerHTML = i.innerHTML,
			e.element = this.helpers.getSwf(t)
		},
		helpers : {
			merge : function (e, t) {
				for (attr in t)
					if (e.hasOwnProperty(attr) || t.hasOwnProperty(attr))
						e[attr] = t[attr]
			},
			clone : function (e) {
				if (e == null || typeof e != "object")
					return e;
				var t = new e.constructor,
				n;
				for (n in e)
					t[n] = arguments.callee(e[n]);
				return t
			},
			addClass : function (e, t) {
				RegExp("(\\s|^)" + t + "(\\s|$)").test(e.className) || (e.className += " " + t)
			},
			removeClass : function (e, t) {
				e.className = e.className.replace(RegExp("(\\s|^)" + t + "(\\s|$)"), " ")
			},
			injectCss : function (e, t) {
				for (var n = "", r = document.getElementsByTagName("style"), i = t.replace(/\$1/g, e.settings.imageLocation), s = 0, o = r.length; s < o; s++) {
					var u = r[s].getAttribute("title");
					if (u && ~u.indexOf("audiojs")) {
						o = r[s];
						if (o.innerHTML === i)
							return;
						n = o.innerHTML;
						break
					}
				}
				r = document.getElementsByTagName("head")[0],
				s = r.firstChild,
				o = document.createElement("style"),
				r && (o.setAttribute("type", "text/css"), o.setAttribute("title", "audiojs"), o.styleSheet ? o.styleSheet.cssText = n + i : o.appendChild(document.createTextNode(n + i)), s ? r.insertBefore(o, s) : r.appendChild(styleElement))
			},
			cloneHtml5Node : function (e) {
				var t = document.createDocumentFragment(),
				n = t.createElement ? t : document;
				return n.createElement("audio"),
				n = n.createElement("div"),
				t.appendChild(n),
				n.innerHTML = e.outerHTML,
				n.firstChild
			},
			getSwf : function (e) {
				return e = document[e] || window[e],
				e.length > 1 ? e[e.length - 1] : e
			}
		},
		events : {
			memoryLeaking : !1,
			listeners : [],
			addListener : function (t, r, i) {
				t.addEventListener ? t.addEventListener(r, i, !1) : t.attachEvent && (this.listeners.push(t), this.memoryLeaking || (window.attachEvent("onunload", function () {
							if (this.listeners)
								for (var t = 0, r = this.listeners.length; t < r; t++)
									n[e].events.purge(this.listeners[t])
						}), this.memoryLeaking = !0), t.attachEvent("on" + r, function () {
						i.call(t, window.event)
					}))
			},
			trackLoadProgress : function (e) {
				if (e.settings.preload) {
					var t,
					n;
					e = e;
					var r = /(ipod|iphone|ipad)/i.test(navigator.userAgent);
					t = setInterval(function () {
							e.element.readyState > -1 && (r || e.init.apply(e)),
							e.element.readyState > 1 && (e.settings.autoplay && e.play.apply(e), clearInterval(t), n = setInterval(function () {
										e.loadProgress.apply(e),
										e.loadedPercent >= 1 && clearInterval(n)
									}))
						}, 10),
					e.readyTimer = t,
					e.loadTimer = n
				}
			},
			purge : function (e) {
				var t = e.attributes,
				n;
				if (t)
					for (n = 0; n < t.length; n += 1)
						typeof e[t[n].name] == "function" && (e[t[n].name] = null);
				if (t = e.childNodes)
					for (n = 0; n < t.length; n += 1)
						purge(e.childNodes[n])
			},
			ready : function () {
				return function (e) {
					var t = window,
					n = !1,
					r = !0,
					i = t.document,
					s = i.documentElement,
					o = i.addEventListener ? "addEventListener" : "attachEvent",
					u = i.addEventListener ? "removeEventListener" : "detachEvent",
					a = i.addEventListener ? "" : "on",
					f = function (r) {
						if (r.type != "readystatechange" || i.readyState == "complete")
							(r.type == "load" ? t : i)[u](a + r.type, f, !1), !n && (n = !0) && e.call(t, r.type || r)
					},
					l = function () {
						try {
							s.doScroll("left")
						} catch (e) {
							setTimeout(l, 50);
							return
						}
						f("poll")
					};
					if (i.readyState == "complete")
						e.call(t, "lazy");
					else {
						if (i.createEventObject && s.doScroll) {
							try {
								r = !t.frameElement
							} catch (c) {}

							r && l()
						}
						i[o](a + "DOMContentLoaded", f, !1),
						i[o](a + "readystatechange", f, !1),
						t[o](a + "load", f, !1)
					}
				}
			}
			()
		}
	},
	n[t] = function (e, t) {
		this.element = e,
		this.wrapper = e.parentNode,
		this.source = e.getElementsByTagName("source")[0] || e,
		this.mp3 = function (e) {
			var t = e.getElementsByTagName("source")[0];
			return e.getAttribute("src") || (t ? t.getAttribute("src") : null)
		}
		(e),
		this.settings = t,
		this.loadStartedCalled = !1,
		this.loadedPercent = 0,
		this.duration = 1,
		this.playing = !1
	},
	n[t].prototype = {
		updatePlayhead : function () {
			this.settings.updatePlayhead.apply(this, [this.element.currentTime / this.duration])
		},
		skipTo : function (e) {
			e > this.loadedPercent || (this.element.currentTime = this.duration * e, this.updatePlayhead())
		},
		load : function (t) {
			this.loadStartedCalled = !1,
			this.source.setAttribute("src", t),
			this.element.load(),
			this.mp3 = t,
			n[e].events.trackLoadProgress(this)
		},
		loadError : function () {
			this.settings.loadError.apply(this)
		},
		init : function () {
			this.settings.init.apply(this)
		},
		loadStarted : function () {
			if (!this.element.duration)
				return !1;
			this.duration = this.element.duration,
			this.updatePlayhead(),
			this.settings.loadStarted.apply(this)
		},
		loadProgress : function () {
			this.element.buffered != null && this.element.buffered.length && (this.loadStartedCalled || (this.loadStartedCalled = this.loadStarted()), this.loadedPercent = this.element.buffered.end(this.element.buffered.length - 1) / this.duration, this.settings.loadProgress.apply(this, [this.loadedPercent]))
		},
		playPause : function () {
			this.playing ? this.pause() : this.play()
		},
		play : function () {
			/(ipod|iphone|ipad)/i.test(navigator.userAgent) && this.element.readyState == 0 && this.init.apply(this),
			this.settings.preload || (this.settings.preload = !0, this.element.setAttribute("preload", "auto"), n[e].events.trackLoadProgress(this)),
			this.playing = !0,
			this.element.play(),
			this.settings.play.apply(this)
		},
		pause : function () {
			this.playing = !1,
			this.element.pause(),
			this.settings.pause.apply(this)
		},
		setVolume : function (e) {
			this.element.volume = e
		},
		trackEnded : function () {
			this.skipTo.apply(this, [0]),
			this.settings.loop || this.pause.apply(this),
			this.settings.trackEnded.apply(this)
		}
	};
	var i = function (e, t) {
		var n = [];
		t = t || document;
		if (t.getElementsByClassName)
			n = t.getElementsByClassName(e);
		else {
			var r,
			i,
			s = t.getElementsByTagName("*"),
			o = RegExp("(^|\\s)" + e + "(\\s|$)");
			r = 0;
			for (i = s.length; r < i; r++)
				o.test(s[r].className) && n.push(s[r])
		}
		return n.length > 1 ? n : n[0]
	}
}
("audiojs", "audiojsInstance", this), define("audiojs/audio.min", function () {}), define("lib/jquery.pagination", ["lib/jquery-ui-1.10.2.custom.min"], function () {
	jQuery.fn.pagination = function (e, t) {
		return t = jQuery.extend({
				items_per_page : 10,
				num_display_entries : 10,
				current_page : 0,
				num_edge_entries : 0,
				link_to : "#",
				prev_text : "Prev",
				next_text : "Next",
				ellipse_text : "...",
				prev_show_always : !0,
				next_show_always : !0,
				callback : function () {
					return !1
				}
			}, t || {}),
		this.each(function () {
			function n() {
				return Math.ceil(e / t.items_per_page)
			}
			function r() {
				var e = Math.ceil(t.num_display_entries / 2),
				r = n(),
				i = r - t.num_display_entries,
				s = o > e ? Math.max(Math.min(o - e, i), 0) : 0,
				u = o > e ? Math.min(o + e, r) : Math.min(t.num_display_entries, r);
				return [s, u]
			}
			function i(e, n) {
				o = e,
				s();
				var r = t.callback(e, u);
				return r || (n.stopPropagation ? n.stopPropagation() : n.cancelBubble = !0),
				r
			}
			function s() {
				u.empty();
				var e = r(),
				s = n(),
				a = function (e) {
					return function (t) {
						return i(e, t)
					}
				},
				f = function (e, n) {
					e = e < 0 ? 0 : e < s ? e : s - 1,
					n = jQuery.extend({
							text : e + 1,
							classes : ""
						}, n || {});
					if (e == o)
						var r = jQuery("<span class='current'>" + n.text + "</span>");
					else
						var r = jQuery("<a>" + n.text + "</a>").bind("click", a(e)).attr("href", t.link_to.replace(/__id__/, e));
					n.classes && r.addClass(n.classes),
					u.append(r)
				};
				t.prev_text && (o > 0 || t.prev_show_always) && f(o - 1, {
					text : t.prev_text,
					classes : "prev"
				});
				if (e[0] > 0 && t.num_edge_entries > 0) {
					var l = Math.min(t.num_edge_entries, e[0]);
					for (var c = 0; c < l; c++)
						f(c);
					t.num_edge_entries < e[0] && t.ellipse_text && jQuery("<span>" + t.ellipse_text + "</span>").appendTo(u)
				}
				for (var c = e[0]; c < e[1]; c++)
					f(c);
				if (e[1] < s && t.num_edge_entries > 0) {
					s - t.num_edge_entries > e[1] && t.ellipse_text && jQuery("<span>" + t.ellipse_text + "</span>").appendTo(u);
					var h = Math.max(s - t.num_edge_entries, e[1]);
					for (var c = h; c < s; c++)
						f(c)
				}
				t.next_text && (o < s - 1 || t.next_show_always) && f(o + 1, {
					text : t.next_text,
					classes : "next"
				})
			}
			var o = t.current_page;
			e = !e || e < 0 ? 1 : e,
			t.items_per_page = !t.items_per_page || t.items_per_page < 0 ? 1 : t.items_per_page;
			var u = jQuery(this);
			this.selectPage = function (e) {
				i(e)
			},
			this.prevPage = function () {
				return o > 0 ? (i(o - 1), !0) : !1
			},
			this.nextPage = function () {
				return o < n() - 1 ? (i(o + 1), !0) : !1
			},
			s(),
			t.callback(o, this)
		})
	}
}), require.config({
	baseUrl : rootPath + "scripts/front/",
	urlArgs : "bust=" + (new Date).getTime(),
	waitSeconds : 200,
	shim : {
		"../jquery.validate.unobtrusive.min" : "../jquery.validate"
	},
	paths : {
		jquery : "./lib/jquery-1.10.2"
	}
}), define("main", ["order!lib/jquery-1.10.2", "order!lib/json", "order!lib/openLayers", "order!lib/openLayers_zh-CN", "order!lib/openLayersAddonControl", "order!geo", "order!lib/jquery-migrate.1.0.0", "order!lib/jquery.tmpl", "order!lib/jquery-ui-1.10.2.custom.min", "order!lib/jquery.ui.totop", "order!lib/jquery.ui.datepicker-zh-CN", "order!lib/jquery-ui-timepicker-addon", "order!lib/jquery-ui-timepicker-zh-CN", "order!lib/jquery-ui-sliderAccess", "order!lib/jquery.nanoScroller", "order!lib/store", "order!lib/kindeditor-min", "order!lib/kindeditor-zh_CN", "order!lib/jquery.ztree.all-3.5.min", "order!lib/highstock", "order!lib/highcharts-more", "order!lib/exporting", "order!lib/swfobject", "order!lib/jquery.uploadify-3.2.1", "order!lib/jquery.fullscreen-min", "order!lib/placeholder", "order!lib/jquery.jtable", "order!lib/waterfall.min", "order!lib/jquery.jtable.zh-CN", "order!lib/jquery.validationEngine", "order!lib/jquery.validationEngine-zh_CN", "order!flexPaper/flexpaper_flash", "order!audiojs/audio.min", "order!lib/jquery.pagination", "order!base", "order!layout"]);
